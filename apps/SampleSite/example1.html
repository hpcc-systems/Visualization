<!doctype html>
<html>
    <head>
        <title>HPCC Systems - Dynamic Grid Demo</title>
        <meta charset="utf-8">

        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="icon" href="favicon.ico" type="image/x-icon">

        <!-- CSS -->

        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="//fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet" type="text/css">
        <link href="css/prettify.css" rel="stylesheet" type="text/css">
        <link href="css/bootstrap_theme.css" rel="stylesheet" type="text/css">
        <link href="css/dynamic_grid.css" rel="stylesheet" type="text/css">

        <!-- JS -->

        <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="//code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
        <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>

        <!-- SVG to PNG lib -->
        <script type="text/javascript" src="js/rasterizeHTML.allinone.js"></script>

        <!-- requirejs -->
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.18/require.min.js"></script>
        <script type="text/javascript" src="config.js"></script>

        <!-- custom js -->
        <script type="text/javascript" src="js/dynamic_grid.js"></script>
        <script type="text/javascript" src="js/theme_defaults.js"></script>
        <script type="text/javascript" src="js/demo_data.js"></script>
        <script type="text/javascript" src="js/svg_to_png.js"></script>
        <script type="text/javascript" src="js/init_bootstrap_demo_page.js"></script>

        <script>
            var g_targetId = "graph-container";
            var g_test2;
            initialGridObj = [
                {
                    "title": "Population State/County",
                    "src": [
//                        "src/map/ChoroplethCounties",
                        "src/map/ChoroplethStates",
                    ],
                    "columns":[
//                        ["County", "Weight", "Label"],
                        ["State", "Weight", "Label"]
                    ],
                    "data":[
//                        countyPopulationData,
                        statePopulationData
                    ],
                    "myPlacement":{col: 0, row: 0, colSpan: 2, rowSpan: 1},
                    "buttons": [
                        {"type":"button", "name":"button1", "label":"button1", "value": "Button 1", "class":"btn btn-info btn-xs", "title": "This is a standard button element"},
                        {"type":"button", "name":"button2", "label":"button2", "value": "Button 2", "class":"btn btn-info btn-xs", "title": "This is also a standard button element"}
                    ]
                },
                {
                    "title": "County Population Stats",
                    "src": [
                        "src/google/Pie",
                        "src/google/Pie",
                        "src/google/Column"
                    ],
                    "myPlacement":{col: 0, row: 1, colSpan: 1, rowSpan: 1},
                    "childPlacement": [
                        {col: 15, row: 0, colSpan: 15, rowSpan: 15},
                        {col: 15, row: 10, colSpan: 15, rowSpan: 15},
                        {col: 0, row: 0, colSpan: 20, rowSpan: 25},
                    ],
                    "buttons": [
                        {"type":"button", "name":"button1", "label":"button1", "value": "Button 1", "class":"btn btn-info btn-xs", "title": "This is a standard button element"},
                        {"type":"button", "name":"button2", "label":"button2", "value": "Button 2", "class":"btn btn-info btn-xs", "title": "This is also a standard button element"}
                    ]
                },
                {
                    "title": "State Population Stats",
                    "src": [
                        "src/google/Pie",
                        "src/google/Pie",
                        "src/google/Column"
                    ],
                    "columns": [
                        ["Subject", "2nd Year"],
                        ["Subject", "2nd Year"],
                        ["ID", "Year 1", "Year 2", "Year 3"]
                    ],
                    "data": [
                        [["Geography", 15],["English", 35],["Math", 78],["Science", 76]],
                        [["Geography", 85],["English", 55],["Math", 18],["Science", 66]],
                        [["Geography", 75, 68, 65],["English", 45, 55, 52],["Math", 98, 92, 90],["Science", 66, 60, 66]]
                    ],
                    "myPlacement":{col: 1, row: 1, colSpan: 1, rowSpan: 1},
                    "childPlacement": [
                        {col: 15, row: 0, colSpan: 15, rowSpan: 15},
                        {col: 15, row: 10, colSpan: 15, rowSpan: 15},
                        {col: 0, row: 0, colSpan: 20, rowSpan: 25}
                    ],
                    "buttons": [
                        {"type":"button", "name":"button1", "label":"button1", "value": "Button 1", "class":"btn btn-info btn-xs", "title": "This is a standard button element"},
                        {"type":"button", "name":"button2", "label":"button2", "value": "Button 2", "class":"btn btn-info btn-xs", "title": "This is also a standard button element"}
                    ]
                },
//                {
//                    "title": "County Population Data",
//                    "src": [
//                        "src/other/Table"
//                    ],
//                    "columns":[["County","Population"]],
//                    "data":[countyPopulationData.map(function(n){ return [n[2].slice(0,16),(n[3]+"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")]; })],
//                    "myPlacement":{col: 0, row: 0, colSpan: 1, rowSpan: 2},
//                    "buttons": [
//                        '<button id="close" onClick="closeMe();" class="btn btn-xs btn-default surfaceButton" aria-expanded="true">X</button>',
//                        '<button id="maximize" onClick="maximizeMe();" class="btn btn-xs btn-default surfaceButton" aria-expanded="true">[ ]</button>'
//                    ]
//                },
                {
                    "title": "State Population Data",
                    "src": [
                        "src/other/Table"
                    ],
                    "columns":[["State","Population"]],
                    "data":[statePopulationData.map(function(n){ return [n[2],(n[3]+"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")]; })],
                    "myPlacement":{col: 2, row: 0, colSpan: 1, rowSpan: 2},
                    "buttons": [
                        {"type":"button", "name":"button1", "label":"button1", "value": "Button 1", "class":"btn btn-info btn-xs", "title": "This is a standard button element"},
                        {"type":"button", "name":"button2", "label":"button2", "value": "Button 2", "class":"btn btn-info btn-xs", "title": "This is also a standard button element"}
                    ]
                }
            ];
            $(function(){
                $('#graph-container').css({
                    'height':$(window).height() - $('#graph-container').offset().top - 10
                });
                $('#saveLoadWrapper').on('hide.bs.dropdown', function (e) {
                    if($("#saveLoadWrapper :focus").length > 0 || $("#saveLoadWrapper:hover").length > 0){
                        e.preventDefault();
                    }
                });
                $('#saveLoadWrapper').on('show.bs.dropdown', function (e) {
                    fillLoadSavedThemesDropdown();
                });
            });
        </script>
    </head>
    <body onresize="doResize();">
        <nav class="navbar navbar-default" role="navigation">
            <!-- Brand and Toggle -->
            <div class="navbar-header">
                <a id="logo" class="navbar-brand" href="#"><img alt="Brand" width="120" height="40" src="hpcc-logo.png"></a>
            </div>
            <!-- Links -->
            <div id="links-navbar" class="collapse navbar-collapse navbar-ex1-collapse"></div>
        </nav>
        <!-- /.navbar-default -->
        <div id="main">
            <div>
                <ul id="tabs-ul" class="nav nav-tabs" role="tablist">
                    <li role="presentation" data-for="colors-pane" class="active"><a href="#colors-pane" aria-controls="colors-pane" role="tab" data-toggle="tab">Colors</a></li>
                    <li role="presentation" data-for="fonts-pane"><a href="#fonts-pane" aria-controls="fonts-pane" role="tab" data-toggle="tab">Fonts</a></li>
                    <li role="presentation" data-for="layout-pane"><a href="#layout-pane" aria-controls="layout-pane" role="tab" data-toggle="tab">Layout</a></li>
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="colors-pane">
                        <div class="graph-options"></div>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="fonts-pane">
                        <div class="graph-options"></div>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="layout-pane">
                        <div class="graph-options"></div>
                    </div>
                </div>
                <div id="graph-container"></div>
            </div>
        </div>
    </body>
</html>
