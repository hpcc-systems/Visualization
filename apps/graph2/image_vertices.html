<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Graph2 Alternate Icon Font Demo</title>
    <meta name="description" content="An Icon Font Generated By IcoMoon.io">
    <meta name="viewport" content="width=device-width">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/fontawesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/solid.min.css" rel="stylesheet">
    <!--<![endif]-->
    <script src='../../packages/util/dist/index.js'></script>
    <script src='../../packages/common/dist/index.js'></script>
    <script src='../../packages/api/dist/index.js'></script>
    <script src='../../packages/react/dist/index.js'></script>
    <script src='../../packages/graph/dist/index.js'></script>
    <script src='../../packages/other/dist/index.js'></script>
    <script>
        window.hpccjs = Object.keys(window)
            .filter(n => n.indexOf('@hpcc-js/') === 0)
            .reduce((o, n) => {
                o[n.split('/')[1]] = window[n];
                return o;
            }, {})
            ;
    </script>
    <style>
        #target {
            position: fixed;
            top: 20px;
            right: 20px;
            bottom: 20px;
            left: 20px;
        }
    </style>
</head>

<body>
    <div id="target"></div>
    <script>
        const demoImageURL = getDemoImageURL(32, 32);
        const vertices = [
            { text: "JAKE MCKEE", width: 32, height: 32, href: demoImageURL },
            { text: "123 Main St", width: 32, height: 32, href: demoImageURL }
        ];
        vertices.forEach((n,i)=>n.id = i);
        const graphData = { vertices };
        graphData.edges = vertices.slice(1).map((n,i)=>{
            return {
                id: i,
                source: graphData.vertices[0],
                target: graphData.vertices[i+1],
            }
        })
        new hpccjs.graph.Graph2()
            .target("target")
            .vertexRenderer(hpccjs.react.Image)
            .edgeColor("#287EC4")
            .edgeStrokeWidth(1)
            .edgeArcDepth(0)
            .data(graphData)
            .forceDirectedAlphaDecay(0.003)
            .layout("ForceDirected")
            .transitionDuration(0)
            .render()
            ;

        function getDemoImageURL(w, h){
            const canvas = document.createElement('canvas');
            canvas.width = w;
            canvas.height = h;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#1A9BD7';
            ctx.fillRect(0,0,w,h);
            return canvas.toDataURL();
        }
    </script>
</body>

</html>