var rP=Object.create;var cl=Object.defineProperty;var lO=Object.getOwnPropertyDescriptor;var nP=Object.getOwnPropertyNames;var sP=Object.getPrototypeOf,oP=Object.prototype.hasOwnProperty;var aP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hl=(t,e)=>{for(var i in e)cl(t,i,{get:e[i],enumerable:!0})},lP=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of nP(e))!oP.call(t,n)&&n!==i&&cl(t,n,{get:()=>e[n],enumerable:!(r=lO(e,n))||r.enumerable});return t};var uO=(t,e,i)=>(i=t!=null?rP(sP(t)):{},lP(e||!t||!t.__esModule?cl(i,"default",{value:t,enumerable:!0}):i,t));var se=(t,e,i,r)=>{for(var n=r>1?void 0:r?lO(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&cl(e,i,n),n};var pm=aP((nc,kw)=>{(function(t,e){typeof nc=="object"&&typeof kw!="undefined"?e(nc):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t.lumino_coreutils={}))})(nc,function(t){"use strict";t.JSONExt=void 0,function(o){o.emptyObject=Object.freeze({}),o.emptyArray=Object.freeze([]);function a(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"}o.isPrimitive=a;function l(g){return Array.isArray(g)}o.isArray=l;function u(g){return!a(g)&&!l(g)}o.isObject=u;function c(g,O){if(g===O)return!0;if(a(g)||a(O))return!1;var y=l(g),v=l(O);return y!==v?!1:y&&v?f(g,O):d(g,O)}o.deepEqual=c;function h(g){return a(g)?g:l(g)?p(g):m(g)}o.deepCopy=h;function f(g,O){if(g===O)return!0;if(g.length!==O.length)return!1;for(var y=0,v=g.length;y<v;++y)if(!c(g[y],O[y]))return!1;return!0}function d(g,O){if(g===O)return!0;for(var y in g)if(g[y]!==void 0&&!(y in O))return!1;for(var y in O)if(O[y]!==void 0&&!(y in g))return!1;for(var y in g){var v=g[y],k=O[y];if(!(v===void 0&&k===void 0)&&(v===void 0||k===void 0||!c(v,k)))return!1}return!0}function p(g){for(var O=new Array(g.length),y=0,v=g.length;y<v;++y)O[y]=h(g[y]);return O}function m(g){var O={};for(var y in g){var v=g[y];v!==void 0&&(O[y]=h(v))}return O}}(t.JSONExt||(t.JSONExt={}));var e=function(){function o(){this._types=[],this._values=[]}return o.prototype.types=function(){return this._types.slice()},o.prototype.hasData=function(a){return this._types.indexOf(a)!==-1},o.prototype.getData=function(a){var l=this._types.indexOf(a);return l!==-1?this._values[l]:void 0},o.prototype.setData=function(a,l){this.clearData(a),this._types.push(a),this._values.push(l)},o.prototype.clearData=function(a){var l=this._types.indexOf(a);l!==-1&&(this._types.splice(l,1),this._values.splice(l,1))},o.prototype.clear=function(){this._types.length=0,this._values.length=0},o}(),i=function(){function o(){var a=this;this.promise=new Promise(function(l,u){a._resolve=l,a._reject=u})}return o.prototype.resolve=function(a){var l=this._resolve;l(a)},o.prototype.reject=function(a){var l=this._reject;l(a)},o}(),r=function(){function o(a){this.name=a,this._tokenStructuralPropertyT=null}return o}();function n(o){for(var a=0,l=0,u=o.length;l<u;++l)l%4===0&&(a=Math.random()*4294967295>>>0),o[l]=a&255,a>>>=8}t.Random=void 0,function(o){o.getRandomValues=function(){var a=typeof window!="undefined"&&(window.crypto||window.msCrypto)||null;return a&&typeof a.getRandomValues=="function"?function(u){return a.getRandomValues(u)}:n}()}(t.Random||(t.Random={}));function s(o){for(var a=new Uint8Array(16),l=new Array(256),u=0;u<16;++u)l[u]="0"+u.toString(16);for(var u=16;u<256;++u)l[u]=u.toString(16);return function(){return o(a),a[6]=64|a[6]&15,a[8]=128|a[8]&63,l[a[0]]+l[a[1]]+l[a[2]]+l[a[3]]+"-"+l[a[4]]+l[a[5]]+"-"+l[a[6]]+l[a[7]]+"-"+l[a[8]]+l[a[9]]+"-"+l[a[10]]+l[a[11]]+l[a[12]]+l[a[13]]+l[a[14]]+l[a[15]]}}t.UUID=void 0,function(o){o.uuid4=s(t.Random.getRandomValues)}(t.UUID||(t.UUID={})),t.MimeData=e,t.PromiseDelegate=i,t.Token=r,Object.defineProperty(t,"__esModule",{value:!0})})});function ae(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=String(e[r]),i+=t[r+1];return i}function He(t){return`:host([hidden]) {
    display: none
}

:host {
    display: ${t}
}`}var UV=Array.isArray;var Nh=typeof globalThis!="undefined"?globalThis:window;var zh=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,GV=zh&&process.env!=null&&(process.env.TRAVIS!=null||process.env.GITHUB_ACTIONS!=null);var go=class{constructor(){this.stack=[]}push(e){return this.stack.push(e),e}pop(){return this.stack.pop()}top(){return this.stack.length?this.stack[this.stack.length-1]:void 0}depth(){return this.stack.length}};var fl=(l=>(l[l.debug=0]="debug",l[l.info=1]="info",l[l.notice=2]="notice",l[l.warning=3]="warning",l[l.error=4]="error",l[l.critical=5]="critical",l[l.alert=6]="alert",l[l.emergency=7]="emergency",l))(fl||{}),cP={debug:"cyan",info:"green",notice:"grey",warning:"blue",error:"red",critical:"magenta",alert:"magenta",emergency:"magenta"},Bh=class{write(e,i,r,n){zh?console.log(`[${e}] ${fl[i].toUpperCase()} ${r}:  ${n}`):console.log(`[${e}] %c${fl[i].toUpperCase()}%c ${r}:  ${n}`,`color:${cP[fl[i]]}`,"")}},qh=class{constructor(){this._levelStack=new go;this._level=1;this._filter="";this._writer=new Bh}static Instance(){return this._instance||(this._instance=new this)}stringify(e){let i=[];return JSON.stringify(e,function(r,n){if(typeof n=="object"&&n!==null){if(i.indexOf(n)!==-1)return;i.push(n)}return n},2)}writer(e){return e===void 0?this._writer:(this._writer=e,this)}log(e,i,r){if(e<this._level||this._filter&&this._filter!==i)return;let n=new Date().toISOString();this._writer.rawWrite?this._writer.rawWrite(n,e,i,r):(typeof r!="string"&&(r=this.stringify(r)),this._writer.write&&this._writer.write(n,e,i,r))}debug(e,i){this.log(0,e,i)}info(e,i){this.log(1,e,i)}notice(e,i){this.log(2,e,i)}warning(e,i){this.log(3,e,i)}error(e,i){this.log(4,e,i)}critical(e,i){this.log(5,e,i)}alert(e,i){this.log(6,e,i)}emergency(e,i){this.log(7,e,i)}level(e){return e===void 0?this._level:(this._level=e,this)}pushLevel(e){return this._levelStack.push(this._level),this._level=e,this}popLevel(){return this._level=this._levelStack.pop(),this}filter(e){return e===void 0?this._filter:(this._filter=e,this)}},iN=qh.Instance();var Zh;(function(){if(Nh.requestAnimationFrame)Zh=Nh.requestAnimationFrame;else{let t=0;Zh=function(e){let i=new Date().getTime(),r=Math.max(0,16-(i-t)),n=setTimeout(()=>e(i+r),r);return t=i+r,n}}})();var Oo=class{get canConflate(){return!1}conflate(e){return!1}void(){return!1}};var bo=class{constructor(){this._observerID=0;this._observers=[];this._messageBuffer=[]}observers(){return this._observers}messages(){let e=[];return this._messageBuffer.forEach(i=>{e.some(r=>r.canConflate&&r.conflate(i))||e.push(i)}),e}dispatchAll(){this.dispatch(this.messages()),this.flush()}dispatch(e){e.length!==0&&this.observers().forEach(i=>{let r=e.filter(n=>!n.void()&&(i.type===void 0||n instanceof i.type));r.length&&i.callback(r)})}hasObserver(){return this._observers.length>0}flush(){this._messageBuffer=[]}send(e){this.dispatch([e])}post(e){this._messageBuffer.push(e),Zh(()=>this.dispatchAll())}attach(e,i){let r=this,n=++this._observerID;return this._observers.push({id:n,type:i,callback:e}),{release(){r._observers=r._observers.filter(s=>s.id!==n)},unwatch(){this.release()}}}};var dl=class{},Gn=class extends dl{constructor(i){super();this.propertyName=i}};function Ge(t,...e){let i=t[0],r=[];for(let n=0;n<e.length;++n){let s=e[n];if(s instanceof dl)r.push(s),s instanceof Gn?i+=`id="${s.propertyName}"`:i+=String(e[n]);else throw new Error("Invalid Directive");i+=t[n+1]}return{html:i,directives:r}}function xe(t){return new Gn(t)}var pl=class extends Oo{constructor(i,r,n){super();this.changes={};this.changes[i]={oldValue:r,newValue:n}}get canConflate(){return!0}conflate(i){for(let r in i.changes){let n=this.changes[r],s=i.changes[r];n?this.changes[r].newValue=s==null?void 0:s.newValue:this.changes[r]=s}return!0}};var hP={bubbles:!0,composed:!0,cancelable:!0},Kn=class extends HTMLElement{constructor(){var i,r;super();this.$meta=hO(this);this.$dispatch=new bo;this._fire=(i,r=!1,n=!0)=>{this.$dispatch.post(new pl(i,r,n))};this.$_initialized=!1;this.$upgradeProperties(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=((i=this.$meta.template)==null?void 0:i.html.trim())||"";for(let n of((r=this.$meta.template)==null?void 0:r.directives)||[])if(n instanceof Gn){let s=this.shadowRoot.getElementById(String(n.propertyName));this[n.propertyName]=s,s==null||s.removeAttribute("id")}this.$styles=document.createElement("style"),this.$styles.innerHTML=this.$meta.styles.trim(),this.shadowRoot.insertBefore(this.$styles,this.shadowRoot.firstChild)}static register(){}static get observedAttributes(){return cO(this).observedAttributes}set styles(i){this.$styles.innerHTML=i}get styles(){return this.$styles.innerHTML}$upgradeProperties(){Object.keys(this.$meta.observed).forEach(i=>{let r=`__${i}`;this.hasOwnProperty(i)&&(this[r]=this[i],delete this[i])})}coercedValue(i,r){switch(this.$meta.observed[i].type){case"boolean":return!!r;case"number":let n=Number(r);return isNaN(n)?null:n;case"string":default:return r}}attr(i,r){if(r===void 0)switch(this.$meta.observed[i].type){case"boolean":return this.coercedValue(i,this.hasAttribute(i)?"true":"");case"number":case"string":default:return this.coercedValue(i,this.getAttribute(i))}else switch(this.$meta.observed[i].type){case"boolean":r?this.setAttribute(i,"true"):this.removeAttribute(i);break;case"number":this.setAttribute(i,r.toString());break;case"string":default:this.setAttribute(i,r)}return this}initalizeAttributes(){if(this.$_initialized)return{};this.$_initialized=!0;let i={};return this.$meta.observedAttributes.forEach(r=>{let n=`__${r}`,s=`_${r}`;this[n]!==void 0&&(this[s]=this[n],delete this[n]),this.attr(r,this[s]),i[r]={oldValue:void 0,newValue:this[s]}}),this.$meta.observedProperties.forEach(r=>{let n=`__${r}`,s=`_${r}`;this[n]!==void 0&&(this[s]=this[n],delete this[n]),i[r]={oldValue:void 0,newValue:this[s]}}),i}connectedCallback(){let i=this.initalizeAttributes();this.enter(),this.update(i),this.$dispatch.flush(),this.$dispatchHandle=this.$dispatch.attach(r=>{if(this.isConnected){let n={};if(r.length>1)throw new Error("Conflation issue.");for(let s in r[0].changes){let o=r[0].changes[s];(o==null?void 0:o.oldValue)!==(o==null?void 0:o.newValue)&&(n[s]=o)}Object.keys(n).length&&this.update(n)}})}disconnectedCallback(){this.$dispatchHandle.release(),this.exit()}adoptedCallback(){}attributeChangedCallback(i,r,n){let s=`_${i}`,o=this.coercedValue(i,n);if(this[s]!==o){let a=this[s];this[s]=o,this._fire(i,a,o)}}enter(){if(window.__hpcc_debug)for(let i of this.$meta.observedAttributes)this[i]!==this.attr(i)&&console.error("enter sync error",i,this[i],this.attr(i))}update(i){if(window.__hpcc_debug)for(let r of this.$meta.observedAttributes)this[r]!==this.attr(r)&&console.error("update sync error",r,this[r],this.attr(r))}exit(){}$emit(i,r,n){let s={detail:r,...hP,...n};if(this.isConnected){let o=new CustomEvent(i,s);return o.simulated=!0,this.dispatchEvent(o)}return!!s.cancelable}};globalThis["@hpcc-js/core/meta"]=globalThis["@hpcc-js/core/meta"]||new WeakMap;globalThis["@hpcc-js/core/metaByName"]=globalThis["@hpcc-js/core/metaByName"]||{};var ml=globalThis["@hpcc-js/core/meta"],Wh=globalThis["@hpcc-js/core/metaByName"];function gl(t){let e;return ml.has(t)?e=ml.get(t):(e={tag:"",template:{html:"",directives:[]},styles:"",properties:[],observedAttributes:[],observedProperties:[],observed:{},events:[]},ml.set(t,e),Wh[t.name]=e),e}function fP(){return Wh}function cO(t){return typeof t=="string"?Wh[t]:ml.get(t)}function hO(t){return gl(Object.getPrototypeOf(t).constructor)}function Ke(t,e){let{template:i={html:"",directives:[]},styles:r="",events:n=[]}=e||{};function s(o){let a=gl(o),l=[],u=o;for(;l=l.concat(gl(u).properties),u!==Kn;)u=Object.getPrototypeOf(u);a.tag=t,a.template=i,a.styles=r,a.observedAttributes=l.filter(c=>c.isAttribute).map(c=>c.name),a.observedProperties=l.filter(c=>!c.isAttribute).map(c=>c.name),a.observed={},a.events=n,l.forEach(c=>a.observed[c.name]=c),customElements==null||customElements.define(t,o)}return s}function dP(t,e){if(e.name!==e.name.toLowerCase())throw new Error(`Attributes must be lowercase: ${t.constructor.name}.${e.name}`);gl(t.constructor).properties.push(e);let r=`_${e.name}`;Object.defineProperty(t,e.name,{set:function(n){let s=this[r];this[r]=n,this._fire(e.name,s,n),e.isAttribute&&this.isConnected&&this.attr(e.name,n)},get:function(){return this[r]}})}function fO(t,e,i){let r={name:i!=null?i:"",type:"string",isAttribute:t,...i===void 0?e:{}};function n(s,o){dP(s,{...r,name:o})}if(i===void 0)return n;n(e,i)}function ye(t,e){return fO(!0,t,e)}function yo(t,e){return fO(!1,t,e)}var lt=class extends Kn{constructor(){super(...arguments);this._prevSize={width:0,height:0};this.observer=new ResizeObserver(()=>{let i={width:this.clientWidth,height:this.clientHeight};this._fire("resize",this._prevSize,i),this._prevSize=i})}connectedCallback(){super.connectedCallback(),this.observer.observe(this)}disconnectedCallback(){this.observer.unobserve(this),super.disconnectedCallback()}};var dO=t=>t===!0||t===1||t==="true"||t==="1";var Ol=class extends lt{constructor(){if(super(),!this._svg)throw new Error("SVG element not found")}enter(){}update(e){super.update(e),"resize"in e&&(this._svg.setAttribute("width",`${this.clientWidth}px`),this._svg.setAttribute("height",`${this.clientHeight}px`),this._svg.setAttribute("viewBox",`0 0 ${this._svg.clientWidth} ${this._svg.clientHeight}`))}};var ue=class t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,i,r){[e,i]=ns(this,e,i);let n=[];return this.decompose(0,e,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(i,this.length,n,1),es.from(n,this.length-(i-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,i=this.length){[e,i]=ns(this,e,i);let r=[];return this.decompose(e,i,r,0),es.from(r,i-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let i=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),n=new on(this),s=new on(e);for(let o=i,a=i;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=r)return!0}}iter(e=1){return new on(this,e)}iterRange(e,i=this.length){return new xl(this,e,i)}iterLines(e,i){let r;if(e==null)r=this.iter();else{i==null&&(i=this.lines+1);let n=this.line(e).from;r=this.iterRange(n,Math.max(n,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new wl(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?t.empty:e.length<=32?new Dt(e):es.from(Dt.split(e,[]))}},Dt=class t extends ue{constructor(e,i=pP(e)){super(),this.text=e,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(e,i,r,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((i?r:a)>=e)return new Xh(n,a,r,o);n=a+1,r++}}decompose(e,i,r,n){let s=e<=0&&i>=this.length?this:new t(pO(this.text,e,i),Math.min(i,this.length)-Math.max(0,e));if(n&1){let o=r.pop(),a=vl(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new t(a,o.length+s.length));else{let l=a.length>>1;r.push(new t(a.slice(0,l)),new t(a.slice(l)))}}else r.push(s)}replace(e,i,r){if(!(r instanceof t))return super.replace(e,i,r);[e,i]=ns(this,e,i);let n=vl(this.text,vl(r.text,pO(this.text,0,e)),i),s=this.length+r.length-(i-e);return n.length<=32?new t(n,s):es.from(t.split(n,[]),s)}sliceString(e,i=this.length,r=`
`){[e,i]=ns(this,e,i);let n="";for(let s=0,o=0;s<=i&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=r),e<l&&i>s&&(n+=a.slice(Math.max(0,e-s),i-s)),s=l+1}return n}flatten(e){for(let i of this.text)e.push(i)}scanIdentical(){return 0}static split(e,i){let r=[],n=-1;for(let s of e)r.push(s),n+=s.length+1,r.length==32&&(i.push(new t(r,n)),r=[],n=-1);return n>-1&&i.push(new t(r,n)),i}},es=class t extends ue{constructor(e,i){super(),this.children=e,this.length=i,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,i,r,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=r+o.lines-1;if((i?l:a)>=e)return o.lineInner(e,i,r,n);n=a+1,r=l+1}}decompose(e,i,r,n){for(let s=0,o=0;o<=i&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&i>=o){let u=n&((o<=e?1:0)|(l>=i?2:0));o>=e&&l<=i&&!u?r.push(a):a.decompose(e-o,i-o,r,u)}o=l+1}}replace(e,i,r){if([e,i]=ns(this,e,i),r.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&i<=a){let l=o.replace(e-s,i-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[n]=l,new t(c,this.length-(i-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,i,r)}sliceString(e,i=this.length,r=`
`){[e,i]=ns(this,e,i);let n="";for(let s=0,o=0;s<this.children.length&&o<=i;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=r),e<l&&i>o&&(n+=a.sliceString(e-o,i-o,r)),o=l+1}return n}flatten(e){for(let i of this.children)i.flatten(e)}scanIdentical(e,i){if(!(e instanceof t))return 0;let r=0,[n,s,o,a]=i>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=i,s+=i){if(n==o||s==a)return r;let l=this.children[n],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,i);r+=l.length+1}}static from(e,i=e.reduce((r,n)=>r+n.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new Dt(d,i)}let n=Math.max(32,r>>5),s=n<<1,o=n>>1,a=[],l=0,u=-1,c=[];function h(d){let p;if(d.lines>s&&d instanceof t)for(let m of d.children)h(m);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof Dt&&l&&(p=c[c.length-1])instanceof Dt&&d.lines+p.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new Dt(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>n&&f(),l+=d.lines,u+=d.length+1,c.push(d))}function f(){l!=0&&(a.push(c.length==1?c[0]:t.from(c,u)),u=-1,l=c.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new t(a,i)}};ue.empty=new Dt([""],0);function pP(t){let e=-1;for(let i of t)e+=i.length+1;return e}function vl(t,e,i=0,r=1e9){for(let n=0,s=0,o=!0;s<t.length&&n<=r;s++){let a=t[s],l=n+a.length;l>=i&&(l>r&&(a=a.slice(0,r-n)),n<i&&(a=a.slice(i-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function pO(t,e,i){return vl(t,[""],e,i)}var on=class{constructor(e,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[i>0?1:(e instanceof Dt?e.text.length:e.children.length)<<1]}nextInner(e,i){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],s=this.offsets[r],o=s>>1,a=n instanceof Dt?n.text.length:n.children.length;if(o==(i>0?a:0)){if(r==0)return this.done=!0,this.value="",this;i>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(i>0?0:1)){if(this.offsets[r]+=i,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof Dt){let l=n.text[o+(i<0?-1:0)];if(this.offsets[r]+=i,l.length>Math.max(0,e))return this.value=e==0?l:i>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(i<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=i):(i<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(i>0?1:(l instanceof Dt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},xl=class{constructor(e,i,r){this.value="",this.done=!1,this.cursor=new on(e,i>r?-1:1),this.pos=i>r?e.length:0,this.from=Math.min(i,r),this.to=Math.max(i,r)}nextInner(e,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let r=i<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*i,this.value=n.length<=r?n:i<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},wl=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:i,lineBreak:r,value:n}=this.inner.next(e);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol!="undefined"&&(ue.prototype[Symbol.iterator]=function(){return this.iter()},on.prototype[Symbol.iterator]=xl.prototype[Symbol.iterator]=wl.prototype[Symbol.iterator]=function(){return this});var Xh=class{constructor(e,i,r,n){this.from=e,this.to=i,this.number=r,this.text=n}get length(){return this.to-this.from}};function ns(t,e,i){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,i))]}var ts="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<ts.length;t++)ts[t]+=ts[t-1];function mP(t){for(let e=1;e<ts.length;e+=2)if(ts[e]>t)return ts[e-1]<=t;return!1}function mO(t){return t>=127462&&t<=127487}var gO=8205;function We(t,e,i=!0,r=!0){return(i?wO:gP)(t,e,r)}function wO(t,e,i){if(e==t.length)return e;e&&_O(t.charCodeAt(e))&&SO(t.charCodeAt(e-1))&&e--;let r=qe(t,e);for(e+=pt(r);e<t.length;){let n=qe(t,e);if(r==gO||n==gO||i&&mP(n))e+=pt(n),r=n;else if(mO(n)){let s=0,o=e-2;for(;o>=0&&mO(qe(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function gP(t,e,i){for(;e>0;){let r=wO(t,e-2,i);if(r<e)return r;e--}return 0}function _O(t){return t>=56320&&t<57344}function SO(t){return t>=55296&&t<56320}function qe(t,e){let i=t.charCodeAt(e);if(!SO(i)||e+1==t.length)return i;let r=t.charCodeAt(e+1);return _O(r)?(i-55296<<10)+(r-56320)+65536:i}function ko(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function pt(t){return t<65536?1:2}var Yh=/\r\n?|\n/,Ye=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ye||(Ye={})),Xi=class t{constructor(e){this.sections=e}get length(){let e=0;for(let i=0;i<this.sections.length;i+=2)e+=this.sections[i];return e}get newLength(){let e=0;for(let i=0;i<this.sections.length;i+=2){let r=this.sections[i+1];e+=r<0?this.sections[i]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let i=0,r=0,n=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];o<0?(e(r,n,s),n+=s):n+=o,r+=s}}iterChangedRanges(e,i=!1){Fh(this,e,i)}get invertedDesc(){let e=[];for(let i=0;i<this.sections.length;){let r=this.sections[i++],n=this.sections[i++];n<0?e.push(r,n):e.push(n,r)}return new t(e)}composeDesc(e){return this.empty?e:e.empty?this:kO(this,e)}mapDesc(e,i=!1){return e.empty?this:Uh(this,e,i)}mapPos(e,i=-1,r=Ye.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=n+a;if(l<0){if(u>e)return s+(e-n);s+=a}else{if(r!=Ye.Simple&&u>=e&&(r==Ye.TrackDel&&n<e&&u>e||r==Ye.TrackBefore&&n<e||r==Ye.TrackAfter&&u>e))return null;if(u>e||u==e&&i<0&&!a)return e==n||i<0?s:s+l;s+=l}n=u}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,i=e){for(let r=0,n=0;r<this.sections.length&&n<=i;){let s=this.sections[r++],o=this.sections[r++],a=n+s;if(o>=0&&n<=i&&a>=e)return n<e&&a>i?"cover":!0;n=a}return!1}toString(){let e="";for(let i=0;i<this.sections.length;){let r=this.sections[i++],n=this.sections[i++];e+=(e?" ":"")+r+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(i=>typeof i!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}static create(e){return new t(e)}},mt=class t extends Xi{constructor(e,i){super(e),this.inserted=i}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Fh(this,(i,r,n,s,o)=>e=e.replace(n,n+(r-i),o),!1),e}mapDesc(e,i=!1){return Uh(this,e,i,!0)}invert(e){let i=this.sections.slice(),r=[];for(let n=0,s=0;n<i.length;n+=2){let o=i[n],a=i[n+1];if(a>=0){i[n]=a,i[n+1]=o;let l=n>>1;for(;r.length<l;)r.push(ue.empty);r.push(o?e.slice(s,s+o):ue.empty)}s+=o}return new t(i,r)}compose(e){return this.empty?e:e.empty?this:kO(this,e,!0)}map(e,i=!1){return e.empty?this:Uh(this,e,i,!0)}iterChanges(e,i=!1){Fh(this,e,i)}get desc(){return Xi.create(this.sections)}filter(e){let i=[],r=[],n=[],s=new an(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);ut(n,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;ut(i,c,h),h>0&&wr(r,i,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);ut(i,c,-1),ut(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new t(i,r),filtered:Xi.create(n)}}toJSON(){let e=[];for(let i=0;i<this.sections.length;i+=2){let r=this.sections[i],n=this.sections[i+1];n<0?e.push(r):n==0?e.push([r]):e.push([r].concat(this.inserted[i>>1].toJSON()))}return e}static of(e,i,r){let n=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!n.length)return;o<i&&ut(n,i-o,-1);let h=new t(n,s);a=a?a.compose(h.map(a)):h,n=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof t){if(c.length!=i)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${i})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>i)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${i})`);let p=d?typeof d=="string"?ue.of(d.split(r||Yh)):d:ue.empty,m=p.length;if(h==f&&m==0)return;h<o&&l(),h>o&&ut(n,h-o,-1),ut(n,f-h,m),wr(s,n,p),o=f}}return u(e),l(!a),a}static empty(e){return new t(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],r=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")i.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)i.push(s[0],0);else{for(;r.length<n;)r.push(ue.empty);r[n]=ue.of(s.slice(1)),i.push(s[0],r[n].length)}}}return new t(i,r)}static createSet(e,i){return new t(e,i)}};function ut(t,e,i,r=!1){if(e==0&&i<=0)return;let n=t.length-2;n>=0&&i<=0&&i==t[n+1]?t[n]+=e:e==0&&t[n]==0?t[n+1]+=i:r?(t[n]+=e,t[n+1]+=i):t.push(e,i)}function wr(t,e,i){if(i.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<r;)t.push(ue.empty);t.push(i)}}function Fh(t,e,i){let r=t.inserted;for(let n=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)n+=a,s+=a;else{let u=n,c=s,h=ue.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[o-2>>1])),!(i||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(n,u,s,c,h),n=u,s=c}}}function Uh(t,e,i,r=!1){let n=[],s=r?[]:null,o=new an(t),a=new an(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);ut(n,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!i))){let u=a.len;for(ut(n,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(ut(n,0,o.ins),s&&wr(s,n,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;ut(n,u,l<o.i?o.ins:0),s&&l<o.i&&wr(s,n,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?mt.createSet(n,s):Xi.create(n);throw new Error("Mismatched change set lengths")}}function kO(t,e,i=!1){let r=[],n=i?[]:null,s=new an(t),o=new an(e);for(let a=!1;;){if(s.done&&o.done)return n?mt.createSet(r,n):Xi.create(r);if(s.ins==0)ut(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)ut(r,0,o.ins,a),n&&wr(n,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;ut(r,l,c,a),n&&c&&wr(n,r,o.text)}else o.ins==-1?(ut(r,s.off?0:s.len,l,a),n&&wr(n,r,s.textBit(l))):(ut(r,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&wr(n,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}var an=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length?ue.empty:e[i]}textBit(e){let{inserted:i}=this.set,r=this.i-2>>1;return r>=i.length&&!e?ue.empty:i[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},Jn=class t{constructor(e,i,r){this.from=e,this.to=i,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,i=-1){let r,n;return this.empty?r=n=e.mapPos(this.from,i):(r=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),r==this.from&&n==this.to?this:new t(r,n,this.flags)}extend(e,i=e){if(e<=this.anchor&&i>=this.anchor)return D.range(e,i);let r=Math.abs(e-this.anchor)>Math.abs(i-this.anchor)?e:i;return D.range(this.anchor,r)}eq(e,i=!1){return this.anchor==e.anchor&&this.head==e.head&&(!i||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return D.range(e.anchor,e.head)}static create(e,i,r){return new t(e,i,r)}},D=class t{constructor(e,i){this.ranges=e,this.mainIndex=i}map(e,i=-1){return e.empty?this:t.create(this.ranges.map(r=>r.map(e,i)),this.mainIndex)}eq(e,i=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new t([this.main],0)}addRange(e,i=!0){return t.create([e].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(e,i=this.mainIndex){let r=this.ranges.slice();return r[i]=e,t.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(i=>Jn.fromJSON(i)),e.main)}static single(e,i=e){return new t([t.range(e,i)],0)}static create(e,i=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=r:s.from<r)return t.normalized(e.slice(),i);r=s.to}return new t(e,i)}static cursor(e,i=0,r,n){return Jn.create(e,e,(i==0?0:i<0?8:16)|(r==null?7:Math.min(6,r))|(n!=null?n:16777215)<<6)}static range(e,i,r,n){let s=(r!=null?r:16777215)<<6|(n==null?7:Math.min(6,n));return i<e?Jn.create(i,e,48|s):Jn.create(e,i,(i>e?8:0)|s)}static normalized(e,i=0){let r=e[i];e.sort((n,s)=>n.from-s.from),i=e.indexOf(r);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=i&&i--,e.splice(--n,2,s.anchor>s.head?t.range(l,a):t.range(a,l))}}return new t(e,i)}};function PO(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}var of=0,W=class t{constructor(e,i,r,n,s){this.combine=e,this.compareInput=i,this.compare=r,this.isStatic=n,this.id=of++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new t(e.combine||(i=>i),e.compareInput||((i,r)=>i===r),e.compare||(e.combine?(i,r)=>i===r:af),!!e.static,e.enables)}of(e){return new is([],this,0,e)}compute(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new is(e,this,1,i)}computeN(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new is(e,this,2,i)}from(e,i){return i||(i=r=>r),this.compute([e],r=>i(r.field(e)))}};function af(t,e){return t==e||t.length==e.length&&t.every((i,r)=>i===e[r])}var is=class{constructor(e,i,r,n){this.dependencies=e,this.facet=i,this.type=r,this.value=n,this.id=of++}dynamicSlot(e){var i;let r=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((i=e[h.id])!==null&&i!==void 0?i:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||Hh(h,c)){let d=r(h);if(a?!OO(d,h.values[o],n):!n(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[s];if(p!=null){let m=Pl(f,p);if(this.dependencies.every(g=>g instanceof W?f.facet(g)===h.facet(g):g instanceof Ae?f.field(g,!1)==h.field(g,!1):!0)||(a?OO(d=r(h),m,n):n(d=r(h),m)))return h.values[o]=m,0}else d=r(h);return h.values[o]=d,1}}}};function OO(t,e,i){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!i(t[r],e[r]))return!1;return!0}function Hh(t,e){let i=!1;for(let r of e)xo(t,r)&1&&(i=!0);return i}function OP(t,e,i){let r=i.map(l=>t[l.id]),n=i.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let h=Pl(l,r[c]);if(n[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)xo(l,u);return l.values[o]=a(l),1},update(l,u){if(!Hh(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=Hh(l,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&af(i,h))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}var bO=W.define({static:!0}),Ae=class t{constructor(e,i,r,n,s){this.id=e,this.createF=i,this.updateF=r,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let i=new t(of++,e.create,e.update,e.compare||((r,n)=>r===n),e);return e.provide&&(i.provides=e.provide(i)),i}create(e){let i=e.facet(bO).find(r=>r.field==this);return((i==null?void 0:i.create)||this.createF)(e)}slot(e){let i=e[this.id]>>1;return{create:r=>(r.values[i]=this.create(r),1),update:(r,n)=>{let s=r.values[i],o=this.updateF(s,n);return this.compareF(s,o)?0:(r.values[i]=o,1)},reconfigure:(r,n)=>n.config.address[this.id]!=null?(r.values[i]=n.field(this),0):(r.values[i]=this.create(r),1)}}init(e){return[this,bO.of({field:this,create:e})]}get extension(){return this}},nn={lowest:4,low:3,default:2,high:1,highest:0};function vo(t){return e=>new _l(e,t)}var Ut={highest:vo(nn.highest),high:vo(nn.high),default:vo(nn.default),low:vo(nn.low),lowest:vo(nn.lowest)},_l=class{constructor(e,i){this.inner=e,this.prec=i}},Sl=class t{of(e){return new wo(this,e)}reconfigure(e){return t.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},wo=class{constructor(e,i){this.compartment=e,this.inner=i}},kl=class t{constructor(e,i,r,n,s,o){for(this.base=e,this.compartments=i,this.dynamicSlots=r,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let i=this.address[e.id];return i==null?e.default:this.staticValues[i>>1]}static resolve(e,i,r){let n=[],s=Object.create(null),o=new Map;for(let f of bP(e,i,o))f instanceof Ae?n.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of n)a[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=r==null?void 0:r.config.facets;for(let f in s){let d=s[f],p=d[0].facet,m=c&&c[f]||[];if(d.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,af(m,d))l.push(r.facet(p));else{let g=p.combine(d.map(O=>O.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of d)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=u.length<<1,u.push(O=>g.dynamicSlot(O)));a[p.id]=u.length<<1,u.push(g=>OP(g,p,d))}}let h=u.map(f=>f(a));return new t(e,o,h,a,l,s)}};function bP(t,e,i){let r=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof wo&&i.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof wo){if(i.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;i.set(o.compartment,u),s(u,a)}else if(o instanceof _l)s(o.inner,o.prec);else if(o instanceof Ae)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof is)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,nn.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,nn.default),r.reduce((o,a)=>o.concat(a))}function xo(t,e){if(e&1)return 2;let i=e>>1,r=t.status[i];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[i]=4;let n=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|n}function Pl(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}var CO=W.define(),Gh=W.define({combine:t=>t.some(e=>e),static:!0}),TO=W.define({combine:t=>t.length?t[0]:void 0,static:!0}),EO=W.define(),QO=W.define(),AO=W.define(),MO=W.define({combine:t=>t.length?t[0]:!1}),kt=class{constructor(e,i){this.type=e,this.value=i}static define(){return new Kh}},Kh=class{of(e){return new kt(this,e)}},Jh=class{constructor(e){this.map=e}of(e){return new ee(this,e)}},ee=class t{constructor(e,i){this.type=e,this.value=i}map(e){let i=this.type.map(this.value,e);return i===void 0?void 0:i==this.value?this:new t(this.type,i)}is(e){return this.type==e}static define(e={}){return new Jh(e.map||(i=>i))}static mapEffects(e,i){if(!e.length)return e;let r=[];for(let n of e){let s=n.map(i);s&&r.push(s)}return r}};ee.reconfigure=ee.define();ee.appendConfig=ee.define();var Ze=class t{constructor(e,i,r,n,s,o){this.startState=e,this.changes=i,this.selection=r,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&PO(r,i.newLength),s.some(a=>a.type==t.time)||(this.annotations=s.concat(t.time.of(Date.now())))}static create(e,i,r,n,s,o){return new t(e,i,r,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let i of this.annotations)if(i.type==e)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let i=this.annotation(t.userEvent);return!!(i&&(i==e||i.length>e.length&&i.slice(0,e.length)==e&&i[e.length]=="."))}};Ze.time=kt.define();Ze.userEvent=kt.define();Ze.addToHistory=kt.define();Ze.remote=kt.define();function yP(t,e){let i=[];for(let r=0,n=0;;){let s,o;if(r<t.length&&(n==e.length||e[n]>=t[r]))s=t[r++],o=t[r++];else if(n<e.length)s=e[n++],o=e[n++];else return i;!i.length||i[i.length-1]<s?i.push(s,o):i[i.length-1]<o&&(i[i.length-1]=o)}}function $O(t,e,i){var r;let n,s,o;return i?(n=e.changes,s=mt.empty(e.changes.length),o=t.changes.compose(e.changes)):(n=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(n),effects:ee.mapEffects(t.effects,n).concat(ee.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ef(t,e,i){let r=e.selection,n=rs(e.annotations);return e.userEvent&&(n=n.concat(Ze.userEvent.of(e.userEvent))),{changes:e.changes instanceof mt?e.changes:mt.of(e.changes||[],i,t.facet(TO)),selection:r&&(r instanceof D?r:D.single(r.anchor,r.head)),effects:rs(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function RO(t,e,i){let r=ef(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(i=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(i=!1);let o=!!e[s].sequential;r=$O(r,ef(t,e[s],o?r.changes.newLength:t.doc.length),o)}let n=Ze.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return xP(i?vP(n):n)}function vP(t){let e=t.startState,i=!0;for(let n of e.facet(EO)){let s=n(t);if(s===!1){i=!1;break}Array.isArray(s)&&(i=i===!0?s:yP(i,s))}if(i!==!0){let n,s;if(i===!1)s=t.changes.invertedDesc,n=mt.empty(e.doc.length);else{let o=t.changes.filter(i);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Ze.create(e,n,t.selection&&t.selection.map(s),ee.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(QO);for(let n=r.length-1;n>=0;n--){let s=r[n](t);s instanceof Ze?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ze?t=s[0]:t=RO(e,rs(s),!1)}return t}function xP(t){let e=t.startState,i=e.facet(AO),r=t;for(let n=i.length-1;n>=0;n--){let s=i[n](t);s&&Object.keys(s).length&&(r=$O(r,ef(e,s,t.changes.newLength),!0))}return r==t?t:Ze.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}var wP=[];function rs(t){return t==null?wP:Array.isArray(t)?t:[t]}var we=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(we||(we={})),_P=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,tf;try{tf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function SP(t){if(tf)return tf.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||_P.test(i)))return!0}return!1}function kP(t){return e=>{if(!/\S/.test(e))return we.Space;if(SP(e))return we.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return we.Word;return we.Other}}var Se=class t{constructor(e,i,r,n,s,o){this.config=e,this.doc=i,this.selection=r,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)xo(this,a<<1);this.computeSlot=null}field(e,i=!0){let r=this.config.address[e.id];if(r==null){if(i)throw new RangeError("Field is not present in this state");return}return xo(this,r),Pl(this,r)}update(...e){return RO(this,e,!0)}applyTransaction(e){let i=this.config,{base:r,compartments:n}=i;for(let a of e.effects)a.is(Sl.reconfigure)?(i&&(n=new Map,i.compartments.forEach((l,u)=>n.set(u,l)),i=null),n.set(a.value.compartment,a.value.extension)):a.is(ee.reconfigure)?(i=null,r=a.value):a.is(ee.appendConfig)&&(i=null,r=rs(r).concat(a.value));let s;i?s=e.startState.values.slice():(i=kl.resolve(r,n,this),s=new t(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(Gh)?e.newSelection:e.newSelection.asSingle();new t(i,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:e},range:D.cursor(i.from+e.length)}))}changeByRange(e){let i=this.selection,r=e(i.ranges[0]),n=this.changes(r.changes),s=[r.range],o=rs(r.effects);for(let a=1;a<i.ranges.length;a++){let l=e(i.ranges[a]),u=this.changes(l.changes),c=u.map(n);for(let f=0;f<a;f++)s[f]=s[f].map(c);let h=n.mapDesc(u,!0);s.push(l.range.map(h)),n=n.compose(c),o=ee.mapEffects(o,c).concat(ee.mapEffects(rs(l.effects),h))}return{changes:n,selection:D.create(s,i.mainIndex),effects:o}}changes(e=[]){return e instanceof mt?e:mt.of(e,this.doc.length,this.facet(t.lineSeparator))}toText(e){return ue.of(e.split(this.facet(t.lineSeparator)||Yh))}sliceDoc(e=0,i=this.doc.length){return this.doc.sliceString(e,i,this.lineBreak)}facet(e){let i=this.config.address[e.id];return i==null?e.default:(xo(this,i),Pl(this,i))}toJSON(e){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let n=e[r];n instanceof Ae&&this.config.address[n.id]!=null&&(i[r]=n.spec.toJSON(this.field(e[r]),this))}return i}static fromJSON(e,i={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return t.create({doc:e.doc,selection:D.fromJSON(e.selection),extensions:i.extensions?n.concat([i.extensions]):n})}static create(e={}){let i=kl.resolve(e.extensions||[],new Map),r=e.doc instanceof ue?e.doc:ue.of((e.doc||"").split(i.staticFacet(t.lineSeparator)||Yh)),n=e.selection?e.selection instanceof D?e.selection:D.single(e.selection.anchor,e.selection.head):D.single(0);return PO(n,r.length),i.staticFacet(Gh)||(n=n.asSingle()),new t(i,r,n,i.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||`
`}get readOnly(){return this.facet(MO)}phrase(e,...i){for(let r of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return i.length&&(e=e.replace(/\$(\$|\d*)/g,(r,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>i.length?r:i[s-1]})),e}languageDataAt(e,i,r=-1){let n=[];for(let s of this.facet(CO))for(let o of s(this,i,r))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return kP(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:i,from:r,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=We(i,o,!1);if(s(i.slice(l,o))!=we.Word)break;o=l}for(;a<n;){let l=We(i,a);if(s(i.slice(a,l))!=we.Word)break;a=l}return o==a?null:D.range(o+r,a+r)}};Se.allowMultipleSelections=Gh;Se.tabSize=W.define({combine:t=>t.length?t[0]:4});Se.lineSeparator=TO;Se.readOnly=MO;Se.phrases=W.define({compare(t,e){let i=Object.keys(t),r=Object.keys(e);return i.length==r.length&&i.every(n=>t[n]==e[n])}});Se.languageData=CO;Se.changeFilter=EO;Se.transactionFilter=QO;Se.transactionExtender=AO;Sl.reconfigure=ee.define();function ct(t,e,i={}){let r={};for(let n of t)for(let s of Object.keys(n)){let o=n[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(i,s))r[s]=i[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)r[n]===void 0&&(r[n]=e[n]);return r}var ci=class{eq(e){return this==e}range(e,i=e){return _o.create(e,i,this)}};ci.prototype.startSide=ci.prototype.endSide=0;ci.prototype.point=!1;ci.prototype.mapMode=Ye.TrackDel;var _o=class t{constructor(e,i,r){this.from=e,this.to=i,this.value=r}static create(e,i,r){return new t(e,i,r)}};function rf(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var nf=class t{constructor(e,i,r,n){this.from=e,this.to=i,this.value=r,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,i,r,n=0){let s=r?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-i;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,i,r,n){for(let s=this.findIndex(i,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,i){let r=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,f,d;if(c==h){let p=i.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=i.mapPos(c,u.endSide),d<f)))continue}else if(f=i.mapPos(c,u.startSide),d=i.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,d-f)),r.push(u),n.push(f-o),s.push(d-o))}return{mapped:r.length?new t(n,s,r,a):null,pos:o}}},Oe=class t{constructor(e,i,r,n){this.chunkPos=e,this.chunk=i,this.nextLayer=r,this.maxPoint=n}static create(e,i,r,n){return new t(e,i,r,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let i of this.chunk)e+=i.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:i=[],sort:r=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(i.length==0&&!o)return this;if(r&&(i=i.slice().sort(rf)),this.isEmpty)return i.length?t.of(i):this;let a=new Cl(this,null,-1).goto(0),l=0,u=[],c=new hi;for(;a.value||l<i.length;)if(l<i.length&&(a.from-i[l].from||a.startSide-i[l].value.startSide)>=0){let h=i[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==i.length||this.chunkEnd(a.chunkIndex)<i[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(_o.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?t.empty:this.nextLayer.update({add:u,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let i=[],r=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)n=Math.max(n,l.maxPoint),i.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(n=Math.max(n,c.maxPoint),i.push(c),r.push(h))}}let s=this.nextLayer.map(e);return i.length==0?s:new t(r,i,s||t.empty,n)}between(e,i,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(i>=s&&e<=s+o.length&&o.between(s,e-s,i-s,r)===!1)return}this.nextLayer.between(e,i,r)}}iter(e=0){return So.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,i=0){return So.from(e).goto(i)}static compare(e,i,r,n,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=i.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=yO(o,a,r),u=new sn(o,l,s),c=new sn(a,l,s);r.iterGaps((h,f,d)=>vO(u,h,c,f,d,n)),r.empty&&r.length==0&&vO(u,0,c,0,0,n)}static eq(e,i,r=0,n){n==null&&(n=999999999);let s=e.filter(c=>!c.isEmpty&&i.indexOf(c)<0),o=i.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=yO(s,o),l=new sn(s,a,0).goto(r),u=new sn(o,a,0).goto(r);for(;;){if(l.to!=u.to||!sf(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>n)return!0;l.next(),u.next()}}static spans(e,i,r,n,s=-1){let o=new sn(e,null,s).goto(i),a=i,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<i?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);n.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(n.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,i=!1){let r=new hi;for(let n of e instanceof _o?[e]:i?PP(e):e)r.add(n.from,n.to,n.value);return r.finish()}static join(e){if(!e.length)return t.empty;let i=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let n=e[r];n!=t.empty;n=n.nextLayer)i=new t(n.chunkPos,n.chunk,i,Math.max(n.maxPoint,i.maxPoint));return i}};Oe.empty=new Oe([],[],null,-1);function PP(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let r=t[i];if(rf(e,r)>0)return t.slice().sort(rf);e=r}return t}Oe.empty.nextLayer=Oe.empty;var hi=class t{finishChunk(e){this.chunks.push(new nf(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,i,r){this.addInner(e,i,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,i,r)}addInner(e,i,r){let n=e-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(i-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=i,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,i-e)),!0)}addChunk(e,i){if((e-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(e);let r=i.value.length-1;return this.last=i.value[r],this.lastFrom=i.from[r]+e,this.lastTo=i.to[r]+e,!0}finish(){return this.finishInner(Oe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let i=Oe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,i}};function yO(t,e,i){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(i?i.mapPos(a):a)==s.chunkPos[o]&&!(i!=null&&i.touchesRange(a,a+s.chunk[o].length))&&n.add(s.chunk[o])}return n}var Cl=class{constructor(e,i,r,n=0){this.layer=e,this.skip=i,this.minPoint=r,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,i,!1),this}gotoInner(e,i,r){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],i,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,i){(this.to-e||this.endSide-i)<0&&this.gotoInner(e,i,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex],r=e+i.from[this.rangeIndex];if(this.from=r,this.to=e+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},So=class t{constructor(e){this.heap=e}static from(e,i=null,r=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&n.push(new Cl(o,i,r,s));return n.length==1?n[0]:new t(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,i=-1e9){for(let r of this.heap)r.goto(e,i);for(let r=this.heap.length>>1;r>=0;r--)jh(this.heap,r);return this.next(),this}forward(e,i){for(let r of this.heap)r.forward(e,i);for(let r=this.heap.length>>1;r>=0;r--)jh(this.heap,r);(this.to-e||this.value.endSide-i)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),jh(this.heap,0)}}};function jh(t,e){for(let i=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let n=t[r];if(r+1<t.length&&n.compare(t[r+1])>=0&&(n=t[r+1],r++),i.compare(n)<0)break;t[r]=i,t[e]=n,e=r}}var sn=class{constructor(e,i,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=So.from(e,i,r)}goto(e,i=-1e9){return this.cursor.goto(e,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=i,this.openStart=-1,this.next(),this}forward(e,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(e,i)}removeActive(e){bl(this.active,e),bl(this.activeTo,e),bl(this.activeRank,e),this.minActive=xO(this.active,this.activeTo)}addActive(e){let i=0,{value:r,to:n,rank:s}=this.cursor;for(;i<this.activeRank.length&&(s-this.activeRank[i]||n-this.activeTo[i])>0;)i++;yl(this.active,i,r),yl(this.activeTo,i,n),yl(this.activeRank,i,s),e&&yl(e,i,this.cursor.from),this.minActive=xO(this.active,this.activeTo)}next(){let e=this.to,i=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),r&&bl(r,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let n=r.length-1;n>=0&&r[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let i=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&i.push(this.active[r]);return i.reverse()}openEnd(e){let i=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)i++;return i}};function vO(t,e,i,r,n,s){t.goto(e),i.goto(r);let o=r+n,a=r,l=r-e;for(;;){let u=t.to+l-i.to||t.endSide-i.endSide,c=u<0?t.to+l:i.to,h=Math.min(c,o);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&sf(t.activeForPoint(t.to),i.activeForPoint(i.to))||s.comparePoint(a,h,t.point,i.point):h>a&&!sf(t.active,i.active)&&s.compareRange(a,h,t.active,i.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&i.next()}}function sf(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function bl(t,e){for(let i=e,r=t.length-1;i<r;i++)t[i]=t[i+1];t.pop()}function yl(t,e,i){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=i}function xO(t,e){let i=-1,r=1e9;for(let n=0;n<e.length;n++)(e[n]-r||t[n].endSide-t[i].endSide)<0&&(i=n,r=e[n]);return i}function Yi(t,e,i=t.length){let r=0;for(let n=0;n<i;)t.charCodeAt(n)==9?(r+=e-r%e,n++):(r++,n=We(t,n));return r}function Tl(t,e,i,r){for(let n=0,s=0;;){if(s>=e)return n;if(n==t.length)break;s+=t.charCodeAt(n)==9?i-s%i:1,n=We(t,n)}return r===!0?-1:t.length}var lf="\u037C",IO=typeof Symbol=="undefined"?"__"+lf:Symbol.for(lf),uf=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),DO=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},Ht=class{constructor(e,i){this.rules=[];let{finish:r}=i||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(m=>o.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(n(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||f)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=DO[IO]||1;return DO[IO]=e+1,lf+e.toString(36)}static mount(e,i,r){let n=e[uf],s=r&&r.nonce;n?s&&n.setNonce(s):n=new cf(e,s),n.mount(Array.isArray(i)?i:[i],e)}},LO=new Map,cf=class{constructor(e,i){let r=e.ownerDocument||e,n=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=LO.get(r);if(s)return e[uf]=s;this.sheet=new n.CSSStyleSheet,LO.set(r,this)}else this.styleTag=r.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);this.modules=[],e[uf]=this}mount(e,i){let r=this.sheet,n=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=a.rules.length,s++}}if(r)i.adoptedStyleSheets.indexOf(this.sheet)<0&&(i.adoptedStyleSheets=[this.sheet,...i.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=i.head||i;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var Fi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ss={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},CP=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),TP=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(je=0;je<10;je++)Fi[48+je]=Fi[96+je]=String(je);var je;for(je=1;je<=24;je++)Fi[je+111]="F"+je;var je;for(je=65;je<=90;je++)Fi[je]=String.fromCharCode(je+32),ss[je]=String.fromCharCode(je);var je;for(El in Fi)ss.hasOwnProperty(El)||(ss[El]=Fi[El]);var El;function VO(t){var e=CP&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||TP&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",i=!e&&t.key||(t.shiftKey?ss:Fi)[t.keyCode]||t.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}function No(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function bf(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function EP(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Nl(t,e){if(!e.anchorNode)return!1;try{return bf(t,e.anchorNode)}catch{return!1}}function zo(t){return t.nodeType==3?cn(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Mo(t,e,i,r){return i?NO(t,e,i,r,-1)||NO(t,e,i,r,1):!1}function un(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function jl(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function NO(t,e,i,r,n){for(;;){if(t==i&&e==r)return!0;if(e==(n<0?0:Ui(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=un(t)+(n<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(n<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=n<0?Ui(t):0}else return!1}}function Ui(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ou(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function QP(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Pb(t,e){let i=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.width-t.offsetWidth)<1)&&(i=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:i,scaleY:r}}function AP(t,e,i,r,n,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,h=!1;c&&!h;)if(c.nodeType==1){let f,d=c==l.body,p=1,m=1;if(d)f=QP(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let y=c.getBoundingClientRect();({scaleX:p,scaleY:m}=Pb(c,y)),f={left:y.left,right:y.left+c.clientWidth*p,top:y.top,bottom:y.top+c.clientHeight*m}}let g=0,O=0;if(n=="nearest")e.top<f.top?(O=-(f.top-e.top+o),i>0&&e.bottom>f.bottom+O&&(O=e.bottom-f.bottom+O+o)):e.bottom>f.bottom&&(O=e.bottom-f.bottom+o,i<0&&e.top-O<f.top&&(O=-(f.top+O-e.top+o)));else{let y=e.bottom-e.top,v=f.bottom-f.top;O=(n=="center"&&y<=v?e.top+y/2-v/2:n=="start"||n=="center"&&i<0?e.top-o:e.bottom-v+o)-f.top}if(r=="nearest"?e.left<f.left?(g=-(f.left-e.left+s),i>0&&e.right>f.right+g&&(g=e.right-f.right+g+s)):e.right>f.right&&(g=e.right-f.right+s,i<0&&e.left<f.left+g&&(g=-(f.left+g-e.left+s))):g=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,g||O)if(d)u.scrollBy(g,O);else{let y=0,v=0;if(O){let k=c.scrollTop;c.scrollTop+=O/m,v=(c.scrollTop-k)*m}if(g){let k=c.scrollLeft;c.scrollLeft+=g/p,y=(c.scrollLeft-k)*p}e={left:e.left-y,top:e.top-v,right:e.right-y,bottom:e.bottom-v},y&&Math.abs(y-g)<1&&(r="nearest"),v&&Math.abs(v-O)<1&&(n="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function MP(t){let e=t.ownerDocument,i,r;for(let n=t.parentNode;n&&!(n==e.body||i&&r);)if(n.nodeType==1)!r&&n.scrollHeight>n.clientHeight&&(r=n),!i&&n.scrollWidth>n.clientWidth&&(i=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:i,y:r}}var yf=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:i,focusNode:r}=e;this.set(i,Math.min(e.anchorOffset,i?Ui(i):0),r,Math.min(e.focusOffset,r?Ui(r):0))}set(e,i,r,n){this.anchorNode=e,this.anchorOffset=i,this.focusNode=r,this.focusOffset=n}},os=null;function Cb(t){if(t.setActive)return t.setActive();if(os)return t.focus(os);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(os==null?{get preventScroll(){return os={preventScroll:!0},!0}}:void 0),!os){os=!1;for(let i=0;i<e.length;){let r=e[i++],n=e[i++],s=e[i++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=s&&(r.scrollLeft=s)}}}var zO;function cn(t,e,i=e){let r=zO||(zO=document.createRange());return r.setEnd(t,i),r.setStart(t,e),r}function cs(t,e,i,r){let n={key:e,code:e,keyCode:i,which:i,cancelable:!0};r&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=r);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function $P(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Tb(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function RP(t,e){let i=e.focusNode,r=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ui(i));;)if(r){if(i.nodeType!=1)return!1;let n=i.childNodes[r-1];n.contentEditable=="false"?r--:(i=n,r=Ui(i))}else{if(i==t)return!0;r=un(i),i=i.parentNode}}function Eb(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Qb(t,e){for(let i=t,r=e;;){if(i.nodeType==3&&r>0)return{node:i,offset:r};if(i.nodeType==1&&r>0){if(i.contentEditable=="false")return null;i=i.childNodes[r-1],r=Ui(i)}else if(i.parentNode&&!jl(i))r=un(i),i=i.parentNode;else return null}}function Ab(t,e){for(let i=t,r=e;;){if(i.nodeType==3&&r<i.nodeValue.length)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[r],r=0}else if(i.parentNode&&!jl(i))r=un(i)+1,i=i.parentNode;else return null}}var gt=class t{constructor(e,i,r=!0){this.node=e,this.offset=i,this.precise=r}static before(e,i){return new t(e.parentNode,un(e),i)}static after(e,i){return new t(e.parentNode,un(e)+1,i)}},ad=[],Ce=class t{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let i=this.posAtStart;for(let r of this.children){if(r==e)return i;i+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,i){if(this.flags&2){let r=this.dom,n=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=n?n.nextSibling:r.firstChild)){let a=t.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,i),o.flags&=-8}if(s=n?n.nextSibling:r.firstChild,i&&!i.written&&i.node==r&&s!=o.dom&&(i.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=BO(s);else r.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:r.firstChild,s&&i&&i.node==r&&(i.written=!0);s;)s=BO(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,i),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,i){let r;if(e==this.dom)r=this.dom.childNodes[i];else{let n=Ui(e)==0?0:i==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!t.get(r);)r=r.nextSibling;if(!r)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,i,r=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let h=this.children[l],f=u+h.length;if(u<e&&f>i)return h.domBoundsAround(e,i,u);if(f>=e&&n==-1&&(n=l,s=u),u>i&&h.dom.parentNode==this.dom){o=l,a=c;break}c=f,u=f+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let i=this.parent;i;i=i.parent){if(e&&(i.flags|=2),i.flags&1)return;i.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let i=e.parent;if(!i)return e;e=i}}replaceChildren(e,i,r=ad){this.markDirty();for(let n=e;n<i;n++){let s=this.children[n];s.parent==this&&r.indexOf(s)<0&&s.destroy()}this.children.splice(e,i-e,...r);for(let n=0;n<r.length;n++)r[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Xl(this.children,e,this.children.length)}childPos(e,i=1){return this.childCursor().findPos(e,i)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,i,r,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};Ce.prototype.breakAfter=0;function BO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var Xl=class{constructor(e,i,r){this.children=e,this.pos=i,this.i=r,this.off=0}findPos(e,i=1){for(;;){if(e>this.pos||e==this.pos&&(i>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}};function Mb(t,e,i,r,n,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(i,n,s.length?h:null,i==0,a,l))){if(r<u.length){let d=u[r];d&&(n<d.length||d.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(d=d.split(n),n=0),!f&&h&&d.merge(0,n,h,!0,0,l)?s[s.length-1]=d:((n||d.children.length&&!d.children[0].length)&&d.merge(0,n,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,i>0&&(!o&&s.length&&c.merge(i,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(i<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(i,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function $b(t,e,i,r,n,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(i,1),{i:u,off:c}=o.findPos(e,-1),h=e-i;for(let f of r)h+=f.length;t.length+=h,Mb(t,u,c,a,l,r,0,n,s)}var Pt=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},vf=typeof document!="undefined"?document:{documentElement:{style:{}}},xf=/Edge\/(\d+)/.exec(Pt.userAgent),Rb=/MSIE \d/.test(Pt.userAgent),wf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pt.userAgent),au=!!(Rb||wf||xf),qO=!au&&/gecko\/(\d+)/i.test(Pt.userAgent),hf=!au&&/Chrome\/(\d+)/.exec(Pt.userAgent),ZO="webkitFontSmoothing"in vf.documentElement.style,Ib=!au&&/Apple Computer/.test(Pt.vendor),WO=Ib&&(/Mobile\/\w+/.test(Pt.userAgent)||Pt.maxTouchPoints>2),X={mac:WO||/Mac/.test(Pt.platform),windows:/Win/.test(Pt.platform),linux:/Linux|X11/.test(Pt.platform),ie:au,ie_version:Rb?vf.documentMode||6:wf?+wf[1]:xf?+xf[1]:0,gecko:qO,gecko_version:qO?+(/Firefox\/(\d+)/.exec(Pt.userAgent)||[0,0])[1]:0,chrome:!!hf,chrome_version:hf?+hf[1]:0,ios:WO,android:/Android\b/.test(Pt.userAgent),webkit:ZO,safari:Ib,webkit_version:ZO?+(/\bAppleWebKit\/(\d+)/.exec(Pt.userAgent)||[0,0])[1]:0,tabSize:vf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},IP=256,Ai=class t extends Ce{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,i,r){return this.flags&8||r&&(!(r instanceof t)||this.length-(i-e)+r.length>IP||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(i),this.markDirty(),!0)}split(e){let i=new t(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),i.flags|=this.flags&8,i}localPosFromDOM(e,i){return e==this.dom?i:i?this.text.length:0}domAtPos(e){return new gt(this.dom,e)}domBoundsAround(e,i,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,i){return DP(this.dom,e,i)}},Pr=class t extends Ce{constructor(e,i=[],r=0){super(),this.mark=e,this.children=i,this.length=r;for(let n of i)n.setParent(this)}setAttrs(e){if(Tb(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)e.setAttribute(i,this.mark.attrs[i]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,i){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,i)}merge(e,i,r,n,s,o){return r&&(!(r instanceof t&&r.mark.eq(this.mark))||e&&s<=0||i<this.length&&o<=0)?!1:($b(this,e,i,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let i=[],r=0,n=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&i.push(r<e?a.split(e-r):a),n<0&&r>=e&&(n=s),r=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new t(this.mark,i,o)}domAtPos(e){return Db(this,e)}coordsAt(e,i){return Vb(this,e,i)}};function DP(t,e,i){let r=t.nodeValue.length;e>r&&(e=r);let n=e,s=e,o=0;e==0&&i<0||e==r&&i>=0?X.chrome||X.gecko||(e?(n--,o=1):s<r&&(s++,o=-1)):i<0?n--:s<r&&s++;let a=cn(t,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:i>=0)?0:a.length-1];return X.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?ou(l,o<0):l||null}var Bo=class t extends Ce{static create(e,i,r){return new t(e,i,r)}constructor(e,i,r){super(),this.widget=e,this.length=i,this.side=r,this.prevWidget=null}split(e){let i=t.create(this.widget,this.length-e,this.side);return this.length-=e,i}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,i,r,n,s,o){return r&&(!(r instanceof t)||!this.widget.compare(r.widget)||e>0&&s<=0||i<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-i),!0)}become(e){return e instanceof t&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ue.empty;let e=this;for(;e.parent;)e=e.parent;let{view:i}=e,r=i&&i.state.doc,n=this.posAtStart;return r?r.slice(n,n+this.length):ue.empty}domAtPos(e){return(this.length?e==0:this.side>0)?gt.before(this.dom):gt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,i){let r=this.widget.coordsAt(this.dom,e,i);if(r)return r;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?n.length-1:0;s=n[a],!(e>0?a==0:a==n.length-1||s.top<s.bottom);a+=o?-1:1);return ou(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},qo=class t extends Ce{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof t&&e.side==this.side}split(){return new t(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?gt.before(this.dom):gt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ue.empty}get isHidden(){return!0}};Ai.prototype.children=Bo.prototype.children=qo.prototype.children=ad;function Db(t,e){let i=t.dom,{children:r}=t,n=0;for(let s=0;n<r.length;n++){let o=r[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==i)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=r[s-1];if(o.dom.parentNode==i)return o.domAtPos(o.length)}for(let s=n;s<r.length;s++){let o=r[s];if(o.dom.parentNode==i)return o.domAtPos(0)}return new gt(i,0)}function Lb(t,e,i){let r,{children:n}=t;i>0&&e instanceof Pr&&n.length&&(r=n[n.length-1])instanceof Pr&&r.mark.eq(e.mark)?Lb(r,e.children[0],i-1):(n.push(e),e.setParent(t)),t.length+=e.length}function Vb(t,e,i){let r=null,n=-1,s=null,o=-1;function a(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?a(d,c-f):(!s||s.isHidden&&i>0)&&(p>c||f==p&&d.getSide()>0)?(s=d,o=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(r=d,n=c-f)),f=p}}a(t,e);let l=(i<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?n:o),i):LP(t)}function LP(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=zo(e);return i[i.length-1]||null}function _f(t,e){for(let i in t)i=="class"&&e.class?e.class+=" "+t.class:i=="style"&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}var jO=Object.create(null);function Yl(t,e,i){if(t==e)return!0;t||(t=jO),e||(e=jO);let r=Object.keys(t),n=Object.keys(e);if(r.length-(i&&r.indexOf(i)>-1?1:0)!=n.length-(i&&n.indexOf(i)>-1?1:0))return!1;for(let s of r)if(s!=i&&(n.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Sf(t,e,i){let r=!1;if(e)for(let n in e)i&&n in i||(r=!0,n=="style"?t.style.cssText="":t.removeAttribute(n));if(i)for(let n in i)e&&e[n]==i[n]||(r=!0,n=="style"?t.style.cssText=i[n]:t.setAttribute(n,i[n]));return r}function VP(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let r=t.attributes[i];e[r.name]=r.value}return e}var Ct=class{eq(e){return!1}updateDOM(e,i){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,i,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}},Ot=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ot||(Ot={})),U=class extends ci{constructor(e,i,r,n){super(),this.startSide=e,this.endSide=i,this.widget=r,this.spec=n}get heightRelevant(){return!1}static mark(e){return new Zo(e)}static widget(e){let i=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return i+=r&&!e.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new Cr(e,i,i,r,e.widget||null,!1)}static replace(e){let i=!!e.block,r,n;if(e.isBlockGap)r=-5e8,n=4e8;else{let{start:s,end:o}=Nb(e,i);r=(s?i?-3e8:-1:5e8)-1,n=(o?i?2e8:1:-6e8)+1}return new Cr(e,r,n,i,e.widget||null,!0)}static line(e){return new Wo(e)}static set(e,i=!1){return Oe.of(e,i)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};U.none=Oe.empty;var Zo=class t extends U{constructor(e){let{start:i,end:r}=Nb(e);super(i?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var i,r;return this==e||e instanceof t&&this.tagName==e.tagName&&(this.class||((i=this.attrs)===null||i===void 0?void 0:i.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Yl(this.attrs,e.attrs,"class")}range(e,i=e){if(e>=i)throw new RangeError("Mark decorations may not be empty");return super.range(e,i)}};Zo.prototype.point=!1;var Wo=class t extends U{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof t&&this.spec.class==e.spec.class&&Yl(this.spec.attributes,e.spec.attributes)}range(e,i=e){if(i!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,i)}};Wo.prototype.mapMode=Ye.TrackBefore;Wo.prototype.point=!0;var Cr=class t extends U{constructor(e,i,r,n,s,o){super(i,r,s,e),this.block=n,this.isReplace=o,this.mapMode=n?i<=0?Ye.TrackBefore:Ye.TrackAfter:Ye.TrackDel}get type(){return this.startSide!=this.endSide?Ot.WidgetRange:this.startSide<=0?Ot.WidgetBefore:Ot.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof t&&NP(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,i=e){if(this.isReplace&&(e>i||e==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,i)}};Cr.prototype.point=!0;function Nb(t,e=!1){let{inclusiveStart:i,inclusiveEnd:r}=t;return i==null&&(i=t.inclusive),r==null&&(r=t.inclusive),{start:i!=null?i:e,end:r!=null?r:e}}function NP(t,e){return t==e||!!(t&&e&&t.compare(e))}function kf(t,e,i,r=0){let n=i.length-1;n>=0&&i[n]+r>=t?i[n]=Math.max(i[n],e):i.push(t,e)}var it=class t extends Ce{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,i,r,n,s,o){if(r){if(!(r instanceof t))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),$b(this,e,i,r?r.children.slice():[],s,o),!0}split(e){let i=new t;if(i.breakAfter=this.breakAfter,this.length==0)return i;let{i:r,off:n}=this.childPos(e);n&&(i.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)i.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,i}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Yl(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,i){Lb(this,e,i)}addLineDeco(e){let i=e.spec.attributes,r=e.spec.class;i&&(this.attrs=_f(i,this.attrs||{})),r&&(this.attrs=_f({class:r},this.attrs||{}))}domAtPos(e){return Db(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,i){var r;this.dom?this.flags&4&&(Tb(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Sf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,i);let n=this.dom.lastChild;for(;n&&Ce.get(n)instanceof Pr;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((r=Ce.get(n))===null||r===void 0?void 0:r.isEditable)==!1&&(!X.ios||!this.children.some(s=>s instanceof Ai))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,i;for(let r of this.children){if(!(r instanceof Ai)||/[^ -~]/.test(r.text))return null;let n=zo(r.dom);if(n.length!=1)return null;e+=n[0].width,i=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:i}:null}coordsAt(e,i){let r=Vb(this,e,i);if(!this.children.length&&r&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let o=(s-n.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof t&&this.children.length==0&&e.children.length==0&&Yl(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,i){for(let r=0,n=0;r<e.children.length;r++){let s=e.children[r],o=n+s.length;if(o>=i){if(s instanceof t)return s;if(o>i)break}n=o+s.breakAfter}return null}},ln=class t extends Ce{constructor(e,i,r){super(),this.widget=e,this.length=i,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,i,r,n,s,o){return r&&(!(r instanceof t)||!this.widget.compare(r.widget)||e>0&&s<=0||i<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-i),!0)}domAtPos(e){return e==0?gt.before(this.dom):gt.after(this.dom,e==this.length)}split(e){let i=this.length-e;this.length=e;let r=new t(this.widget,i,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return ad}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ue.empty}domBoundsAround(){return null}become(e){return e instanceof t&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,i){let r=this.widget.coordsAt(this.dom,e,i);return r||(this.widget instanceof jo?null:ou(this.dom.getBoundingClientRect(),this.length?e==0:i<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:i,endSide:r}=this.deco;return i==r?!1:e<0?i<0:r>0}},jo=class extends Ct{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},$o=class t{constructor(e,i,r,n){this.doc=e,this.pos=i,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=i}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ln&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new it),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ql(new qo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ln)&&this.getLine()}buildText(e,i,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(i.slice(i.length-r)),this.getLine().append(Ql(new Ai(this.text.slice(this.textOff,this.textOff+n)),i),r),this.atCursorPos=!0,this.textOff+=n,e-=n,r=0}}span(e,i,r,n){this.buildText(i-e,r,n),this.pos=i,this.openStart<0&&(this.openStart=n)}point(e,i,r,n,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Cr){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=i-e;if(r instanceof Cr)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ln(r.widget||Tr.block,a,r));else{let l=Bo.create(r.widget||Tr.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<i||r.startSide>0),c=!l.isEditable&&(e<i||s>n.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),u&&(h.append(Ql(new qo(1),n),s),s=n.length+Math.max(0,s-n.length)),h.append(Ql(l,n),s),this.atCursorPos=c,this.pendingBuffer=c?e<i||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=s)}static build(e,i,r,n,s){let o=new t(e,i,r,s);return o.openEnd=Oe.spans(n,i,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}};function Ql(t,e){for(let i of e)t=new Pr(i,[t],t.length);return t}var Tr=class extends Ct{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};Tr.inline=new Tr("span");Tr.block=new Tr("div");var _e=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(_e||(_e={})),hn=_e.LTR,ld=_e.RTL;function zb(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}var zP=zb("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),BP=zb("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Pf=Object.create(null),Ci=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);Pf[e]=i,Pf[i]=-e}function Bb(t){return t<=247?zP[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?BP[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}var qP=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Ei=class{get dir(){return this.level%2?ld:hn}constructor(e,i,r){this.from=e,this.to=i,this.level=r}side(e,i){return this.dir==i==e?this.to:this.from}forward(e,i){return e==(this.dir==i)}static find(e,i,r,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=i&&a.to>=i){if(a.level==r)return o;(s<0||(n!=0?n<0?a.from<i:a.to>i:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}};function qb(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],n=e[i];if(r.from!=n.from||r.to!=n.to||r.direction!=n.direction||!qb(r.inner,n.inner))return!1}return!0}var ke=[];function ZP(t,e,i,r,n){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:i,l=s?256:n;for(let u=o,c=l,h=l;u<a;u++){let f=Bb(t.charCodeAt(u));f==512?f=c:f==8&&h==4&&(f=16),ke[u]=f==4?2:f,f&7&&(h=f),c=f}for(let u=o,c=l,h=l;u<a;u++){let f=ke[u];if(f==128)u<a-1&&c==ke[u+1]&&c&24?f=ke[u]=c:ke[u]=256;else if(f==64){let d=u+1;for(;d<a&&ke[d]==64;)d++;let p=u&&c==8||d<i&&ke[d]==8?h==1?1:8:256;for(let m=u;m<d;m++)ke[m]=p;u=d-1}else f==8&&h==1&&(ke[u]=1);c=f,f&7&&(h=f)}}}function WP(t,e,i,r,n){let s=n==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:i;for(let h=u,f,d,p;h<c;h++)if(d=Pf[f=t.charCodeAt(h)])if(d<0){for(let m=a-3;m>=0;m-=3)if(Ci[m+1]==-d){let g=Ci[m+2],O=g&2?n:g&4?g&1?s:n:0;O&&(ke[h]=ke[Ci[m]]=O),a=m;break}}else{if(Ci.length==189)break;Ci[a++]=h,Ci[a++]=f,Ci[a++]=l}else if((p=ke[h])==2||p==1){let m=p==n;l=m?0:1;for(let g=a-3;g>=0;g-=3){let O=Ci[g+2];if(O&2)break;if(m)Ci[g+2]|=2;else{if(O&4)break;Ci[g+2]|=4}}}}}function jP(t,e,i,r){for(let n=0,s=r;n<=i.length;n++){let o=n?i[n-1].to:t,a=n<i.length?i[n].from:e;for(let l=o;l<a;){let u=ke[l];if(u==256){let c=l+1;for(;;)if(c==a){if(n==i.length)break;c=i[n++].to,a=n<i.length?i[n].from:e}else if(ke[c]==256)c++;else break;let h=s==1,f=(c<e?ke[c]:r)==1,d=h==f?h?1:2:r;for(let p=c,m=n,g=m?i[m-1].to:t;p>l;)p==g&&(p=i[--m].from,g=m?i[m-1].to:t),ke[--p]=d;l=c}else s=u,l++}}}function Cf(t,e,i,r,n,s,o){let a=r%2?2:1;if(r%2==n%2)for(let l=e,u=0;l<i;){let c=!0,h=!1;if(u==s.length||l<s[u].from){let m=ke[l];m!=a&&(c=!1,h=m==16)}let f=!c&&a==1?[]:null,d=c?r:r+1,p=l;e:for(;;)if(u<s.length&&p==s[u].from){if(h)break e;let m=s[u];if(!c)for(let g=m.to,O=u+1;;){if(g==i)break e;if(O<s.length&&s[O].from==g)g=s[O++].to;else{if(ke[g]==a)break e;break}}if(u++,f)f.push(m);else{m.from>l&&o.push(new Ei(l,m.from,d));let g=m.direction==hn!=!(d%2);Tf(t,g?r+1:r,n,m.inner,m.from,m.to,o),l=m.to}p=m.to}else{if(p==i||(c?ke[p]!=a:ke[p]==a))break;p++}f?Cf(t,l,p,r+1,n,f,o):l<p&&o.push(new Ei(l,p,d)),l=p}else for(let l=i,u=s.length;l>e;){let c=!0,h=!1;if(!u||l>s[u-1].to){let m=ke[l-1];m!=a&&(c=!1,h=m==16)}let f=!c&&a==1?[]:null,d=c?r:r+1,p=l;e:for(;;)if(u&&p==s[u-1].to){if(h)break e;let m=s[--u];if(!c)for(let g=m.from,O=u;;){if(g==e)break e;if(O&&s[O-1].to==g)g=s[--O].from;else{if(ke[g-1]==a)break e;break}}if(f)f.push(m);else{m.to<l&&o.push(new Ei(m.to,l,d));let g=m.direction==hn!=!(d%2);Tf(t,g?r+1:r,n,m.inner,m.from,m.to,o),l=m.from}p=m.from}else{if(p==e||(c?ke[p-1]!=a:ke[p-1]==a))break;p--}f?Cf(t,p,l,r+1,n,f,o):p<l&&o.push(new Ei(p,l,d)),l=p}}function Tf(t,e,i,r,n,s,o){let a=e%2?2:1;ZP(t,n,s,r,a),WP(t,n,s,r,a),jP(n,s,r,a),Cf(t,n,s,e,i,r,o)}function XP(t,e,i){if(!t)return[new Ei(0,0,e==ld?1:0)];if(e==hn&&!i.length&&!qP.test(t))return Zb(t.length);if(i.length)for(;t.length>ke.length;)ke[ke.length]=256;let r=[],n=e==hn?0:1;return Tf(t,n,n,i,0,t.length,r),r}function Zb(t){return[new Ei(0,t,0)]}var Wb="";function YP(t,e,i,r,n){var s;let o=r.head-t.from,a=Ei.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(n,i);if(o==u){let f=a+=n?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!n,i),u=l.side(n,i)}let c=We(t.text,o,l.forward(n,i));(c<l.from||c>l.to)&&(c=u),Wb=t.text.slice(Math.min(o,c),Math.max(o,c));let h=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return h&&c==u&&h.level+(n?0:1)<l.level?D.cursor(h.side(!n,i)+t.from,h.forward(n,i)?1:-1,h.level):D.cursor(c+t.from,l.forward(n,i)?-1:1,l.level)}function FP(t,e,i){for(let r=e;r<i;r++){let n=Bb(t.charCodeAt(r));if(n==1)return hn;if(n==2||n==4)return ld}return hn}var jb=W.define(),Xb=W.define(),Yb=W.define(),Fb=W.define(),Ef=W.define(),Ub=W.define(),Hb=W.define(),ud=W.define(),cd=W.define(),Gb=W.define({combine:t=>t.some(e=>e)}),Kb=W.define({combine:t=>t.some(e=>e)}),Jb=W.define(),Ro=class t{constructor(e,i="nearest",r="nearest",n=5,s=5,o=!1){this.range=e,this.y=i,this.x=r,this.yMargin=n,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new t(D.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},Al=ee.define({map:(t,e)=>t.map(e)}),e0=ee.define();function rt(t,e,i){let r=t.facet(Fb);r.length?r[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}var _r=W.define({combine:t=>t.length?t[0]:!0}),UP=0,Co=W.define(),Ie=class t{constructor(e,i,r,n,s){this.id=e,this.create=i,this.domEventHandlers=r,this.domEventObservers=n,this.extension=s(this)}static define(e,i){let{eventHandlers:r,eventObservers:n,provide:s,decorations:o}=i||{};return new t(UP++,e,r,n,a=>{let l=[Co.of(a)];return o&&l.push(Xo.of(u=>{let c=u.plugin(a);return c?o(c):U.none})),s&&l.push(s(a)),l})}static fromClass(e,i){return t.define(r=>new e(r),i)}},Io=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(r){if(rt(i.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(i){rt(e.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var i;if(!((i=this.value)===null||i===void 0)&&i.destroy)try{this.value.destroy()}catch(r){rt(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},t0=W.define(),hd=W.define(),Xo=W.define(),i0=W.define(),fd=W.define(),r0=W.define();function XO(t,e){let i=t.state.facet(r0);if(!i.length)return i;let r=i.map(s=>s instanceof Function?s(t):s),n=[];return Oe.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,h=n;for(let f=a.length-1;f>=0;f--,l--){let d=a[f].spec.bidiIsolate,p;if(d==null&&(d=FP(e.text,u,c)),l>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==d)p.to=c,h=p.inner;else{let m={from:u,to:c,direction:d,inner:[]};h.push(m),h=m.inner}}}}),n}var n0=W.define();function s0(t){let e=0,i=0,r=0,n=0;for(let s of t.state.facet(n0)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(i=Math.max(i,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:i,top:r,bottom:n}}var To=W.define(),Qi=class t{constructor(e,i,r,n){this.fromA=e,this.toA=i,this.fromB=r,this.toB=n}join(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let i=e.length,r=this;for(;i>0;i--){let n=e[i-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),e.splice(i-1,1)}}return e.splice(i,0,r),e}static extendWithRanges(e,i){if(i.length==0)return e;let r=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],u=o-a,c=l?l.fromB:1e9;for(;s<i.length&&i[s]<c;){let h=i[s],f=i[s+1],d=Math.max(a,h),p=Math.min(c,f);if(d<=p&&new t(d+u,p+u,d,p).addToSet(r),f>c)break;s+=2}if(!l)return r;new t(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}},Fl=class t{constructor(e,i,r){this.view=e,this.state=i,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=mt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Qi(s,o,a,l))),this.changedRanges=n}static create(e,i,r){return new t(e,i,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},Ul=class extends Ce{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=U.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new it],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Qi(0,0,0,e.state.doc.length)],0,null)}update(e){var i;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((i=this.domChanged)===null||i===void 0)&&i.newSel?n=this.domChanged.newSel.head:!iC(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?GP(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Qi(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(X.ie||X.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=eC(o,a,e.changes);return r=Qi.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,i,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,i,r);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=X.chrome||X.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ln&&o.widget instanceof jo&&s.push(o.dom);n.updateGaps(s)}updateChildren(e,i,r){let n=r?r.range.addToSet(e.slice()):e,s=this.childCursor(i);for(let o=n.length-1;;o--){let a=o>=0?n[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:h}=a,f,d,p,m;if(r&&r.range.fromB<h&&r.range.toB>c){let k=$o.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=$o.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);d=k.breakAtStart,p=k.openStart,m=C.openEnd;let A=this.compositionView(r);C.breakAtStart?A.breakAfter=1:C.content.length&&A.merge(A.length,A.length,C.content[0],!1,C.openStart,0)&&(A.breakAfter=C.content[0].breakAfter,C.content.shift()),k.content.length&&A.merge(0,0,k.content[k.content.length-1],!0,0,k.openEnd)&&k.content.pop(),f=k.content.concat(A).concat(C.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:m}=$o.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:g,off:O}=s.findPos(u,1),{i:y,off:v}=s.findPos(l,-1);Mb(this,y,v,g,O,f,d,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let i of e.transactions)for(let r of i.effects)r.is(e0)&&(this.editContextFormatting=r.value)}compositionView(e){let i=new Ai(e.text.nodeValue);i.flags|=8;for(let{deco:n}of e.marks)i=new Pr(n,[i],i.length);let r=new it;return r.append(i,0),r}fixCompositionDOM(e){let i=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Ce.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),n=this.children[r.i];i(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)r=n.childPos(r.off,1),n=n.children[r.i],i(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,i=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,n=r==this.dom,s=!n&&Nl(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(n||i||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(X.gecko&&a.empty&&!this.hasComposition&&HP(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new gt(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!Mo(l.node,l.offset,c.anchorNode,c.anchorOffset)||!Mo(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{X.android&&X.chrome&&this.dom.contains(c.focusNode)&&tC(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=No(this.view.root);if(h)if(a.empty){if(X.gecko){let f=KP(l.node,l.offset);if(f&&f!=3){let d=(f==1?Qb:Ab)(l.node,l.offset);d&&(l=new gt(d.node,d.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new gt(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new gt(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,i){return this.hasComposition&&i.empty&&Mo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,i=e.state.selection.main,r=No(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!r||!i.empty||!i.assoc||!r.modify)return;let o=it.find(this,i.head);if(!o)return;let a=o.posAtStart;if(i.head==a||i.head==a+o.length)return;let l=this.coordsAt(i.head,-1),u=this.coordsAt(i.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(i.head+i.assoc);r.collapse(c.node,c.offset),r.modify("move",i.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=i.from&&r.collapse(n,s)}moveToLine(e){let i=this.dom,r;if(e.node!=i)return e;for(let n=e.offset;!r&&n<i.childNodes.length;n++){let s=Ce.get(i.childNodes[n]);s instanceof it&&(r=s.domAtPos(0))}for(let n=e.offset-1;!r&&n>=0;n--){let s=Ce.get(i.childNodes[n]);s instanceof it&&(r=s.domAtPos(s.length))}return r?new gt(r.node,r.offset,!0):e}nearest(e){for(let i=e;i;){let r=Ce.get(i);if(r&&r.rootView==this)return r;i=i.parentNode}return null}posFromDOM(e,i){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,i)+r.posAtStart}domAtPos(e){let{i,off:r}=this.childCursor().findPos(e,-1);for(;i<this.children.length-1;){let n=this.children[i];if(r<n.length||n instanceof it)break;i++,r=0}return this.children[i].domAtPos(r)}coordsAt(e,i){let r=null,n=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof it&&!(r instanceof it&&i>=0)))r=a,n=u;else if(r&&u==e&&l==e&&a instanceof ln&&Math.abs(i)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-n,i):null}coordsForChar(e){let{i,off:r}=this.childPos(e,1),n=this.children[i];if(!(n instanceof it))return null;for(;n.children.length;){let{i:a,off:l}=n.childPos(r,1);for(;;a++){if(a==n.children.length)return null;if((n=n.children[a]).length)break}r=l}if(!(n instanceof Ai))return null;let s=We(n.text,r);if(s==r)return null;let o=cn(n.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let i=[],{from:r,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==_e.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>n)break;if(u>=r){let d=h.dom.getBoundingClientRect();if(i.push(d.height),o){let p=h.dom.lastChild,m=p?zo(p):[];if(m.length){let g=m[m.length-1],O=l?g.right-d.left:d.right-g.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return i}textDirectionAt(e){let{i}=this.childPos(e,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?_e.RTL:_e.LTR}measureTextSize(){for(let s of this.children)if(s instanceof it){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),i,r,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=zo(e.firstChild)[0];i=e.getBoundingClientRect().height,r=s?s.width/27:7,n=s?s.height:i,e.remove()}),{lineHeight:i,charWidth:r,textHeight:n}}childCursor(e=this.length){let i=this.children.length;return i&&(e-=this.children[--i].length),new Xl(this.children,e,i)}computeBlockGapDeco(){let e=[],i=this.view.viewState;for(let r=0,n=0;;n++){let s=n==i.viewports.length?null:i.viewports[n],o=s?s.from-1:this.length;if(o>r){let a=(i.lineBlockAt(o).bottom-i.lineBlockAt(r).top)/this.view.scaleY;e.push(U.replace({widget:new jo(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return U.set(e)}updateDeco(){let e=1,i=this.view.state.facet(Xo).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,n=this.view.state.facet(i0).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=r,i.push(Oe.join(n))),this.decorations=[this.editContextFormatting,...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(Jb))try{if(u(this.view,e.range,e))return!0}catch(c){rt(this.view.state,c,"scroll handler")}let{range:i}=e,r=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1),n;if(!r)return;!i.empty&&(n=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(r={left:Math.min(r.left,n.left),top:Math.min(r.top,n.top),right:Math.max(r.right,n.right),bottom:Math.max(r.bottom,n.bottom)});let s=s0(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;AP(this.view.scrollDOM,o,i.head<i.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==_e.LTR)}};function HP(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function o0(t,e){let i=t.observer.selectionRange;if(!i.focusNode)return null;let r=Qb(i.focusNode,i.focusOffset),n=Ab(i.focusNode,i.focusOffset),s=r||n;if(n&&r&&n.node!=r.node){let a=Ce.get(n.node);if(!a||a instanceof Ai&&a.text!=n.node.nodeValue)s=n;else if(t.docView.lastCompositionAfterCursor){let l=Ce.get(r.node);!l||l instanceof Ai&&l.text!=r.node.nodeValue||(s=n)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function GP(t,e,i){let r=o0(t,i);if(!r)return null;let{node:n,from:s,to:o}=r,a=n.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new Qi(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let h=n.parentNode;;h=h.parentNode){let f=Ce.get(h);if(f instanceof Pr)c.push({node:h,deco:f.mark});else{if(f instanceof it||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:n,marks:c,line:h};if(h!=t.contentDOM)c.push({node:h,deco:new Zo({inclusive:!0,attributes:VP(h),tagName:h.tagName.toLowerCase()})});else return null}}}function KP(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var JP=class{constructor(){this.changes=[]}compareRange(e,i){kf(e,i,this.changes)}comparePoint(e,i){kf(e,i,this.changes)}};function eC(t,e,i){let r=new JP;return Oe.compare(t,e,i,r),r.changes}function tC(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(i.nodeType==1&&i.contentEditable=="false")return!0;return!1}function iC(t,e){let i=!1;return e&&t.iterChangedRanges((r,n)=>{r<e.to&&n>e.from&&(i=!0)}),i}function rC(t,e,i=1){let r=t.charCategorizer(e),n=t.doc.lineAt(e),s=e-n.from;if(n.length==0)return D.cursor(e);s==0?i=1:s==n.length&&(i=-1);let o=s,a=s;i<0?o=We(n.text,s,!1):a=We(n.text,s);let l=r(n.text.slice(o,a));for(;o>0;){let u=We(n.text,o,!1);if(r(n.text.slice(u,o))!=l)break;o=u}for(;a<n.length;){let u=We(n.text,a);if(r(n.text.slice(a,u))!=l)break;a=u}return D.range(o+n.from,a+n.from)}function nC(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function sC(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function ff(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function YO(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function FO(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Qf(t,e,i){let r,n,s,o,a=!1,l,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let m=zo(p);for(let g=0;g<m.length;g++){let O=m[g];n&&ff(n,O)&&(O=YO(FO(O,n.bottom),n.top));let y=nC(e,O),v=sC(i,O);if(y==0&&v==0)return p.nodeType==3?UO(p,e,i):Qf(p,e,i);if(!r||o>v||o==v&&s>y){r=p,n=O,s=y,o=v;let k=v?i<O.top?-1:1:y?e<O.left?-1:1:0;a=!k||(k>0?g<m.length-1:g>0)}y==0?i>O.bottom&&(!c||c.bottom<O.bottom)?(l=p,c=O):i<O.top&&(!h||h.top>O.top)&&(u=p,h=O):c&&ff(c,O)?c=FO(c,O.bottom):h&&ff(h,O)&&(h=YO(h,O.top))}}if(c&&c.bottom>=i?(r=l,n=c):h&&h.top<=i&&(r=u,n=h),!r)return{node:t,offset:0};let f=Math.max(n.left,Math.min(n.right,e));if(r.nodeType==3)return UO(r,f,i);if(a&&r.contentEditable!="false")return Qf(r,f,i);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(n.left+n.right)/2?1:0);return{node:t,offset:d}}function UO(t,e,i){let r=t.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=cn(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>i?c.top-i:i-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let f=e>=(c.left+c.right)/2,d=f;if((X.chrome||X.gecko)&&cn(t,a).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};n=a+(d?1:0),s=h}}}return{node:t,offset:n>-1?n:o>0?t.nodeValue.length:0}}function a0(t,e,i,r=-1){var n,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let k=t.viewState.heightOracle.textHeight/2,C=!1;l=t.elementAtHeight(f),l.type!=Ot.Text;)for(;f=r>0?l.bottom+k:l.top-k,!(f>=0&&f<=u);){if(C)return i?null:0;C=!0,r=-r}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:i?null:HO(t,o,l,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:HO(t,o,l,c,h);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,g=m.elementFromPoint(c,h);g&&!t.contentDOM.contains(g)&&(g=null),g||(c=Math.max(o.left+1,Math.min(o.right-1,c)),g=m.elementFromPoint(c,h),g&&!t.contentDOM.contains(g)&&(g=null));let O,y=-1;if(g&&((n=t.docView.nearest(g))===null||n===void 0?void 0:n.isEditable)!=!1){if(p.caretPositionFromPoint){let k=p.caretPositionFromPoint(c,h);k&&({offsetNode:O,offset:y}=k)}else if(p.caretRangeFromPoint){let k=p.caretRangeFromPoint(c,h);k&&({startContainer:O,startOffset:y}=k,(!t.contentDOM.contains(O)||X.safari&&oC(O,y,c)||X.chrome&&aC(O,y,c))&&(O=void 0))}}if(!O||!t.docView.dom.contains(O)){let k=it.find(t.docView,d);if(!k)return f>l.top+l.height/2?l.to:l.from;({node:O,offset:y}=Qf(k.dom,c,h))}let v=t.docView.nearest(O);if(!v)return null;if(v.isWidget&&((s=v.dom)===null||s===void 0?void 0:s.nodeType)==1){let k=v.dom.getBoundingClientRect();return e.y<k.top||e.y<=k.bottom&&e.x<=(k.left+k.right)/2?v.posAtStart:v.posAtEnd}else return v.localPosFromDOM(O,y)+v.posAtStart}function HO(t,e,i,r,n){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((n-i.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(i.from,i.to);return i.from+Tl(o,s,t.state.tabSize)}function oC(t,e,i){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let n=t.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return cn(t,r-1,r).getBoundingClientRect().left>i}function aC(t,e,i){if(e!=0)return!1;for(let n=t;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let r=t.nodeType==1?t.getBoundingClientRect():cn(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return i-r.left>5}function Af(t,e){let i=t.lineBlockAt(e);if(Array.isArray(i.type)){for(let r of i.type)if(r.to>e||r.to==e&&(r.to==i.to||r.type==Ot.Text))return r}return i}function lC(t,e,i,r){let n=Af(t,e.head),s=!r||n.type!=Ot.Text||!(t.lineWrapping||n.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(n.from),l=t.posAtCoords({x:i==(a==_e.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return D.cursor(l,i?-1:1)}return D.cursor(i?n.to:n.from,i?-1:1)}function GO(t,e,i,r){let n=t.state.doc.lineAt(e.head),s=t.bidiSpans(n),o=t.textDirectionAt(n.from);for(let a=e,l=null;;){let u=YP(n,s,o,a,i),c=Wb;if(!u){if(n.number==(i?t.state.doc.lines:1))return a;c=`
`,n=t.state.doc.line(n.number+(i?1:-1)),s=t.bidiSpans(n),u=t.visualLineSide(n,!i)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function uC(t,e,i){let r=t.state.charCategorizer(e),n=r(i);return s=>{let o=r(s);return n==we.Space&&(n=o),n==o}}function cC(t,e,i,r){let n=e.head,s=i?1:-1;if(n==(i?t.state.doc.length:0))return D.cursor(n,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(n,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(n-d.from))),a=(s<0?d.top:d.bottom)+c}let h=l.left+o,f=r!=null?r:t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,m=a0(t,{x:h,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?m<n:m>n)){let g=t.docView.coordsForChar(m),O=!g||p<g.top?-1:1;return D.cursor(m,O,void 0,o)}}}function zl(t,e,i){for(;;){let r=0;for(let n of t)n.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||i||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function df(t,e,i){let r=zl(t.state.facet(fd).map(n=>n(t)),i.from,e.head>i.from?-1:1);return r==i.from?i:D.cursor(r,r<i.from?1:-1)}var Eo="\uFFFF",Mf=class{constructor(e,i){this.points=e,this.text="",this.lineSeparator=i.facet(Se.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Eo}readRange(e,i){if(!e)return this;let r=e.parentNode;for(let n=e;;){this.findPointBefore(r,n);let s=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==i)break;let a=Ce.get(n),l=Ce.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:jl(n))||jl(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=o}return this.findPointBefore(r,i),this}readTextNode(e){let i=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,i.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=i.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=n.exec(i))&&(s=a.index,o=a[0].length),this.append(i.slice(r,s<0?i.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let i=Ce.get(e),r=i&&i.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let n=r.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,i){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==i&&(r.pos=this.text.length)}findPointInside(e,i){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(hC(e,r.node,r.offset)?i:0))}};function hC(t,e,i){for(;;){if(!e||i<Ui(e))return!1;if(e==t)return!0;i=un(e)+1,e=e.parentNode}}var Hl=class{constructor(e,i){this.node=e,this.offset=i,this.pos=-1}},$f=class{constructor(e,i,r,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=i>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=e.docView.domBoundsAround(i,r,0))){let a=s||o?[]:pC(e),l=new Mf(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=mC(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!bf(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!bf(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((X.ios||X.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),f=Math.max(l,u),d=c.from-h,p=c.to-f;(d==0||d==1||h==0)&&(p==0||p==-1||f==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=D.single(u,l)}}};function l0(t,e){let i,{newSel:r}=e,n=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=n.from,u=null;(s===8||X.android&&e.text.length<a-o)&&(l=n.to,u="end");let c=dC(t.state.doc.sliceString(o,a,Eo),e.text,l-o,u);c&&(X.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Eo+Eo&&c.toB--,i={from:o+c.from,to:o+c.toA,insert:ue.of(e.text.slice(c.from,c.toB).split(Eo))})}else r&&(!t.hasFocus&&t.state.facet(_r)||r.main.eq(n))&&(r=null);if(!i&&!r)return!1;if(!i&&e.typeOver&&!n.empty&&r&&r.main.empty?i={from:n.from,to:n.to,insert:t.state.doc.slice(n.from,n.to)}:i&&i.from>=n.from&&i.to<=n.to&&(i.from!=n.from||i.to!=n.to)&&n.to-n.from-(i.to-i.from)<=4?i={from:n.from,to:n.to,insert:t.state.doc.slice(n.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,n.to))}:(X.mac||X.android)&&i&&i.from==i.to&&i.from==n.head-1&&/^\. ?$/.test(i.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&i.insert.length==2&&(r=D.single(r.main.anchor-1,r.main.head-1)),i={from:n.from,to:n.to,insert:ue.of([" "])}):X.chrome&&i&&i.from==i.to&&i.from==n.head&&i.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=D.single(r.main.anchor-1,r.main.head-1)),i={from:n.from,to:n.to,insert:ue.of([" "])}),i)return dd(t,i,r,s);if(r&&!r.main.eq(n)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function dd(t,e,i,r=-1){if(X.ios&&t.inputState.flushIOSKey(e))return!0;let n=t.state.selection.main;if(X.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&t.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&cs(t.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&cs(t.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&cs(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=fC(t,e,i));return t.state.facet(Ub).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function fC(t,e,i){let r,n=t.state,s=n.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?n.sliceDoc(s.from,e.from):"",l=s.to>e.to?n.sliceDoc(e.to,s.to):"";r=n.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=n.changes(e),l=i&&i.main.to<=a.newLength?i.main:void 0;if(n.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),c,h=i&&o0(t,i.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=t.state.doc.lineAt(s.head);let f=s.to-e.to,d=s.to-s.from;r=n.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let m=p.to-f,g=m-u.length;if(p.to-p.from!=d||t.state.sliceDoc(g,m)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let O=n.changes({from:g,to:m,insert:e.insert}),y=p.to-s.to;return{changes:O,range:l?D.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(O)}})}else r={changes:a,selection:l&&n.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),n.update(r,{userEvent:o,scrollIntoView:!0})}function dC(t,e,i,r){let n=Math.min(t.length,e.length),s=0;for(;s<n&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&t.length<e.length){let l=i<=s&&i>=o?s-i:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function pC(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:r,focusNode:n,focusOffset:s}=t.observer.selectionRange;return i&&(e.push(new Hl(i,r)),(n!=i||s!=r)&&e.push(new Hl(n,s))),e}function mC(t,e){if(t.length==0)return null;let i=t[0].pos,r=t.length==2?t[1].pos:i;return i>-1&&r>-1?D.single(i+e,r+e):null}var Rf=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,X.safari&&e.contentDOM.addEventListener("input",()=>null),X.gecko&&QC(e.contentDOM.ownerDocument)}handleEvent(e){!wC(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,i){let r=this.handlers[e];if(r){for(let n of r.observers)n(this.view,i);for(let n of r.handlers){if(i.defaultPrevented)break;if(n(this.view,i)){i.preventDefault();break}}}}ensureHandlers(e){let i=gC(e),r=this.handlers,n=this.view.contentDOM;for(let s in i)if(s!="scroll"){let o=!i[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(n.removeEventListener(s,this.handleEvent),a=null),a||n.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!i[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=i}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&c0.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),X.android&&X.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return X.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((i=u0.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||OC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=i||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let i=this.pendingIOSKey;return!i||i.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,cs(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:X.safari&&!X.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function KO(t,e){return(i,r)=>{try{return e.call(t,r,i)}catch(n){rt(i.state,n)}}}function gC(t){let e=Object.create(null);function i(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let n=r.spec;if(n&&n.domEventHandlers)for(let s in n.domEventHandlers){let o=n.domEventHandlers[s];o&&i(s).handlers.push(KO(r.value,o))}if(n&&n.domEventObservers)for(let s in n.domEventObservers){let o=n.domEventObservers[s];o&&i(s).observers.push(KO(r.value,o))}}for(let r in fi)i(r).handlers.push(fi[r]);for(let r in Kt)i(r).observers.push(Kt[r]);return e}var u0=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],OC="dthko",c0=[16,17,18,20,91,92,224,225],Ml=6;function $l(t){return Math.max(0,t)*.7+8}function bC(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}var If=class{constructor(e,i,r,n){this.view=e,this.startEvent=i,this.style=r,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParents=MP(e.contentDOM),this.atoms=e.state.facet(fd).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=e.state.facet(Se.allowMultipleSelections)&&yC(e,i),this.dragging=xC(e,i)&&d0(i)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&bC(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,n=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=s0(this.view);e.clientX-l.left<=n+Ml?i=-$l(n-e.clientX):e.clientX+l.right>=o-Ml&&(i=$l(e.clientX-o)),e.clientY-l.top<=s+Ml?r=-$l(s-e.clientY):e.clientY+l.bottom>=a-Ml&&(r=$l(e.clientY-a)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,i){this.scrollSpeed={x:e,y:i},e||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:i}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),i&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i,i=0),(e||i)&&this.view.win.scrollBy(e,i),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let i=null;for(let r=0;r<e.ranges.length;r++){let n=e.ranges[r],s=null;if(n.empty){let o=zl(this.atoms,n.from,0);o!=n.from&&(s=D.cursor(o,-1))}else{let o=zl(this.atoms,n.from,-1),a=zl(this.atoms,n.to,1);(o!=n.from||a!=n.to)&&(s=D.range(n.from==n.anchor?o:a,n.from==n.head?o:a))}s&&(i||(i=e.ranges.slice()),i[r]=s)}return i?D.create(i,e.mainIndex):e}select(e){let{view:i}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(i.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(i=>i.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function yC(t,e){let i=t.state.facet(jb);return i.length?i[0](e):X.mac?e.metaKey:e.ctrlKey}function vC(t,e){let i=t.state.facet(Xb);return i.length?i[0](e):X.mac?!e.altKey:!e.ctrlKey}function xC(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let r=No(t.root);if(!r||r.rangeCount==0)return!0;let n=r.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function wC(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i=e.target,r;i!=t.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(r=Ce.get(i))&&r.ignoreEvent(e))return!1;return!0}var fi=Object.create(null),Kt=Object.create(null),h0=X.ie&&X.ie_version<15||X.ios&&X.webkit_version<604;function _C(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),f0(t,i.value)},50)}function lu(t,e,i){for(let r of t.facet(e))i=r(i,t);return i}function f0(t,e){e=lu(t.state,ud,e);let{state:i}=t,r,n=1,s=i.toText(e),o=s.lines==i.selection.ranges.length;if(Df!=null&&i.selection.ranges.every(l=>l.empty)&&Df==s.toString()){let l=-1;r=i.changeByRange(u=>{let c=i.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=i.toText((o?s.line(n++).text:e)+i.lineBreak);return{changes:{from:c.from,insert:h},range:D.cursor(u.from+h.length)}})}else o?r=i.changeByRange(l=>{let u=s.line(n++);return{changes:{from:l.from,to:l.to,insert:u.text},range:D.cursor(l.from+u.length)}}):r=i.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Kt.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};fi.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Kt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Kt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};fi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let r of t.state.facet(Yb))if(i=r(t,e),i)break;if(!i&&e.button==0&&(i=PC(t,e)),i){let r=!t.hasFocus;t.inputState.startMouseSelection(new If(t,e,i,r)),r&&t.observer.ignore(()=>{Cb(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let n=t.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}return!1};function JO(t,e,i,r){if(r==1)return D.cursor(e,i);if(r==2)return rC(t.state,e,i);{let n=it.find(t.docView,e),s=t.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,D.range(o,a)}}var eb=(t,e,i)=>e>=i.top&&e<=i.bottom&&t>=i.left&&t<=i.right;function SC(t,e,i,r){let n=it.find(t.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&eb(i,r,o))return-1;let a=n.coordsAt(s,1);return a&&eb(i,r,a)?1:o&&o.bottom>=r?-1:1}function tb(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:SC(t,i,e.clientX,e.clientY)}}var kC=X.ie&&X.ie_version<=11,ib=null,rb=0,nb=0;function d0(t){if(!kC)return t.detail;let e=ib,i=nb;return ib=t,nb=Date.now(),rb=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(rb+1)%3:1}function PC(t,e){let i=tb(t,e),r=d0(e),n=t.state.selection;return{update(s){s.docChanged&&(i.pos=s.changes.mapPos(i.pos),n=n.map(s.changes))},get(s,o,a){let l=tb(t,s),u,c=JO(t,l.pos,l.bias,r);if(i.pos!=l.pos&&!o){let h=JO(t,i.pos,i.bias,r),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?D.range(f,d):D.range(d,f)}return o?n.replaceRange(n.main.extend(c.from,c.to)):a&&r==1&&n.ranges.length>1&&(u=CC(n,l.pos))?u:a?n.addRange(c):D.create([c])}}}function CC(t,e){for(let i=0;i<t.ranges.length;i++){let{from:r,to:n}=t.ranges[i];if(r<=e&&n>=e)return D.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}fi.dragstart=(t,e)=>{let{selection:{main:i}}=t.state;if(e.target.draggable){let n=t.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,o=s+n.length;(s>=i.to||o<=i.from)&&(i=D.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=i,e.dataTransfer&&(e.dataTransfer.setData("Text",lu(t.state,cd,t.state.sliceDoc(i.from,i.to))),e.dataTransfer.effectAllowed="copyMove"),!1};fi.dragend=t=>(t.inputState.draggedContent=null,!1);function sb(t,e,i,r){if(i=lu(t.state,ud,i),!i)return;let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&vC(t,e)?{from:s.from,to:s.to}:null,a={from:n,insert:i},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}fi.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=e.dataTransfer.files;if(i&&i.length){let r=Array(i.length),n=0,s=()=>{++n==i.length&&sb(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<i.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(i[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return sb(t,e,r,!0),!0}return!1};fi.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=h0?null:e.clipboardData;return i?(f0(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(_C(t),!1)};function TC(t,e){let i=t.dom.parentNode;if(!i)return;let r=i.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function EC(t){let e=[],i=[],r=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),i.push(n));if(!e.length){let n=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>n&&(e.push(o.text),i.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),n=o.number}r=!0}return{text:lu(t,cd,e.join(t.lineBreak)),ranges:i,linewise:r}}var Df=null;fi.copy=fi.cut=(t,e)=>{let{text:i,ranges:r,linewise:n}=EC(t.state);if(!i&&!n)return!1;Df=n?i:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=h0?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",i),!0):(TC(t,i),!1)};var p0=kt.define();function m0(t,e){let i=[];for(let r of t.facet(Hb)){let n=r(t,e);n&&i.push(n)}return i?t.update({effects:i,annotations:p0.of(!0)}):null}function g0(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=m0(t.state,e);i?t.dispatch(i):t.update([])}},10)}Kt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),g0(t)};Kt.blur=t=>{t.observer.clearSelectionRange(),g0(t)};Kt.compositionstart=Kt.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Kt.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,X.chrome&&X.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Kt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};fi.beforeinput=(t,e)=>{var i,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(i=e.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return dd(t,{from:l,to:u,insert:t.state.toText(s)},null),!0}}let n;if(X.chrome&&X.android&&(n=u0.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return X.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),X.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Kt.compositionend(t,e),20),!1};var ob=new Set;function QC(t){ob.has(t)||(ob.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}var ab=["pre-wrap","normal","pre-line","break-spaces"],hs=!1;function lb(){hs=!1}var Lf=class{constructor(e){this.lineWrapping=e,this.doc=ue.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,i){let r=this.doc.lineAt(i).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((i-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ab.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let i=!1;for(let r=0;r<e.length;r++){let n=e[r];n<0?r++:this.heightSamples[Math.floor(n*10)]||(i=!0,this.heightSamples[Math.floor(n*10)]=!0)}return i}refresh(e,i,r,n,s,o){let a=ab.indexOf(e)>-1,l=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=i,this.charWidth=r,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},Vf=class{constructor(e,i){this.from=e,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}},Ti=class t{constructor(e,i,r,n,s){this.from=e,this.length=i,this.top=r,this.height=n,this._content=s}get type(){return typeof this._content=="number"?Ot.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Cr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,i)}},Ee=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ee||(Ee={})),Bl=.001,Lt=class t{constructor(e,i,r=2){this.length=e,this.height=i,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Bl&&(hs=!0),this.height=e)}replace(e,i,r){return t.of(r)}decomposeLeft(e,i){i.push(this)}decomposeRight(e,i){i.push(this)}applyChanges(e,i,r,n){let s=this,o=r.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=n[a],f=s.lineAt(l,Ee.ByPosNoHeight,r.setDoc(i),0,0),d=f.to>=u?f:s.lineAt(u,Ee.ByPosNoHeight,r,0,0);for(h+=d.to-u,u=d.to;a>0&&f.from<=n[a-1].toA;)l=n[a-1].fromA,c=n[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ee.ByPosNoHeight,r,0,0));c+=f.from-l,l=f.from;let p=zf.build(r.setDoc(o),e,c,h);s=Gl(s,s.replace(l,u,p))}return s.updateHeight(r,0)}static empty(){return new Gt(0,0)}static of(e){if(e.length==1)return e[0];let i=0,r=e.length,n=0,s=0;for(;;)if(i==r)if(n>s*2){let a=e[i-1];a.break?e.splice(--i,1,a.left,null,a.right):e.splice(--i,1,a.left,a.right),r+=1+a.break,n-=a.size}else if(s>n*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[i++];a&&(n+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[i-1]==null?(o=1,i--):e[i]==null&&(o=1,r++),new Nf(t.of(e.slice(0,i)),o,t.of(e.slice(r)))}};function Gl(t,e){return t==e?t:(t.constructor!=e.constructor&&(hs=!0),e)}Lt.prototype.size=1;var Kl=class extends Lt{constructor(e,i,r){super(e,i),this.deco=r}blockAt(e,i,r,n){return new Ti(n,this.length,r,this.height,this.deco||0)}lineAt(e,i,r,n,s){return this.blockAt(0,r,n,s)}forEachLine(e,i,r,n,s,o){e<=s+this.length&&i>=s&&o(this.blockAt(0,r,n,s))}updateHeight(e,i=0,r=!1,n){return n&&n.from<=i&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Gt=class t extends Kl{constructor(e,i){super(e,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,i,r,n){return new Ti(n,this.length,r,this.height,this.breaks)}replace(e,i,r){let n=r[0];return r.length==1&&(n instanceof t||n instanceof kr&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof kr?n=new t(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Lt.of(r)}updateHeight(e,i=0,r=!1,n){return n&&n.from<=i&&n.more?this.setHeight(n.heights[n.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},kr=class t extends Lt{constructor(e){super(e,0)}heightMetrics(e,i){let r=e.doc.lineAt(i).number,n=e.doc.lineAt(i+this.length).number,s=n-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:n,perLine:o,perChar:a}}blockAt(e,i,r,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(i,n);if(i.lineWrapping){let u=n+(e<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=i.doc.lineAt(u),h=a+c.length*l,f=Math.max(r,e-h/2);return new Ti(c.from,c.length,f,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:h}=i.doc.line(s+u);return new Ti(c,h,r+a*u,a,0)}}lineAt(e,i,r,n,s){if(i==Ee.ByHeight)return this.blockAt(e,r,n,s);if(i==Ee.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Ti(d,p-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,h=u.number-o,f=n+a*h+l*(u.from-s-h);return new Ti(u.from,u.length,Math.max(n,Math.min(f,n+this.height-c)),c,0)}forEachLine(e,i,r,n,s,o){e=Math.max(e,s),i=Math.min(i,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,h=n;c<=i;){let f=r.doc.lineAt(c);if(c==e){let p=f.number-a;h+=l*p+u*(e-s-p)}let d=l+u*f.length;o(new Ti(f.from,f.length,h,d,0)),h+=d,c=f.to+1}}replace(e,i,r){let n=this.length-i;if(n>0){let s=r[r.length-1];s instanceof t?r[r.length-1]=new t(s.length+n):r.push(null,new t(n-1))}if(e>0){let s=r[0];s instanceof t?r[0]=new t(e+s.length):r.unshift(new t(e-1),null)}return Lt.of(r)}decomposeLeft(e,i){i.push(new t(e-1),null)}decomposeRight(e,i){i.push(null,new t(this.length-e-1))}updateHeight(e,i=0,r=!1,n){let s=i+this.length;if(n&&n.from<=i+this.length&&n.more){let o=[],a=Math.max(i,n.from),l=-1;for(n.from>i&&o.push(new t(n.from-i-1).updateHeight(e,i));a<=s&&n.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=n.heights[n.index++];l==-1?l=h:Math.abs(h-l)>=Bl&&(l=-2);let f=new Gt(c,h);f.outdated=!1,o.push(f),a+=c+1}a<=s&&o.push(null,new t(s-a).updateHeight(e,a));let u=Lt.of(o);return(l<0||Math.abs(u.height-this.height)>=Bl||Math.abs(l-this.heightMetrics(e,i).perLine)>=Bl)&&(hs=!0),Gl(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(i,i+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},Nf=class extends Lt{constructor(e,i,r){super(e.length+i+r.length,e.height+r.height,i|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,i,r,n){let s=r+this.left.height;return e<s?this.left.blockAt(e,i,r,n):this.right.blockAt(e,i,s,n+this.left.length+this.break)}lineAt(e,i,r,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=i==Ee.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,i,r,n,s):this.right.lineAt(e,i,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=i==Ee.ByPosNoHeight?Ee.ByPosNoHeight:Ee.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,n,s).join(u)}forEachLine(e,i,r,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,i,r,n,s,o),i>=l&&this.right.forEachLine(e,i,r,a,l,o);else{let u=this.lineAt(l,Ee.ByPos,r,n,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,n,s,o),u.to>=e&&u.from<=i&&o(u),i>u.to&&this.right.forEachLine(u.to+1,i,r,a,l,o)}}replace(e,i,r){let n=this.left.length+this.break;if(i<n)return this.balanced(this.left.replace(e,i,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,i-n,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&ub(s,o-1),i<this.length){let a=s.length;this.decomposeRight(i,s),ub(s,a)}return Lt.of(s)}decomposeLeft(e,i){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,i);i.push(this.left),this.break&&(r++,e>=r&&i.push(null)),e>r&&this.right.decomposeLeft(e-r,i)}decomposeRight(e,i){let r=this.left.length,n=r+this.break;if(e>=n)return this.right.decomposeRight(e-n,i);e<r&&this.left.decomposeRight(e,i),this.break&&e<n&&i.push(null),i.push(this.right)}balanced(e,i){return e.size>2*i.size||i.size>2*e.size?Lt.of(this.break?[e,null,i]:[e,i]):(this.left=Gl(this.left,e),this.right=Gl(this.right,i),this.setHeight(e.height+i.height),this.outdated=e.outdated||i.outdated,this.size=e.size+i.size,this.length=e.length+this.break+i.length,this)}updateHeight(e,i=0,r=!1,n){let{left:s,right:o}=this,a=i+s.length+this.break,l=null;return n&&n.from<=i+s.length&&n.more?l=s=s.updateHeight(e,i,r,n):s.updateHeight(e,i,r),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,r,n):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function ub(t,e){let i,r;t[e]==null&&(i=t[e-1])instanceof kr&&(r=t[e+1])instanceof kr&&t.splice(e-1,3,new kr(i.length+1+r.length))}var AC=5,zf=class t{constructor(e,i){this.pos=e,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,i){if(this.lineStart>-1){let r=Math.min(i,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Gt?n.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Gt(r-this.pos,-1)),this.writtenTo=r,i>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(e,i,r){if(e<i||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=i-e;r.block?this.addBlock(new Kl(o,n,r)):(o||s||n>=AC)&&this.addLineDeco(n,s,o)}else i>e&&this.span(e,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=i,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Gt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,i){let r=new kr(i-e);return this.oracle.doc.lineAt(e).to==i&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Gt)return e;let i=new Gt(0,-1);return this.nodes.push(i),i}addBlock(e){this.enterLine();let i=e.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i&&i.endSide>0&&(this.covering=e)}addLineDeco(e,i,r){let n=this.ensureLine();n.length+=r,n.collapsed+=r,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=i,this.writtenTo=this.pos=this.pos+r}finish(e){let i=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(i instanceof Gt)&&!this.isCovered?this.nodes.push(new Gt(0,-1)):(this.writtenTo<this.pos||i==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let n of this.nodes)n instanceof Gt&&n.updateHeight(this.oracle,r),r+=n?n.length:1;return this.nodes}static build(e,i,r,n){let s=new t(r,e);return Oe.spans(i,r,n,s,0),s.finish(r)}};function MC(t,e,i){let r=new Bf;return Oe.compare(t,e,i,r,0),r.changes}var Bf=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,i,r,n){(e<i||r&&r.heightRelevant||n&&n.heightRelevant)&&kf(e,i,this.changes,5)}};function $C(t,e){let i=t.getBoundingClientRect(),r=t.ownerDocument,n=r.defaultView||window,s=Math.max(0,i.left),o=Math.min(n.innerWidth,i.right),a=Math.max(0,i.top),l=Math.min(n.innerHeight,i.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(u==t.parentNode?n.innerHeight:l,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-i.left,right:Math.max(s,o)-i.left,top:a-(i.top+e),bottom:Math.max(a,l)-(i.top+e)}}function RC(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}var Do=class{constructor(e,i,r){this.from=e,this.to=i,this.size=r}static same(e,i){if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],s=i[r];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,i){return U.replace({widget:new qf(this.size*(i?e.scaleY:e.scaleX),i)}).range(this.from,this.to)}},qf=class extends Ct{constructor(e,i){super(),this.size=e,this.vertical=i}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},Jl=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=cb,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_e.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=e.facet(hd).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Lf(i),this.stateDeco=e.facet(Xo).filter(r=>typeof r!="function"),this.heightMap=Lt.empty().applyChanges(this.stateDeco,ue.empty,this.heightOracle.setDoc(e.doc),[new Qi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=U.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:i}=this.state.selection;for(let r=0;r<=1;r++){let n=r?i.head:i.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new as(s,o))}}return this.viewports=e.sort((r,n)=>r.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?cb:new Zf(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Qo(e,this.scaler))})}update(e,i=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Xo).filter(c=>typeof c!="function");let n=e.changedRanges,s=Qi.extendWithRanges(n,MC(r,this.stateDeco,e?e.changes:mt.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);lb(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||hs)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(i&&(i.range.head<l.from||i.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,i));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Kb)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let i=e.contentDOM,r=window.getComputedStyle(i),n=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?_e.RTL:_e.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=i.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:k,scaleY:C}=Pb(i,a);(k>.005&&Math.abs(this.scaleX-k)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=k,this.scaleY=C,u|=8,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=Eb(e.scrollDOM);let p=(this.printing?RC:$C)(i,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(k)&&(o=!0),o||n.lineWrapping&&Math.abs(y-this.contentDOMWidth)>n.charWidth){let{lineHeight:C,charWidth:A,textHeight:P}=e.docView.measureTextSize();o=C>0&&n.refresh(s,C,A,P,y/A,k),o&&(e.docView.minWidth=0,u|=8)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),lb();for(let C of this.viewports){let A=C.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?Lt.empty().applyChanges(this.stateDeco,ue.empty,this.heightOracle,[new Qi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new Vf(C.from,A))}hs&&(u|=2)}let v=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,i){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new as(n.lineAt(o-r*1e3,Ee.ByHeight,s,0,0).from,n.lineAt(a+(1-r)*1e3,Ee.ByHeight,s,0,0).to);if(i){let{head:u}=i.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=n.lineAt(u,Ee.ByPos,s,0,0),f;i.y=="center"?f=(h.top+h.bottom)/2-c/2:i.y=="start"||i.y=="nearest"&&u<l.from?f=h.top:f=h.bottom-c,l=new as(n.lineAt(f-1e3/2,Ee.ByHeight,s,0,0).from,n.lineAt(f+c+1e3/2,Ee.ByHeight,s,0,0).to)}}return l}mapViewport(e,i){let r=i.mapPos(e.from,-1),n=i.mapPos(e.to,1);return new as(this.heightMap.lineAt(r,Ee.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Ee.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:i},r=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Ee.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(i,Ee.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-r,250)))&&(i==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,i){if(!e.length||i.empty)return e;let r=[];for(let n of e)i.touchesRange(n.from,n.to)||r.push(new Do(i.mapPos(n.from),i.mapPos(n.to),n.size));return r}ensureLineGaps(e,i){let r=this.heightOracle.lineWrapping,n=r?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=_e.LTR&&!r)return[];let a=[],l=(c,h,f,d)=>{if(h-c<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let O of m)if(O>c&&O<h){l(c,O-10,f,d),l(O+10,h,f,d);return}let g=DC(e,O=>O.from>=f.from&&O.to<=f.to&&Math.abs(O.from-c)<s&&Math.abs(O.to-h)<s&&!m.some(y=>O.from<y&&O.to>y));if(!g){if(h<f.to&&i&&r&&i.visibleRanges.some(O=>O.from<=h&&O.to>=h)){let O=i.moveToLineBoundary(D.cursor(h),!1,!0).head;O>c&&(h=O)}g=new Do(c,h,this.gapSize(f,c,h,d))}a.push(g)},u=c=>{if(c.length<o||c.type!=Ot.Text)return;let h=IC(c.from,c.to,this.stateDeco);if(h.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(r){let m=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,O;if(f!=null){let y=Il(h,f),v=((this.visibleBottom-this.visibleTop)/2+m)/c.height;g=y-v,O=y+v}else g=(this.visibleTop-c.top-m)/c.height,O=(this.visibleBottom-c.top+m)/c.height;d=Rl(h,g),p=Rl(h,O)}else{let m=h.total*this.heightOracle.charWidth,g=n*this.heightOracle.charWidth,O,y;if(f!=null){let v=Il(h,f),k=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/m;O=v-k,y=v+k}else O=(this.pixelViewport.left-g)/m,y=(this.pixelViewport.right+g)/m;d=Rl(h,O),p=Rl(h,y)}d>c.from&&l(c.from,d,c,h),p<c.to&&l(p,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,i,r,n){let s=Il(n,r)-Il(n,i);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){Do.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=U.set(e.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Oe.spans(e,this.viewport.from,this.viewport.to,{span(n,s){i.push({from:n,to:s})},point(){}},20);let r=i.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=i[s].from||n.to!=i[s].to);return this.visibleRanges=i,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(i=>i.from<=e&&i.to>=e)||Qo(this.heightMap.lineAt(e,Ee.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i=>i.top<=e&&i.bottom>=e)||Qo(this.heightMap.lineAt(this.scaler.fromDOM(e),Ee.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let i=this.lineBlockAtHeight(e+8);return i.from>=this.viewport.from||this.viewportLines[0].top-e>200?i:this.viewportLines[0]}elementAtHeight(e){return Qo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},as=class{constructor(e,i){this.from=e,this.to=i}};function IC(t,e,i){let r=[],n=t,s=0;return Oe.spans(i,t,e,{span(){},point(o,a){o>n&&(r.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(r.push({from:n,to:e}),s+=e-n),{total:s,ranges:r}}function Rl({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let r=Math.floor(t*i);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(r<=a)return s+r;r-=a}}function Il(t,e){let i=0;for(let{from:r,to:n}of t.ranges){if(e<=n){i+=e-r;break}i+=n-r}return i/t.total}function DC(t,e){for(let i of t)if(e(i))return i}var cb={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}},Zf=class t{constructor(e,i,r){let n=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=i.lineAt(a,Ee.ByPos,e,0,0).top,c=i.lineAt(l,Ee.ByPos,e,0,0).bottom;return n+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(i.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let i=0,r=0,n=0;;i++){let s=i<this.viewports.length?this.viewports[i]:null;if(!s||e<s.top)return n+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,n=s.domBottom}}fromDOM(e){for(let i=0,r=0,n=0;;i++){let s=i<this.viewports.length?this.viewports[i]:null;if(!s||e<s.domTop)return r+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,n=s.domBottom}}eq(e){return e instanceof t?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((i,r)=>i.from==e.viewports[r].from&&i.to==e.viewports[r].to):!1}};function Qo(t,e){if(e.scale==1)return t;let i=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ti(t.from,t.length,i,r-i,Array.isArray(t._content)?t._content.map(n=>Qo(n,e)):t._content)}var Dl=W.define({combine:t=>t.join(" ")}),Wf=W.define({combine:t=>t.indexOf(!0)>-1}),jf=Ht.newName(),O0=Ht.newName(),b0=Ht.newName(),y0={"&light":"."+O0,"&dark":"."+b0};function Xf(t,e,i){return new Ht(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,n=>{if(n=="&")return t;if(!i||!i[n])throw new RangeError(`Unsupported selector: ${n}`);return i[n]}):t+" "+r}})}var LC=Xf("."+jf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},y0),VC={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},pf=X.ie&&X.ie_version<=11,Yf=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new yf,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(i=>{for(let r of i)this.queue.push(r);(X.ie&&X.ie_version<=11||X.ios&&e.composing)&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(X.chrome&&X.chrome_version<126)&&(this.editContext=new Ff(e),e.state.facet(_r)&&(e.contentDOM.editContext=this.editContext.editContext)),pf&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var i;((i=this.view.docView)===null||i===void 0?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((i,r)=>i!=e[r]))){this.gapIntersection.disconnect();for(let i of e)this.gapIntersection.observe(i);this.gaps=e}}onSelectionChange(e){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,n=this.selectionRange;if(r.state.facet(_r)?r.root.activeElement!=this.dom:!Nl(r.dom,n))return;let s=n.anchorNode&&r.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){i||(this.selectionChanged=!1);return}(X.ie&&X.ie_version<=11||X.android&&X.chrome)&&!r.state.selection.main.empty&&n.focusNode&&Mo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,i=No(e.root);if(!i)return!1;let r=X.safari&&e.root.nodeType==11&&EP(this.dom.ownerDocument)==this.dom&&NC(this.view,i)||i;if(!r||this.selectionRange.eq(r))return!1;let n=Nl(this.dom,r);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&RP(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,i){this.selectionRange.set(e.node,e.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,i=null;for(let r=this.dom;r;)if(r.nodeType==1)!i&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:i||(i=this.scrollTargets.slice(0,e)),i&&i.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,e)),i){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=i)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,VC),pf&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),pf&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,i){var r;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&cs(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:i,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let i=-1,r=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),i==-1?{from:i,to:r}=o:(i=Math.min(o.from,i),r=Math.max(o.to,r)))}return{from:i,to:r,typeOver:n}}readChange(){let{from:e,to:i,typeOver:r}=this.processRecords(),n=this.selectionChanged&&Nl(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new $f(this.view,e,i,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let r=this.view.state,n=l0(this.view,i);return this.view.state==r&&(i.domChanged||i.newSel&&!i.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let i=this.view.docView.nearest(e.target);if(!i||i.ignoreMutation(e))return null;if(i.markDirty(e.type=="attributes"),e.type=="attributes"&&(i.flags|=4),e.type=="childList"){let r=hb(i,e.previousSibling||e.target.previousSibling,-1),n=hb(i,e.nextSibling||e.target.nextSibling,1);return{from:r?i.posAfter(r):i.posAtStart,to:n?i.posBefore(n):i.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(_r)!=e.state.facet(_r)&&(e.view.contentDOM.editContext=e.state.facet(_r)?this.editContext.editContext:null))}destroy(){var e,i,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(i=this.gapIntersection)===null||i===void 0||i.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function hb(t,e,i){for(;e;){let r=Ce.get(e);if(r&&r.parent==t)return r;let n=e.parentNode;e=n!=t.dom?n:i>0?e.nextSibling:e.previousSibling}return null}function fb(t,e){let i=e.startContainer,r=e.startOffset,n=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Mo(o.node,o.offset,n,s)&&([i,r,n,s]=[n,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:n,focusOffset:s}}function NC(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return fb(t,n)}let i=null;function r(n){n.preventDefault(),n.stopImmediatePropagation(),i=n.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),i?fb(t,i):null}var Ff=class{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let i=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:n}=e.state.selection.main,s={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:ue.of(r.text.split(`
`))};s.from==this.from&&n<this.from?s.from=n:s.to==this.to&&n>this.to&&(s.to=n),!(s.from==s.to&&!s.insert.length)&&(this.pendingContextChange=s,e.state.readOnly||dd(e,s,D.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let n=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,n.push(s)}i.updateCharacterBounds(r.rangeStart,n)},this.handlers.textformatupdate=r=>{let n=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;n.push(U.mark({attributes:{style:l}}).range(this.toEditorPos(s.rangeStart),this.toEditorPos(s.rangeEnd)))}}e.dispatch({effects:e0.of(U.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)i.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let n=No(r.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let i=0,r=!1,n=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let c=u.length-(o-s);if(n&&o>=n.to)if(n.from==s&&n.to==o&&n.insert.eq(u)){n=this.pendingContextChange=null,i+=c,this.to+=c;return}else n=null,this.revertPending(e.state);if(s+=i,o+=i,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}i+=c}),n&&!r&&this.revertPending(e.state),!r}update(e){let i=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||i)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:i}=e.selection.main;this.from=Math.max(0,i-1e4),this.to=Math.min(e.doc.length,i+1e4)}revertPending(e){let i=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i.from),this.toContextPos(i.from+i.insert.length),e.doc.sliceString(i.from,i.to))}setSelection(e){let{main:i}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,i.anchor))),n=this.toContextPos(i.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(r,n)}rangeIsValid(e){let{head:i}=e.selection.main;return!(this.from>0&&i-this.from<500||this.to<e.doc.length&&this.to-i<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}},q=class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var i;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(n=>n.forEach(s=>r(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$P(e.parent)||document,this.viewState=new Jl(e.state||Se.create(e)),e.scrollTo&&e.scrollTo.is(Al)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Co).map(n=>new Io(n));for(let n of this.plugins)n.update(this);this.observer=new Yf(this),this.inputState=new Rf(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ul(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((i=document.fonts)===null||i===void 0)&&i.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let i=e.length==1&&e[0]instanceof Ze?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(i,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i=!1,r=!1,n,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(p0))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=m0(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Se.phrases)!=this.state.facet(Se.phrases))return this.setState(s);n=Fl.create(this,s,e),n.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Ro(d.empty?d:D.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Al)&&(h=d.value.clip(this.state))}this.viewState.update(n,h),this.bidiCache=eu.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),i=this.docView.update(n),this.state.facet(To)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Dl)!=n.state.facet(Dl)&&(this.viewState.mustMeasureContent=!0),(i||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!n.empty)for(let f of this.state.facet(Ef))try{f(n)}catch(d){rt(this.state,d,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!l0(this,c)&&u.force&&cs(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let i=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Jl(e),this.plugins=e.facet(Co).map(r=>new Io(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Ul(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(e){let i=e.startState.facet(Co),r=e.state.facet(Co);if(i!=r){let n=[];for(let s of r){let o=i.indexOf(s);if(o<0)n.push(new Io(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);i!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let i=e.value;if(i&&i.docViewUpdate)try{i.docViewUpdate(this)}catch(r){rt(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let i=null,r=this.scrollDOM,n=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(Eb(r))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(n);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(p){return rt(this.state,p),db}}),h=Fl.create(this,this.state,[]),f=!1;h.flags|=l,i?i.flags|=l:i=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=db)try{let p=u[d];p.write&&p.write(c[d],this)}catch(p){rt(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){n=n+p,r.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let a of this.state.facet(Ef))a(i)}get themeClasses(){return jf+" "+(this.state.facet(Wf)?b0:O0)+" "+this.state.facet(Dl)}updateAttrs(){let e=pb(this,t0,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(_r)?"true":"false",class:"cm-content",style:`${X.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),pb(this,hd,i);let r=this.observer.ignore(()=>{let n=Sf(this.contentDOM,this.contentAttrs,i),s=Sf(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=i,r}showAnnouncements(e){let i=!0;for(let r of e)for(let n of r.effects)if(n.is(t.announce)){i&&(this.announceDOM.textContent=""),i=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(To);let e=this.state.facet(t.cspNonce);Ht.mount(this.root,this.styleModules.concat(LC).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===e.key){this.measureRequests[i]=e;return}}this.measureRequests.push(e)}}plugin(e){let i=this.pluginMap.get(e);return(i===void 0||i&&i.spec!=e)&&this.pluginMap.set(e,i=this.plugins.find(r=>r.spec==e)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,i,r){return df(this,e,GO(this,e,i,r))}moveByGroup(e,i){return df(this,e,GO(this,e,i,r=>uC(this,e.head,r)))}visualLineSide(e,i){let r=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=r[i?r.length-1:0];return D.cursor(s.side(i,n)+e.from,s.forward(!i,n)?1:-1)}moveToLineBoundary(e,i,r=!0){return lC(this,e,i,r)}moveVertically(e,i,r){return df(this,e,cC(this,e,i,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,i=0){return this.docView.posFromDOM(e,i)}posAtCoords(e,i=!0){return this.readMeasured(),a0(this,e,i)}coordsAtPos(e,i=1){this.readMeasured();let r=this.docView.coordsAt(e,i);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[Ei.find(s,e-n.from,-1,i)];return ou(r,o.dir==_e.LTR==i>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Gb)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>zC)return Zb(e.length);let i=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==i&&(s.fresh||qb(s.isolates,r=XO(this,e))))return s.order;r||(r=XO(this,e));let n=XP(e.text,i,r);return this.bidiCache.push(new eu(e.from,e.to,i,r,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||X.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Cb(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,i={}){return Al.of(new Ro(typeof e=="number"?D.cursor(e):e,i.y,i.x,i.yMargin,i.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:i}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Al.of(new Ro(D.cursor(r.from),"start","start",r.top-e,i,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ie.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ie.define(()=>({}),{eventObservers:e})}static theme(e,i){let r=Ht.newName(),n=[Dl.of(r),To.of(Xf(`.${r}`,e))];return i&&i.dark&&n.push(Wf.of(!0)),n}static baseTheme(e){return Ut.lowest(To.of(Xf("."+jf,e,y0)))}static findFromDOM(e){var i;let r=e.querySelector(".cm-content"),n=r&&Ce.get(r)||Ce.get(e);return((i=n==null?void 0:n.rootView)===null||i===void 0?void 0:i.view)||null}};q.styleModule=To;q.inputHandler=Ub;q.clipboardInputFilter=ud;q.clipboardOutputFilter=cd;q.scrollHandler=Jb;q.focusChangeEffect=Hb;q.perLineTextDirection=Gb;q.exceptionSink=Fb;q.updateListener=Ef;q.editable=_r;q.mouseSelectionStyle=Yb;q.dragMovesSelection=Xb;q.clickAddsSelectionRange=jb;q.decorations=Xo;q.outerDecorations=i0;q.atomicRanges=fd;q.bidiIsolatedRanges=r0;q.scrollMargins=n0;q.darkTheme=Wf;q.cspNonce=W.define({combine:t=>t.length?t[0]:""});q.contentAttributes=hd;q.editorAttributes=t0;q.lineWrapping=q.contentAttributes.of({class:"cm-lineWrapping"});q.announce=ee.define();var zC=4096,db={},eu=class t{constructor(e,i,r,n,s,o){this.from=e,this.to=i,this.dir=r,this.isolates=n,this.fresh=s,this.order=o}static update(e,i){if(i.empty&&!e.some(s=>s.fresh))return e;let r=[],n=e.length?e[e.length-1].dir:_e.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!i.touchesRange(o.from,o.to)&&r.push(new t(i.mapPos(o.from,1),i.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}};function pb(t,e,i){for(let r=t.state.facet(e),n=r.length-1;n>=0;n--){let s=r[n],o=typeof s=="function"?s(t):s;o&&_f(o,i)}return i}var BC=X.mac?"mac":X.windows?"win":X.linux?"linux":"key";function qC(t,e){let i=t.split(/-(?!$)/),r=i[i.length-1];r=="Space"&&(r=" ");let n,s,o,a;for(let l=0;l<i.length-1;++l){let u=i[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Ll(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),i!==!1&&e.shiftKey&&(t="Shift-"+t),t}var ZC=Ut.default(q.domEventHandlers({keydown(t,e){return w0(v0(e.state),t,e,"editor")}})),fs=W.define({enables:ZC}),mb=new WeakMap;function v0(t){let e=t.facet(fs),i=mb.get(e);return i||mb.set(e,i=jC(e.reduce((r,n)=>r.concat(n),[]))),i}function x0(t,e,i){return w0(v0(t.state),e,t,i)}var Sr=null,WC=4e3;function jC(t,e=BC){let i=Object.create(null),r=Object.create(null),n=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var h,f;let d=i[o]||(i[o]=Object.create(null)),p=a.split(/ (?!$)/).map(O=>qC(O,e));for(let O=1;O<p.length;O++){let y=p.slice(0,O).join(" ");n(y,!0),d[y]||(d[y]={preventDefault:!0,stopPropagation:!1,run:[v=>{let k=Sr={view:v,prefix:y,scope:o};return setTimeout(()=>{Sr==k&&(Sr=null)},WC),!0}]})}let m=p.join(" ");n(m,!1);let g=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=i[u]||(i[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let f in c)c[f].run.push(d=>h(d,Uf))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return i}var Uf=null;function w0(t,e,i,r){Uf=e;let n=VO(e),s=qe(n,0),o=pt(s)==n.length&&n!=" ",a="",l=!1,u=!1,c=!1;Sr&&Sr.view==i&&Sr.scope==r&&(a=Sr.prefix+" ",c0.indexOf(e.keyCode)<0&&(u=!0,Sr=null));let h=new Set,f=g=>{if(g){for(let O of g.run)if(!h.has(O)&&(h.add(O),O(i)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),u=!0)}return!1},d=t[r],p,m;return d&&(f(d[a+Ll(n,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(X.windows&&e.ctrlKey&&e.altKey)&&(p=Fi[e.keyCode])&&p!=n?(f(d[a+Ll(p,e,!0)])||e.shiftKey&&(m=ss[e.keyCode])!=n&&m!=p&&f(d[a+Ll(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(d[a+Ll(n,e,!0)])&&(l=!0),!l&&f(d._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Uf=null,l}var Yo=class t{constructor(e,i,r,n,s){this.className=e,this.left=i,this.top=r,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,i){return i.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,i,r){if(r.empty){let n=e.coordsAtPos(r.head,r.assoc||1);if(!n)return[];let s=_0(e);return[new t(i,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return XC(e,i,r)}};function _0(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==_e.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function gb(t,e,i,r){let n=t.coordsAtPos(e,i*2);if(!n)return r;let s=t.dom.getBoundingClientRect(),o=(n.top+n.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function XC(t,e,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let r=Math.max(i.from,t.viewport.from),n=Math.min(i.to,t.viewport.to),s=t.textDirection==_e.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=_0(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=a.right-(c?parseInt(c.paddingRight):0),d=Af(t,r),p=Af(t,n),m=d.type==Ot.Text?d:null,g=p.type==Ot.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=gb(t,r,1,m)),g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=gb(t,n,-1,g)),m&&g&&m.from==g.from&&m.to==g.to)return y(v(i.from,i.to,m));{let C=m?v(i.from,null,m):k(d,!1),A=g?v(null,i.to,g):k(p,!0),P=[];return(m||d).to<(g||p).from-(m&&g?1:0)||d.widgetLineBreaks>1&&C.bottom+t.defaultLineHeight/2<A.top?P.push(O(h,C.bottom,f,A.top)):C.bottom<A.top&&t.elementAtHeight((C.bottom+A.top)/2).type==Ot.Text&&(C.bottom=A.top=(C.bottom+A.top)/2),y(C).concat(P).concat(y(A))}function O(C,A,P,Q){return new Yo(e,C-l.left,A-l.top-.01,P-C,Q-A+.01)}function y({top:C,bottom:A,horizontal:P}){let Q=[];for(let S=0;S<P.length;S+=2)Q.push(O(P[S],C,P[S+1],A));return Q}function v(C,A,P){let Q=1e9,S=-1e9,_=[];function E(x,M,$,I,z){let Y=t.coordsAtPos(x,x==P.to?-2:2),j=t.coordsAtPos($,$==P.from?2:-2);!Y||!j||(Q=Math.min(Y.top,j.top,Q),S=Math.max(Y.bottom,j.bottom,S),z==_e.LTR?_.push(s&&M?h:Y.left,s&&I?f:j.right):_.push(!s&&I?h:j.left,!s&&M?f:Y.right))}let R=C!=null?C:P.from,w=A!=null?A:P.to;for(let x of t.visibleRanges)if(x.to>R&&x.from<w)for(let M=Math.max(x.from,R),$=Math.min(x.to,w);;){let I=t.state.doc.lineAt(M);for(let z of t.bidiSpans(I)){let Y=z.from+I.from,j=z.to+I.from;if(Y>=$)break;j>M&&E(Math.max(Y,M),C==null&&Y<=R,Math.min(j,$),A==null&&j>=w,z.dir)}if(M=I.to+1,M>=$)break}return _.length==0&&E(R,C==null,w,A==null,t.textDirection),{top:Q,bottom:S,horizontal:_}}function k(C,A){let P=a.top+(A?C.top:C.bottom);return{top:P,bottom:P,horizontal:[]}}}function YC(t,e){return t.constructor==e.constructor&&t.eq(e)}var Hf=class{constructor(e,i){this.view=e,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,e)}update(e){e.startState.facet(ql)!=e.state.facet(ql)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let i=0,r=e.facet(ql);for(;i<r.length&&r[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:i}=this.view;(e!=this.scaleX||i!=this.scaleY)&&(this.scaleX=e,this.scaleY=i,this.dom.style.transform=`scale(${1/e}, ${1/i})`)}draw(e){if(e.length!=this.drawn.length||e.some((i,r)=>!YC(i,this.drawn[r]))){let i=this.dom.firstChild,r=0;for(let n of e)n.update&&i&&n.constructor&&this.drawn[r].constructor&&n.update(i,this.drawn[r])?(i=i.nextSibling,r++):this.dom.insertBefore(n.draw(),i);for(;i;){let n=i.nextSibling;i.remove(),i=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}},ql=W.define();function S0(t){return[Ie.define(e=>new Hf(e,t)),ql.of(t)]}var k0=!X.ios,Fo=W.define({combine(t){return ct(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,i)=>Math.min(e,i),drawRangeCursor:(e,i)=>e||i})}});function P0(t={}){return[Fo.of(t),FC,UC,HC,Kb.of(!0)]}function C0(t){return t.startState.facet(Fo)!=t.state.facet(Fo)}var FC=S0({above:!0,markers(t){let{state:e}=t,i=e.facet(Fo),r=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty?!s||k0:i.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=n.empty?n:D.cursor(n.head,n.head>n.anchor?-1:1);for(let l of Yo.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let i=C0(t);return i&&Ob(t.state,e),t.docChanged||t.selectionSet||i},mount(t,e){Ob(e.state,t)},class:"cm-cursorLayer"});function Ob(t,e){e.style.animationDuration=t.facet(Fo).cursorBlinkRate+"ms"}var UC=S0({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Yo.forRange(t,"cm-selectionBackground",e)).reduce((e,i)=>e.concat(i))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||C0(t)},class:"cm-selectionLayer"}),Gf={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};k0&&(Gf[".cm-line"].caretColor=Gf[".cm-content"].caretColor="transparent !important");var HC=Ut.highest(q.theme(Gf)),T0=ee.define({map(t,e){return t==null?null:e.mapPos(t)}}),Ao=Ae.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((i,r)=>r.is(T0)?r.value:i,t)}}),GC=Ie.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field(Ao);i==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Ao)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Ao),i=e!=null&&t.coordsAtPos(e);if(!i)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:i.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Ao)!=t&&this.view.dispatch({effects:T0.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function E0(){return[Ao,GC]}function bb(t,e,i,r,n){e.lastIndex=0;for(let s=t.iterRange(i,r),o=i,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)n(o+a.index,a)}function KC(t,e){let i=t.visibleRanges;if(i.length==1&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let r=[];for(let{from:n,to:s}of i)n=Math.max(t.state.doc.lineAt(n).from,n-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=n?r[r.length-1].to=s:r.push({from:n,to:s});return r}var Kf=class{constructor(e){let{regexp:i,decoration:r,decorate:n,boundary:s,maxLength:o=1e3}=e;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,n)this.addMatch=(a,l,u,c)=>n(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let h=r(a,l,u);h&&c(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let i=new hi,r=i.add.bind(i);for(let{from:n,to:s}of KC(e,this.maxLength))bb(e.state.doc,this.regexp,n,s,(o,a)=>this.addMatch(a,e,o,r));return i.finish()}updateDeco(e,i){let r=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),n=Math.max(l,n))}),e.viewportChanged||n-r>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,i.map(e.changes),r,n):i}updateRange(e,i,r,n){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,n);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let f=[],d,p=(m,g,O)=>f.push(O.range(m,g));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<h-l.from;)this.addMatch(d,e,d.index+l.from,p);else bb(e.state.doc,this.regexp,c,h,(m,g)=>this.addMatch(g,e,m,p));i=i.update({filterFrom:c,filterTo:h,filter:(m,g)=>m<c||g>h,add:f})}}return i}},Jf=/x/.unicode!=null?"gu":"g",JC=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,Jf),eT={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},mf=null;function tT(){var t;if(mf==null&&typeof document!="undefined"&&document.body){let e=document.body.style;mf=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return mf||!1}var Zl=W.define({combine(t){let e=ct(t,{render:null,specialChars:JC,addSpecialChars:null});return(e.replaceTabs=!tT())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Jf)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Jf)),e}});function Q0(t={}){return[Zl.of(t),iT()]}var yb=null;function iT(){return yb||(yb=Ie.fromClass(class{constructor(t){this.view=t,this.decorations=U.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Zl)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Kf({regexp:t.specialChars,decoration:(e,i,r)=>{let{doc:n}=i.state,s=qe(e[0],0);if(s==9){let o=n.lineAt(r),a=i.state.tabSize,l=Yi(o.text,a,r-o.from);return U.replace({widget:new td((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=U.replace({widget:new ed(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Zl);t.startState.facet(Zl)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}var rT="\u2022";function nT(t){return t>=32?rT:t==10?"\u2424":String.fromCharCode(9216+t)}var ed=class extends Ct{constructor(e,i){super(),this.options=e,this.code=i}eq(e){return e.code==this.code}toDOM(e){let i=nT(this.code),r=e.state.phrase("Control character")+" "+(eT[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,r,i);if(n)return n;let s=document.createElement("span");return s.textContent=i,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}},td=class extends Ct{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}};function A0(){return oT}var sT=U.line({class:"cm-activeLine"}),oT=Ie.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let r of t.state.selection.ranges){let n=t.lineBlockAt(r.head);n.from>e&&(i.push(sT.range(n.from)),e=n.from)}return U.set(i)}},{decorations:t=>t.decorations});var id=2e3;function aT(t,e,i){let r=Math.min(e.line,i.line),n=Math.max(e.line,i.line),s=[];if(e.off>id||i.off>id||e.col<0||i.col<0){let o=Math.min(e.off,i.off),a=Math.max(e.off,i.off);for(let l=r;l<=n;l++){let u=t.doc.line(l);u.length<=a&&s.push(D.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,i.col),a=Math.max(e.col,i.col);for(let l=r;l<=n;l++){let u=t.doc.line(l),c=Tl(u.text,o,t.tabSize,!0);if(c<0)s.push(D.cursor(u.to));else{let h=Tl(u.text,a,t.tabSize);s.push(D.range(u.from+c,u.from+h))}}}return s}function lT(t,e){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-e)/t.defaultCharacterWidth)):-1}function vb(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(i),n=i-r.from,s=n>id?-1:n==r.length?lT(t,e.clientX):Yi(r.text,t.state.tabSize,i-r.from);return{line:r.number,col:s,off:n}}function uT(t,e){let i=vb(t,e),r=t.state.selection;return i?{update(n){if(n.docChanged){let s=n.changes.mapPos(n.startState.doc.line(i.line).from),o=n.state.doc.lineAt(s);i={line:o.number,col:i.col,off:Math.min(i.off,o.length)},r=r.map(n.changes)}},get(n,s,o){let a=vb(t,n);if(!a)return r;let l=aT(t.state,i,a);return l.length?o?D.create(l.concat(r.ranges)):D.create(l):r}}:null}function M0(t){let e=(t==null?void 0:t.eventFilter)||(i=>i.altKey&&i.button==0);return q.mouseSelectionStyle.of((i,r)=>e(r)?uT(i,r):null)}var cT={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},hT={style:"cursor: crosshair"};function $0(t={}){let[e,i]=cT[t.key||"Alt"],r=Ie.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventObservers:{keydown(n){this.set(n.keyCode==e||i(n))},keyup(n){(n.keyCode==e||!i(n))&&this.set(!1)},mousemove(n){this.set(i(n))}}});return[r,q.contentAttributes.of(n=>{var s;return!((s=n.plugin(r))===null||s===void 0)&&s.isDown?hT:null})]}var Po="-10000px",tu=class{constructor(e,i,r,n){this.facet=i,this.createTooltipView=r,this.removeTooltipView=n,this.input=e.state.facet(i),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,i){var r;let n=e.state.facet(this.facet),s=n.filter(l=>l);if(n===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=i?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(c=h)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let h=o[l]=this.tooltipViews[c];a&&(a[l]=i[c]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return i&&(a.forEach((l,u)=>i[u]=l),i.length=a.length),this.input=n,this.tooltips=s,this.tooltipViews=o,!0}};function fT(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}var gf=W.define({combine:t=>{var e,i,r;return{position:X.ios?"absolute":((e=t.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((i=t.find(n=>n.parent))===null||i===void 0?void 0:i.parent)||null,tooltipSpace:((r=t.find(n=>n.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||fT}}}),xb=new WeakMap,pd=Ie.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(gf);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tu(t,Uo,(i,r)=>this.createTooltip(i,r),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let i=e||t.geometryChanged,r=t.state.facet(gf);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;i=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t,e){let i=t.create(this.view),r=e?e.dom:null;if(i.dom.classList.add("cm-tooltip"),t.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",i.dom.appendChild(n)}return i.dom.style.position=this.position,i.dom.style.top=Po,i.dom.style.left="0px",this.container.insertBefore(i.dom,r),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var t,e,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(i=this.intersectionObserver)===null||i===void 0||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,i=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:n}=this.manager.tooltipViews[0];if(X.gecko)r=n.offsetParent!=this.container.ownerDocument.body;else if(n.style.top==Po&&n.style.left=="0px"){let s=n.getBoundingClientRect();r=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(r||this.position=="absolute")if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,i=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:i}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((n,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(gf).tooltipSpace(this.view),scaleX:e,scaleY:i,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:i,space:r,scaleX:n,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,h=t.pos[a],f=t.size[a];if(!h||h.bottom<=Math.max(i.top,r.top)||h.top>=Math.min(i.bottom,r.bottom)||h.right<Math.max(i.left,r.left)-.1||h.left>Math.min(i.right,r.right)+.1){c.style.top=Po;continue}let d=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=f.right-f.left,g=(e=xb.get(u))!==null&&e!==void 0?e:f.bottom-f.top,O=u.offset||pT,y=this.view.textDirection==_e.LTR,v=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(h.left-(d?14:0)+O.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(d?14:0)-O.x),r.right-m),k=this.above[a];!l.strictSide&&(k?h.top-(f.bottom-f.top)-O.y<r.top:h.bottom+(f.bottom-f.top)+O.y>r.bottom)&&k==r.bottom-h.bottom>h.top-r.top&&(k=this.above[a]=!k);let C=(k?h.top-r.top:r.bottom-h.bottom)-p;if(C<g&&u.resize!==!1){if(C<this.view.defaultLineHeight){c.style.top=Po;continue}xb.set(u,g),c.style.height=(g=C)/s+"px"}else c.style.height&&(c.style.height="");let A=k?h.top-g-p-O.y:h.bottom+p+O.y,P=v+m;if(u.overlap!==!0)for(let Q of o)Q.left<P&&Q.right>v&&Q.top<A+g&&Q.bottom>A&&(A=k?Q.top-g-2-p:Q.bottom+p+2);if(this.position=="absolute"?(c.style.top=(A-t.parent.top)/s+"px",c.style.left=(v-t.parent.left)/n+"px"):(c.style.top=A/s+"px",c.style.left=v/n+"px"),d){let Q=h.left+(y?O.x:-O.x)-(v+14-7);d.style.left=Q/n+"px"}u.overlap!==!0&&o.push({left:v,top:A,right:P,bottom:A+g}),c.classList.toggle("cm-tooltip-above",k),c.classList.toggle("cm-tooltip-below",!k),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Po}},{eventObservers:{scroll(){this.maybeMeasure()}}}),dT=q.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),pT={x:0,y:0},Uo=W.define({enables:[pd,dT]}),iu=W.define({combine:t=>t.reduce((e,i)=>e.concat(i),[])}),ru=class t{static create(e){return new t(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tu(e,iu,(i,r)=>this.createHostedView(i,r),i=>i.dom.remove())}createHostedView(e,i){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let i of this.manager.tooltipViews)i.mount&&i.mount(e);this.mounted=!0}positioned(e){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let i of this.manager.tooltipViews)(e=i.destroy)===null||e===void 0||e.call(i)}passProp(e){let i;for(let r of this.manager.tooltipViews){let n=r[e];if(n!==void 0){if(i===void 0)i=n;else if(i!==n)return}}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}},mT=Uo.compute([iu],t=>{let e=t.facet(iu);return e.length===0?null:{pos:Math.min(...e.map(i=>i.pos)),end:Math.max(...e.map(i=>{var r;return(r=i.end)!==null&&r!==void 0?r:i.pos})),create:ru.create,above:e[0].above,arrow:e.some(i=>i.arrow)}}),rd=class{constructor(e,i,r,n,s){this.view=e,this.source=i,this.field=r,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:i}=this,r=e.docView.nearest(i.target);if(!r)return;let n,s=1;if(r instanceof Bo)n=r.posAtStart;else{if(n=e.posAtCoords(i),n==null)return;let a=e.coordsAtPos(n);if(!a||i.y<a.top||i.y>a.bottom||i.x<a.left-e.defaultCharacterWidth||i.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(n)).find(c=>c.from<=n&&c.to>=n),u=l&&l.dir==_e.RTL?-1:1;s=i.x<a.left?-u:u}let o=this.source(e,n,s);if(o!=null&&o.then){let a=this.pending={pos:n};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>rt(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(pd),i=e?e.manager.tooltips.findIndex(r=>r.create==ru.create):-1;return i>-1?e.manager.tooltipViews[i]:null}mousemove(e){var i,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:s}=this;if(n.length&&s&&!gT(s.dom,e)||this.pending){let{pos:o}=n[0]||this.pending,a=(r=(i=n[0])===null||i===void 0?void 0:i.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!OT(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let i=r=>{e.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}},Vl=4;function gT(t,e){let{left:i,right:r,top:n,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();n=Math.min(a.top,n),s=Math.max(a.bottom,s)}return e.clientX>=i-Vl&&e.clientX<=r+Vl&&e.clientY>=n-Vl&&e.clientY<=s+Vl}function OT(t,e,i,r,n,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>n||Math.min(o.bottom,a)<n)return!1;let l=t.posAtCoords({x:r,y:n},!1);return l>=e&&l<=i}function R0(t,e={}){let i=ee.define(),r=Ae.define({create(){return[]},update(n,s){if(n.length&&(e.hideOnChange&&(s.docChanged||s.selection)?n=[]:e.hideOn&&(n=n.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of n){let l=s.changes.mapPos(a.pos,-1,Ye.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}n=o}for(let o of s.effects)o.is(i)&&(n=o.value),o.is(bT)&&(n=[]);return n},provide:n=>iu.from(n)});return{active:r,extension:[r,Ie.define(n=>new rd(n,t,r,i,e.hoverTime||300)),mT]}}function md(t,e){let i=t.plugin(pd);if(!i)return null;let r=i.manager.tooltips.indexOf(e);return r<0?null:i.manager.tooltipViews[r]}var bT=ee.define();var wb=W.define({combine(t){let e,i;for(let r of t)e=e||r.topContainer,i=i||r.bottomContainer;return{topContainer:e,bottomContainer:i}}});function dn(t,e){let i=t.plugin(I0),r=i?i.specs.indexOf(e):-1;return r>-1?i.panels[r]:null}var I0=Ie.fromClass(class{constructor(t){this.input=t.state.facet(fn),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(t));let e=t.state.facet(wb);this.top=new ls(t,!0,e.topContainer),this.bottom=new ls(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(t){let e=t.state.facet(wb);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ls(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ls(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(fn);if(i!=this.input){let r=i.filter(l=>l),n=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),n.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=n,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>q.scrollMargins.of(e=>{let i=e.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})}),ls=class{constructor(e,i,r){this.view=e,this.top=i,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let i of this.panels)i.destroy&&e.indexOf(i)<0&&i.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let e=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;e!=i.dom;)e=_b(e);e=e.nextSibling}else this.dom.insertBefore(i.dom,e);for(;e;)e=_b(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function _b(t){let e=t.nextSibling;return t.remove(),e}var fn=W.define({enables:I0}),Vt=class extends ci{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};Vt.prototype.elementClass="";Vt.prototype.toDOM=void 0;Vt.prototype.mapMode=Ye.TrackBefore;Vt.prototype.startSide=Vt.prototype.endSide=-1;Vt.prototype.point=!0;var Wl=W.define(),yT=W.define(),vT={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Oe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Lo=W.define();function gd(t){return[D0(),Lo.of(Object.assign(Object.assign({},vT),t))]}var nd=W.define({combine:t=>t.some(e=>e)});function D0(t){let e=[xT];return t&&t.fixed===!1&&e.push(nd.of(!0)),e}var xT=Ie.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Lo).map(e=>new nu(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(nd),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,r=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(r<(i.to-i.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(nd)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let i=Oe.iter(this.view.state.facet(Wl),this.view.viewport.from),r=[],n=this.gutters.map(s=>new od(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Ot.Text&&o){sd(i,r,a.from);for(let l of n)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of n)l.widget(this.view,a)}else if(s.type==Ot.Text){sd(i,r,s.from);for(let o of n)o.line(this.view,s,r)}else if(s.widget)for(let o of n)o.widget(this.view,s);for(let s of n)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Lo),i=t.state.facet(Lo),r=t.docChanged||t.heightChanged||t.viewportChanged||!Oe.eq(t.startState.facet(Wl),t.state.facet(Wl),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let n of this.gutters)n.update(t)&&(r=!0);else{r=!0;let n=[];for(let s of i){let o=e.indexOf(s);o<0?n.push(new nu(this.view,s)):(this.gutters[o].update(t),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>q.scrollMargins.of(e=>{let i=e.plugin(t);return!i||i.gutters.length==0||!i.fixed?null:e.textDirection==_e.LTR?{left:i.dom.offsetWidth*e.scaleX}:{right:i.dom.offsetWidth*e.scaleX}})});function Sb(t){return Array.isArray(t)?t:[t]}function sd(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}var od=class{constructor(e,i,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Oe.iter(e.markers,i.from)}addElement(e,i,r){let{gutter:n}=this,s=(i.top-this.height)/e.scaleY,o=i.height/e.scaleY;if(this.i==n.elements.length){let a=new su(e,o,s,r);n.elements.push(a),n.dom.appendChild(a.dom)}else n.elements[this.i].update(e,o,s,r);this.height=i.bottom,this.i++}line(e,i,r){let n=[];sd(this.cursor,n,i.from),r.length&&(n=n.concat(r));let s=this.gutter.config.lineMarker(e,i,n);s&&n.unshift(s);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,i,n)}widget(e,i){let r=this.gutter.config.widgetMarker(e,i.widget,i),n=r?[r]:null;for(let s of e.state.facet(yT)){let o=s(e,i.widget,i);o&&(n||(n=[])).push(o)}n&&this.addElement(e,i,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let i=e.elements.pop();e.dom.removeChild(i.dom),i.destroy()}}},nu=class{constructor(e,i){this.view=e,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in i.domEventHandlers)this.dom.addEventListener(r,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);i.domEventHandlers[r](e,a,n)&&n.preventDefault()});this.markers=Sb(i.markers(e)),i.initialSpacer&&(this.spacer=new su(e,0,0,[i.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let i=this.markers;if(this.markers=Sb(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let r=e.view.viewport;return!Oe.eq(this.markers,i,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},su=class{constructor(e,i,r,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,i,r,n)}update(e,i,r,n){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),wT(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,i){let r="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<i.length?i[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(n);let h=n.nextSibling;n.remove(),n=h}}if(!l)break;l.toDOM&&(u?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),u&&o++}this.dom.className=r,this.markers=i}destroy(){this.setMarkers(null,[])}};function wT(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}var _T=W.define(),ST=W.define(),us=W.define({combine(t){return ct(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,i){let r=Object.assign({},e);for(let n in i){let s=r[n],o=i[n];r[n]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}}),Vo=class extends Vt{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function Of(t,e){return t.state.facet(us).formatNumber(e,t.state)}var kT=Lo.compute([us],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(_T)},lineMarker(e,i,r){return r.some(n=>n.toDOM)?null:new Vo(Of(e,e.state.doc.lineAt(i.from).number))},widgetMarker:(e,i,r)=>{for(let n of e.state.facet(ST)){let s=n(e,i,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(us)!=e.state.facet(us),initialSpacer(e){return new Vo(Of(e,kb(e.state.doc.lines)))},updateSpacer(e,i){let r=Of(i.view,kb(i.view.state.doc.lines));return r==e.number?e:new Vo(r)},domEventHandlers:t.facet(us).domEventHandlers}));function L0(t={}){return[us.of(t),D0(),kT]}function kb(t){let e=9;for(;e<t;)e=e*10+9;return e}var PT=new class extends Vt{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},CT=Wl.compute(["selection"],t=>{let e=[],i=-1;for(let r of t.selection.ranges){let n=t.doc.lineAt(r.head).from;n>i&&(i=n,e.push(PT.range(n)))}return Oe.of(e)});function V0(){return CT}var TT=0,Tt=class{constructor(e,i){this.from=e,this.to=i}},re=class{constructor(e={}){this.id=TT++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=nt.match(e)),i=>{let r=e(i);return r===void 0?null:[this,r]}}};re.closedBy=new re({deserialize:t=>t.split(" ")});re.openedBy=new re({deserialize:t=>t.split(" ")});re.group=new re({deserialize:t=>t.split(" ")});re.isolate=new re({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});re.contextHash=new re({perNode:!0});re.lookAhead=new re({perNode:!0});re.mounted=new re({perNode:!0});var pn=class{constructor(e,i,r){this.tree=e,this.overlay=i,this.parser=r}static get(e){return e&&e.props&&e.props[re.mounted.id]}},ET=Object.create(null),nt=class t{constructor(e,i,r,n=0){this.name=e,this.props=i,this.id=r,this.flags=n}static define(e){let i=e.props&&e.props.length?Object.create(null):ET,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new t(e.name||"",i,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let i=this.prop(re.group);return i?i.indexOf(e)>-1:!1}return this.id==e}static match(e){let i=Object.create(null);for(let r in e)for(let n of r.split(" "))i[n]=e[r];return r=>{for(let n=r.prop(re.group),s=-1;s<(n?n.length:0);s++){let o=i[s<0?r.name:n[s]];if(o)return o}}}};nt.none=new nt("",Object.create(null),0,8);var Ho=class t{constructor(e){this.types=e;for(let i=0;i<e.length;i++)if(e[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let i=[];for(let r of this.types){let n=null;for(let s of e){let o=s(r);o&&(n||(n=Object.assign({},r.props)),n[o[0].id]=o[1])}i.push(n?new nt(r.name,n,r.id,r.flags):r)}return new t(i)}},uu=new WeakMap,N0=new WeakMap,be;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(be||(be={}));var Me=class t{constructor(e,i,r,n,s){if(this.type=e,this.children=i,this.positions=r,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=pn.get(this);if(e&&!e.overlay)return e.tree.toString();let i="";for(let r of this.children){let n=r.toString();n&&(i&&(i+=","),i+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(e=0){return new ds(this.topNode,e)}cursorAt(e,i=0,r=0){let n=uu.get(this)||this.topNode,s=new ds(n);return s.moveTo(e,i),uu.set(this,s._tree),s}get topNode(){return new Et(this,0,0,null)}resolve(e,i=0){let r=Go(uu.get(this)||this.topNode,e,i,!1);return uu.set(this,r),r}resolveInner(e,i=0){let r=Go(N0.get(this)||this.topNode,e,i,!0);return N0.set(this,r),r}resolveStack(e,i=0){return QT(this,e,i)}iterate(e){let{enter:i,leave:r,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&be.IncludeAnonymous)>0;for(let l=this.cursor(o|be.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||i(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let i in this.props)e.push([+i,this.props[i]]);return e}balance(e={}){return this.children.length<=8?this:Cd(nt.none,this.children,this.positions,0,this.children.length,0,this.length,(i,r,n)=>new t(this.type,i,r,n,this.propValues),e.makeTree||((i,r,n)=>new t(nt.none,i,r,n)))}static build(e){return AT(e)}};Me.empty=new Me(nt.none,[],[],0);var Od=class t{constructor(e,i){this.buffer=e,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t(this.buffer,this.index)}},Er=class t{constructor(e,i,r){this.buffer=e,this.length=i,this.set=r}get type(){return nt.none}toString(){let e=[];for(let i=0;i<this.buffer.length;)e.push(this.childString(i)),i=this.buffer[i+3];return e.join(",")}childString(e){let i=this.buffer[e],r=this.buffer[e+3],n=this.set.types[i],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,i,r,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=i&&!(X0(s,n,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,i,r){let n=this.buffer,s=new Uint16Array(i-e),o=0;for(let a=e,l=0;a<i;){s[l++]=n[a++],s[l++]=n[a++]-r;let u=s[l++]=n[a++]-r;s[l++]=n[a++]-e,o=Math.max(o,u)}return new t(s,o,this.set)}};function X0(t,e,i,r){switch(t){case-2:return i<e;case-1:return r>=e&&i<e;case 0:return i<e&&r>e;case 1:return i<=e&&r>e;case 2:return r>e;case 4:return!0}}function Go(t,e,i,r){for(var n;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Et&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:be.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Et&&o.index<0&&((n=a.enter(e,i,s))===null||n===void 0?void 0:n.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,i,s);if(!o)return t;t=o}}var hu=class{cursor(e=0){return new ds(this,e)}getChild(e,i=null,r=null){let n=z0(this,e,i,r);return n.length?n[0]:null}getChildren(e,i=null,r=null){return z0(this,e,i,r)}resolve(e,i=0){return Go(this,e,i,!1)}resolveInner(e,i=0){return Go(this,e,i,!0)}matchContext(e){return bd(this,e)}enterUnfinishedNodesBefore(e){let i=this.childBefore(e),r=this;for(;i;){let n=i.lastChild;if(!n||n.to!=i.to)break;n.type.isError&&n.from==n.to?(r=i,i=n.prevSibling):i=n}return r}get node(){return this}get next(){return this.parent}},Et=class t extends hu{constructor(e,i,r,n){super(),this._tree=e,this.from=i,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,i,r,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=i>0?a.length:-1;e!=u;e+=i){let c=a[e],h=l[e]+o.from;if(X0(n,r,h,h+c.length)){if(c instanceof Er){if(s&be.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,i,r-h,n);if(f>-1)return new mn(new yd(o,c,e,h),null,f)}else if(s&be.IncludeAnonymous||!c.type.isAnonymous||Pd(c)){let f;if(!(s&be.IgnoreMounts)&&(f=pn.get(c))&&!f.overlay)return new t(f.tree,h,e,o);let d=new t(c,h,e,o);return s&be.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(i<0?c.children.length-1:0,i,r,n)}}}if(s&be.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+i:e=i<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,i,r=0){let n;if(!(r&be.IgnoreOverlays)&&(n=pn.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((i>0?o<=s:o<s)&&(i<0?a>=s:a>s))return new t(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,i,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function z0(t,e,i,r){let n=t.cursor(),s=[];if(!n.firstChild())return s;if(i!=null){for(let o=!1;!o;)if(o=n.type.is(i),!n.nextSibling())return s}for(;;){if(r!=null&&n.type.is(r))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return r==null?s:[]}}function bd(t,e,i=e.length-1){for(let r=t.parent;i>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[i]&&e[i]!=r.name)return!1;i--}}return!0}var yd=class{constructor(e,i,r,n){this.parent=e,this.buffer=i,this.index=r,this.start=n}},mn=class t extends hu{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,i,r){super(),this.context=e,this._parent=i,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,i,r){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,i-this.context.start,r);return s<0?null:new t(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,i,r=0){if(r&be.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],i>0?1:-1,e-this.context.start,i);return s<0?null:new t(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,i=e.buffer[this.index+3];return i<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],i=[],{buffer:r}=this.context,n=this.index+4,s=r.buffer[this.index+3];if(s>n){let o=r.buffer[this.index+1];e.push(r.slice(n,s,o)),i.push(0)}return new Me(this.type,e,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function Y0(t){if(!t.length)return null;let e=0,i=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>i.from||o.to<i.to)&&(i=o,e=s)}let r=i instanceof Et&&i.index<0?null:i.parent,n=t.slice();return r?n[e]=r:n.splice(e,1),new vd(n,i)}var vd=class{constructor(e,i){this.heads=e,this.node=i}get next(){return Y0(this.heads)}};function QT(t,e,i){let r=t.resolveInner(e,i),n=null;for(let s=r instanceof Et?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[r])).push(o.resolve(e,i)),s=o}else{let o=pn.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Et(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[r])).push(Go(a,e,i,!1))}}return n?Y0(n):r}var ds=class{get name(){return this.type.name}constructor(e,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Et)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,i){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=i||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return e?e instanceof Et?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,i,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,i,r,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,i-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,i,r=this.mode){return this.buffer?r&be.ExcludeBuffers?!1:this.enterChild(1,e,i):this.yield(this._tree.enter(e,i,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&be.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&be.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:i}=this.buffer,r=this.stack.length-1;if(e<0){let n=r<0?0:this.stack[r]+4;if(this.index!=n)return this.yieldBuf(i.findChild(n,this.index,-1,0,4))}else{let n=i.buffer[this.index+3];if(n<(r<0?i.buffer.length:i.buffer[this.stack[r]+3]))return this.yieldBuf(n)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let i,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:i,parent:r}=n)}else({index:i,_parent:r}=this._tree);for(;r;{index:i,_parent:r}=r)if(i>-1)for(let s=i+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&be.IncludeAnonymous||a instanceof Er||!a.type.isAnonymous||Pd(a))return!1}return!0}move(e,i){if(i&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,i=0){for(;(this.from==this.to||(i<1?this.from>=e:this.from>e)||(i>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,i););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,i=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;i=o,r=s+1;break e}n=this.stack[--s]}for(let n=r;n<this.stack.length;n++)i=new mn(this.buffer,i,this.stack[n]);return this.bufferNode=new mn(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,i){for(let r=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&i&&i(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return bd(this.node,e);let{buffer:i}=this.buffer,{types:r}=i.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return bd(this.node,e,n);let o=r[i.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function Pd(t){return t.children.some(e=>e instanceof Er||!e.type.isAnonymous||Pd(e))}function AT(t){var e;let{buffer:i,nodeSet:r,maxBufferLength:n=1024,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(i)?new Od(i,i.length):i,l=r.types,u=0,c=0;function h(C,A,P,Q,S,_){let{id:E,start:R,end:w,size:x}=a,M=c;for(;x<0;)if(a.next(),x==-1){let j=s[E];P.push(j),Q.push(R-C);return}else if(x==-3){u=E;return}else if(x==-4){c=E;return}else throw new RangeError(`Unrecognized record size: ${x}`);let $=l[E],I,z,Y=R-C;if(w-R<=n&&(z=g(a.pos-A,S))){let j=new Uint16Array(z.size-z.skip),K=a.pos-z.size,ie=j.length;for(;a.pos>K;)ie=O(z.start,j,ie);I=new Er(j,w-z.start,r),Y=z.start-C}else{let j=a.pos-x;a.next();let K=[],ie=[],me=E>=o?E:-1,fe=0,Te=w;for(;a.pos>j;)me>=0&&a.id==me&&a.size>=0?(a.end<=Te-n&&(p(K,ie,R,fe,a.end,Te,me,M),fe=K.length,Te=a.end),a.next()):_>2500?f(R,j,K,ie):h(R,j,K,ie,me,_+1);if(me>=0&&fe>0&&fe<K.length&&p(K,ie,R,fe,R,Te,me,M),K.reverse(),ie.reverse(),me>-1&&fe>0){let te=d($);I=Cd($,K,ie,0,K.length,0,w-R,te,te)}else I=m($,K,ie,w-R,M-w)}P.push(I),Q.push(Y)}function f(C,A,P,Q){let S=[],_=0,E=-1;for(;a.pos>A;){let{id:R,start:w,end:x,size:M}=a;if(M>4)a.next();else{if(E>-1&&w<E)break;E<0&&(E=x-n),S.push(R,w,x),_++,a.next()}}if(_){let R=new Uint16Array(_*4),w=S[S.length-2];for(let x=S.length-3,M=0;x>=0;x-=3)R[M++]=S[x],R[M++]=S[x+1]-w,R[M++]=S[x+2]-w,R[M++]=M;P.push(new Er(R,S[2]-w,r)),Q.push(w-C)}}function d(C){return(A,P,Q)=>{let S=0,_=A.length-1,E,R;if(_>=0&&(E=A[_])instanceof Me){if(!_&&E.type==C&&E.length==Q)return E;(R=E.prop(re.lookAhead))&&(S=P[_]+E.length+R)}return m(C,A,P,Q,S)}}function p(C,A,P,Q,S,_,E,R){let w=[],x=[];for(;C.length>Q;)w.push(C.pop()),x.push(A.pop()+P-S);C.push(m(r.types[E],w,x,_-S,R-_)),A.push(S-P)}function m(C,A,P,Q,S=0,_){if(u){let E=[re.contextHash,u];_=_?[E].concat(_):[E]}if(S>25){let E=[re.lookAhead,S];_=_?[E].concat(_):[E]}return new Me(C,A,P,Q,_)}function g(C,A){let P=a.fork(),Q=0,S=0,_=0,E=P.end-n,R={size:0,start:0,skip:0};e:for(let w=P.pos-C;P.pos>w;){let x=P.size;if(P.id==A&&x>=0){R.size=Q,R.start=S,R.skip=_,_+=4,Q+=4,P.next();continue}let M=P.pos-x;if(x<0||M<w||P.start<E)break;let $=P.id>=o?4:0,I=P.start;for(P.next();P.pos>M;){if(P.size<0)if(P.size==-3)$+=4;else break e;else P.id>=o&&($+=4);P.next()}S=I,Q+=x,_+=$}return(A<0||Q==C)&&(R.size=Q,R.start=S,R.skip=_),R.size>4?R:void 0}function O(C,A,P){let{id:Q,start:S,end:_,size:E}=a;if(a.next(),E>=0&&Q<o){let R=P;if(E>4){let w=a.pos-(E-4);for(;a.pos>w;)P=O(C,A,P)}A[--P]=R,A[--P]=_-C,A[--P]=S-C,A[--P]=Q}else E==-3?u=Q:E==-4&&(c=Q);return P}let y=[],v=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,v,-1,0);let k=(e=t.length)!==null&&e!==void 0?e:y.length?v[0]+y[0].length:0;return new Me(l[t.topID],y.reverse(),v.reverse(),k)}var B0=new WeakMap;function cu(t,e){if(!t.isAnonymous||e instanceof Er||e.type!=t)return 1;let i=B0.get(e);if(i==null){i=1;for(let r of e.children){if(r.type!=t||!(r instanceof Me)){i=1;break}i+=cu(t,r)}B0.set(e,i)}return i}function Cd(t,e,i,r,n,s,o,a,l){let u=0;for(let p=r;p<n;p++)u+=cu(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,m,g,O,y){for(let v=g;v<O;){let k=v,C=m[v],A=cu(t,p[v]);for(v++;v<O;v++){let P=cu(t,p[v]);if(A+P>=c)break;A+=P}if(v==k+1){if(A>c){let P=p[k];d(P.children,P.positions,0,P.children.length,m[k]+y);continue}h.push(p[k])}else{let P=m[v-1]+p[v-1].length-C;h.push(Cd(t,p,m,k,v,C,P,null,l))}f.push(C+y-s)}}return d(e,i,r,n,0),(a||l)(h,f,o)}var ps=class{constructor(){this.map=new WeakMap}setBuffer(e,i,r){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(i,r)}getBuffer(e,i){let r=this.map.get(e);return r&&r.get(i)}set(e,i){e instanceof mn?this.setBuffer(e.context.buffer,e.index,i):e instanceof Et&&this.map.set(e.tree,i)}get(e){return e instanceof mn?this.getBuffer(e.context.buffer,e.index):e instanceof Et?this.map.get(e.tree):void 0}cursorSet(e,i){e.buffer?this.setBuffer(e.buffer.buffer,e.index,i):this.map.set(e.tree,i)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Hi=class t{constructor(e,i,r,n,s=!1,o=!1){this.from=e,this.to=i,this.tree=r,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,i=[],r=!1){let n=[new t(0,e.length,e,0,!1,r)];for(let s of i)s.to>e.length&&n.push(s);return n}static applyChanges(e,i,r=128){if(!i.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<i.length?i[a]:null,h=c?c.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||u){let d=Math.max(f.from,l)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new t(d,p,f.tree,f.offset+u,a>0,!!c)}if(f&&n.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return n}},ms=class{startParse(e,i,r){return typeof e=="string"&&(e=new xd(e)),r=r?r.length?r.map(n=>new Tt(n.from,n.to)):[new Tt(0,0)]:[new Tt(0,e.length)],this.createParse(e,i||[],r)}parse(e,i,r){let n=this.startParse(e,i,r);for(;;){let s=n.advance();if(s)return s}}},xd=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,i){return this.string.slice(e,i)}};function F0(t){return(e,i,r,n)=>new Sd(e,t,i,r,n)}var fu=class{constructor(e,i,r,n,s){this.parser=e,this.parse=i,this.overlay=r,this.target=n,this.from=s}};function q0(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}var wd=class{constructor(e,i,r,n,s,o,a){this.parser=e,this.predicate=i,this.mounts=r,this.index=n,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}},_d=new re({perNode:!0}),Sd=class{constructor(e,i,r,n,s){this.nest=i,this.input=r,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Me(r.type,r.children,r.positions,r.length,r.propValues.concat([[_d,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],i=e.parse.advance();if(i){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[re.mounted.id]=new pn(i,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].from<e&&(e=Math.min(e,this.inner[i].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].parse.stopAt(e)}startInner(){let e=new kd(this.fragments),i=null,r=null,n=new ds(new Et(this.baseTree,this.ranges[0].from,0,null),be.IncludeAnonymous|be.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&n.from>=this.stoppedAt)a=!1;else if(e.hasNode(n)){if(i){let u=i.mounts.find(c=>c.frag.from<=n.from&&c.frag.to>=n.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let h=c.from+u.pos,f=c.to+u.pos;h>=n.from&&f<=n.to&&!i.ranges.some(d=>d.from<f&&d.to>h)&&i.ranges.push({from:h,to:f})}}a=!1}else if(r&&(o=MT(r.ranges,n.from,n.to)))a=o!=2;else if(!n.type.isAnonymous&&(s=this.nest(n,this.input))&&(n.from<n.to||!s.overlay)){n.tree||$T(n);let u=e.findMounts(n.from,s.parser);if(typeof s.overlay=="function")i=new wd(s.parser,s.overlay,u,this.inner.length,n.from,n.tree,i);else{let c=W0(this.ranges,s.overlay||(n.from<n.to?[new Tt(n.from,n.to)]:[]));c.length&&q0(c),(c.length||!s.overlay)&&this.inner.push(new fu(s.parser,c.length?s.parser.startParse(this.input,j0(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new Tt(h.from-n.from,h.to-n.from)):null,n.tree,c.length?c[0].from:n.from)),s.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):a=!1}}else i&&(l=i.predicate(n))&&(l===!0&&(l=new Tt(n.from,n.to)),l.from<l.to&&i.ranges.push(l));if(a&&n.firstChild())i&&i.depth++,r&&r.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(i&&!--i.depth){let u=W0(this.ranges,i.ranges);u.length&&(q0(u),this.inner.splice(i.index,0,new fu(i.parser,i.parser.startParse(this.input,j0(i.mounts,u),u),i.ranges.map(c=>new Tt(c.from-i.start,c.to-i.start)),i.target,u[0].from))),i=i.prev}r&&!--r.depth&&(r=r.prev)}}}};function MT(t,e,i){for(let r of t){if(r.from>=i)break;if(r.to>e)return r.from<=e&&r.to>=i?2:1}return 0}function Z0(t,e,i,r,n,s){if(e<i){let o=t.buffer[e+1];r.push(t.slice(e,i,o)),n.push(o-s)}}function $T(t){let{node:e}=t,i=[],r=e.context.buffer;do i.push(t.index),t.parent();while(!t.tree);let n=t.tree,s=n.children.indexOf(r),o=n.children[s],a=o.buffer,l=[s];function u(c,h,f,d,p,m){let g=i[m],O=[],y=[];Z0(o,c,g,O,y,d);let v=a[g+1],k=a[g+2];l.push(O.length);let C=m?u(g+4,a[g+3],o.set.types[a[g]],v,k-v,m-1):e.toTree();return O.push(C),y.push(v-d),Z0(o,a[g+3],h,O,y,d),new Me(f,O,y,p)}n.children[s]=u(0,a.length,nt.none,0,o.length,i.length-1);for(let c of l){let h=t.tree.children[c],f=t.tree.positions[c];t.yield(new Et(h,f+t.from,c,t._tree))}}var du=class{constructor(e,i){this.offset=i,this.done=!1,this.cursor=e.cursor(be.IncludeAnonymous|be.IgnoreMounts)}moveTo(e){let{cursor:i}=this,r=e-this.offset;for(;!this.done&&i.from<r;)i.to>=e&&i.enter(r,1,be.IgnoreOverlays|be.ExcludeBuffers)||i.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let i=this.cursor.tree;;){if(i==e.tree)return!0;if(i.children.length&&i.positions[0]==0&&i.children[0]instanceof Me)i=i.children[0];else break}return!1}},kd=class{constructor(e){var i;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(i=r.tree.prop(_d))!==null&&i!==void 0?i:r.to,this.inner=new du(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let i=this.curFrag=this.fragments[this.fragI];this.curTo=(e=i.tree.prop(_d))!==null&&e!==void 0?e:i.to,this.inner=new du(i.tree,-i.offset)}}findMounts(e,i){var r;let n=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(re.mounted);if(o&&o.parser==i)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&n.push({frag:l,pos:s.from-l.offset,mount:o})}}}return n}};function W0(t,e){let i=null,r=e;for(let n=1,s=0;n<t.length;n++){let o=t[n-1].to,a=t[n].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(i||(r=i=e.slice()),l.from<o?(i[s]=new Tt(l.from,o),l.to>a&&i.splice(s+1,0,new Tt(a,l.to))):l.to>a?i[s--]=new Tt(a,l.to):i.splice(s--,1))}}return r}function RT(t,e,i,r){let n=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=n==t.length?1e9:o?t[n].to:t[n].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,i),d=Math.min(c,h,r);f<d&&u.push(new Tt(f,d))}if(l=Math.min(c,h),l==1e9)break;c==l&&(o?(o=!1,n++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return u}function j0(t,e){let i=[];for(let{pos:r,mount:n,frag:s}of t){let o=r+(n.overlay?n.overlay[0].from:0),a=o+n.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(n.overlay){let c=n.overlay.map(f=>new Tt(f.from+r,f.to+r)),h=RT(e,c,l,u);for(let f=0,d=l;;f++){let p=f==h.length,m=p?u:h[f].from;if(m>d&&i.push(new Hi(d,m,n.tree,-o,s.from>=d||s.openStart,s.to<=m||s.openEnd)),p)break;d=h[f].to}}else i.push(new Hi(l,u,n.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return i}var IT=0,di=class t{constructor(e,i,r,n){this.name=e,this.set=i,this.base=r,this.modified=n,this.id=IT++}toString(){let{name:e}=this;for(let i of this.modified)i.name&&(e=`${i.name}(${e})`);return e}static define(e,i){let r=typeof e=="string"?e:"?";if(e instanceof t&&(i=e),i!=null&&i.base)throw new Error("Can not derive from a modified tag");let n=new t(r,[],null,[]);if(n.set.push(n),i)for(let s of i.set)n.set.push(s);return n}static defineModifier(e){let i=new Ou(e);return r=>r.modified.indexOf(i)>-1?r:Ou.get(r.base||r,r.modified.concat(i).sort((n,s)=>n.id-s.id))}},DT=0,Ou=class t{constructor(e){this.name=e,this.instances=[],this.id=DT++}static get(e,i){if(!i.length)return e;let r=i[0].instances.find(a=>a.base==e&&LT(i,a.modified));if(r)return r;let n=[],s=new di(e.name,n,e,i);for(let a of i)a.instances.push(s);let o=VT(i);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(t.get(a,l));return s}};function LT(t,e){return t.length==e.length&&t.every((i,r)=>i==e[r])}function VT(t){let e=[[]];for(let i=0;i<t.length;i++)for(let r=0,n=e.length;r<n;r++)e.push(e[r].concat(t[i]));return e.sort((i,r)=>r.length-i.length)}function Ii(t){let e=Object.create(null);for(let i in t){let r=t[i];Array.isArray(r)||(r=[r]);for(let n of i.split(" "))if(n){let s=[],o=2,a=n;for(let h=0;;){if(a=="..."&&h>0&&h+3==n.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+n);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==n.length)break;let d=n[h++];if(h==n.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+n);a=n.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+n);let c=new gs(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return G0.add(e)}var G0=new re,gs=class{constructor(e,i,r,n){this.tags=e,this.mode=i,this.context=r,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};gs.empty=new gs([],2,null);function Ad(t,e){let i=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))i[s.tag.id]=s.class;else for(let o of s.tag)i[o.id]=s.class;let{scope:r,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let u=i[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function NT(t,e){let i=null;for(let r of t){let n=r.style(e);n&&(i=i?i+" "+n:n)}return i}function K0(t,e,i,r=0,n=t.length){let s=new Ed(r,Array.isArray(e)?e:[e],i);s.highlightRange(t.cursor(),r,n,"",s.highlighters),s.flush(n)}var Ed=class{constructor(e,i,r){this.at=e,this.highlighters=i,this.span=r,this.class=""}startSpan(e,i){i!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=i)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,i,r,n,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=i)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=n,c=zT(e)||gs.empty,h=NT(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(n+=(n?" ":"")+h)),this.startSpan(Math.max(i,a),u),c.opaque)return;let f=e.tree&&e.tree.prop(re.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(f.tree.type)),m=e.firstChild();for(let g=0,O=a;;g++){let y=g<f.overlay.length?f.overlay[g]:null,v=y?y.from+a:l,k=Math.max(i,O),C=Math.min(r,v);if(k<C&&m)for(;e.from<C&&(this.highlightRange(e,k,C,n,s),this.startSpan(Math.min(C,e.to),u),!(e.to>=v||!e.nextSibling())););if(!y||v>r)break;O=y.to+a,O>i&&(this.highlightRange(d.cursor(),Math.max(i,y.from+a),Math.min(r,O),"",p),this.startSpan(Math.min(r,O),u))}m&&e.parent()}else if(e.firstChild()){f&&(n="");do if(!(e.to<=i)){if(e.from>=r)break;this.highlightRange(e,i,r,n,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}};function zT(t){let e=t.type.prop(G0);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}var Z=di.define,pu=Z(),Qr=Z(),U0=Z(Qr),H0=Z(Qr),Ar=Z(),mu=Z(Ar),Td=Z(Ar),Ri=Z(),gn=Z(Ri),Mi=Z(),$i=Z(),Qd=Z(),Ko=Z(Qd),gu=Z(),T={comment:pu,lineComment:Z(pu),blockComment:Z(pu),docComment:Z(pu),name:Qr,variableName:Z(Qr),typeName:U0,tagName:Z(U0),propertyName:H0,attributeName:Z(H0),className:Z(Qr),labelName:Z(Qr),namespace:Z(Qr),macroName:Z(Qr),literal:Ar,string:mu,docString:Z(mu),character:Z(mu),attributeValue:Z(mu),number:Td,integer:Z(Td),float:Z(Td),bool:Z(Ar),regexp:Z(Ar),escape:Z(Ar),color:Z(Ar),url:Z(Ar),keyword:Mi,self:Z(Mi),null:Z(Mi),atom:Z(Mi),unit:Z(Mi),modifier:Z(Mi),operatorKeyword:Z(Mi),controlKeyword:Z(Mi),definitionKeyword:Z(Mi),moduleKeyword:Z(Mi),operator:$i,derefOperator:Z($i),arithmeticOperator:Z($i),logicOperator:Z($i),bitwiseOperator:Z($i),compareOperator:Z($i),updateOperator:Z($i),definitionOperator:Z($i),typeOperator:Z($i),controlOperator:Z($i),punctuation:Qd,separator:Z(Qd),bracket:Ko,angleBracket:Z(Ko),squareBracket:Z(Ko),paren:Z(Ko),brace:Z(Ko),content:Ri,heading:gn,heading1:Z(gn),heading2:Z(gn),heading3:Z(gn),heading4:Z(gn),heading5:Z(gn),heading6:Z(gn),contentSeparator:Z(Ri),list:Z(Ri),quote:Z(Ri),emphasis:Z(Ri),strong:Z(Ri),link:Z(Ri),monospace:Z(Ri),strikethrough:Z(Ri),inserted:Z(),deleted:Z(),changed:Z(),invalid:Z(),meta:gu,documentMeta:Z(gu),annotation:Z(gu),processingInstruction:Z(gu),definition:di.defineModifier("definition"),constant:di.defineModifier("constant"),function:di.defineModifier("function"),standard:di.defineModifier("standard"),local:di.defineModifier("local"),special:di.defineModifier("special")};for(let t in T){let e=T[t];e instanceof di&&(e.name=t)}var Mz=Ad([{tag:T.link,class:"tok-link"},{tag:T.heading,class:"tok-heading"},{tag:T.emphasis,class:"tok-emphasis"},{tag:T.strong,class:"tok-strong"},{tag:T.keyword,class:"tok-keyword"},{tag:T.atom,class:"tok-atom"},{tag:T.bool,class:"tok-bool"},{tag:T.url,class:"tok-url"},{tag:T.labelName,class:"tok-labelName"},{tag:T.inserted,class:"tok-inserted"},{tag:T.deleted,class:"tok-deleted"},{tag:T.literal,class:"tok-literal"},{tag:T.string,class:"tok-string"},{tag:T.number,class:"tok-number"},{tag:[T.regexp,T.escape,T.special(T.string)],class:"tok-string2"},{tag:T.variableName,class:"tok-variableName"},{tag:T.local(T.variableName),class:"tok-variableName tok-local"},{tag:T.definition(T.variableName),class:"tok-variableName tok-definition"},{tag:T.special(T.variableName),class:"tok-variableName2"},{tag:T.definition(T.propertyName),class:"tok-propertyName tok-definition"},{tag:T.typeName,class:"tok-typeName"},{tag:T.namespace,class:"tok-namespace"},{tag:T.className,class:"tok-className"},{tag:T.macroName,class:"tok-macroName"},{tag:T.propertyName,class:"tok-propertyName"},{tag:T.operator,class:"tok-operator"},{tag:T.comment,class:"tok-comment"},{tag:T.meta,class:"tok-meta"},{tag:T.invalid,class:"tok-invalid"},{tag:T.punctuation,class:"tok-punctuation"}]);var Md,Os=new re;function Wd(t){return W.define({combine:t?e=>e.concat(t):void 0})}var vu=new re,Nt=class{constructor(e,i,r=[],n=""){this.data=e,this.name=n,Se.prototype.hasOwnProperty("tree")||Object.defineProperty(Se.prototype,"tree",{get(){return Pe(this)}}),this.parser=i,this.extension=[Mr.of(this),Se.languageData.of((s,o,a)=>{let l=J0(s,o,a),u=l.type.prop(Os);if(!u)return[];let c=s.facet(u),h=l.type.prop(vu);if(h){let f=l.resolve(o-l.from,a);for(let d of h)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,i,r=-1){return J0(e,i,r).type.prop(Os)==this.data}findRegions(e){let i=e.facet(Mr);if((i==null?void 0:i.data)==this.data)return[{from:0,to:e.doc.length}];if(!i||!i.allowsNesting)return[];let r=[],n=(s,o)=>{if(s.prop(Os)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(re.mounted);if(a){if(a.tree.prop(Os)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(n(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Me&&n(u,s.positions[l]+o)}};return n(Pe(e),0),r}get allowsNesting(){return!0}};Nt.setState=ee.define();function J0(t,e,i){let r=t.facet(Mr),n=Pe(t).topNode;if(!r||r.allowsNesting)for(let s=n;s;s=s.enter(e,i,be.ExcludeBuffers))s.type.isTop&&(n=s);return n}var Di=class t extends Nt{constructor(e,i,r){super(e,i,[],r),this.parser=i}static define(e){let i=Wd(e.languageData);return new t(i,e.parser.configure({props:[Os.add(r=>r.isTop?i:void 0)]}),e.name)}configure(e,i){return new t(this.data,this.parser.configure(e),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Pe(t){let e=t.field(Nt.state,!1);return e?e.tree:Me.empty}var Dd=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,i){let r=this.cursorPos-this.string.length;return e<r||i>=this.cursorPos?this.doc.sliceString(e,i):this.string.slice(e-r,i-r)}},Jo=null,Ld=class t{constructor(e,i,r=[],n,s,o,a,l){this.parser=e,this.state=i,this.fragments=r,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,i,r){return new t(e,i,[],Me.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Dd(this.state.doc),this.fragments)}work(e,i){return i!=null&&i>=this.state.doc.length&&(i=void 0),this.tree!=Me.empty&&this.isDone(i!=null?i:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),i!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Hi.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(i!=null?i:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,i;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=e,this.tree=i,this.fragments=this.withoutTempSkipped(Hi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let i=Jo;Jo=this;try{return e()}finally{Jo=i}}withoutTempSkipped(e){for(let i;i=this.tempSkipped.pop();)e=ey(e,i.from,i.to);return e}changes(e,i){let{fragments:r,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,f)=>l.push({fromA:u,toA:c,fromB:h,toB:f})),r=Hi.applyChanges(r,l),n=Me.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new t(this.parser,i,r,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let i=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:n,to:s}=this.skipped[r];n<e.to&&s>e.from&&(this.fragments=ey(this.fragments,n,s),this.skipped.splice(r--,1))}return this.skipped.length>=i?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,i){this.skipped.push({from:e,to:i})}static getSkippingParser(e){return new class extends ms{createParse(i,r,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=Jo;if(l){for(let u of n)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Me(nt.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let i=this.fragments;return this.treeLen>=e&&i.length&&i[0].from==0&&i[0].to>=e}static get(){return Jo}};function ey(t,e,i){return Hi.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}var ta=class t{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,r)||i.takeTree(),new t(i)}static init(e){let i=Math.min(3e3,e.doc.length),r=Ld.create(e.facet(Mr).parser,e,{from:0,to:i});return r.work(20,i)||r.takeTree(),new t(r)}};Nt.state=Ae.define({create:ta.init,update(t,e){for(let i of e.effects)if(i.is(Nt.setState))return i.value;return e.startState.facet(Mr)!=e.state.facet(Mr)?ta.init(e.state):t.apply(e)}});var sy=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(sy=t=>{let e=-1,i=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});var $d=typeof navigator!="undefined"&&(!((Md=navigator.scheduling)===null||Md===void 0)&&Md.isInputPending)?()=>navigator.scheduling.isInputPending():null,BT=Ie.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let i=this.view.state.field(Nt.state).context;(i.updateViewport(e.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:e}=this.view,i=e.field(Nt.state);(i.tree!=i.context.tree||!i.context.isDone(e.doc.length))&&(this.working=sy(this.work))}work(e){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,s=r.field(Nt.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!$d?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&r.doc.length>n+1e3,l=s.context.work(()=>$d&&$d()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-i,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Nt.setState.of(new ta(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(i=>rt(this.view.state,i)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Mr=W.define({combine(t){return t.length?t[0]:null},enables:t=>[Nt.state,BT,q.contentAttributes.compute([t],e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}})]}),Li=class{constructor(e,i=[]){this.language=e,this.support=i,this.extension=[e,i]}};var qT=W.define(),ys=W.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(i=>i!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ia(t){let e=t.facet(ys);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function vs(t,e){let i="",r=t.tabSize,n=t.facet(ys)[0];if(n=="	"){for(;e>=r;)i+="	",e-=r;n=" "}for(let s=0;s<e;s++)i+=n;return i}function xu(t,e){t instanceof Se&&(t=new On(t));for(let r of t.state.facet(qT)){let n=r(t,e);if(n!==void 0)return n}let i=Pe(t.state);return i.length>=e?ZT(t,i,e):null}var On=class{constructor(e,i={}){this.state=e,this.options=i,this.unit=ia(e)}lineAt(e,i=1){let r=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=r.from&&n<=r.to?s&&n==e?{text:"",from:e}:(i<0?n<e:n<=e)?{text:r.text.slice(n-r.from),from:n}:{text:r.text.slice(0,n-r.from),from:r.from}:r}textAfterPos(e,i=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:n}=this.lineAt(e,i);return r.slice(e-n,Math.min(r.length,e+100-n))}column(e,i=1){let{text:r,from:n}=this.lineAt(e,i),s=this.countColumn(r,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,i=e.length){return Yi(e,this.state.tabSize,i)}lineIndent(e,i=1){let{text:r,from:n}=this.lineAt(e,i),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}},Gi=new re;function ZT(t,e,i){let r=e.resolveStack(i),n=r.node.enterUnfinishedNodesBefore(i);if(n!=r.node){let s=[];for(let o=n;o!=r.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return oy(r,t,i)}function oy(t,e,i){for(let r=t;r;r=r.next){let n=jT(r.node);if(n)return n(Vd.create(e,i,r))}return 0}function WT(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function jT(t){let e=t.type.prop(Gi);if(e)return e;let i=t.firstChild,r;if(i&&(r=i.type.prop(re.closedBy))){let n=t.lastChild,s=n&&r.indexOf(n.name)>-1;return o=>ly(o,!0,1,void 0,s&&!WT(o)?n.from:void 0)}return t.parent==null?XT:null}function XT(){return 0}var Vd=class t extends On{constructor(e,i,r){super(e.state,e.options),this.base=e,this.pos=i,this.context=r}get node(){return this.context.node}static create(e,i,r){return new t(e,i,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let i=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(i.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(YT(r,e))break;i=this.state.doc.lineAt(r.from)}return this.lineIndent(i.from)}continue(){return oy(this.context.next,this.base,this.pos)}};function YT(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}function FT(t){let e=t.node,i=e.childAfter(e.from),r=e.lastChild;if(!i)return null;let n=t.options.simulateBreak,s=t.state.doc.lineAt(i.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=i.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(i.to-s.from))[0].length;return{from:i.from,to:i.to+u}}a=l.to}}function ay({closing:t,align:e=!0,units:i=1}){return r=>ly(r,e,i,t)}function ly(t,e,i,r,n){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||n==t.pos+o,l=e?FT(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*i)}var uy=t=>t.baseIndent;function Ki({except:t,units:e=1}={}){return i=>{let r=t&&t.test(i.textAfter);return i.baseIndent+(r?0:e*i.unit)}}var UT=200;function cy(){return Se.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:r}=t.newSelection.main,n=i.lineAt(r);if(r>n.from+UT)return t;let s=i.sliceString(n.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let h=xu(o,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=vs(o,h);f!=d&&l.push({from:c.from,to:c.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}var HT=W.define(),Ji=new re;function xs(t){let e=t.firstChild,i=t.lastChild;return e&&e.to<i.from?{from:e.to,to:i.type.isError?t.to:i.from}:null}function GT(t,e,i){let r=Pe(t);if(r.length<i)return null;let n=r.resolveStack(i,1),s=null;for(let o=n;o;o=o.next){let a=o.node;if(a.to<=i||a.from>i)continue;if(s&&a.from<e)break;let l=a.type.prop(Ji);if(l&&(a.to<r.length-50||r.length==t.doc.length||!KT(a))){let u=l(a,t);u&&u.from<=i&&u.from>=e&&u.to>i&&(s=u)}}return s}function KT(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function bu(t,e,i){for(let r of t.facet(HT)){let n=r(t,e,i);if(n)return n}return GT(t,e,i)}function hy(t,e){let i=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return i>=r?void 0:{from:i,to:r}}var wu=ee.define({map:hy}),ra=ee.define({map:hy});function fy(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some(r=>r.from<=i&&r.to>=i)||e.push(t.lineBlockAt(i));return e}var bn=Ae.define({create(){return U.none},update(t,e){t=t.map(e.changes);for(let i of e.effects)if(i.is(wu)&&!JT(t,i.value.from,i.value.to)){let{preparePlaceholder:r}=e.state.facet(jd),n=r?U.replace({widget:new Nd(r(e.state,i.value))}):ty;t=t.update({add:[n.range(i.value.from,i.value.to)]})}else i.is(ra)&&(t=t.update({filter:(r,n)=>i.value.from!=r||i.value.to!=n,filterFrom:i.value.from,filterTo:i.value.to}));if(e.selection){let i=!1,{head:r}=e.selection.main;t.between(r,r,(n,s)=>{n<r&&s>r&&(i=!0)}),i&&(t=t.update({filterFrom:r,filterTo:r,filter:(n,s)=>s<=r||n>=r}))}return t},provide:t=>q.decorations.from(t),toJSON(t,e){let i=[];return t.between(0,e.doc.length,(r,n)=>{i.push(r,n)}),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let i=0;i<t.length;){let r=t[i++],n=t[i++];if(typeof r!="number"||typeof n!="number")throw new RangeError("Invalid JSON for fold state");e.push(ty.range(r,n))}return U.set(e,!0)}});function yu(t,e,i){var r;let n=null;return(r=t.field(bn,!1))===null||r===void 0||r.between(e,i,(s,o)=>{(!n||n.from>s)&&(n={from:s,to:o})}),n}function JT(t,e,i){let r=!1;return t.between(e,e,(n,s)=>{n==e&&s==i&&(r=!0)}),r}function dy(t,e){return t.field(bn,!1)?e:e.concat(ee.appendConfig.of(gy()))}var eE=t=>{for(let e of fy(t)){let i=bu(t.state,e.from,e.to);if(i)return t.dispatch({effects:dy(t.state,[wu.of(i),py(t,i)])}),!0}return!1},tE=t=>{if(!t.state.field(bn,!1))return!1;let e=[];for(let i of fy(t)){let r=yu(t.state,i.from,i.to);r&&e.push(ra.of(r),py(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function py(t,e,i=!0){let r=t.state.doc.lineAt(e.from).number,n=t.state.doc.lineAt(e.to).number;return q.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${n}.`)}var iE=t=>{let{state:e}=t,i=[];for(let r=0;r<e.doc.length;){let n=t.lineBlockAt(r),s=bu(e,n.from,n.to);s&&i.push(wu.of(s)),r=(s?t.lineBlockAt(s.to):n).to+1}return i.length&&t.dispatch({effects:dy(t.state,i)}),!!i.length},rE=t=>{let e=t.state.field(bn,!1);if(!e||!e.size)return!1;let i=[];return e.between(0,t.state.doc.length,(r,n)=>{i.push(ra.of({from:r,to:n}))}),t.dispatch({effects:i}),!0};var my=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:eE},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:tE},{key:"Ctrl-Alt-[",run:iE},{key:"Ctrl-Alt-]",run:rE}],nE={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},jd=W.define({combine(t){return ct(t,nE)}});function gy(t){let e=[bn,oE];return t&&e.push(jd.of(t)),e}function Oy(t,e){let{state:i}=t,r=i.facet(jd),n=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=yu(t.state,a.from,a.to);l&&t.dispatch({effects:ra.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,n,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}var ty=U.replace({widget:new class extends Ct{toDOM(t){return Oy(t,null)}}}),Nd=class extends Ct{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Oy(e,this.value)}},sE={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1},ea=class extends Vt{constructor(e,i){super(),this.config=e,this.open=i}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=e.state.phrase(this.open?"Fold line":"Unfold line"),i}};function by(t={}){let e=Object.assign(Object.assign({},sE),t),i=new ea(e,!0),r=new ea(e,!1),n=Ie.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Mr)!=o.state.facet(Mr)||o.startState.field(bn,!1)!=o.state.field(bn,!1)||Pe(o.startState)!=Pe(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new hi;for(let l of o.viewportLineBlocks){let u=yu(o.state,l.from,l.to)?r:bu(o.state,l.from,l.to)?i:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[n,gd({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(n))===null||a===void 0?void 0:a.markers)||Oe.empty},initialSpacer(){return new ea(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=yu(o.state,a.from,a.to);if(u)return o.dispatch({effects:ra.of(u)}),!0;let c=bu(o.state,a.from,a.to);return c?(o.dispatch({effects:wu.of(c)}),!0):!1}})}),gy()]}var oE=q.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),bs=class t{constructor(e,i){this.specs=e;let r;function n(a){let l=Ht.newName();return(r||(r=Object.create(null)))["."+l]=a,l}let s=typeof i.all=="string"?i.all:i.all?n(i.all):void 0,o=i.scope;this.scope=o instanceof Nt?a=>a.prop(Os)==o.data:o?a=>a==o:void 0,this.style=Ad(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Ht(r):null,this.themeType=i.themeType}static define(e,i){return new t(e,i||{})}},zd=W.define(),yy=W.define({combine(t){return t.length?[t[0]]:null}});function Rd(t){let e=t.facet(zd);return e.length?e:t.facet(yy)}function na(t,e){let i=[aE],r;return t instanceof bs&&(t.module&&i.push(q.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?i.push(yy.of(t)):r?i.push(zd.computeN([q.darkTheme],n=>n.facet(q.darkTheme)==(r=="dark")?[t]:[])):i.push(zd.of(t)),i}var Bd=class{constructor(e){this.markCache=Object.create(null),this.tree=Pe(e.state),this.decorations=this.buildDeco(e,Rd(e.state)),this.decoratedTo=e.viewport.to}update(e){let i=Pe(e.state),r=Rd(e.state),n=r!=Rd(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);i.length<s.to&&!n&&i.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(i!=this.tree||e.viewportChanged||n)&&(this.tree=i,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,i){if(!i||!this.tree.length)return U.none;let r=new hi;for(let{from:n,to:s}of e.visibleRanges)K0(this.tree,i,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=U.mark({class:l})))},n,s);return r.finish()}},aE=Ut.high(Ie.fromClass(Bd,{decorations:t=>t.decorations})),vy=bs.define([{tag:T.meta,color:"#404740"},{tag:T.link,textDecoration:"underline"},{tag:T.heading,textDecoration:"underline",fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strong,fontWeight:"bold"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.keyword,color:"#708"},{tag:[T.atom,T.bool,T.url,T.contentSeparator,T.labelName],color:"#219"},{tag:[T.literal,T.inserted],color:"#164"},{tag:[T.string,T.deleted],color:"#a11"},{tag:[T.regexp,T.escape,T.special(T.string)],color:"#e40"},{tag:T.definition(T.variableName),color:"#00f"},{tag:T.local(T.variableName),color:"#30a"},{tag:[T.typeName,T.namespace],color:"#085"},{tag:T.className,color:"#167"},{tag:[T.special(T.variableName),T.macroName],color:"#256"},{tag:T.definition(T.propertyName),color:"#00c"},{tag:T.comment,color:"#940"},{tag:T.invalid,color:"#f00"}]),lE=q.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),xy=1e4,wy="()[]{}",_y=W.define({combine(t){return ct(t,{afterCursor:!0,brackets:wy,maxScanDistance:xy,renderMatch:hE})}}),uE=U.mark({class:"cm-matchingBracket"}),cE=U.mark({class:"cm-nonmatchingBracket"});function hE(t){let e=[],i=t.matched?uE:cE;return e.push(i.range(t.start.from,t.start.to)),t.end&&e.push(i.range(t.end.from,t.end.to)),e}var fE=Ae.define({create(){return U.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let i=[],r=e.state.facet(_y);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=pi(e.state,n.head,-1,r)||n.head>0&&pi(e.state,n.head-1,1,r)||r.afterCursor&&(pi(e.state,n.head,1,r)||n.head<e.state.doc.length&&pi(e.state,n.head+1,-1,r));s&&(i=i.concat(r.renderMatch(s,e.state)))}return U.set(i,!0)},provide:t=>q.decorations.from(t)}),dE=[fE,lE];function Sy(t={}){return[_y.of(t),dE]}var Xd=new re;function qd(t,e,i){let r=t.prop(e<0?re.openedBy:re.closedBy);if(r)return r;if(t.name.length==1){let n=i.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[i[n+e]]}return null}function Zd(t){let e=t.type.prop(Xd);return e?e(t.node):t}function pi(t,e,i,r={}){let n=r.maxScanDistance||xy,s=r.brackets||wy,o=Pe(t),a=o.resolveInner(e,i);for(let l=a;l;l=l.parent){let u=qd(l.type,i,s);if(u&&l.from<l.to){let c=Zd(l);if(c&&(i>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return pE(t,e,i,l,c,u,s)}}return mE(t,e,i,o,a.type,n,s)}function pE(t,e,i,r,n,s,o){let a=r.parent,l={from:n.from,to:n.to},u=0,c=a==null?void 0:a.cursor();if(c&&(i<0?c.childBefore(r.from):c.childAfter(r.to)))do if(i<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=Zd(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(qd(c.type,i,o))u++;else if(qd(c.type,-i,o)){if(u==0){let h=Zd(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(i<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function mE(t,e,i,r,n,s,o){let a=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=i>0)return null;let u={from:i<0?e-1:e,to:i>0?e+1:e},c=t.doc.iterRange(e,i>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=s;){let d=c.value;i<0&&(f+=d.length);let p=e+f*i;for(let m=i>0?0:d.length-1,g=i>0?d.length:-1;m!=g;m+=i){let O=o.indexOf(d[m]);if(!(O<0||r.resolveInner(p+m,1).type!=n))if(O%2==0==i>0)h++;else{if(h==1)return{start:u,end:{from:p+m,to:p+m+1},matched:O>>1==l>>1};h--}}i>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}var gE=Object.create(null),iy=[nt.none];var ry=[],ny=Object.create(null),OE=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])OE[t]=bE(gE,e);function Id(t,e){ry.indexOf(t)>-1||(ry.push(t),console.warn(e))}function bE(t,e){let i=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||T[u];c?typeof c=="function"?l.length?l=l.map(c):Id(u,`Modifier ${u} used at start of tag`):l.length?Id(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:Id(u,`Unknown highlighting tag ${u}`)}for(let u of l)i.push(u)}if(!i.length)return 0;let r=e.replace(/ /g,"_"),n=r+" "+i.map(a=>a.id),s=ny[n];if(s)return s.id;let o=ny[n]=nt.define({id:iy.length,name:r,props:[Ii({[r]:i})]});return iy.push(o),o.id}var zz={rtl:U.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:_e.RTL}),ltr:U.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:_e.LTR}),auto:U.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var Ud=class t{constructor(e,i,r,n,s,o,a,l,u,c=0,h){this.p=e,this.stack=i,this.state=r,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,i,r=0){let n=e.parser.context;return new t(e,[],i,r,r,0,[],0,n?new _u(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var i;let r=e>>19,n=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(n);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((i=this.p.parser.nodeSet.types[n])===null||i===void 0)&&i.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let h=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-h;if(n<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,u,d,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,n,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(n,u)}storeNode(e,i,r,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(i==r)return;if(o.buffer[a-2]>=i){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,i,r,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4)}this.buffer[o]=e,this.buffer[o+1]=i,this.buffer[o+2]=r,this.buffer[o+3]=n}}shift(e,i,r,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(i,r),i<=this.p.parser.maxNode&&this.buffer.push(i,r,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||i<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,r),this.shiftContext(i,r),i<=o.maxNode&&this.buffer.push(i,r,n,4)}}apply(e,i,r,n){e&65536?this.reduce(e):this.shift(e,i,r,n)}useNode(e,i){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(i,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,i=e.buffer.length;for(;i>0&&e.buffer[i-2]>e.reducePos;)i-=4;let r=e.buffer.slice(i),n=e.bufferBase+i;for(;e&&n==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,i){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,i,4),this.storeNode(0,this.pos,i,r?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(e){for(let i=new Hd(this);;){let r=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,e);if(r==0)return!1;if(!(r&65536))return!0;i.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<i.length;s+=2)(o=i[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(i[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<i.length;s+=2){let o=i[s+1];n.some((a,l)=>l&1&&a==o)||n.push(i[s],o)}i=n}let r=[];for(let n=0;n<i.length&&r.length<4;n+=2){let s=i[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(i[n],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,i=e.stateSlot(this.state,5);if(!(i&65536))return!1;if(!e.validAction(this.state,i)){let r=i>>19,n=i&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;i=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:e}=this.p,i=[],r=(n,s)=>{if(!i.includes(n))return i.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=e.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(i)))}reduceContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(i)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let i=new _u(this.curContext.tracker,e);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},_u=class{constructor(e,i){this.tracker=e,this.context=i,this.hash=e.strict?e.hash(i):0}},Hd=class{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let i=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=n}},Gd=class t{constructor(e,i,r){this.stack=e,this.pos=i,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,i=e.bufferBase+e.buffer.length){return new t(e,i,i-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new t(this.stack,this.pos,this.index)}};function sa(t,e=Uint16Array){if(typeof t!="string")return t;let i=null;for(let r=0,n=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}i?i[n++]=s:i=new e(s)}return i}var ws=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},ky=new ws,Kd=class{constructor(e,i){this.input=e,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ky,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(e,i){let r=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!n)return null;let o=this.ranges[--n];s-=r.from-o.to,r=o}for(;i<0?s>r.to:s>=r.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let i of this.ranges)if(i.to>e)return Math.max(e,i.from);return this.end}peek(e){let i=this.chunkOff+e,r,n;if(i>=0&&i<this.chunk.length)r=this.pos+e,n=this.chunk.charCodeAt(i);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(e,i=0){let r=i?this.resolveOffset(i,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,i){this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),i=this.pos+e.length;this.chunk=i>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,i){if(i?(this.token=i,i.start=e,i.lookAhead=e+1,i.value=i.extended=-1):this.token=ky,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,i){if(e>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,i-this.chunkPos);if(e>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,i-this.chunk2Pos);if(e>=this.range.from&&i<=this.range.to)return this.input.read(e,i);let r="";for(let n of this.ranges){if(n.from>=i)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,i)))}return r}},$r=class{constructor(e,i){this.data=e,this.id=i}token(e,i){let{parser:r}=i.p;Qy(this.data,e,i,this.id,r.data,r.tokenPrecTable)}};$r.prototype.contextual=$r.prototype.fallback=$r.prototype.extend=!1;var Rr=class{constructor(e,i,r){this.precTable=i,this.elseToken=r,this.data=typeof e=="string"?sa(e):e}token(e,i){let r=e.pos,n=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(Qy(this.data,e,i,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,o==null)break;e.reset(o,e.token)}n&&(e.reset(r,e.token),e.acceptToken(this.elseToken,n))}};Rr.prototype.contextual=$r.prototype.fallback=$r.prototype.extend=!1;var ht=class{constructor(e,i={}){this.token=e,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend}};function Qy(t,e,i,r,n,s){let o=0,a=1<<r,{dialect:l}=i.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let d=o+3;d<u;d+=2)if((t[d+1]&a)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||vE(p,e.token.value,n,s))){e.acceptToken(p);break}}let c=e.next,h=0,f=t[o+2];if(e.next<0&&f>h&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;h<f;){let d=h+f>>1,p=u+d+(d<<1),m=t[p],g=t[p+1]||65536;if(c<m)f=d;else if(c>=g)h=d+1;else{o=t[p+2],e.advance();continue e}}break}}function Py(t,e,i){for(let r=e,n;(n=t[r])!=65535;r++)if(n==i)return r-e;return-1}function vE(t,e,i,r){let n=Py(i,r,e);return n<0||Py(i,r,t)<n}var zt=typeof process!="undefined"&&process.env&&/\bparse\b/.test(process.env.LOG),Yd=null;function Cy(t,e,i){let r=t.cursor(be.IncludeAnonymous);for(r.moveTo(e);;)if(!(i<0?r.childBefore(e):r.childAfter(e)))for(;;){if((i<0?r.to<e:r.from>e)&&!r.type.isError)return i<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(i<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return i<0?0:t.length}}var Jd=class{constructor(e,i){this.fragments=e,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Cy(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Cy(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let r=this.trees[i],n=this.index[i];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[n],o=this.start[i]+r.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof Me){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(re.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[i]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[i]++,this.nextStart=o+s.length}}},ep=class{constructor(e,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ws)}getActions(e){let i=0,r=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],h=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=i;if(h.extended>-1&&(i=this.addActions(e,h.extended,h.end,i)),i=this.addActions(e,h.value,h.end,i),!c.extend&&(r=h,i>f))break}}for(;this.actions.length>i;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ws,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,i=this.addActions(e,r.value,r.end,i)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let i=new ws,{pos:r,p:n}=e;return i.start=r,i.end=Math.min(r+1,n.stream.end),i.value=r==n.stream.end?n.parser.eofTerm:0,i}updateCachedToken(e,i,r){let n=this.stream.clipPos(r.pos);if(i.token(this.stream.reset(n,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,i,r,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=i,this.actions[n++]=r,n}addActions(e,i,r,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=er(a,u+2);else{n==0&&a[u+1]==2&&(n=this.putAction(er(a,u+2),i,r,n));break}a[u]==i&&(n=this.putAction(er(a,u+1),i,r,n))}return n}},tp=class{constructor(e,i,r,n){this.parser=e,this.input=i,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Kd(i,n),this.tokens=new ep(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[Ud.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Jd(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,i=this.minStackPos,r=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>i)r.push(a);else{if(this.advanceStack(a,r,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=n&&xE(n);if(o)return zt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw zt&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,r);if(o)return zt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>i)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,i,r){let n=e.pos,{parser:s}=this,o=zt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(n);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!u||(h.prop(re.contextHash)||0)==c))return e.useNode(h,f),zt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Me)||h.children.length==0||h.positions[0]>0)break;let d=h.children[0];if(d instanceof Me&&h.positions[0]==0)h=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),zt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],f=l[u++],d=u==l.length||!r,p=d?e:e.split(),m=this.tokens.mainToken;if(p.apply(c,h,m?m.start:p.pos,f),zt&&console.log(o+this.stackID(p)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${n}${p==e?"":", split"})`),d)return!0;p.pos>n?i.push(p):r.push(p)}return!1}advanceFully(e,i){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Ty(e,i),!0}}runRecovery(e,i,r){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=i[o<<1],u=i[(o<<1)+1],c=zt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),zt&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),f=c;for(let d=0;h.forceReduce()&&d<10&&(zt&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));d++)zt&&(f=this.stackID(h)+" -> ");for(let d of a.recoverByInsert(l))zt&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),zt&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Ty(a,r)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),Me.build({buffer:Gd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let i=(Yd||(Yd=new WeakMap)).get(e);return i||Yd.set(e,i=String.fromCodePoint(this.nextStackID++)),i+e}};function Ty(t,e){for(let i=0;i<e.length;i++){let r=e[i];if(r.pos==t.pos&&r.sameState(t)){e[i].score<t.score&&(e[i]=t);return}}e.push(t)}var ip=class{constructor(e,i,r){this.source=e,this.flags=i,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}},Fd=t=>t,_s=class{constructor(e){this.start=e.start,this.shift=e.shift||Fd,this.reduce=e.reduce||Fd,this.reuse=e.reuse||Fd,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}},Vi=class t extends ms{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let i=e.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let a=0;a<e.repeatNodeCount;a++)i.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<i.length;a++)n.push([]);function s(a,l,u){n[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=re[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let h=a[u+-c];for(let f=-c;f>0;f--)s(a[u++],l,h);u++}}}this.nodeSet=new Ho(i.map((a,l)=>nt.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=1024;let o=sa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Ey),this.states=sa(e.states,Uint32Array),this.data=sa(e.stateData),this.goto=sa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new $r(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,i,r){let n=new tp(this,e,i,r);for(let s of this.wrappers)n=s(n,e,i,r);return n}getGoto(e,i,r=!1){let n=this.goto;if(i>=n[0])return-1;for(let s=n[i+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,i){let r=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=er(r,s+2)];else{if(r[s+1]==2)return er(r,s+2);break}if(o==i||o==0)return er(r,s+1)}return 0}stateSlot(e,i){return this.states[e*6+i]}stateFlag(e,i){return(this.stateSlot(e,0)&i)>0}validAction(e,i){return!!this.allActions(e,r=>r==i?!0:null)}allActions(e,i){let r=this.stateSlot(e,4),n=r?i(r):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=er(this.data,s+2);else break;n=i(er(this.data,s+1))}return n}nextStates(e){let i=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=er(this.data,r+2);else break;if(!(this.data[r+2]&1)){let n=this.data[r+1];i.some((s,o)=>o&1&&s==n)||i.push(this.data[r],n)}}return i}configure(e){let i=Object.assign(Object.create(t.prototype),this);if(e.props&&(i.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);i.top=r}return e.tokenizers&&(i.tokenizers=this.tokenizers.map(r=>{let n=e.tokenizers.find(s=>s.from==r);return n?n.to:r})),e.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((r,n)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return i.specializers[n]=Ey(o),o})),e.contextTracker&&(i.context=e.contextTracker),e.dialect&&(i.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(i.strict=e.strict),e.wrap&&(i.wrappers=i.wrappers.concat(e.wrap)),e.bufferLength!=null&&(i.bufferLength=e.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let i=this.dynamicPrecedences;return i==null?0:i[e]||0}parseDialect(e){let i=Object.keys(this.dialects),r=i.map(()=>!1);if(e)for(let s of e.split(" ")){let o=i.indexOf(s);o>=0&&(r[o]=!0)}let n=null;for(let s=0;s<i.length;s++)if(!r[s])for(let o=this.dialects[i[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new ip(e,r,n)}static deserialize(e){return new t(e)}};function er(t,e){return t[e]|t[e+1]<<16}function xE(t){let e=null;for(let i of t){let r=i.p.stoppedAt;(i.pos==i.p.stream.end||r!=null&&i.pos>r)&&i.p.parser.stateFlag(i.state,2)&&(!e||e.score<i.score)&&(e=i)}return e}function Ey(t){if(t.external){let e=t.extend?1:0;return(i,r)=>t.external(i,r)<<1|e}return t.get}var wE=54,_E=1,SE=55,kE=2,PE=56,CE=3,Ay=4,TE=5,Su=6,Ny=7,zy=8,By=9,qy=10,EE=11,QE=12,AE=13,rp=57,ME=14,My=58,Zy=20,$E=22,Wy=23,RE=24,sp=26,jy=27,IE=28,DE=31,LE=34,VE=36,NE=37,zE=0,BE=1,qE={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ZE={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},$y={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function WE(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function Xy(t){return t==9||t==10||t==13||t==32}var Ry=null,Iy=null,Dy=0;function op(t,e){let i=t.pos+e;if(Dy==i&&Iy==t)return Ry;let r=t.peek(e);for(;Xy(r);)r=t.peek(++e);let n="";for(;WE(r);)n+=String.fromCharCode(r),r=t.peek(++e);return Iy=t,Dy=i,Ry=n?n.toLowerCase():r==jE||r==XE?void 0:null}var Yy=60,ku=62,ap=47,jE=63,XE=33,YE=45;function Ly(t,e){this.name=t,this.parent=e}var FE=[Su,qy,Ny,zy,By],UE=new _s({start:null,shift(t,e,i,r){return FE.indexOf(e)>-1?new Ly(op(r,1)||"",t):t},reduce(t,e){return e==Zy&&t?t.parent:t},reuse(t,e,i,r){let n=e.type.id;return n==Su||n==VE?new Ly(op(r,1)||"",t):t},strict:!1}),HE=new ht((t,e)=>{if(t.next!=Yy){t.next<0&&e.context&&t.acceptToken(rp);return}t.advance();let i=t.next==ap;i&&t.advance();let r=op(t,0);if(r===void 0)return;if(!r)return t.acceptToken(i?ME:Su);let n=e.context?e.context.name:null;if(i){if(r==n)return t.acceptToken(EE);if(n&&ZE[n])return t.acceptToken(rp,-2);if(e.dialectEnabled(zE))return t.acceptToken(QE);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(AE)}else{if(r=="script")return t.acceptToken(Ny);if(r=="style")return t.acceptToken(zy);if(r=="textarea")return t.acceptToken(By);if(qE.hasOwnProperty(r))return t.acceptToken(qy);n&&$y[n]&&$y[n][r]?t.acceptToken(rp,-1):t.acceptToken(Su)}},{contextual:!0}),GE=new ht(t=>{for(let e=0,i=0;;i++){if(t.next<0){i&&t.acceptToken(My);break}if(t.next==YE)e++;else if(t.next==ku&&e>=2){i>=3&&t.acceptToken(My,-2);break}else e=0;t.advance()}});function KE(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}var JE=new ht((t,e)=>{if(t.next==ap&&t.peek(1)==ku){let i=e.dialectEnabled(BE)||KE(e.context);t.acceptToken(i?TE:Ay,2)}else t.next==ku&&t.acceptToken(Ay,1)});function lp(t,e,i){let r=2+t.length;return new ht(n=>{for(let s=0,o=0,a=0;;a++){if(n.next<0){a&&n.acceptToken(e);break}if(s==0&&n.next==Yy||s==1&&n.next==ap||s>=2&&s<r&&n.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&Xy(n.next))o++;else if(s==r&&n.next==ku){a>o?n.acceptToken(e,-o):n.acceptToken(i,-(o-2));break}else if((n.next==10||n.next==13)&&a){n.acceptToken(e,1);break}else s=o=0;n.advance()}})}var eQ=lp("script",wE,_E),tQ=lp("style",SE,kE),iQ=lp("textarea",PE,CE),rQ=Ii({"Text RawText":T.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":T.angleBracket,TagName:T.tagName,"MismatchedCloseTag/TagName":[T.tagName,T.invalid],AttributeName:T.attributeName,"AttributeValue UnquotedAttributeValue":T.attributeValue,Is:T.definitionOperator,"EntityReference CharacterReference":T.character,Comment:T.blockComment,ProcessingInst:T.processingInstruction,DoctypeDecl:T.documentMeta}),Fy=Vi.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:UE,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[rQ],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[eQ,tQ,iQ,JE,HE,GE,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Uy(t,e){let i=Object.create(null);for(let r of t.getChildren(Wy)){let n=r.getChild(RE),s=r.getChild(sp)||r.getChild(jy);n&&(i[e.read(n.from,n.to)]=s?s.type.id==sp?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return i}function Vy(t,e){let i=t.getChild($E);return i?e.read(i.from,i.to):" "}function np(t,e,i){let r;for(let n of i)if(!n.attrs||n.attrs(r||(r=Uy(t.node.parent.firstChild,e))))return{parser:n.parser};return null}function up(t=[],e=[]){let i=[],r=[],n=[],s=[];for(let a of t)(a.tag=="script"?i:a.tag=="style"?r:a.tag=="textarea"?n:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return F0((a,l)=>{let u=a.type.id;if(u==IE)return np(a,l,i);if(u==DE)return np(a,l,r);if(u==LE)return np(a,l,n);if(u==Zy&&s.length){let c=a.node,h=c.firstChild,f=h&&Vy(h,l),d;if(f){for(let p of s)if(p.tag==f&&(!p.attrs||p.attrs(d||(d=Uy(h,l))))){let m=c.lastChild,g=m.type.id==NE?m.from:c.to;if(g>h.to)return{parser:p.parser,overlay:[{from:h.to,to:g}]}}}}if(o&&u==Wy){let c=a.node,h;if(h=c.firstChild){let f=o[l.read(h.from,h.to)];if(f)for(let d of f){if(d.tagName&&d.tagName!=Vy(c.parent,l))continue;let p=c.lastChild;if(p.type.id==sp){let m=p.from+1,g=p.lastChild,O=p.to-(g&&g.isError?0:1);if(O>m)return{parser:d.parser,overlay:[{from:m,to:O}]}}else if(p.type.id==jy)return{parser:d.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}var nQ=99,Hy=1,sQ=100,oQ=101,Gy=2,Ky=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],aQ=58,lQ=40,Jy=95,uQ=91,Pu=45,cQ=46,hQ=35,fQ=37,dQ=38,pQ=92,mQ=10;function oa(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function ev(t){return t>=48&&t<=57}var gQ=new ht((t,e)=>{for(let i=!1,r=0,n=0;;n++){let{next:s}=t;if(oa(s)||s==Pu||s==Jy||i&&ev(s))!i&&(s!=Pu||n>0)&&(i=!0),r===n&&s==Pu&&r++,t.advance();else if(s==pQ&&t.peek(1)!=mQ)t.advance(),t.next>-1&&t.advance(),i=!0;else{i&&t.acceptToken(s==lQ?sQ:r==2&&e.canShift(Gy)?Gy:oQ);break}}}),OQ=new ht(t=>{if(Ky.includes(t.peek(-1))){let{next:e}=t;(oa(e)||e==Jy||e==hQ||e==cQ||e==uQ||e==aQ&&oa(t.peek(1))||e==Pu||e==dQ)&&t.acceptToken(nQ)}}),bQ=new ht(t=>{if(!Ky.includes(t.peek(-1))){let{next:e}=t;if(e==fQ&&(t.advance(),t.acceptToken(Hy)),oa(e)){do t.advance();while(oa(t.next)||ev(t.next));t.acceptToken(Hy)}}}),yQ=Ii({"AtKeyword import charset namespace keyframes media supports":T.definitionKeyword,"from to selector":T.keyword,NamespaceName:T.namespace,KeyframeName:T.labelName,KeyframeRangeName:T.operatorKeyword,TagName:T.tagName,ClassName:T.className,PseudoClassName:T.constant(T.className),IdName:T.labelName,"FeatureName PropertyName":T.propertyName,AttributeName:T.attributeName,NumberLiteral:T.number,KeywordQuery:T.keyword,UnaryQueryOp:T.operatorKeyword,"CallTag ValueName":T.atom,VariableName:T.variableName,Callee:T.operatorKeyword,Unit:T.unit,"UniversalSelector NestingSelector":T.definitionOperator,MatchOp:T.compareOperator,"ChildOp SiblingOp, LogicOp":T.logicOperator,BinOp:T.arithmeticOperator,Important:T.modifier,Comment:T.blockComment,ColorLiteral:T.color,"ParenthesizedContent StringLiteral":T.string,":":T.punctuation,"PseudoOp #":T.derefOperator,"; ,":T.separator,"( )":T.paren,"[ ]":T.squareBracket,"{ }":T.brace}),vQ={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},xQ={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},wQ={__proto__:null,not:132,only:132},tv=Vi.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[yQ],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[OQ,bQ,gQ,1,2,3,4,new Rr("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>vQ[t]||-1},{term:58,get:t=>xQ[t]||-1},{term:101,get:t=>wQ[t]||-1}],tokenPrec:1219});var cp=null;function hp(){if(!cp&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],i=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),i.has(r)||(e.push(r),i.add(r)));cp=e.sort().map(r=>({type:"property",label:r}))}return cp||[]}var iv=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),rv=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),_Q=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),SQ=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),tr=/^(\w[\w-]*|-\w[\w-]*|)$/,kQ=/^-(-[\w-]*)?$/;function PQ(t,e){var i;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(i=t.parent)===null||i===void 0?void 0:i.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}var nv=new ps,CQ=["Declaration"];function TQ(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function sv(t,e,i){if(e.to-e.from>4096){let r=nv.get(e);if(r)return r;let n=[],s=new Set,o=e.cursor(be.IncludeAnonymous);if(o.firstChild())do for(let a of sv(t,o.node,i))s.has(a.label)||(s.add(a.label),n.push(a));while(o.nextSibling());return nv.set(e,n),n}else{let r=[],n=new Set;return e.cursor().iterate(s=>{var o;if(i(s)&&s.matchContext(CQ)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);n.has(a)||(n.add(a),r.push({label:a,type:"variable"}))}}),r}}var EQ=t=>e=>{let{state:i,pos:r}=e,n=Pe(i).resolveInner(r,-1),s=n.type.isError&&n.from==n.to-1&&i.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:hp(),validFor:tr};if(n.name=="ValueName")return{from:n.from,options:rv,validFor:tr};if(n.name=="PseudoClassName")return{from:n.from,options:iv,validFor:tr};if(t(n)||(e.explicit||s)&&PQ(n,i.doc))return{from:t(n)||s?n.from:r,options:sv(i.doc,TQ(n),t),validFor:kQ};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:hp(),validFor:tr};return{from:n.from,options:_Q,validFor:tr}}if(n.name=="AtKeyword")return{from:n.from,options:SQ,validFor:tr};if(!e.explicit)return null;let o=n.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:iv,validFor:tr}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:rv,validFor:tr}:o.name=="Block"||o.name=="Styles"?{from:r,options:hp(),validFor:tr}:null},QQ=EQ(t=>t.name=="VariableName"),aa=Di.define({name:"css",parser:tv.configure({props:[Gi.add({Declaration:Ki()}),Ji.add({"Block KeyframeList":xs})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function ov(){return new Li(aa,aa.data.of({autocomplete:QQ}))}var AQ=312,av=1,MQ=2,$Q=3,RQ=4,IQ=313,DQ=315,LQ=316,VQ=5,NQ=6,zQ=0,dp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],lv=125,BQ=59,pp=47,qQ=42,ZQ=43,WQ=45,jQ=60,XQ=44,YQ=63,FQ=46,UQ=new _s({start:!1,shift(t,e){return e==VQ||e==NQ||e==DQ?t:e==LQ},strict:!1}),HQ=new ht((t,e)=>{let{next:i}=t;(i==lv||i==-1||e.context)&&t.acceptToken(IQ)},{contextual:!0,fallback:!0}),GQ=new ht((t,e)=>{let{next:i}=t,r;dp.indexOf(i)>-1||i==pp&&((r=t.peek(1))==pp||r==qQ)||i!=lv&&i!=BQ&&i!=-1&&!e.context&&t.acceptToken(AQ)},{contextual:!0}),KQ=new ht((t,e)=>{let{next:i}=t;if(i==ZQ||i==WQ){if(t.advance(),i==t.next){t.advance();let r=!e.context&&e.canShift(av);t.acceptToken(r?av:MQ)}}else i==YQ&&t.peek(1)==FQ&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken($Q))},{contextual:!0});function fp(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}var JQ=new ht((t,e)=>{if(t.next!=jQ||!e.dialectEnabled(zQ)||(t.advance(),t.next==pp))return;let i=0;for(;dp.indexOf(t.next)>-1;)t.advance(),i++;if(fp(t.next,!0)){for(t.advance(),i++;fp(t.next,!1);)t.advance(),i++;for(;dp.indexOf(t.next)>-1;)t.advance(),i++;if(t.next==XQ)return;for(let r=0;;r++){if(r==7){if(!fp(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),i++}}t.acceptToken(RQ,-i)}),eA=Ii({"get set async static":T.modifier,"for while do if else switch try catch finally return throw break continue default case":T.controlKeyword,"in of await yield void typeof delete instanceof":T.operatorKeyword,"let var const using function class extends":T.definitionKeyword,"import export from":T.moduleKeyword,"with debugger as new":T.keyword,TemplateString:T.special(T.string),super:T.atom,BooleanLiteral:T.bool,this:T.self,null:T.null,Star:T.modifier,VariableName:T.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":T.function(T.variableName),VariableDefinition:T.definition(T.variableName),Label:T.labelName,PropertyName:T.propertyName,PrivatePropertyName:T.special(T.propertyName),"CallExpression/MemberExpression/PropertyName":T.function(T.propertyName),"FunctionDeclaration/VariableDefinition":T.function(T.definition(T.variableName)),"ClassDeclaration/VariableDefinition":T.definition(T.className),PropertyDefinition:T.definition(T.propertyName),PrivatePropertyDefinition:T.definition(T.special(T.propertyName)),UpdateOp:T.updateOperator,"LineComment Hashbang":T.lineComment,BlockComment:T.blockComment,Number:T.number,String:T.string,Escape:T.escape,ArithOp:T.arithmeticOperator,LogicOp:T.logicOperator,BitOp:T.bitwiseOperator,CompareOp:T.compareOperator,RegExp:T.regexp,Equals:T.definitionOperator,Arrow:T.function(T.punctuation),": Spread":T.punctuation,"( )":T.paren,"[ ]":T.squareBracket,"{ }":T.brace,"InterpolationStart InterpolationEnd":T.special(T.brace),".":T.derefOperator,", ;":T.separator,"@":T.meta,TypeName:T.typeName,TypeDefinition:T.definition(T.typeName),"type enum interface implements namespace module declare":T.definitionKeyword,"abstract global Privacy readonly override":T.modifier,"is keyof unique infer":T.operatorKeyword,JSXAttributeValue:T.attributeValue,JSXText:T.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":T.angleBracket,"JSXIdentifier JSXNameSpacedName":T.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":T.attributeName,"JSXBuiltin/JSXIdentifier":T.standard(T.tagName)}),tA={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},iA={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},rA={__proto__:null,"<":187},uv=Vi.deserialize({version:14,states:"$BUQ%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOQ`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UOFkQMnO'#D`OOOO'#I_'#I_OFrO!0LbO,59xOOQ?Mr,59x,59xOGQQ^O'#I`OGeQWO'#JoOIdQrO'#JoO+}Q^O'#JoOIkQWO,5:OOJRQWO'#EmOJ`QWO'#KOOJkQWO'#J}OJkQWO'#J}OJsQWO,5;ZOJxQWO'#J|OOQ?Mv,5:Z,5:ZOKPQ^O,5:ZOL}Q?NdO,5:cOMnQWO,5:kONXQ?MxO'#J{ON`QWO'#JzO9WQWO'#JzONtQWO'#JzON|QWO,5;YO! RQWO'#JzO!#WQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#vQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$^QWO,5=[O!$cQ^O,5;WO!&fQ7[O'#EhO!(PQWO,5;WO!(UQ^O'#DvO!(`Q`O,5;aO!(hQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(vQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*yQ?MxO,5<gO%[Q^O,5;bO!&fQ7[O,5;bO!+hQ7[O,5;bO!-YQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-aQ&jO'#FiO!.^Q&jO'#KSO!-xQ&jO'#KSO!.eQ&jO'#KSOOQO'#KS'#KSO!.yQ&jO,5<ROOOS,5<_,5<_O!/[Q^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/cQ&jO'#FwOOQ?Mr,5<P,5<PO!0SQ!LQO'#CvOOQ?Mr'#Cz'#CzO!0gO!0LbO'#DOO!1TQ7[O,5<dO!1[QWO,5<fO!2wQ$ISO'#GVO!3UQWO'#GWO!3ZQWO'#GWO!4yQ$ISO'#G[O!5uQ`O'#G`OOQO'#Gk'#GkO!+oQ7[O'#GjOOQO'#Gm'#GmO!+oQ7[O'#GlO!6hQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6rQWO'#JfO!7QQWO'#JeO!7YQWO'#CuOOQ?Mr'#Cx'#CxO!7bQWO'#CzOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+oQ7[O'#F}O!+oQ7[O'#GPO!7gQWO'#GRO!7lQWO'#GSO!3ZQWO'#GYO!+oQ7[O'#G_O!7qQWO'#EnO!8`QWO,5<eOOQ?Mp'#Cr'#CrO!8hQWO'#EoO!9bQ`O'#EpOOQ?Mp'#J|'#J|O!9iQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;hQ?NdO,5:_O!9]Q`O,5:]O!>RQ?NdO,5:gO%[Q^O,5:gO!@iQ?NdO,5:iOOQO,5@v,5@vO!AYQ7[O,5=[O!AhQ?MxO'#JdO9RQWO'#JdO!AyQ?MxO,59ZO!BUQ`O,59ZO!B^Q7[O,59ZO:VQ7[O,59ZO!BiQWO,5;WO!BqQWO'#H^O!CVQWO'#K`O%[Q^O,5;|O!9]Q`O,5<OO!C_QWO,5=wO!CdQWO,5=wO!CiQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CwQ`O,5=dO!DPQ7[O,5=eO!D[QWO,5=gO!DaQpO,5=jO!DiQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DnQWO'#HVO:VQ7[O'#HXO!DsQWO'#HXOOQU,5=m,5=mO!DxQWO'#HYO!EZQWO'#CoO!E`QWO,59PO!EjQWO,59PO!GoQ^O,59POOQU,59P,59PO!HPQ?MxO,59PO%[Q^O,59PO!J[Q^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JrQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JwQWO,5>TO`Q^O,5>VO!J|QWO,5>YO!KRQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# ]QWO,5>jOOQU,5>l,5>lO# ]QWO,5>lOOQU,5>n,5>nO# yQ`O'#D[O%[Q^O'#JqO#!TQ`O'#JqO#!rQ`O'#DjO##TQ`O'#DjO#%fQ^O'#DjO#%mQWO'#JpO#%uQWO,5:TO#%zQWO'#EqO#&YQWO'#KPO#&bQWO,5;[O#&gQ`O'#DjO#&tQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&{QWO,5:lO>tQWO,5;VO!BUQ`O,5;VO!B^Q7[O,5;VO:VQ7[O,5;VO#'TQWO,5@]O#'YQ(CYO,5:pOOQO-E<b-E<bO#(`Q?NQO,5;OOCrQ`O,5:oO#(jQ`O,5:oOCrQ`O,5;OO!AyQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(wQ?MxO,5;OO#)SQ?MxO,5;OO!BUQ`O,5:oOOQO,5;U,5;UO#)bQ?MxO,5;OPOOO'#IY'#IYP#)vO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZOOOO,59z,59zO#*RQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*WQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*bQ^O'#I`OOQO-E<^-E<^O#*oQWO,5@ZO#*wQrO,5@ZO#+OQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+WQWO'#IfOOQO-E<d-E<dO#+OQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+lQ?MxO,5@gO#+}Q?MxO,5@gO#,UQWO,5@fO9WQWO,5@fO#,^QWO,5@fO#,lQWO'#IiO#,UQWO,5@fOOQ?Mp1G0t1G0tO!(`Q`O,5:rO!(kQ`O,5:rOOQQ,5:t,5:tO#-^QYO,5:tO#-fQ7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-tQ?NdO1G0rO#.yQ?NbO,5;SOOQ?Mr'#GU'#GUO#/gQ?NdO'#JgO!$cQ^O1G0rO#1oQrO'#JrO%[Q^O'#JrO#1yQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#2OQWO1G0{O#4dQ?NdO1G0|O#4kQ?NdO1G0|O#7RQ?NdO1G0|O#7YQ?NdO1G0|O#9pQ?NdO1G0|O#<WQ?NdO1G0|O#<_Q?NdO1G0|O#<fQ?NdO1G0|O#>|Q?NdO1G0|O#?TQ?NdO1G0|O#AbQ07bO'#CiO#C]Q07bO1G1_O#CdQ07bO'#JnO#CwQ?NdO,5?WOOQ?Mp-E<j-E<jO#FUQ?NdO1G0|O#GRQ?NdO1G0|OOQ?Mr1G0|1G0|O#HRQ7[O'#JwO#H]QWO,5:uO#HbQ?NdO1G1bO#IUQ&jO,5<VO#I^Q&jO,5<WO#IfQ&jO'#FnO#I}QWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#JSQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#JeQ07bO'#JmO#JoQWO,5<aO!(vQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#JtQ`O'#KSOOQ?Mr,5<c,5<cO#J|Q`O,5<cO#KRQ7[O'#DQOOOO'#I^'#I^O#KYO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7lQWO'#InO#KeQ7[O,5<xOOQ?Mr,5<u,5<uO!+oQ7[O'#IqO#LTQ7[O,5=UO!+oQ7[O'#IsO#LvQ7[O,5=WO!&fQ7[O,5=YOOQO1G2Q1G2QO#MQQpO'#CrO#MeQ$ISO'#EoO#NdQ`O'#G`O$ QQpO,5<qO$ XQWO'#KWO9WQWO'#KWO$ gQWO,5<sO!+oQ7[O,5<rO$ lQWO'#GXO$ }QWO,5<rO$!SQpO'#GUO$!aQpO'#KXO$!kQWO'#KXO!&fQ7[O'#KXO$!pQWO,5<vO$!uQ`O'#GaO!5pQ`O'#GaO$#WQWO'#GcO$#]QWO'#GeO!3ZQWO'#GhO$#bQ?MxO'#IpO$#mQ`O,5<zOOQ?Mv,5<z,5<zO$#tQ`O'#GaO$$SQ`O'#GbO$$[Q`O'#GbO$$aQ7[O,5=UO$$qQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+oQ7[O,5@QO!+oQ7[O,5@QO$%RQWO'#IuO$%^QWO,5@PO$%fQWO,59aOOQ?Mr,59f,59fO$&YQ!LSO,59rOOQ?Mr'#Jk'#JkO$&{Q7[O,5<iO$'nQ7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$'xQWO,5<tO$'}Q7[O,5<yO$(_QWO'#JzO!$cQ^O1G2PO$(dQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$(iQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$*kQ?NdO1G0ROOQU1G2v1G2vO!&fQ7[O1G2vO%[Q^O1G2vO#-iQWO1G2vO$,oQ7[O'#EhOOQ?Mp,5@O,5@OO$,yQ?MxO,5@OOOQU1G.u1G.uO!AyQ?MxO1G.uO!BUQ`O1G.uO!B^Q7[O1G.uO$-[QWO1G0rO$-aQWO'#CiO$-lQWO'#KaO$-tQWO,5=xO$-yQWO'#KaO$.OQWO'#KaO$.^QWO'#I}O$.lQWO,5@zO$.tQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$.{QWO1G3cO$/QQWO1G3cOOQU1G3c1G3cO!D[QWO1G3RO!&fQ7[O1G3OO$/VQWO1G3OOOQU1G3P1G3PO!&fQ7[O1G3PO$/[QWO1G3PO$/dQ`O'#G}OOQU1G3R1G3RO!5pQ`O'#IyO!DaQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$/lQ7[O,5=qO9^QWO,5=qO$#]QWO,5=sO9RQWO,5=sO!BUQ`O,5=sO!B^Q7[O,5=sO:VQ7[O,5=sO$/zQWO'#K_O$0VQWO,5=tOOQU1G.k1G.kO$0[Q?MxO1G.kO@fQWO1G.kO$0gQWO1G.kO9hQ?MxO1G.kO$2oQrO,5@|O$2|QWO,5@|O9WQWO,5@|O$3XQ^O,5={O$3`QWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$3eQ^O1G3qO$7iQ^O'#HpOOQU1G3t1G3tO$7vQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$8OQ^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$<VQWO,5@]O!(vQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(vQ^O,5:UO!BUQ`O,5:UO$<[Q07bO,5:UOOQO,5;],5;]O$<fQ`O'#IaO$<|QWO,5@[OOQ?Mr1G/o1G/oO$=UQ`O'#IgO$=`QWO,5@kOOQ?Mp1G0v1G0vO##TQ`O,5:UOOQO'#Ic'#IcO$=hQ`O,5:nOOQ?Mv,5:n,5:nO#'OQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!BUQ`O1G0qO!B^Q7[O1G0qOOQ?Mp1G5w1G5wO!AyQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$=oQ?MxO1G0jO$=zQ?MxO1G0jO!BUQ`O1G0ZOCrQ`O1G0ZO$>YQ?MxO1G0jOOQO1G0Z1G0ZO$>nQ?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$>xQpO,5<gO$?QQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$?[QWO1G5uO$?dQWO1G6TO$?lQrO1G6UO9WQWO,5?QO$?vQ?NdO1G6RO%[Q^O1G6RO$@WQ?MxO1G6RO$@iQWO1G6QO$@iQWO1G6QO9WQWO1G6QO$@qQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$AVQWO,5?TO$(_QWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-aQWO1G0`OOQU7+(b7+(bO!&fQ7[O7+(bO%[Q^O7+(bO$AeQWO7+(bO$ApQ7[O7+(bO$BOQ?NdO,5=UO$DWQ?NdO,5=WO$F`Q?NdO,5=UO$HnQ?NdO,5=WO$J|Q?NdO,59rO$MRQ?NdO,5<iO% ZQ?NdO,5<kO%#cQ?NdO,5<yOOQ?Mr7+&^7+&^O%%qQ?NdO7+&^O%&eQ^O'#IbO%&rQWO,5@^O%&zQrO,5@^OOQ?Mr1G/|1G/|O%'UQWO7+&gOOQ?Mr7+&g7+&gO%'ZQ07bO,5:cO%[Q^O7+&yO%'eQ07bO,5:_O%'rQ07bO,5:gO%'|Q07bO,5:iO%(WQ7[O'#IeO%(bQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%(jQtO,5<YO!(vQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%(uQWO1G1{OOQ?Mr1G1}1G1}OOOO,59l,59lO%(zQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%)RQ?NdO7+'jOOQ?Mr,5?Y,5?YO%)uQpO,5?YOOQ?Mr1G2d1G2dP!&fQ7[O'#InPOQ?Mr-E<l-E<lO%*eQ7[O,5?]OOQ?Mr-E<o-E<oO%+WQ7[O,5?_OOQ?Mr-E<q-E<qO%+bQpO1G2tO%+iQpO'#CrO%,PQ7[O'#J}O%,WQ^O'#EqOOQ?Mr1G2]1G2]O%,bQWO'#ImO%,vQWO,5@rO%,vQWO,5@rO%-OQWO,5@rO%-ZQWO,5@rOOQO1G2_1G2_O%-iQ7[O1G2^O!+oQ7[O1G2^O%-yQ$ISO'#IoO%.WQWO,5@sO!&fQ7[O,5@sO%.`QpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$(_QWO,5<|OCcQWO,5<|O!BUQ`O,5<{OOQO'#Gd'#GdO%.jQWO,5<}OOQ?Mp,5=P,5=PO$(_QWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5pQ`O,5<{O%.rQWO,5<|O$#WQWO,5<}O%.}Q`O,5<|O!+oQ7[O'#IqO%/nQ7[O1G2pO!+oQ7[O'#IsO%0aQ7[O1G2rO%0kQ7[O1G5lO%0uQ7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9]Q`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%1SQWO1G2XO!+oQ7[O1G2`O%1XQ?NdO7+'kOOQ?Mr7+'k7+'kO!$cQ^O7+'kO%1{QWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%2QQpO'#KYO#'OQWO7+(bO4UQrO7+(bO$AhQWO7+(bO%2[Q?NbO'#CiO%2oQ?NbO,5=QO%3aQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!AyQ?MxO7+$aO!BUQ`O7+$aO!$cQ^O7+&^O%3fQWO'#I|O%3}QWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%3}QWO,5@{O%4VQWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%4[QWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%4aQ?NbO7+(jO!&fQ7[O7+(jO%4kQpO7+(kOOQU7+(k7+(kO!&fQ7[O7+(kO%4rQWO'#K^O%4}QWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%6aQ`O'#HWOOQU1G3]1G3]O!&fQ7[O1G3]O%[Q^O1G3]O%6hQWO1G3]O%6sQ7[O1G3]O9hQ?MxO1G3_O$#]QWO1G3_O9RQWO1G3_O!BUQ`O1G3_O!B^Q7[O1G3_O%7RQWO'#I{O%7gQWO,5@yO%7oQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%7zQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%8PQ?MxO1G6hO%8ZQ^O1G3gO%8bQWO1G3gO%8gQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%8nQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%8{QWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%9QQ`O1G5wO%9fQ07bO1G0wO%9pQWO1G0wOOQO1G/p1G/pO%9{Q07bO1G/pO>tQWO1G/pO!(vQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!BUQ`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#'OQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!BUQ`O7+&]OOQO7+%u7+%uO$>nQ?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%:VQ?MxO7+&UO!AyQ?MxO7+%uO!BUQ`O7+%uO%:bQ?MxO7+&UO%:pQ?NdO7++mO%[Q^O7++mO%;QQWO7++lO%;QQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%;YQWO1G4oOOQQ7+%z7+%zO#'OQWO<<K|O4UQrO<<K|O%;hQWO<<K|OOQU<<K|<<K|O!&fQ7[O<<K|O%[Q^O<<K|O%;pQWO<<K|O%;{Q?NdO,5?]O%>TQ?NdO,5?_O%@]Q?NdO1G2^O%BkQ?NdO1G2pO%DsQ?NdO1G2rO%F{QrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%GVQWO1G5xOOQ?Mr<<JR<<JRO%G_Q07bO1G0rO%IfQ07bO1G0|O%ImQ07bO1G0|O%KnQ07bO1G0|O%KuQ07bO1G0|O%MvQ07bO1G0|O& wQ07bO1G0|O&!OQ07bO1G0|O&!VQ07bO1G0|O&$WQ07bO1G0|O&$_Q07bO1G0|O&$fQ?NdO<<JeO&&^Q07bO1G0|O&'ZQ07bO1G0|O&(ZQ07bO'#JgO&*^Q07bO1G1bO&*kQ07bO1G0RO&*uQ7[O,5?POOQO-E<c-E<cO!(vQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&+PQWO1G1sO&+UQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+oQ7[O7+(`O&-fQrO'#CiO&-pQWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&.OQWO1G6^O&.OQWO1G6^O&.WQWO1G6^O&.cQ7[O7+'xO&.sQpO,5?ZO&.}QWO,5?ZO!&fQ7[O,5?ZOOQO-E<m-E<mO&/SQpO1G6_O&/^QWO1G6_OOQ?Mp1G2h1G2hO$(_QWO1G2hOOQ?Mp1G2g1G2gO&/fQWO1G2iO!&fQ7[O1G2iOOQ?Mp1G2n1G2nO!BUQ`O1G2gOCcQWO1G2hO&/kQWO1G2iO&/sQWO1G2hO$#WQWO1G2iO&0gQ7[O,5?]OOQ?Mr-E<p-E<pO&1YQ7[O,5?_OOQ?Mr-E<r-E<rO!+oQ7[O7++WOOQ?Mr1G/`1G/`O&1dQWO1G/`OOQ?Mr7+'s7+'sO&1iQ7[O7+'zO&1yQ?NdO<<KVOOQ?Mr<<KV<<KVO&2mQWO1G0wO!&fQ7[O'#IvO&2rQWO,5@tO&4tQrO<<K|O!&fQ7[O1G2lOOQU<<G{<<G{O!AyQ?MxO<<G{O&4{Q?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&5oQWO,5?hO&5tQWO,5?hOOQO-E<z-E<zO&6SQWO1G6gO&6SQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&6[QWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%4aQ?NbO<<LUOOQU<<LV<<LVO%4kQpO<<LVO&6aQ`O'#IxO&6lQWO,5@xO!(vQ^O,5@xOOQU1G3T1G3TO%,WQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&6tQ`O,5=rOOQU,5=r,5=rO&6{Q`O'#EdO&7aQ`O'#GcO&7fQWO7+(wO&7kQWO7+(wOOQU7+(w7+(wO!&fQ7[O7+(wO%[Q^O7+(wO&7sQWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$#]QWO7+(yO9RQWO7+(yO!BUQ`O7+(yO&8OQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&8ZQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&8cQWO7+,SO&8hQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&8mQWO7+)RO&8rQ^O7+)RO&8yQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&9OQWO,5>]OOQU,5>_,5>_O&9TQWO1G3|O9WQWO7+&cO!(vQ^O7+&cOOQO7+%[7+%[O&9YQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$>nQ?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!AyQ?MxO<<IaO&9dQ?MxO<<IpO&9oQ?NdO<= XO&:PQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&:XQrOANAhO!&fQ7[OANAhO#'OQWOANAhO4UQrOANAhO&:`QWOANAhO%[Q^OANAhO&:hQ?NdO7+'xO&<vQ?NdO,5?]O&?OQ?NdO,5?_O&AWQ?NdO7+'zO&CfQrO1G4hO&CpQ07bO7+&^O&EqQ07bO,5=UO&GuQ07bO,5=WO&HVQ07bO,5=UO&HgQ07bO,5=WO&HwQ07bO,59rO&JzQ07bO,5<iO&LzQ07bO,5<kO' ]Q07bO,5<yO'#OQ07bO7+'jO'#]Q07bO7+'kO'#jQWO,5<[OOQO7+'_7+'_O'#oQ7[O<<KzOOQO1G4s1G4sO'#vQWO1G4sO'$RQWO1G4sO'$aQWO7++xO'$aQWO7++xO!&fQ7[O1G4uO'$iQpO1G4uO'$sQWO7++yOOQ?Mp7+(S7+(SO'${QWO7+(TO'%WQpO7+(TOOQ?Mp7+(R7+(RO$(_QWO7+(SO'%bQWO7+(TO!&fQ7[O7+(TOCcQWO7+(SO'%gQWO7+(TO'%oQ7[O<<NrOOQ?Mr7+$z7+$zO'%yQpO,5?bOOQO-E<t-E<tO'&TQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'&eQWO1G5SO'&jQWO7+,RO'&jQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'&rQWO,5?dOOQO-E<v-E<vO'&}Q07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%,WQ^O,5<}O''XQWO,5<}OOQU<<Lc<<LcO!&fQ7[O<<LcO&7fQWO<<LcO''^QWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$#]QWO<<LeO9RQWO<<LeO''fQ`O1G5RO''qQWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO''yQWO<= nO'(OQWO<= oOOQU<<Lm<<LmO'(TQWO<<LmO'(YQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'(aQWO<<I}O'(lQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$>nQ?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&fQ7[OG27SO#'OQWOG27SO'(vQrOG27SO4UQrOG27SO'(}QWOG27SO')VQ07bO<<JeO')dQ07bO1G2^O'+VQ07bO,5?]O'-VQ07bO,5?_O'/VQ07bO1G2pO'1VQ07bO1G2rO'3VQ07bO<<KVO'3dQ07bO<<IxOOQO1G1v1G1vO!+oQ7[OANAfOOQO7+*_7+*_O'3qQWO7+*_O'3|QWO<= dO'4UQpO7+*aOOQ?Mp<<Ko<<KoO$(_QWO<<KoOCcQWO<<KoO'4`QWO<<KoO!&fQ7[O<<KoOOQ?Mp<<Kn<<KnO'4kQpO<<KoO$(_QWO<<KnO'4uQWO<<KoO!&fQ7[O<<KoOOQO7+*n7+*nO9^QWO7+*nO'4zQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(vQ^O1G5OO'5SQWO7+,OO&7fQWOANA}OOQUANA}ANA}O!&fQ7[OANA}O'5[QWOANA}OOQUANBPANBPO9hQ?MxOANBPO$#]QWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'5dQWOANBXOOQU<<MS<<MSO!(vQ^OAN?iOOQOG24vG24vO$>nQ?NdOG24vO#'OQWOLD,nOOQULD,nLD,nO!&fQ7[OLD,nO'5iQrOLD,nO'5pQ07bO7+'xO'7cQ07bO,5?]O'9cQ07bO,5?_O';cQ07bO7+'zO'=UQ7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$(_QWOANAZOCcQWOANAZO'=fQpOANAZO'=mQWOANAZO!&fQ7[OANAZOOQ?MpANAYANAYO'=xQpOANAZOOQO<<NY<<NYOOQULD-ZLD-ZO'>SQ07bO7+*jOOQUG27iG27iO&7fQWOG27iO!&fQ7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>^Q07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#'OQWO!$(!YO!&fQ7[O!$(!YO'>hQ?NdOG27QOOQ?MpG26uG26uO$(_QWOG26uO'@vQWOG26uOCcQWOG26uO'ARQpOG26uO!&fQ7[OG26uOOQULD-TLD-TO&7fQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#'OQWO!)9EtOOQ?MpLD,aLD,aO$(_QWOLD,aOCcQWOLD,aO'AYQWOLD,aO'AeQpOLD,aOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AlQ07bOG27QOOQ?Mp!$( {!$( {O$(_QWO!$( {OCcQWO!$( {O'C_QWO!$( {OOQ?Mp!)9Eg!)9EgO$(_QWO!)9EgOCcQWO!)9EgOOQ?Mp!.K;R!.K;RO$(_QWO!.K;ROOQ?Mp!4/0m!4/0mO!(vQ^O'#DwO1PQWO'#EUO'CjQrO'#JmO'CqQMnO'#DsO'CxQ^O'#D{O'DPQrO'#CiO'FgQrO'#CiO!(vQ^O'#D}O'FwQ^O,5;WO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O'#IlO'HzQWO,5<gO!(vQ^O,5;bO'ISQ7[O,5;bO'JmQ7[O,5;bO!(vQ^O,5;vO!&fQ7[O'#GjO'ISQ7[O'#GjO!&fQ7[O'#GlO'ISQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&fQ7[O'#F}O'ISQ7[O'#F}O!&fQ7[O'#GPO'ISQ7[O'#GPO!&fQ7[O'#G_O'ISQ7[O'#G_O!(vQ^O,5:gO'JtQ`O'#D[O!(vQ^O,5@jO'FwQ^O1G0rO'KOQ07bO'#CiO!(vQ^O1G2OO!&fQ7[O'#IqO'ISQ7[O'#IqO!&fQ7[O'#IsO'ISQ7[O'#IsO'KYQpO'#CrO!&fQ7[O,5<rO'ISQ7[O,5<rO'FwQ^O1G2PO!(vQ^O7+&yO!&fQ7[O1G2^O'ISQ7[O1G2^O!&fQ7[O'#IqO'ISQ7[O'#IqO!&fQ7[O'#IsO'ISQ7[O'#IsO!&fQ7[O1G2`O'ISQ7[O1G2`O'FwQ^O7+'kO'FwQ^O7+&^O!&fQ7[OANAfO'ISQ7[OANAfO'KmQWO'#ElO'KrQWO'#ElO'KzQWO'#F[O'LPQWO'#EvO'LUQWO'#KOO'LaQWO'#J|O'LlQWO,5;WO'LqQ7[O,5<dO'LxQWO'#GWO'L}QWO'#GWO'MSQWO,5<eO'M[QWO,5;WO'MdQ07bO1G1_O'MkQWO,5<rO'MpQWO,5<rO'MuQWO,5<tO'MzQWO,5<tO'NPQWO1G2PO'NUQWO1G0rO'NZQ7[O<<KzO'NbQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(vQ^O,5;sO!3ZQWO'#GWO!3ZQWO'#GWO!3ZQWO'#GYO!3ZQWO'#GYO!+oQ7[O7+(`O!+oQ7[O7+(`O%+bQpO1G2tO%+bQpO1G2tO!&fQ7[O,5=YO!&fQ7[O,5=Y",stateData:"( f~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;bO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O;fO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O;gO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$uO(t$}O(u%POg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%VO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y;bO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Os'{O~P%[Ou#SO!R#TO(]#TO(^(OO~O!X(QO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(SO!V(cX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(SO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~O!V(cX~PGmO!V(XO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIpO#](YO!V(rX!Y(rX~O!Y(ZO!V(qX~O!V(^O~O#]$eO~PIpO!Z(_O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKWO!h(`O~O!d#vO#](aO(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMsO!P%fO![%gO!y]O#f(fO#g(eO(O%eO~O!Y(gO!h(nX~O!h(iO~O!P%fO![%gO#g(eO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! aOR(kO}(jO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#bO!u(oO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~O#h(uO~O!X(wO!h(fP~P%[O(`(yO(j[O~O!P({O!i#xO(`(yO(j[O~OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![!eO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y=YO~O!Y$_Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)aO~P!&fOh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~Og(kP~P!+oO})fO!d)eO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)eO![(vX$Y(vX$[(vX$^(vX$e(vX~O})fO~P!-xO})fO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)hO$Y)lO$[)gO$^)gO$e)mO~O!X)pO~P!(vO$[$hO$^$gO$e)tO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/nOu)vO(])wO(^)yO~Ok*SO}){O!P)|O(t$}O(u%PO~Og)zO~P!0rOg*TO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P*VO![*WO!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(QTO(TUO([$uO(t$}O(u%PO~O!X*ZO(O*UO!h(zP~P!1aO#h*]O~O!i*^O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(O*`O(QTO(TUO([$uO(t$}O(u%PO~O!X*cO!V({P~P!3`Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5TO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5|Ok*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~Op*xO~O!i*}O~O(O(sO~Om+RO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+SO~O!P%fO!X+UO!Y(ZO![%gO(O%eO!V(qP~Op'XO!P+WO!X+VO(QTO(TUO(`(yO~O!Z(sP~P!8|O!Y+XOa)PX'u)PX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9tOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<[OR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>rOh%VOk+bO![']O%f+aO~O!d+dOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%VO!i%cO~Oh%VO!i%cO(O%eO~O!d#vO#h(uO~Ob+oO%g+pO(O+lO(QTO(TUO!Z)TP~O!Y+qO`)SX~O[+uO~O`+vO~O![%}O(O%eO(P!lO`)SP~Oh%VO#]+{O~Oh%VOk,OO![$|O~O![,QO~O},SO![XO~O%k%tO~O!u,XO~Oe,^O~Ob,_O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,dO`,cO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!ErO`,cOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,iO!rwO#t!OO%i!OO%j!OO%k!OO~P!H[O!i&lO~O&Y,oO~O![,qO~O&k,sO&m,tOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,yO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# bO!d-OO#],}Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%VO!d-QO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![!eO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(QTO(TUO([VO(j[O(y=YO~O(O<[O~P##fO!Y-UO!Z(dX~O!Z-WO~O!d-OO#],}O!Y#eX!Z#eX~O!Y-XO!Z(sX~O!Z-ZO~O!`-[O!a-[O(P!lO~P##TO!Z-_O~P'_Ok-bO![']O~O!V-gO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#bO!m-lO#]-jO~PCSO!`-nO!a-nO(P!lO~PCrOa%lO#]-jO'u%lO~Oa%lO!d#vO#]-jO'u%lO~Oa%lO!d#vO!m-lO#]-jO'u%lO(m'mO~O'z'uO'{'uO'|-sO~Os-tO~O!V'Sa!Y'Sa~P!9tO!X-xO!V'SX!Y'SX~P%[O!Y(SO!V(ca~O!V(ca~PGmO!Y(ZO!V(qa~O!P%fO!X-|O![%gO(O%eO!V'YX!Y'YX~O#].OO!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+lO!Y(gO!h(na~O!P%fO![%gO#g.SO(O%eO~Om.XO!P%fO!X.UO![%gO!y]O#f.WO#g.UO(O%eO!Y']X!h']X~OR.]O!i#xO~Oh%VOk.`O![']O%f._O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9tOk=fO}){O!P)|O(t$}O(u%PO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.hO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5|O!Y.mO!h(fX~P!9tO!h.pO~O!V.rO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#2TO#k$OO~P#2TOP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#4rO#o$QO~P#4rOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO([VOa#ji!Y#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7aOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#9wO#w#ji~P#9wO#u$SO~P#7aOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO([VO(t#|O(u#}Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<mO#y$WO~P#<mOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#?[OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO#w;pO#y;rO#z;sO([VO(m$YO(t#|O(u#}O~O#}.tO~P#AiO#P$dO#];yO$P;yO#}(bX!Z(bX~P! aOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9tO[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO(t#ji(u#ji~P#DkOk=fO}){O!P)|O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P#DkO!Y.xOg(kX~P!0rOg.zO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9tO$[.{O$^.{O~O$[.|O$^.|O~O!d)eO#].}O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X/OO~O![)hO$Y/QO$[)gO$^)gO$e/RO~O!Y;tO!Z(aX~P#AiO!Z/SO~O!d)eO$e(vX~O$e/UO~Os/VO~P!&fOu)vO(])wO(^/YO~O!V/^O~P!&fO(t$}Ok%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#KlO(u%POk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#L_O!YfX!dfX!hfX!h$xX(mfX~P!/nO!X/gO!Y(ZO(O/fO!V(qP!V({P~P!1aOo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/hO!X+VO!Z*lO(QTO(TUO(`<XO!Z(sP~P#MxO!h/iO~P#.hO!Y/jO!d#vO(m'mO!h(zX~O!h/oO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/qO~O!V$xX!Y$xX!d%PX~P!/nO!Y/rO!V({X~P#.hO!d/tO~O!V/vO~Oh%VOo/zO!d#vO!i%cO(m'mO~O(O/|O~O!d+dO~Oa%lO!Y0QO'u%lO~O!Z0SO~P!5TO!`0TO!a0TO(P!lO(`!mO~O!P0VO(`!mO~O#X0WO~Og%^a!Y%^a#]%^a#}%^a~P!0rOg%`a!Y%`a#]%`a#}%`a~P!0rO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0aO~OR0bO}0bO!P0cO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$%kO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$&dO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$'VO#h0fO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0rO!d#vO~O#h0iO~O!Y+XOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$(tOh%VOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(QTO(TUO([$uO(t$}O(u%PO~Om0rO(O0qO~P$+[O!d+dOa(Wa![(Wa'u(Wa!Y(Wa~O#h0xO~O[]X!YfX!ZfX~O!Y0yO!Z)TX~O!Z0{O~O[0|O~Ob1OO(O+lO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+qO`)Sa~O!h1RO~P!9tO[1UO~O`1VO~O#]1YO~Ok1]O![$|O~O(`(yO!Z)QP~Oh%VOk1fO![1cO%f1eO~O[1pO!Y1nO!Z)RX~O!Z1qO~O`1sOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1vO&W1wOa(bX~P$0rO#]$eO#s1vO&W1wO~Oa1yO~P%[Oa1{O~O&a2OOP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2UO!Z2SO&f2TO~P`O![XO!i2WO~O&m,tOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2^O~O!Y!^a!Z!^a~P#AiOp!nO!P!oO!X2dO(`!mO!Y'TX!Z'TX~P@YO!Y-UO!Z(da~O!Y'ZX!Z'ZX~P!8|O!Y-XO!Z(sa~O!Z2kO~P'_Oa%lO#]2tO'u%lO~Oa%lO!d#vO#]2tO'u%lO~Oa%lO!d#vO!m2xO#]2tO'u%lO(m'mO~Oa%lO'u%lO~P!9tO!Y$_Os$oa~O!V'Si!Y'Si~P!9tO!Y(SO!V(ci~O!Y(ZO!V(qi~O!V(ri!Y(ri~P!9tO!Y(oi!h(oia(oi'u(oi~P!9tO#]2zO!Y(oi!h(oia(oi'u(oi~O!Y(gO!h(ni~O!P%fO![%gO!y]O#f3PO#g3OO(O%eO~O!P%fO![%gO#g3OO(O%eO~Ok3WO![']O%f3VO~Oh%VOk3WO![']O%f3VO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#KlO#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#L_O#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.hO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.hO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$%kO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$&dO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$'VO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.hOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9tO!X3`O!Y'UX!h'UX~P%[O!Y.mO!h(fa~O!Y.mO!h(fa~P!9tO!V3cO~O#}!ka!Z!ka~PKWO#}!ga!Y!ga!Z!ga~P#AiO#}!oa!Z!oa~P!<[O#}!qa!Z!qa~P!>rOg'XX!Y'XX~P!+oO!Y.xOg(ka~OSfO![3wO$c3xO~O!Z3|O~Os3}O~P#.hOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9tO!V4OO~P#.hO}){O!P)|O(u%POk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%)|O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%*oO(m$YO~P#.hO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/nO(O<bO~P!1aOmkO(O4QO~P.iO!P%fO!X4SO![%gO(O%eO!Y'aX!h'aX~O!Y/jO!h(za~O!Y/jO!d#vO!h(za~O!Y/jO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0rO!X4[O!V'cX!Y'cX~P!3`O!Y/rO!V({a~O!Y/rO!V({a~P#.hO!d#vO#s4dO~Oo4gO!d#vO(m'mO~O!P4jO(`!mO~O(t$}Ok%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%/VO(u%POk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%/xOg(Yi!Y(Yi~P!0rO#]4oOg(Yi!Y(Yi~P!0rO!h4rO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9tO!V4vO~O!Y4wO![(|X~P#.hOa$xX![$xX%Z]X'u$xX!Y$xX~P!/nO%Z4zOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4zO~Ob5QO%g5RO(O+lO(QTO(TUO!Y'pX!Z'pX~O!Y0yO!Z)Ta~O[5VO~O`5WO~Oa%lO'u%lO~P#.hO![$|O~P#.hO!Y5`O#]5bO!Z)QX~O!Z5cO~Oo5jOp!nO!P5dO!_!yO!`!vO!a!vO!y;bO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5iO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5hO~P%5SOk5oO![1cO%f5nO~Oh%VOk5oO![1cO%f5nO~Ob5vO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1nO!Z)Ra~O(QTO(TUO(`5xO~O`5|O~O#s6PO&W6QO~PMsO!h6RO~P%[Oa6TO~Oa6TO~P%[Ob2UO!Z6YO&f2TO~P`O!d6[O~O!d6^Oh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#AiO#]6_O!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AiOa%lO#]6hO'u%lO~Oa%lO!d#vO#]6hO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9tO!Y(gO!h(nq~O!P%fO![%gO#g6oO(O%eO~O![']O%f6rO~Ok6vO![']O%f6rO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%)|O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%*oO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.hO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%/VO#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%/xO!Y'Ua!h'Ua~P!9tO!Y.mO!h(fi~O#}#`i!Y#`i!Z#`i~P#AiOP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%GlO#k;jO~P%GlOP$[OR#zOo;vO}#yO!P#{O!i#xO!m$[O#k;jO#l;kO#m;kO#n;kO([VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#o#ji~P%ItO#o;lO~P%ItOP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO([VO#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#u#ji~P%K|OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w;pO~P%M}O#w#ji~P%M}O#u;nO~P%K|OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO#w;pO([VO(t#|O(u#}O#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#y#ji~P&!^O#y;rO~P&!^Oa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9tO[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;jO#l;kO#m;kO#n;kO([VO(t#ji(u#ji~P&%YOk=gO}){O!P)|O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P&%YO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#AiO#}!oi!Z!oi~P$(tOg'Xa!Y'Xa~P!0rO!Z7YO~O!Y'`a!Z'`a~P#AiOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&+`O!d#vO(m'mO!Y'aa!h'aa~O!Y/jO!h(zi~O!Y/jO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0rO!V'ca!Y'ca~P#.hO!d7aO~O!Y/rO!V({i~P#.hO!Y/rO!V({i~O!V7eO~O!d#vO#s7jO~Oo7kO!d#vO(m'mO~O}){O!P)|O(u%POk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&0OO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&0qO!V7nO~Og$|q!Y$|q#]$|q#}$|q~P!0rOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9tO!d6^O~O!Y4wO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6rO~P&2zOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9tO[7sO~Ob7uO(O+lO(QTO(TUO~O!Y0yO!Z)Ti~O`7yO~O(`(yO!Y'lX!Z'lX~O!Y5`O!Z)Qa~O!Z8SO~P%5SOp!nO!P8TO(QTO(TUO(`!mO(j!sO~O#X8UO~O![1cO~O![1cO%f8WO~Ok8ZO![1cO%f8WO~O[8`O!Y'oa!Z'oa~O!Y1nO!Z)Ri~O!h8dO~O!h8eO~O!h8hO~O!h8hO~P%[Oa8jO~O!d8kO~O!h8lO~O!Y(ri!Z(ri~P#AiOa%lO#]8tO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9tO!Y(gO!h(ny~O%f8wO~P&2zO![']O%f8wO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.hO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&0OO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&0qO#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.hO!Y'Ui!h'Ui~P!9tO#}#`q!Y#`q!Z#`q~P#AiO(t$}OP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&C}O(u%POP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&FROk=gO}){O!P)|O(u%PO~P&C}Ok=gO}){O!P)|O(t$}O~P&FROR0bO}0bO!P0cO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~Ok=gO}){O!P)|O(t$}O(u%PO~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&NzO#}$lq!Y$lq!Z$lq~P#AiO#}$mq!Y$mq!Z$mq~P#AiO!Z9UO~O#}9VO~P!0rO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/jO!h(zq~O!V'ci!Y'ci~P#.hO!Y/rO!V({q~Oo9^O!d#vO(m'mO~O[9`O!V9_O~P#.hO!V9_O~O!d#vO#s9eO~Og(Yy!Y(Yy~P!0rO!Y'ja!['ja~P#.hOa%Yq![%Yq'u%Yq!Y%Yq~P#.hO[9gO~O!Y0yO!Z)Tq~O#]9kO!Y'la!Z'la~O!Y5`O!Z)Qi~P#AiO!P4jO~O![1cO%f9oO~O(QTO(TUO(`9tO~O!Y1nO!Z)Rq~O!h9wO~O!h9xO~O!h9yO~O!h9yO~P%[O#]9|O!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AiO%f:RO~P&2zO![']O%f:RO~O#}#{y!Y#{y!Z#{y~P#AiOP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&NzO}){O!P)|O(u%POP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AiO#}#`y!Y#`y!Z#`y~P#AiO!d#vO!Y'aq!h'aq~O!Y/jO!h(zy~O!V'cq!Y'cq~P#.hOo:]O!d#vO(m'mO~O[:`O!V:_O~P#.hO!V:_O~O!Y0yO!Z)Ty~O!Y5`O!Z)Qq~O![1cO%f:hO~O!h:kO~O%f:pO~P&2zOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&NzO}){O!P)|O(u%POP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&NzOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0rO!V:tO~P#.hOo:uO!d#vO(m'mO~O[:wO!V:tO~P#.hO!Y'lq!Z'lq~P#AiO!Y#e!Z!Z#e!Z~P#AiO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.hOo;PO!d#vO(m'mO~O!V;QO~P#.hOo;XO!d#vO(m'mO~O!V;YO~P#.hOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&NzOo;]O!d#vO(m'mO~Os(aX~P1qO}%pO~P!(vO(P!lO~P!(vO!VfX!YfX#]fX~P&+`OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'D^OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![XO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y=YO~O!Y;tO!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<PO!P${O![$|O!f=aO!i$xO#g<VO$V%_O$r<RO$t<TO$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~O#t)aO~P'ISOo!bX(m!bX~P# bO!Z]X!ZfX~P'D^O!VfX!V$xX!YfX!Y$xX#]fX~P!/nO#h;iO~O!d#vO#h;iO~O#];yO~O#s;mO~O#]<YO!Y(rX!Z(rX~O#];yO!Y(pX!Z(pX~O#h<ZO~Og<]O~P!0rO#h<cO~O#h<dO~O!d#vO#h<eO~O!d#vO#h<ZO~O#}<fO~P#AiO#h<gO~O#h<hO~O#h<mO~O#h<nO~O#h<oO~O#h<pO~O#}<qO~P!0rO#}<rO~P!0rO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$5g)XPPPPPP)YPP)]P)nP+O/PPPPP5{PP6cPP<Y?sP@WP@WPPP@WPB[P@WP@WP@WPB`PBePCSPG{PPPHPPPPPHPKRPPPKXLTPHPPHPPPNcHPPPPHPPHPP!!jHPP!&P!'U!'_P!(R!(V!(R!+cPPPPPPP!,S!'UPP!,d!-xP!1THPHP!1Y!4e!8{!8{!<yPPP!=RHPPPPPPPPPPPP!@aP!AnPPHP!CPPHPPHPHPHPHPHPPHP!DcP!GlP!JqP!Ju!KP!KT!KTP!GiP!KX!KXP!N^P!NbHPHP!Nh##lB`@WP@WP@W@WP#$x@W@W#'W@W#)z@W#,S@W@W#,r#/S#/S#/X#/b#/S#/nP#/SP@W#0W@W#4P@W@W5{PPP#8OPPP#8i#8iP#8iP#9P#8iPP#9VP#8|P#8|#9j#8|#:U#:[5x)]#:_)]P#:f#:f#:fP)]P)]P)]P)]PP)]P#:l#:oP#:o)]P#:sP#:vP)]P)]P)]P)]P)]P)])]PP#:|#;S#;_#;e#;k#;q#;w#<V#<]#<g#<m#<w#<}#=_#=e#>V#>i#>o#>u#?T#?j#A]#Ak#Ar#C[#Cj#EY#Eh#En#Et#Ez#FU#F[#Fb#Fl#GO#GUPPPPPPPPPP#G[PPPPPPP#HP#KW#Lg#Ln#LvPPP$$YP$$c$'Z$-s$-v$-y$.f$.i$.p$.xP$/O$/RP$/o$/s$0k$1y$2O$2fPP$2k$2q$2uP$2x$2|$3Q$3v$4_$4v$4z$4}$5Q$5W$5Z$5_$5cR!|RoqOXst!Z#d%k&o&q&r&t,l,q2O2RY!vQ']-^1c5gQ%rvQ%zyQ&R|Q&g!VS'T!e-UQ'c!iS'i!r!yU*f$|*W*kQ+j%{Q+w&TQ,]&aQ-['[Q-f'dQ-n'jQ0T*mQ1m,^R<W;e%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W,i,l,q-b-j-x.O.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3`5d5o6P6Q6T6h8T8Z8j8tS#q];b!r)[$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]U*z%[<O<PQ+o%}Q,_&dQ,f&lQ0o+bQ0s+dQ1O+pQ1u,dQ3S.`Q5Q0yQ5v1nQ6t3WQ7u5RR8z6v'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]t!nQ!r!v!y!z'T'[']'i'j'k-U-[-^-n1c5g5i%S$ti#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gQ&U|Q'R!eU'X%g*W-XQ+o%}Q,_&dQ0e*}Q1O+pQ1T+vQ1t,cQ1u,dQ5Q0yQ5Z1VQ5v1nQ5y1pQ5z1sQ7u5RQ7x5WQ8c5|Q9j7yR9u8`rnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RR,a&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=[=][#]WZ#W#Z'U(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/g/j2W3O3P4S6^6oQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(n#sS+i%z%{Q+m%}Q,W&_Q,[&aS-e'c'dQ.b(oQ0w+jQ0}+pQ1P+qQ1S+uQ1h,XS1l,],^Q2p-fQ5P0yQ5T0|Q5Y1UQ5u1mQ7t5RQ7w5VQ9f7sR:c9g!O$zi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+i+j-R-e-f-m/{0w2i2p2w4fQ+c%uQ+|&XQ,P&YQ,Z&aQ.a(nQ1g,WU1k,[,],^Q3X.bQ5p1hS5t1l1mQ8_5u#d=^#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=go=_;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rW%Ti%V*u=YS&X!Q&fQ&Y!RQ&Z!SR+z&V%T%Si#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gT)w$u)xV*z%[<O<PW'X!e%g*W-XS(z#y#zQ+^%pQ+t&QS.Z(j(kQ1^,QQ4p0bR7}5`'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]$i$^c#Y#e%o%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.u.v.w/Z0g2_2b2r2y3_3d3e3f3g3h3i3j3k3l3m3n3o3p3s3t3{4t4}6a6g6l6{6|7V7W8P8n8r8|9S9T:O:e:l;c=PT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q'V!eR2e-Uv!nQ!e!r!v!y!z'T'[']'i'j'k-U-[-^-n1c5g5iU*e$|*W*kS/{*f*mQ0U*nQ1`,SQ4f0TR4i0WnqOXst!Z#d%k&o&q&r&t,l,q2O2RQ&v!^Q's!xS(p#u;iQ+g%xQ,U&[Q,V&^Q-c'aQ-p'lS.k(u<ZS0h+S<eQ0u+hQ1b,TQ2V,sQ2X,tQ2a-PQ2n-dQ2q-hS4u0i<oQ4{0vS5O0x<pQ6`2cQ6d2oQ6i2vQ7r4|Q8o6bQ8p6eQ8s6jR9{8l$d$]c#Y#e%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.v.w/Z0g2_2b2r2y3_3d3e3f3g3h3i3j3k3l3m3n3o3p3s3t3{4t4}6a6g6l6{6|7V7W8P8n8r8|9S9T:O:e:l;c=PS(l#p'fQ(|#zS+]%o.uS.[(k(mR3Q.]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]S#q];bQ&q!XQ&r!YQ&t![Q&u!]R1},oQ'^!hQ+`%uQ-a'`S.^(n+cQ2l-`W3U.a.b0n0pQ6c2mW6p3R3T3X4yU8v6q6s6uU:Q8x8y8{S:n:P:SQ:{:oR;T:|U!wQ']-^T5e1c5g!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(g,l,q.T2O2R]!pQ!r']-^1c5gT#q];b%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tS(z#y#zS.Z(j(k!s<v$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]U$fd)[,fS(m#p'fU*r%R(t3rU0d*y.g7RQ4y0oQ6q3SQ8y6tR:S8zm!tQ!r!v!y!z']'i'j'k-^-n1c5g5iQ'q!uS(c#g1xS-l'h'tQ/m*YQ/y*eQ2x-oQ4W/nS4a/z0UQ7]4RS7h4g4iQ9X7^Q9]7eQ9c7kS:[9^9_S:s:]:_S;O:t:uS;W;P;QS;[;X;YR;_;]Q#wbQ'p!uS(b#g1xS(d#m+RQ+T%dQ+e%vQ+k%|U-k'h'q'tQ.P(cQ/l*YQ/x*eQ0O*hQ0t+fQ1i,YS2u-l-oQ2}.XS4V/m/nS4`/y0UQ4c/}Q4e0PQ5r1jQ6k2xQ7[4RQ7`4WS7d4a4iQ7i4hQ8]5sS9W7]7^Q9[7eQ9a7hQ9d7lQ9r8^Q:Y9XS:Z9]9_Q:a9cQ:j9sS:r:[:_S:}:s:tS;V;O;QS;Z;W;YQ;^;[Q;`;_Q<y<tQ=U<}R=V=OV!wQ']-^%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tS#wz!j!r<s$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]R<y=[%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+i+j-R-e-f-m/{0w2i2p2w4fS%|z!jQ+f%wQ,Y&aW1j,Z,[,],^U5s1k1l1mS8^5t5uQ9s8_!r<t$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q<}=ZR=O=[%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tY#bWZ#W#Z(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/g/j2W3O3P4S6^6oQ,g&l!p<u$Z$n)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]R<x'UU'Y!e%g*WR2g-X%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W,i,l,q-b-j-x.O.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3`5d5o6P6Q6T6h8T8Z8j8t!r)[$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q,f&lQ0o+bQ3S.`Q6t3WR8z6v!b$Tc#Y%o(P(V(q(v)W)X)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;c!P;o)Z)n-S.u2_2b3d3m3n3s3{6a6|7V7W8P8n8|9S9T:e:l=P!f$Vc#Y%o(P(V(q(v)T)U)W)X)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;c!T;q)Z)n-S.u2_2b3d3j3k3m3n3s3{6a6|7V7W8P8n8|9S9T:e:l=P!^$Zc#Y%o(P(V(q(v)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;cQ4P/ez=])Z)n-S.u2_2b3d3s3{6a6|7V7W8P8n8|9S9T:e:l=PQ=b=dR=c=e'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]S$oh$pR3x.}'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]T$kf$qQ$ifS)g$l)kR)s$qT$jf$qT)i$l)k'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]T$oh$pQ$rhR)r$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8t!s=Z$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_({)p+W+b,i,l,q-b.`/O/h0c1f1v1w1y1{2O2R2T3W3w5d5o6P6Q6T6v8T8Z8j!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c#d(t#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gQ+O%`Q/[){o3r;w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!O$yi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cQ*_$zU*h$|*W*kQ+P%aQ0P*i#d<{#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn<|;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rQ=Q=^Q=R=_Q=S=`R=T=a!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c#d(t#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=go3r;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rnoOXst!Z#d%k&o&q&r&t,l,q2O2RS*b${*VQ,z&{Q,{&}R4Z/r%S%Si#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gQ+}&YQ1[,PQ5^1ZR7|5_V*j$|*W*kU*j$|*W*kT5f1c5gU/}*g/h5dS4h0V8TR7l4jQ+e%vQ0O*hQ0t+fQ1i,YQ5r1jQ8]5sQ9r8^R:j9s!O%Oi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cr*O$v)b*P*q+Q/p0]0^3u4X4s7Z7m:X<z=W=XS0X*p0Y#d;z#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn;{;w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!f<^(r)`*X*a.c.f.j/W/]/e/u0m1X1Z3[4Y4^5]5_6w6z7b7f7o7q9Z9b:^:b:q:v;R=d=e`<_3q6}7Q7U8}:T:W;US<i.e3]T<j7P9Q!O%Qi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cv*Q$v)b*R*p+Q/a/p0]0^3u4X4k4s7Z7m:X<z=W=XS0Z*q0[#d;|#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn;};w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!j<`(r)`*X*a.d.e.j/W/]/e/u0m1X1Z3Y3[4Y4^5]5_6w6x6z7b7f7o7q9Z9b:^:b:q:v;R=d=ed<a3q7O7P7U8}9O:T:U:W;US<k.f3^T<l7Q9RrnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RQ&c!UR,i&lrnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RR&c!UQ,R&ZR1W+zsnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RQ1d,WS5m1g1hU8V5k5l5pS9n8X8YS:f9m9pQ:x:gR;S:yQ&j!VR,b&fR5y1pS&O|&TR1P+qQ&o!WR,l&pR,r&uT2P,q2RR,v&vQ,u&vR2Y,vQ'v!{R-r'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$uR/X)xQ#UVR'}#UQ#XWU(T#X(U-yQ(U#YR-y(VQ-V'VR2f-VQ.n(vS3a.n3bR3b.oQ-^']R2j-^Y!rQ']-^1c5gR'g!rQ.y)bR3v.yU#_W%f*VU([#_(]-zQ(]#`R-z(WQ-Y'YR2h-Yt`OXst!V!Z#d%k&f&h&o&q&r&t,l,q2O2RS#hZ%cU#r`#h.TR.T(gQ(h#jQ.Q(dW.Y(h.Q2{6mQ2{.RR6m2|Q)k$lR/P)kQ$phR)q$pQ$`cU)^$`-u;uQ-u;cR;u)nQ/k*YW4T/k4U7_9YU4U/l/m/nS7_4V4WR9Y7`$a)}$v(r)`)b*X*a*p*q*{*|+Q.e.f.h.i.j/W/]/a/c/e/p/u0]0^0m1X1Z3Y3Z3[3q3u4X4Y4^4k4m4s5]5_6w6x6y6z7P7Q7S7T7U7Z7b7f7m7o7q8}9O9P9Z9b:T:U:V:W:X:^:b:q:v;R;U<z=W=X=d=eQ/s*aU4]/s4_7cQ4_/uR7c4^S*k$|*WR0R*kr*P$v)b*p*q+Q/p0]0^3u4X4s7Z7m:X<z=W=X!f.c(r)`*X*a.e.f.j/W/]/e/u0m1X1Z3[4Y4^5]5_6w6z7b7f7o7q9Z9b:^:b:q:v;R=d=eU/b*P.c6}a6}3q7P7Q7U8}:T:W;UQ0Y*pQ3].eU4l0Y3]9QR9Q7Pv*R$v)b*p*q+Q/a/p0]0^3u4X4k4s7Z7m:X<z=W=X!j.d(r)`*X*a.e.f.j/W/]/e/u0m1X1Z3Y3[4Y4^5]5_6w6x6z7b7f7o7q9Z9b:^:b:q:v;R=d=eU/d*R.d7Oe7O3q7P7Q7U8}9O:T:U:W;UQ0[*qQ3^.fU4n0[3^9RR9R7QQ*v%UR0`*vQ4x0mR7p4xQ+Y%iR0l+YQ5a1^S8O5a9lR9l8PQ,T&[R1a,TQ5g1cR8R5gQ1o,_S5w1o8aR8a5yQ0z+mW5S0z5U7v9hQ5U0}Q7v5TR9h7wQ+r&OR1Q+rQ2R,qR6X2RYrOXst#dQ&s!ZQ+[%kQ,k&oQ,m&qQ,n&rQ,p&tQ1|,lS2P,q2RR6W2OQ%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Z%jQ+g%xQ+y&UQ,a&jQ,x&yW-i'h'p'q'tQ-p'lQ0Q*jQ0u+hS1r,b,eQ2Z,wQ2[,zQ2],{Q2q-hW2s-k-l-o-qQ4{0vQ5X1TQ5[1XQ5q1iQ5{1tQ6V1}U6f2r2u2xQ6i2vQ7r4|Q7z5ZQ7{5]Q8Q5fQ8[5rQ8b5zS8q6g6kQ8s6jQ9i7xQ9q8]Q9v8cQ9}8rQ:d9jQ:i9rQ:m:OR:z:jQ%xyQ'a!iQ'l!uU+h%y%z%{Q-P'SU-d'b'c'dS-h'h'rQ/w*eS0v+i+jQ2c-RS2o-e-fQ2v-mQ4b/{Q4|0wQ6b2iQ6e2pQ6j2wR7g4fS$wi=YR*w%VU%Ui%V=YR0_*uQ$viS(r#v+dS)`$b$cQ)b$dQ*X$xS*a${*VQ*p%OQ*q%QQ*{%]Q*|%^Q+Q%bQ.e;zQ.f;|Q.h<QQ.i<SQ.j<UQ/W)vS/])|/_Q/a*OQ/c*QQ/e*SQ/p*]S/u*c/gQ0]*sQ0^*th0m+a._1e3V5n6r8W8w9o:R:h:pQ1X+{Q1Z,OQ3Y<^Q3Z<`Q3[<cS3q;w;xQ3u.xQ4X/qQ4Y/rQ4^/tQ4k0XQ4m0ZQ4s0fQ5]1YQ5_1]Q6w<gQ6x<iQ6y<kQ6z<mQ7P;{Q7Q;}Q7S<RQ7T<TQ7U<VQ7Z4PQ7b4[Q7f4dQ7m4oQ7o4wQ7q4zQ8}<dQ9O<_Q9P<aQ9Z7aQ9b7jQ:T<hQ:U<jQ:V<lQ:W<nQ:X9VQ:^9`Q:b9eQ:q<qQ:v:`Q;R:wQ;U<rQ<z=YQ=W=bQ=X=cQ=d=fR=e=gQ*y%[Q.g<OR7R<PnpOXst!Z#d%k&o&q&r&t,l,q2O2RQ!fPS#fZ#oQ&y!`U'e!o5d8TQ'|#SQ(}#{Q)o$nS,e&h&kQ,j&lQ,w&xQ,|'QQ-`'_Q.q({Q/T)pS0j+W/hQ0p+bQ1z,iQ2m-bQ3T.`Q3z/OQ4q0cQ5l1fQ5}1vQ6O1wQ6S1yQ6U1{Q6Z2TQ6u3WQ7X3wQ8Y5oQ8f6PQ8g6QQ8i6TQ8{6vQ9p8ZR9z8j#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_({+W+b,i,l,q-b.`/h0c1f1v1w1y1{2O2R2T3W5d5o6P6Q6T6v8T8Z8jQ#YWQ#eYQ%ouQ%qvS%sw!gS(P#W(SQ(V#ZQ(q#uQ(v#xQ)O$OQ)P$PQ)Q$QQ)R$RQ)S$SQ)T$TQ)U$UQ)V$VQ)W$WQ)X$XQ)Z$ZQ)]$_Q)_$aQ)d$eW)n$n)p/O3wQ+_%rQ+s&PS-S'U2dQ-q'oS-v(Q-xQ-{(YQ-}(aQ.l(uQ.o(wQ.s;aQ.u;dQ.v;eQ.w;hQ/Z)zQ0g+SQ2_,}Q2b-QQ2r-jQ2y.OQ3_.mQ3d;iQ3e;jQ3f;kQ3g;lQ3h;mQ3i;nQ3j;oQ3k;pQ3l;qQ3m;rQ3n;sQ3o.tQ3p;vQ3s;yQ3t<WQ3{;tQ4t0iQ4}0xQ6a<YQ6g2tQ6l2zQ6{3`Q6|<ZQ7V<]Q7W<eQ8P5bQ8n6_Q8r6hQ8|<fQ9S<oQ9T<pQ:O8tQ:e9kQ:l9|Q;c#SR=P=]R#[WR'W!el!tQ!r!v!y!z']'i'j'k-^-n1c5g5iS'S!e-US-R'T'[R2i-[R(x#xQ!fQT-]']-^]!qQ!r']-^1c5gQ#p]R'f;bR)c$dY!uQ']-^1c5gQ'h!rS'r!v!yS't!z5iS-m'i'jQ-o'kR2w-nT#kZ%cS#jZ%cS%im,hU(d#h#i#lS.R(e(fQ.V(gQ0k+XQ2|.SU2}.T.U.WS6n3O3PR8u6od#^W#W#Z%f(Q(Z*V+U-|/gr#gZm#h#i#l%c(e(f(g+X.S.T.U.W3O3P6oS*Y$x*^Q/n*ZQ1x,hQ2`-OQ4R/jQ6]2WQ7^4SQ8m6^T<w'U+VV#aW%f*VU#`W%f*VS(R#W(ZU(W#Z+U/gS-T'U+VT-w(Q-|V'Z!e%g*WQ$lfR)u$qT)j$l)kR3y.}T*[$x*^T*d${*VQ0n+aQ3R._Q5k1eQ6s3VQ8X5nQ8x6rQ9m8WQ:P8wQ:g9oQ:o:RQ:y:hR:|:pnqOXst!Z#d%k&o&q&r&t,l,q2O2RQ&i!VR,a&ftmOXst!U!V!Z#d%k&f&o&q&r&t,l,q2O2RR,h&lT%jm,hR1_,QR,`&dQ&S|R+x&TR+n%}T&m!W&pT&n!W&pT2Q,q2R",nodeNames:"\u26A0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:UQ,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[eA],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!Z(CdsBr$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[GQ,KQ,JQ,2,3,4,5,6,7,8,9,10,11,12,13,14,HQ,new Rr("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new Rr("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14791},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>tA[t]||-1},{term:338,get:t=>iA[t]||-1},{term:92,get:t=>rA[t]||-1}],tokenPrec:14815});var Tu=class{constructor(e,i,r,n){this.state=e,this.pos=i,this.explicit=r,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let i=Pe(this.state).resolveInner(this.pos,-1);for(;i&&e.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(e){let i=this.state.doc.lineAt(this.pos),r=Math.max(i.from,this.pos-250),n=i.text.slice(r-i.from,this.pos-i.from),s=n.search(vv(e,!1));return s<0?null:{from:r+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,i,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(i),r&&r.onDocChange&&(this.abortOnDocChange=!0))}};function cv(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function nA(t){let e=Object.create(null),i=Object.create(null);for(let{label:n}of t){e[n[0]]=!0;for(let s=1;s<n.length;s++)i[n[s]]=!0}let r=cv(e)+cv(i)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Pp(t){let e=t.map(n=>typeof n=="string"?{label:n}:n),[i,r]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:nA(e);return n=>{let s=n.matchBefore(r);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:i}:null}}function yv(t,e){return i=>{for(let r=Pe(i.state).resolveInner(i.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(i)}}var Eu=class{constructor(e,i,r,n){this.completion=e,this.source=i,this.match=r,this.score=n}};function Ir(t){return t.selection.main.from}function vv(t,e){var i;let{source:r}=t,n=e&&r[0]!="^",s=r[r.length-1]!="$";return!n&&!s?t:new RegExp(`${n?"^":""}(?:${r})${s?"$":""}`,(i=t.flags)!==null&&i!==void 0?i:t.ignoreCase?"i":"")}var Cp=kt.define();function sA(t,e,i,r){let{main:n}=t.selection,s=i-n.from,o=r-n.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=n&&i!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(i,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==n.from?a.to:a.from+o,insert:l},range:D.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}var hv=new WeakMap;function oA(t){if(!Array.isArray(t))return t;let e=hv.get(t);return e||hv.set(t,e=Pp(t)),e}var Qu=ee.define(),la=ee.define(),Op=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<e.length;){let r=qe(e,i),n=pt(r);this.chars.push(r);let s=e.slice(i,i+n),o=s.toUpperCase();this.folded.push(qe(o==s?s.toLowerCase():o,0)),i+=n}this.astral=e.length!=this.chars.length}ret(e,i){return this.score=e,this.matched=i,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:i,folded:r,any:n,precise:s,byWord:o}=this;if(i.length==1){let y=qe(e,0),v=pt(y),k=v==e.length?0:-100;if(y!=i[0])if(y==r[0])k+=-200;else return null;return this.ret(k,[0,v])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=i.length,u=0;if(a<0){for(let y=0,v=Math.min(e.length,200);y<v&&u<l;){let k=qe(e,y);(k==i[u]||k==r[u])&&(n[u++]=y),y+=pt(k)}if(u<l)return null}let c=0,h=0,f=!1,d=0,p=-1,m=-1,g=/[a-z]/.test(e),O=!0;for(let y=0,v=Math.min(e.length,200),k=0;y<v&&h<l;){let C=qe(e,y);a<0&&(c<l&&C==i[c]&&(s[c++]=y),d<l&&(C==i[d]||C==r[d]?(d==0&&(p=y),m=y+1,d++):d=0));let A,P=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(A=ko(C))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!y||P==1&&g||k==0&&P!=0)&&(i[h]==C||r[h]==C&&(f=!0)?o[h++]=y:o.length&&(O=!1)),k=P,y+=pt(C)}return h==l&&o[0]==0&&O?this.result(-100+(f?-200:0),o,e):d==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[p,m]):h==l?this.result(-100+(f?-200:0)+-700+(O?0:-1100),o,e):i.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,i,r){let n=[],s=0;for(let o of i){let a=o+(this.astral?pt(qe(r,o)):1);s&&n[s-1]==o?n[s-1]=a:(n[s++]=o,n[s++]=a)}return this.ret(e-r.length,n)}},bp=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let i=e.slice(0,this.pattern.length),r=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,i.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}},st=W.define({combine(t){return ct(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:aA,filterStrict:!1,compareCompletions:(e,i)=>e.label.localeCompare(i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,i)=>e&&i,closeOnBlur:(e,i)=>e&&i,icons:(e,i)=>e&&i,tooltipClass:(e,i)=>r=>fv(e(r),i(r)),optionClass:(e,i)=>r=>fv(e(r),i(r)),addToOptions:(e,i)=>e.concat(i),filterStrict:(e,i)=>e||i})}});function fv(t,e){return t?e?t+" "+e:t:e}function aA(t,e,i,r,n,s){let o=t.textDirection==_e.RTL,a=o,l=!1,u="top",c,h,f=e.left-n.left,d=n.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&f<Math.min(p,d)?a=!1:!a&&d<Math.min(p,f)&&(a=!0),p<=(a?f:d))c=Math.max(n.top,Math.min(i.top,n.bottom-m))-e.top,h=Math.min(400,a?f:d);else{l=!0,h=Math.min(400,(o?e.right:n.right-e.left)-30);let y=n.bottom-e.bottom;y>=m||y>e.top?c=i.bottom-e.top:(u="bottom",c=e.bottom-i.top)}let g=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/g}px; max-width: ${h/O}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function lA(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(i){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),i.type&&r.classList.add(...i.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(i,r,n,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=i.displayLabel||i.label,l=0;for(let u=0;u<s.length;){let c=s[u++],h=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(c,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(i){if(!i.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=i.detail,r},position:80}),e.sort((i,r)=>i.position-r.position).map(i=>i.render)}function mp(t,e,i){if(t<=i)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let n=Math.floor(e/i);return{from:n*i,to:(n+1)*i}}let r=Math.floor((t-e)/i);return{from:t-(r+1)*i,to:t-r*i}}var yp=class{constructor(e,i,r){this.view=e,this.stateField=i,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let n=e.state.field(i),{options:s,selected:o}=n.open,a=e.state.facet(st);this.optionContent=lA(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=mp(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(i).open;for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(st).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:la.of(null)})}),this.showOptions(s,n.id)}mount(){this.updateSel()}showOptions(e,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var i;let r=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=n){let{options:s,selected:o,disabled:a}=r.open;(!n.open||n.open.options!=s)&&(this.range=mp(s.length,o,e.state.facet(st).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((i=n.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let i=this.tooltipClass(e);if(i!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of i.split(" "))r&&this.dom.classList.add(r);this.currentClass=i}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),i=e.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=mp(i.options.length,i.selected,this.view.state.facet(st).maxRenderedOptions),this.showOptions(i.options,e.id)),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:r}=i.options[i.selected],{info:n}=r;if(!n)return;let s=typeof n=="string"?document.createTextNode(n):n(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>rt(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,i){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:s}=e;r.appendChild(n),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let i=null;for(let r=this.list.firstChild,n=this.range.from;r;r=r.nextSibling,n++)r.nodeName!="LI"||!r.id?n--:n==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),i=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return i&&cA(this.list,i),i}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let i=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return n.top>Math.min(s.bottom,i.bottom)-10||n.bottom<Math.max(s.top,i.top)+10?null:this.view.state.facet(st).positionInfo(this.view,i,n,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,i,r){let n=document.createElement("ul");n.id=i,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof u!="string"&&u.header)n.appendChild(u.header(u));else{let d=n.appendChild(document.createElement("completion-section"));d.textContent=f}}let c=n.appendChild(document.createElement("li"));c.id=i+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let f of this.optionContent){let d=f(a,this.view.state,this.view,l);d&&c.appendChild(d)}}return r.from&&n.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function uA(t,e){return i=>new yp(i,t,e)}function cA(t,e){let i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),n=i.height/t.offsetHeight;r.top<i.top?t.scrollTop-=(i.top-r.top)/n:r.bottom>i.bottom&&(t.scrollTop+=(r.bottom-i.bottom)/n)}function dv(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function hA(t,e){let i=[],r=null,n=u=>{i.push(u);let{section:c}=u.completion;if(c){r||(r=[]);let h=typeof c=="string"?c:c.name;r.some(f=>f.name==h)||r.push(typeof c=="string"?{name:h}:c)}},s=e.facet(st);for(let u of t)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)n(new Eu(h,u.source,c?c(h):[],1e9-i.length));else{let h=e.sliceDoc(u.from,u.to),f,d=s.filterStrict?new bp(h):new Op(h);for(let p of u.result.options)if(f=d.match(p.label)){let m=p.displayLabel?c?c(p,f.matched):[]:f.matched;n(new Eu(p,u.source,m,f.score+(p.boost||0)))}}}if(r){let u=Object.create(null),c=0,h=(f,d)=>{var p,m;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(h))c-=1e5,u[f.name]=c;for(let f of i){let{section:d}=f.completion;d&&(f.score+=u[typeof d=="string"?d:d.name])}}let o=[],a=null,l=s.compareCompletions;for(let u of i.sort((c,h)=>h.score-c.score||l(c.completion,h.completion))){let c=u.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?o.push(u):dv(u.completion)>dv(a)&&(o[o.length-1]=u),a=u.completion}return o}var vp=class t{constructor(e,i,r,n,s,o){this.options=e,this.attrs=i,this.tooltip=r,this.timestamp=n,this.selected=s,this.disabled=o}setSelected(e,i){return e==this.selected||e>=this.options.length?this:new t(this.options,pv(i,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,i,r,n,s){let o=hA(e,i);if(!o.length)return n&&e.some(l=>l.state==1)?new t(n.options,n.attrs,n.tooltip,n.timestamp,n.selected,!0):null;let a=i.facet(st).selectOnOpen?0:-1;if(n&&n.selected!=a&&n.selected!=-1){let l=n.options[n.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new t(o,pv(r,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:OA,above:s.aboveCursor},n?n.timestamp:Date.now(),a,!1)}map(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},xp=class t{constructor(e,i,r){this.active=e,this.id=i,this.open=r}static start(){return new t(mA,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:i}=e,r=i.facet(st),s=(r.override||i.languageDataAt("autocomplete",Ir(i)).map(oA)).map(a=>(this.active.find(u=>u.source==a)||new ir(a,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!fA(s,this.active)?o=vp.build(s,i,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ir(a.source,0):a));for(let a of e.effects)a.is(_v)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new t(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?dA:pA}};function fA(t,e){if(t==e)return!0;for(let i=0,r=0;;){for(;i<t.length&&!t[i].hasResult;)i++;for(;r<e.length&&!e[r].hasResult;)r++;let n=i==t.length,s=r==e.length;if(n||s)return n==s;if(t[i++].result!=e[r++].result)return!1}}var dA={"aria-autocomplete":"list"},pA={};function pv(t,e){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(i["aria-activedescendant"]=t+"-"+e),i}var mA=[];function xv(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(Cp);if(r&&e.activateOnCompletion(r))return 12}let i=t.isUserEvent("input.type");return i&&e.activateOnTyping?5:i?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}var ir=class t{constructor(e,i,r=-1){this.source=e,this.state=i,this.explicitPos=r}hasResult(){return!1}update(e,i){let r=xv(e,i),n=this;(r&8||r&16&&this.touches(e))&&(n=new t(n.source,0)),r&4&&n.state==0&&(n=new t(this.source,1)),n=n.updateFor(e,r);for(let s of e.effects)if(s.is(Qu))n=new t(n.source,1,s.value?Ir(e.state):-1);else if(s.is(la))n=new t(n.source,0);else if(s.is(wv))for(let o of s.value)o.source==n.source&&(n=o);return n}updateFor(e,i){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new t(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Ir(e.state))}},Au=class t extends ir{constructor(e,i,r,n,s){super(e,2,i),this.result=r,this.from=n,this.to=s}hasResult(){return!0}updateFor(e,i){var r;if(!(i&3))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Ir(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||!n||i&2&&Ir(e.startState)==this.from)return new ir(this.source,i&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return gA(n.validFor,e.state,s,o)?new t(this.source,l,n,s,o):n.update&&(n=n.update(n,s,o,new Tu(e.state,a,l>=0)))?new t(this.source,l,n,n.from,(r=n.to)!==null&&r!==void 0?r:Ir(e.state)):new ir(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ir(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function gA(t,e,i,r){if(!t)return!1;let n=e.sliceDoc(i,r);return typeof t=="function"?t(n,i,r,e):vv(t,!0).test(n)}var wv=ee.define({map(t,e){return t.map(i=>i.map(e))}}),_v=ee.define(),Qt=Ae.define({create(){return xp.start()},update(t,e){return t.update(e)},provide:t=>[Uo.from(t,e=>e.tooltip),q.contentAttributes.from(t,e=>e.attrs)]});function Tp(t,e){let i=e.completion.apply||e.completion.label,r=t.state.field(Qt).active.find(n=>n.source==e.source);return r instanceof Au?(typeof i=="string"?t.dispatch(Object.assign(Object.assign({},sA(t.state,i,r.from,r.to)),{annotations:Cp.of(e.completion)})):i(t,e.completion,r.from,r.to),!0):!1}var OA=uA(Qt,Tp);function Cu(t,e="option"){return i=>{let r=i.state.field(Qt,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<i.state.facet(st).interactionDelay)return!1;let n=1,s;e=="page"&&(s=md(i,r.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+n*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),i.dispatch({effects:_v.of(a)}),!0}}var bA=t=>{let e=t.state.field(Qt,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(st).interactionDelay?!1:Tp(t,e.open.options[e.open.selected])},mv=t=>t.state.field(Qt,!1)?(t.dispatch({effects:Qu.of(!0)}),!0):!1,yA=t=>{let e=t.state.field(Qt,!1);return!e||!e.active.some(i=>i.state!=0)?!1:(t.dispatch({effects:la.of(null)}),!0)},wp=class{constructor(e,i){this.active=e,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}},vA=50,xA=1e3,wA=Ie.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Qt).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Qt),i=t.state.facet(st);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Qt)==e)return;let r=t.transactions.some(s=>{let o=xv(s,i);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>vA&&Date.now()-o.time>xA){for(let a of o.context.abortListeners)try{a()}catch(l){rt(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(Qu)))&&(this.pendingStart=!0);let n=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),n):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Qt);for(let i of e.active)i.state==1&&!this.running.some(r=>r.active.source==i.source)&&this.startQuery(i)}startQuery(t){let{state:e}=this.view,i=Ir(e),r=new Tu(e,i,t.explicitPos==i,this.view),n=new wp(t,r);this.running.push(n),Promise.resolve(t.source(r)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:la.of(null)}),rt(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(st).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet(st);for(let r=0;r<this.running.length;r++){let n=this.running[r];if(n.done===void 0)continue;if(this.running.splice(r--,1),n.done){let o=new Au(n.active.source,n.active.explicitPos,n.done,n.done.from,(t=n.done.to)!==null&&t!==void 0?t:Ir(n.updates.length?n.updates[0].startState:this.view.state));for(let a of n.updates)o=o.update(a,i);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Qt).active.find(o=>o.source==n.active.source);if(s&&s.state==1)if(n.done==null){let o=new ir(n.active.source,0);for(let a of n.updates)o=o.update(a,i);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:wv.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Qt,!1);if(e&&e.tooltip&&this.view.state.facet(st).closeOnBlur){let i=e.open&&md(this.view,e.open.tooltip);(!i||!i.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:la.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Qu.of(!1)}),20),this.composing=0}}}),_A=typeof navigator=="object"&&/Win/.test(navigator.platform),SA=Ut.highest(q.domEventHandlers({keydown(t,e){let i=e.state.field(Qt,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||t.key.length>1||t.ctrlKey&&!(_A&&t.altKey)||t.metaKey)return!1;let r=i.open.options[i.open.selected],n=i.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||n.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Tp(e,r),!1}})),Sv=q.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),_p=class{constructor(e,i,r,n){this.field=e,this.line=i,this.from=r,this.to=n}},Sp=class t{constructor(e,i,r){this.field=e,this.from=i,this.to=r}map(e){let i=e.mapPos(this.from,-1,Ye.TrackDel),r=e.mapPos(this.to,1,Ye.TrackDel);return i==null||r==null?null:new t(this.field,i,r)}},kp=class t{constructor(e,i){this.lines=e,this.fieldPositions=i}instantiate(e,i){let r=[],n=[i],s=e.doc.lineAt(i),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let h=0;h<c;h++)u+=e.facet(ys);n.push(i+u.length-c),l=u+l.slice(c)}r.push(l),i+=l.length+1}let a=this.fieldPositions.map(l=>new Sp(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let i=[],r=[],n=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<i.length;h++)(a!=null?i[h].seq==a:c&&i[h].name==c)&&(u=h);if(u<0){let h=0;for(;h<i.length&&(a==null||i[h].seq!=null&&i[h].seq<a);)h++;i.splice(h,0,{seq:a,name:c}),u=h;for(let f of n)f.field>=u&&f.field++}n.push(new _p(u,r.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of n)c.line==r.length&&c.from>u&&(c.from--,c.to--);return l}),r.push(o)}return new t(r,n)}},kA=U.widget({widget:new class extends Ct{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),PA=U.mark({class:"cm-snippetField"}),Ss=class t{constructor(e,i){this.ranges=e,this.active=i,this.deco=U.set(e.map(r=>(r.from==r.to?kA:PA).range(r.from,r.to)))}map(e){let i=[];for(let r of this.ranges){let n=r.map(e);if(!n)return null;i.push(n)}return new t(i,this.active)}selectionInsideField(e){return e.ranges.every(i=>this.ranges.some(r=>r.field==this.active&&r.from<=i.from&&r.to>=i.to))}},ha=ee.define({map(t,e){return t&&t.map(e)}}),CA=ee.define(),ua=Ae.define({create(){return null},update(t,e){for(let i of e.effects){if(i.is(ha))return i.value;if(i.is(CA)&&t)return new Ss(t.ranges,i.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>q.decorations.from(t,e=>e?e.deco:U.none)});function Ep(t,e){return D.create(t.filter(i=>i.field==e).map(i=>D.range(i.from,i.to)))}function TA(t){let e=kp.parse(t);return(i,r,n,s)=>{let{text:o,ranges:a}=e.instantiate(i.state,n),l={changes:{from:n,to:s,insert:ue.of(o)},scrollIntoView:!0,annotations:r?[Cp.of(r),Ze.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=Ep(a,0)),a.some(u=>u.field>0)){let u=new Ss(a,0),c=l.effects=[ha.of(u)];i.state.field(ua,!1)===void 0&&c.push(ee.appendConfig.of([ua,$A,RA,Sv]))}i.dispatch(i.state.update(l))}}function kv(t){return({state:e,dispatch:i})=>{let r=e.field(ua,!1);if(!r||t<0&&r.active==0)return!1;let n=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==n+t);return i(e.update({selection:Ep(r.ranges,n),effects:ha.of(s?null:new Ss(r.ranges,n)),scrollIntoView:!0})),!0}}var EA=({state:t,dispatch:e})=>t.field(ua,!1)?(e(t.update({effects:ha.of(null)})),!0):!1,QA=kv(1),AA=kv(-1);var MA=[{key:"Tab",run:QA,shift:AA},{key:"Escape",run:EA}],gv=W.define({combine(t){return t.length?t[0]:MA}}),$A=Ut.highest(fs.compute([gv],t=>t.facet(gv)));function bt(t,e){return Object.assign(Object.assign({},e),{apply:TA(t)})}var RA=q.domEventHandlers({mousedown(t,e){let i=e.state.field(ua,!1),r;if(!i||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let n=i.ranges.find(s=>s.from<=r&&s.to>=r);return!n||n.field==i.active?!1:(e.dispatch({selection:Ep(i.ranges,n.field),effects:ha.of(i.ranges.some(s=>s.field>n.field)?new Ss(i.ranges,n.field):null),scrollIntoView:!0}),!0)}});var ca={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},yn=ee.define({map(t,e){let i=e.mapPos(t,-1,Ye.TrackAfter);return i==null?void 0:i}}),Qp=new class extends ci{};Qp.startSide=1;Qp.endSide=-1;var Pv=Ae.define({create(){return Oe.empty},update(t,e){if(t=t.map(e.changes),e.selection){let i=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=i.from&&r<=i.to})}for(let i of e.effects)i.is(yn)&&(t=t.update({add:[Qp.range(i.value,i.value+1)]}));return t}});function Cv(){return[DA,Pv]}var gp="()[]{}<>";function Tv(t){for(let e=0;e<gp.length;e+=2)if(gp.charCodeAt(e)==t)return gp.charAt(e+1);return ko(t<128?t:t+1)}function Ev(t,e){return t.languageDataAt("closeBrackets",e)[0]||ca}var IA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),DA=q.inputHandler.of((t,e,i,r)=>{if((IA?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let n=t.state.selection.main;if(r.length>2||r.length==2&&pt(qe(r,0))==1||e!=n.from||i!=n.to)return!1;let s=VA(t.state,r);return s?(t.dispatch(s),!0):!1}),LA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Ev(t,t.selection.main.head).brackets||ca.brackets,n=null,s=t.changeByRange(o=>{if(o.empty){let a=NA(t.doc,o.head);for(let l of r)if(l==a&&Mu(t.doc,o.head)==Tv(qe(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:D.cursor(o.head-l.length)}}return{range:n=o}});return n||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!n},Qv=[{key:"Backspace",run:LA}];function VA(t,e){let i=Ev(t,t.selection.main.head),r=i.brackets||ca.brackets;for(let n of r){let s=Tv(qe(n,0));if(e==n)return s==n?qA(t,n,r.indexOf(n+n+n)>-1,i):zA(t,n,s,i.before||ca.before);if(e==s&&Av(t,t.selection.main.from))return BA(t,n,s)}return null}function Av(t,e){let i=!1;return t.field(Pv).between(0,t.doc.length,r=>{r==e&&(i=!0)}),i}function Mu(t,e){let i=t.sliceString(e,e+2);return i.slice(0,pt(qe(i,0)))}function NA(t,e){let i=t.sliceString(e-2,e);return pt(qe(i,0))==i.length?i:i.slice(1)}function zA(t,e,i,r){let n=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:i,from:o.to}],effects:yn.of(o.to+e.length),range:D.range(o.anchor+e.length,o.head+e.length)};let a=Mu(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+i,from:o.head},effects:yn.of(o.head+e.length),range:D.cursor(o.head+e.length)}:{range:n=o}});return n?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function BA(t,e,i){let r=null,n=t.changeByRange(s=>s.empty&&Mu(t.doc,s.head)==i?{changes:{from:s.head,to:s.head+i.length,insert:i},range:D.cursor(s.head+i.length)}:r={range:s});return r?null:t.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function qA(t,e,i,r){let n=r.stringPrefixes||ca.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:yn.of(a.to+e.length),range:D.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Mu(t.doc,l),c;if(u==e){if(Ov(t,l))return{changes:{insert:e+e,from:l},effects:yn.of(l+e.length),range:D.cursor(l+e.length)};if(Av(t,l)){let f=i&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:D.cursor(l+f.length)}}}else{if(i&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=bv(t,l-2*e.length,n))>-1&&Ov(t,c))return{changes:{insert:e+e+e+e,from:l},effects:yn.of(l+e.length),range:D.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=we.Word&&bv(t,l,n)>-1&&!ZA(t,l,e,n))return{changes:{insert:e+e,from:l},effects:yn.of(l+e.length),range:D.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Ov(t,e){let i=Pe(t).resolveInner(e+1);return i.parent&&i.from==e}function ZA(t,e,i,r){let n=Pe(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(n.from,Math.min(n.to,n.from+i.length+s)),l=a.indexOf(i);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=n.firstChild;for(;c&&c.from==n.from&&c.to-c.from>i.length+l;){if(t.sliceDoc(c.to-i.length,c.to)==i)return!1;c=c.firstChild}return!0}let u=n.to==e&&n.parent;if(!u)break;n=u}return!1}function bv(t,e,i){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=we.Word)return e;for(let n of i){let s=e-n.length;if(t.sliceDoc(s,e)==n&&r(t.sliceDoc(s-1,s))!=we.Word)return s}return-1}function Mv(t={}){return[SA,Qt,st.of(t),wA,WA,Sv]}var Ap=[{key:"Ctrl-Space",run:mv},{mac:"Alt-`",run:mv},{key:"Escape",run:yA},{key:"ArrowDown",run:Cu(!0)},{key:"ArrowUp",run:Cu(!1)},{key:"PageDown",run:Cu(!0,"page")},{key:"PageUp",run:Cu(!1,"page")},{key:"Enter",run:bA}],WA=Ut.highest(fs.computeN([st],t=>t.facet(st).defaultKeymap?[Ap]:[]));var Dv=[bt("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),bt("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),bt("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),bt("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),bt("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),bt(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),bt("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),bt(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),bt(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),bt('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),bt('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],jA=Dv.concat([bt("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),bt("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),bt("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),$v=new ps,Lv=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function fa(t){return(e,i)=>{let r=e.node.getChild("VariableDefinition");return r&&i(r,t),!0}}var XA=["FunctionDeclaration"],YA={FunctionDeclaration:fa("function"),ClassDeclaration:fa("class"),ClassExpression:()=>!0,EnumDeclaration:fa("constant"),TypeAliasDeclaration:fa("type"),NamespaceDeclaration:fa("namespace"),VariableDefinition(t,e){t.matchContext(XA)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Vv(t,e){let i=$v.get(e);if(i)return i;let r=[],n=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(be.IncludeAnonymous).iterate(o=>{if(n)n=!1;else if(o.name){let a=YA[o.name];if(a&&a(o,s)||Lv.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of Vv(t,o.node))r.push(a);return!1}}),$v.set(e,r),r}var Rv=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Nv=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function FA(t){let e=Pe(t.state).resolveInner(t.pos,-1);if(Nv.indexOf(e.name)>-1)return null;let i=e.name=="VariableName"||e.to-e.from<20&&Rv.test(t.state.sliceDoc(e.from,e.to));if(!i&&!t.explicit)return null;let r=[];for(let n=e;n;n=n.parent)Lv.has(n.name)&&(r=r.concat(Vv(t.state.doc,n)));return{options:r,from:i?e.from:t.pos,validFor:Rv}}var mi=Di.define({name:"javascript",parser:uv.configure({props:[Gi.add({IfStatement:Ki({except:/^\s*({|else\b)/}),TryStatement:Ki({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:uy,SwitchBody:t=>{let e=t.textAfter,i=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(i?0:r?1:2)*t.unit},Block:ay({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Ki({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Ji.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":xs,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),zv={test:t=>/^JSX/.test(t.name),facet:Wd({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Mp=mi.configure({dialect:"ts"},"typescript"),$p=mi.configure({dialect:"jsx",props:[vu.add(t=>t.isTop?[zv]:void 0)]}),Rp=mi.configure({dialect:"jsx ts",props:[vu.add(t=>t.isTop?[zv]:void 0)]},"typescript"),Bv=t=>({label:t,type:"keyword"}),qv="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Bv),UA=qv.concat(["declare","implements","private","protected","public"].map(Bv));function $u(t={}){let e=t.jsx?t.typescript?Rp:$p:t.typescript?Mp:mi,i=t.typescript?jA.concat(UA):Dv.concat(qv);return new Li(e,[mi.data.of({autocomplete:yv(Nv,Pp(i))}),mi.data.of({autocomplete:FA}),t.jsx?KA:[]])}function HA(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Iv(t,e,i=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,i));return""}var GA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),KA=q.inputHandler.of((t,e,i,r,n)=>{if((GA?t.composing:t.compositionStarted)||t.state.readOnly||e!=i||r!=">"&&r!="/"||!mi.isActiveAt(t.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,h=Pe(o).resolveInner(c-1,-1),f;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(c-1,c)!=r||h.name=="JSXAttributeValue"&&h.to>c)){if(r==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let d=h.parent,p=d.parent;if(p&&d.from==c-2&&((f=Iv(o.doc,p.firstChild,c))||((u=p.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let m=`${f}>`;return{range:D.cursor(c+m.length,-1),changes:{from:c,insert:m}}}}else if(r==">"){let d=HA(h);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(f=Iv(o.doc,d,c)))return{range:l,changes:{from:c,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var da=["_blank","_self","_top","_parent"],Ip=["ascii","utf-8","utf-16","latin1","latin1"],Dp=["get","post","put","delete"],Lp=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bt=["true","false"],H={},JA={a:{attrs:{href:null,ping:null,type:null,media:null,target:da,hreflang:null}},abbr:H,address:H,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:H,aside:H,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:H,base:{attrs:{href:null,target:da}},bdi:H,bdo:H,blockquote:{attrs:{cite:null}},body:H,br:H,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Lp,formmethod:Dp,formnovalidate:["novalidate"],formtarget:da,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:H,center:H,cite:H,code:H,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:H,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:H,div:H,dl:H,dt:H,em:H,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:H,figure:H,footer:H,form:{attrs:{action:null,name:null,"accept-charset":Ip,autocomplete:["on","off"],enctype:Lp,method:Dp,novalidate:["novalidate"],target:da}},h1:H,h2:H,h3:H,h4:H,h5:H,h6:H,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:H,hgroup:H,hr:H,html:{attrs:{manifest:null}},i:H,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Lp,formmethod:Dp,formnovalidate:["novalidate"],formtarget:da,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:H,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:H,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:H,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Ip,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:H,noscript:H,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:H,param:{attrs:{name:null,value:null}},pre:H,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:H,rt:H,ruby:H,samp:H,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Ip}},section:H,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:H,source:{attrs:{src:null,type:null,media:null}},span:H,strong:H,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:H,summary:H,sup:H,table:H,tbody:H,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:H,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:H,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:H,time:{attrs:{datetime:null}},title:H,tr:H,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:H,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:H},Xv={accesskey:null,class:null,contenteditable:Bt,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bt,autocorrect:Bt,autocapitalize:Bt,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bt,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bt,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bt,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bt,"aria-hidden":Bt,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bt,"aria-multiselectable":Bt,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bt,"aria-relevant":null,"aria-required":Bt,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Yv="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Yv)Xv[t]=null;var ks=class{constructor(e,i){this.tags=Object.assign(Object.assign({},JA),e),this.globalAttrs=Object.assign(Object.assign({},Xv),i),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};ks.default=new ks;function Ps(t,e,i=t.length){if(!e)return"";let r=e.firstChild,n=r&&r.getChild("TagName");return n?t.sliceString(n.from,Math.min(n.to,i)):""}function Cs(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function Fv(t,e,i){let r=i.tags[Ps(t,Cs(e))];return(r==null?void 0:r.children)||i.allTags}function Vp(t,e){let i=[];for(let r=Cs(e);r&&!r.type.isTop;r=Cs(r.parent)){let n=Ps(t,r);if(n&&r.lastChild.name=="CloseTag")break;n&&i.indexOf(n)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&i.push(n)}return i}var Uv=/^[:\-\.\w\u00b7-\uffff]*$/;function Zv(t,e,i,r,n){let s=/\s*>/.test(t.sliceDoc(n,n+5))?"":">",o=Cs(i,!0);return{from:r,to:n,options:Fv(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(Vp(t.doc,i).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Wv(t,e,i,r){let n=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:i,to:r,options:Vp(t.doc,e).map((s,o)=>({label:s,apply:s+n,type:"type",boost:99-o})),validFor:Uv}}function eM(t,e,i,r){let n=[],s=0;for(let o of Fv(t.doc,i,e))n.push({label:"<"+o,type:"type"});for(let o of Vp(t.doc,i))n.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function tM(t,e,i,r,n){let s=Cs(i),o=s?e.tags[Ps(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:n,options:l.map(u=>({label:u,type:"property"})),validFor:Uv}}function iM(t,e,i,r,n){var s;let o=(s=i.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let h=Cs(i),f=h?e.tags[Ps(t.doc,h)]:null;c=(f==null?void 0:f.attrs)&&f.attrs[u]}if(c){let h=t.sliceDoc(r,n).toLowerCase(),f='"',d='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",d=t.sliceDoc(n,n+1)==h[0]?"":h[0],h=h.slice(1),r++):l=/^[^\s<>='"]*$/;for(let p of c)a.push({label:p,apply:f+p+d,type:"constant"})}}return{from:r,to:n,options:a,validFor:l}}function rM(t,e){let{state:i,pos:r}=e,n=Pe(i).resolveInner(r,-1),s=n.resolve(r);for(let o=r,a;s==n&&(a=n.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=n=a,o=l.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?Wv(i,n,n.from,r):Zv(i,t,n,n.from,r):n.name=="StartTag"?Zv(i,t,n,r,r):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?Wv(i,n,r,r):n.name=="OpenTag"||n.name=="SelfClosingTag"||n.name=="AttributeName"?tM(i,t,n,n.name=="AttributeName"?n.from:r,r):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?iM(i,t,n,n.name=="Is"?r:n.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?eM(i,t,n,r):null}function nM(t){let{extraTags:e,extraGlobalAttributes:i}=t,r=i||e?new ks(e,i):ks.default;return n=>rM(r,n)}var sM=mi.parser.configure({top:"SingleExpression"}),Hv=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:Mp.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:$p.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:Rp.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:sM},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:mi.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:aa.parser}],Gv=[{name:"style",parser:aa.parser.configure({top:"Styles"})}].concat(Yv.map(t=>({name:t,parser:mi.parser}))),Kv=Di.define({name:"html",parser:Fy.configure({props:[Gi.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,i;for(let r=t.node;;){let n=r.lastChild;if(!n||n.name!="Element"||n.to!=r.to)break;e=r=n}return e&&!((i=e.lastChild)&&(i.name=="CloseTag"||i.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Ji.add({Element(t){let e=t.firstChild,i=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:i.name=="CloseTag"?i.from:t.to}}}),Xd.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Ru=Kv.configure({wrap:up(Hv,Gv)});function Jv(t={}){let e="",i;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(i=up((t.nestedLanguages||[]).concat(Hv),(t.nestedAttributes||[]).concat(Gv)));let r=i?Kv.configure({wrap:i,dialect:e}):e?Ru.configure({dialect:e}):Ru;return new Li(r,[Ru.data.of({autocomplete:nM(t)}),t.autoCloseTags!==!1?oM:[],$u().support,ov().support])}var jv=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),oM=q.inputHandler.of((t,e,i,r,n)=>{if(t.composing||t.state.readOnly||e!=i||r!=">"&&r!="/"||!Ru.isActiveAt(t.state,e,-1))return!1;let s=n(),{state:o}=s,a=o.changeByRange(l=>{var u,c,h;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:d}=l,p=Pe(o).resolveInner(d,-1),m;if(f&&r==">"&&p.name=="EndTag"){let g=p.parent;if(((c=(u=g.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(m=Ps(o.doc,g.parent,d))&&!jv.has(m)){let O=d+(o.doc.sliceString(d,d+1)===">"?1:0),y=`</${m}>`;return{range:l,changes:{from:d,to:O,insert:y}}}}else if(f&&r=="/"&&p.name=="IncompleteCloseTag"){let g=p.parent;if(p.from==d-2&&((h=g.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(m=Ps(o.doc,g,d))&&!jv.has(m)){let O=d+(o.doc.sliceString(d,d+1)===">"?1:0),y=`${m}>`;return{range:D.cursor(d+y.length,-1),changes:{from:d,to:O,insert:y}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var aM=Ii({String:T.string,Number:T.number,"True False":T.bool,PropertyName:T.propertyName,Null:T.null,",":T.separator,"[ ]":T.squareBracket,"{ }":T.brace}),ex=Vi.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[aM],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var lM=Di.define({name:"json",parser:ex.configure({props:[Gi.add({Object:Ki({except:/^\s*\}/}),Array:Ki({except:/^\s*\]/})}),Ji.add({"Object Array":xs})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function tx(){return new Li(lM)}var uM=t=>{let{state:e}=t,i=e.doc.lineAt(e.selection.main.from),r=jp(t.state,i.from);return r.line?cM(t):r.block?fM(t):!1};function Wp(t,e){return({state:i,dispatch:r})=>{if(i.readOnly)return!1;let n=t(e,i);return n?(r(i.update(n)),!0):!1}}var cM=Wp(mM,0);var hM=Wp(ux,0);var fM=Wp((t,e)=>ux(t,e,pM(e)),0);function jp(t,e){let i=t.languageDataAt("commentTokens",e);return i.length?i[0]:{}}var pa=50;function dM(t,{open:e,close:i},r,n){let s=t.sliceDoc(r-pa,r),o=t.sliceDoc(n,n+pa),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+i.length)==i)return{open:{pos:r-a,margin:a&&1},close:{pos:n+l,margin:l&&1}};let c,h;n-r<=2*pa?c=h=t.sliceDoc(r,n):(c=t.sliceDoc(r,r+pa),h=t.sliceDoc(n-pa,n));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-i.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+i.length)==i?{open:{pos:r+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:n-d-i.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function pM(t){let e=[];for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),n=i.to<=r.to?r:t.doc.lineAt(i.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=n.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:n.to})}return e}function ux(t,e,i=e.selection.ranges){let r=i.map(s=>jp(e,s.from).block);if(!r.every(s=>s))return null;let n=i.map((s,o)=>dM(e,r[o],s.from,s.to));if(t!=2&&!n.every(s=>s))return{changes:e.changes(i.map((s,o)=>n[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&n.some(s=>s)){let s=[];for(let o=0,a;o<n.length;o++)if(a=n[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function mM(t,e,i=e.selection.ranges){let r=[],n=-1;for(let{from:s,to:o}of i){let a=r.length,l=1e9,u=jp(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>n&&(s==o||o>h.from)){n=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of r)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}var zp=kt.define(),gM=kt.define(),OM=W.define(),cx=W.define({combine(t){return ct(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,i)=>(r,n)=>e(r,n)||i(r,n)})}}),hx=Ae.define({create(){return vn.empty},update(t,e){let i=e.state.facet(cx),r=e.annotation(zp);if(r){let l=gi.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=Du(c,c.length,i.minDepth,l):c=mx(c,e.startState.selection),new vn(u==0?r.rest:c,u==0?c:r.rest)}let n=e.annotation(gM);if((n=="full"||n=="before")&&(t=t.isolate()),e.annotation(Ze.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=gi.fromTransaction(e),o=e.annotation(Ze.time),a=e.annotation(Ze.userEvent);return s?t=t.addChanges(s,o,a,i,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,i.newGroupDelay)),(n=="full"||n=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new vn(t.done.map(gi.fromJSON),t.undone.map(gi.fromJSON))}});function fx(t={}){return[hx,cx.of(t),q.domEventHandlers({beforeinput(e,i){let r=e.inputType=="historyUndo"?dx:e.inputType=="historyRedo"?Bp:null;return r?(e.preventDefault(),r(i)):!1}})]}function Lu(t,e){return function({state:i,dispatch:r}){if(!e&&i.readOnly)return!1;let n=i.field(hx,!1);if(!n)return!1;let s=n.pop(t,i,e);return s?(r(s),!0):!1}}var dx=Lu(0,!1),Bp=Lu(1,!1),bM=Lu(0,!0),yM=Lu(1,!0);var gi=class t{constructor(e,i,r,n,s){this.changes=e,this.effects=i,this.mapped=r,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,i,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(i=this.mapped)===null||i===void 0?void 0:i.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new t(e.changes&&mt.fromJSON(e.changes),[],e.mapped&&Xi.fromJSON(e.mapped),e.startSelection&&D.fromJSON(e.startSelection),e.selectionsAfter.map(D.fromJSON))}static fromTransaction(e,i){let r=Jt;for(let n of e.startState.facet(OM)){let s=n(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),r,void 0,i||e.startState.selection,Jt)}static selection(e){return new t(void 0,Jt,void 0,void 0,e)}};function Du(t,e,i,r){let n=e+1>i+20?e-i-1:0,s=t.slice(n,e);return s.push(r),s}function vM(t,e){let i=[],r=!1;return t.iterChangedRanges((n,s)=>i.push(n,s)),e.iterChangedRanges((n,s,o,a)=>{for(let l=0;l<i.length;){let u=i[l++],c=i[l++];a>=u&&o<=c&&(r=!0)}}),r}function xM(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((i,r)=>i.empty!=e.ranges[r].empty).length===0}function px(t,e){return t.length?e.length?t.concat(e):t:e}var Jt=[],wM=200;function mx(t,e){if(t.length){let i=t[t.length-1],r=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-wM));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Du(t,t.length-1,1e9,i.setSelAfter(r)))}else return[gi.selection([e])]}function _M(t){let e=t[t.length-1],i=t.slice();return i[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),i}function Np(t,e){if(!t.length)return t;let i=t.length,r=Jt;for(;i;){let n=SM(t[i-1],e,r);if(n.changes&&!n.changes.empty||n.effects.length){let s=t.slice(0,i);return s[i-1]=n,s}else e=n.mapped,i--,r=n.selectionsAfter}return r.length?[gi.selection(r)]:Jt}function SM(t,e,i){let r=px(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Jt,i);if(!t.changes)return gi.selection(r);let n=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new gi(n,ee.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}var kM=/^(input\.type|delete)($|\.)/,vn=class t{constructor(e,i,r=0,n=void 0){this.done=e,this.undone=i,this.prevTime=r,this.prevUserEvent=n}isolate(){return this.prevTime?new t(this.done,this.undone):this}addChanges(e,i,r,n,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||kM.test(r))&&(!a.selectionsAfter.length&&i-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,vM(a.changes,e.changes))||r=="input.type.compose")?o=Du(o,o.length-1,n.minDepth,new gi(e.changes.compose(a.changes),px(ee.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Jt)):o=Du(o,o.length,n.minDepth,e),new t(o,Jt,i,r)}addSelection(e,i,r,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Jt;return s.length>0&&i-this.prevTime<n&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&xM(s[s.length-1],e)?this:new t(mx(this.done,e),this.undone,i,r)}addMapping(e){return new t(Np(this.done,e),Np(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,i,r){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1],o=s.selectionsAfter[0]||i.selection;if(r&&s.selectionsAfter.length)return i.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:zp.of({side:e,rest:_M(n),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=n.length==1?Jt:n.slice(0,n.length-1);return s.mapped&&(a=Np(a,s.mapped)),i.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:zp.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};vn.empty=new vn(Jt,Jt);var gx=[{key:"Mod-z",run:dx,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Bp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Bp,preventDefault:!0},{key:"Mod-u",run:bM,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:yM,preventDefault:!0}];function Ts(t,e){return D.create(t.ranges.map(e),t.mainIndex)}function Ni(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Oi({state:t,dispatch:e},i){let r=Ts(t.selection,i);return r.eq(t.selection,!0)?!1:(e(Ni(t,r)),!0)}function Vu(t,e){return D.cursor(e?t.to:t.from)}function Ox(t,e){return Oi(t,i=>i.empty?t.moveByChar(i,e):Vu(i,e))}function ft(t){return t.textDirectionAt(t.state.selection.main.head)==_e.LTR}var bx=t=>Ox(t,!ft(t)),yx=t=>Ox(t,ft(t));function vx(t,e){return Oi(t,i=>i.empty?t.moveByGroup(i,e):Vu(i,e))}var PM=t=>vx(t,!ft(t)),CM=t=>vx(t,ft(t));var VB=typeof Intl!="undefined"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function TM(t,e,i){if(e.type.prop(i))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Nu(t,e,i){let r=Pe(t).resolveInner(e.head),n=i?re.closedBy:re.openedBy;for(let l=e.head;;){let u=i?r.childAfter(l):r.childBefore(l);if(!u)break;TM(t,u,n)?r=u:l=i?u.to:u.from}let s=r.type.prop(n),o,a;return s&&(o=i?pi(t,r.from,1):pi(t,r.to,-1))&&o.matched?a=i?o.end.to:o.end.from:a=i?r.to:r.from,D.cursor(a,i?-1:1)}var EM=t=>Oi(t,e=>Nu(t.state,e,!ft(t))),QM=t=>Oi(t,e=>Nu(t.state,e,ft(t)));function xx(t,e){return Oi(t,i=>{if(!i.empty)return Vu(i,e);let r=t.moveVertically(i,e);return r.head!=i.head?r:t.moveToLineBoundary(i,e)})}var wx=t=>xx(t,!1),_x=t=>xx(t,!0);function Sx(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,r=0,n;if(e){for(let s of t.state.facet(q.scrollMargins)){let o=s(t);o!=null&&o.top&&(i=Math.max(o==null?void 0:o.top,i)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}n=t.scrollDOM.clientHeight-i-r}else n=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,n-5)}}function kx(t,e){let i=Sx(t),{state:r}=t,n=Ts(r.selection,o=>o.empty?t.moveVertically(o,e,i.height):Vu(o,e));if(n.eq(r.selection))return!1;let s;if(i.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+i.marginTop,u=a.bottom-i.marginBottom;o&&o.top>l&&o.bottom<u&&(s=q.scrollIntoView(n.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Ni(r,n),{effects:s}),!0}var ix=t=>kx(t,!1),qp=t=>kx(t,!0);function Dr(t,e,i){let r=t.lineBlockAt(e.head),n=t.moveToLineBoundary(e,i);if(n.head==e.head&&n.head!=(i?r.to:r.from)&&(n=t.moveToLineBoundary(e,i,!1)),!i&&n.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(n=D.cursor(r.from+s))}return n}var AM=t=>Oi(t,e=>Dr(t,e,!0)),MM=t=>Oi(t,e=>Dr(t,e,!1)),$M=t=>Oi(t,e=>Dr(t,e,!ft(t))),RM=t=>Oi(t,e=>Dr(t,e,ft(t))),IM=t=>Oi(t,e=>D.cursor(t.lineBlockAt(e.head).from,1)),DM=t=>Oi(t,e=>D.cursor(t.lineBlockAt(e.head).to,-1));function LM(t,e,i){let r=!1,n=Ts(t.selection,s=>{let o=pi(t,s.head,-1)||pi(t,s.head,1)||s.head>0&&pi(t,s.head-1,1)||s.head<t.doc.length&&pi(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return i?D.range(s.anchor,a):D.cursor(a)});return r?(e(Ni(t,n)),!0):!1}var VM=({state:t,dispatch:e})=>LM(t,e,!1);function ei(t,e){let i=Ts(t.state.selection,r=>{let n=e(r);return D.range(r.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return i.eq(t.state.selection)?!1:(t.dispatch(Ni(t.state,i)),!0)}function Px(t,e){return ei(t,i=>t.moveByChar(i,e))}var Cx=t=>Px(t,!ft(t)),Tx=t=>Px(t,ft(t));function Ex(t,e){return ei(t,i=>t.moveByGroup(i,e))}var NM=t=>Ex(t,!ft(t)),zM=t=>Ex(t,ft(t));var BM=t=>ei(t,e=>Nu(t.state,e,!ft(t))),qM=t=>ei(t,e=>Nu(t.state,e,ft(t)));function Qx(t,e){return ei(t,i=>t.moveVertically(i,e))}var Ax=t=>Qx(t,!1),Mx=t=>Qx(t,!0);function $x(t,e){return ei(t,i=>t.moveVertically(i,e,Sx(t).height))}var rx=t=>$x(t,!1),nx=t=>$x(t,!0),ZM=t=>ei(t,e=>Dr(t,e,!0)),WM=t=>ei(t,e=>Dr(t,e,!1)),jM=t=>ei(t,e=>Dr(t,e,!ft(t))),XM=t=>ei(t,e=>Dr(t,e,ft(t))),YM=t=>ei(t,e=>D.cursor(t.lineBlockAt(e.head).from)),FM=t=>ei(t,e=>D.cursor(t.lineBlockAt(e.head).to)),sx=({state:t,dispatch:e})=>(e(Ni(t,{anchor:0})),!0),ox=({state:t,dispatch:e})=>(e(Ni(t,{anchor:t.doc.length})),!0),ax=({state:t,dispatch:e})=>(e(Ni(t,{anchor:t.selection.main.anchor,head:0})),!0),lx=({state:t,dispatch:e})=>(e(Ni(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),UM=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),HM=({state:t,dispatch:e})=>{let i=zu(t).map(({from:r,to:n})=>D.range(r,Math.min(n+1,t.doc.length)));return e(t.update({selection:D.create(i),userEvent:"select"})),!0},GM=({state:t,dispatch:e})=>{let i=Ts(t.selection,r=>{let n=Pe(t),s=n.resolveStack(r.from,1);if(r.empty){let o=n.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return D.range(a.to,a.from)}return r});return i.eq(t.selection)?!1:(e(Ni(t,i)),!0)},KM=({state:t,dispatch:e})=>{let i=t.selection,r=null;return i.ranges.length>1?r=D.create([i.main]):i.main.empty||(r=D.create([D.cursor(i.main.head)])),r?(e(Ni(t,r)),!0):!1};function ma(t,e){if(t.state.readOnly)return!1;let i="delete.selection",{state:r}=t,n=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(i="delete.backward",l=Iu(t,l,!1)):l>o&&(i="delete.forward",l=Iu(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Iu(t,o,!1),a=Iu(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:D.cursor(o,o<s.head?-1:1)}});return n.changes.empty?!1:(t.dispatch(r.update(n,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?q.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Iu(t,e,i){if(t instanceof q)for(let r of t.state.facet(q.atomicRanges).map(n=>n(t)))r.between(e,e,(n,s)=>{n<e&&s>e&&(e=i?s:n)});return e}var Rx=(t,e,i)=>ma(t,r=>{let n=r.from,{state:s}=t,o=s.doc.lineAt(n),a,l;if(i&&!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,n-o.from))){if(a[a.length-1]=="	")return n-1;let u=Yi(a,s.tabSize),c=u%ia(s)||ia(s);for(let h=0;h<c&&a[a.length-1-h]==" ";h++)n--;l=n}else l=We(o.text,n-o.from,e,e)+o.from,l==n&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,n-o.from))&&(l=We(o.text,l-o.from,!1,!1)+o.from);return l}),Zp=t=>Rx(t,!1,!0);var Ix=t=>Rx(t,!0,!1),Dx=(t,e)=>ma(t,i=>{let r=i.head,{state:n}=t,s=n.doc.lineAt(r),o=n.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==i.head&&s.number!=(e?n.doc.lines:1)&&(r+=e?1:-1);break}let l=We(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=i.head)&&(a=c),r=l}return r}),Lx=t=>Dx(t,!1),JM=t=>Dx(t,!0),e$=t=>ma(t,e=>{let i=t.lineBlockAt(e.head).to;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)});var t$=t=>ma(t,e=>{let i=t.moveToLineBoundary(e,!1).head;return e.head>i?i:Math.max(0,e.head-1)}),i$=t=>ma(t,e=>{let i=t.moveToLineBoundary(e,!0).head;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)});var r$=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:ue.of(["",""])},range:D.cursor(r.from)}));return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},n$=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let n=r.from,s=t.doc.lineAt(n),o=n==s.from?n-1:We(s.text,n-s.from,!1)+s.from,a=n==s.to?n+1:We(s.text,n-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(n,a).append(t.doc.slice(o,n))},range:D.cursor(a)}});return i.changes.empty?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function zu(t){let e=[],i=-1;for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),i>=n.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:n.from,to:s.to,ranges:[r]});i=s.number+1}return e}function Vx(t,e,i){if(t.readOnly)return!1;let r=[],n=[];for(let s of zu(t)){if(i?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(i?s.to+1:s.from-1),a=o.length+1;if(i){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)n.push(D.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)n.push(D.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:D.create(n,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}var s$=({state:t,dispatch:e})=>Vx(t,e,!1),o$=({state:t,dispatch:e})=>Vx(t,e,!0);function Nx(t,e,i){if(t.readOnly)return!1;let r=[];for(let n of zu(t))i?r.push({from:n.from,insert:t.doc.slice(n.from,n.to)+t.lineBreak}):r.push({from:n.to,insert:t.lineBreak+t.doc.slice(n.from,n.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var a$=({state:t,dispatch:e})=>Nx(t,e,!1),l$=({state:t,dispatch:e})=>Nx(t,e,!0),u$=t=>{if(t.state.readOnly)return!1;let{state:e}=t,i=e.changes(zu(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),r=Ts(e.selection,n=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(n.head),a=t.coordsAtPos(n.head,n.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(n,!0,s)}).map(i);return t.dispatch({changes:i,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function c$(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let i=Pe(t).resolveInner(e),r=i.childBefore(e),n=i.childAfter(e),s;return r&&n&&r.to<=e&&n.from>=e&&(s=r.type.prop(re.closedBy))&&s.indexOf(n.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(n.from).from&&!/\S/.test(t.sliceDoc(r.to,n.from))?{from:r.to,to:n.from}:null}var h$=zx(!1),f$=zx(!0);function zx(t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let r=e.changeByRange(n=>{let{from:s,to:o}=n,a=e.doc.lineAt(s),l=!t&&s==o&&c$(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new On(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=xu(u,s);for(c==null&&(c=Yi(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",vs(e,c)];return l&&h.push(vs(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:ue.of(h)},range:D.cursor(s+1+h[1].length)}});return i(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Xp(t,e){let i=-1;return t.changeByRange(r=>{let n=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>i&&(r.empty||r.to>a.from)&&(e(a,n,r),i=a.number),o=a.to+1}let s=t.changes(n);return{changes:n,range:D.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}var d$=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Object.create(null),r=new On(t,{overrideIndentation:s=>{let o=i[s];return o==null?-1:o}}),n=Xp(t,(s,o,a)=>{let l=xu(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=vs(t,l);(u!=c||a.from<s.from+u.length)&&(i[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return n.changes.empty||e(t.update(n,{userEvent:"indent"})),!0},p$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Xp(t,(i,r)=>{r.push({from:i.from,insert:t.facet(ys)})}),{userEvent:"input.indent"})),!0),m$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Xp(t,(i,r)=>{let n=/^\s*/.exec(i.text)[0];if(!n)return;let s=Yi(n,t.tabSize),o=0,a=vs(t,Math.max(0,s-ia(t)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:i.from+o,to:i.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),g$=t=>(t.setTabFocusMode(),!0);var O$=[{key:"Ctrl-b",run:bx,shift:Cx,preventDefault:!0},{key:"Ctrl-f",run:yx,shift:Tx},{key:"Ctrl-p",run:wx,shift:Ax},{key:"Ctrl-n",run:_x,shift:Mx},{key:"Ctrl-a",run:IM,shift:YM},{key:"Ctrl-e",run:DM,shift:FM},{key:"Ctrl-d",run:Ix},{key:"Ctrl-h",run:Zp},{key:"Ctrl-k",run:e$},{key:"Ctrl-Alt-h",run:Lx},{key:"Ctrl-o",run:r$},{key:"Ctrl-t",run:n$},{key:"Ctrl-v",run:qp}],b$=[{key:"ArrowLeft",run:bx,shift:Cx,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:PM,shift:NM,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:$M,shift:jM,preventDefault:!0},{key:"ArrowRight",run:yx,shift:Tx,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:CM,shift:zM,preventDefault:!0},{mac:"Cmd-ArrowRight",run:RM,shift:XM,preventDefault:!0},{key:"ArrowUp",run:wx,shift:Ax,preventDefault:!0},{mac:"Cmd-ArrowUp",run:sx,shift:ax},{mac:"Ctrl-ArrowUp",run:ix,shift:rx},{key:"ArrowDown",run:_x,shift:Mx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ox,shift:lx},{mac:"Ctrl-ArrowDown",run:qp,shift:nx},{key:"PageUp",run:ix,shift:rx},{key:"PageDown",run:qp,shift:nx},{key:"Home",run:MM,shift:WM,preventDefault:!0},{key:"Mod-Home",run:sx,shift:ax},{key:"End",run:AM,shift:ZM,preventDefault:!0},{key:"Mod-End",run:ox,shift:lx},{key:"Enter",run:h$},{key:"Mod-a",run:UM},{key:"Backspace",run:Zp,shift:Zp},{key:"Delete",run:Ix},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Lx},{key:"Mod-Delete",mac:"Alt-Delete",run:JM},{mac:"Mod-Backspace",run:t$},{mac:"Mod-Delete",run:i$}].concat(O$.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Bx=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:EM,shift:BM},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:QM,shift:qM},{key:"Alt-ArrowUp",run:s$},{key:"Shift-Alt-ArrowUp",run:a$},{key:"Alt-ArrowDown",run:o$},{key:"Shift-Alt-ArrowDown",run:l$},{key:"Escape",run:KM},{key:"Mod-Enter",run:f$},{key:"Alt-l",mac:"Ctrl-l",run:HM},{key:"Mod-i",run:GM,preventDefault:!0},{key:"Mod-[",run:m$},{key:"Mod-]",run:p$},{key:"Mod-Alt-\\",run:d$},{key:"Shift-Mod-k",run:u$},{key:"Shift-Mod-\\",run:VM},{key:"Mod-/",run:uM},{key:"Alt-A",run:hM},{key:"Ctrl-m",mac:"Shift-Alt-m",run:g$}].concat(b$);function ve(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,i=arguments[1];if(i&&typeof i=="object"&&i.nodeType==null&&!Array.isArray(i)){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];typeof n=="string"?t.setAttribute(r,n):n!=null&&(t[r]=n)}e++}for(;e<arguments.length;e++)qx(t,arguments[e]);return t}function qx(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var i=0;i<e.length;i++)qx(t,e[i]);else throw new RangeError("Unsupported child node: "+e)}var Zx=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t,Vr=class{constructor(e,i,r=0,n=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,n),this.bufferStart=r,this.normalize=s?a=>s(Zx(a)):Zx,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return qe(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let i=ko(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=pt(e);let n=this.normalize(i);for(let s=0,o=r;;s++){let a=n.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==n.length-1){if(l)return this.value=l,this;break}o==r&&s<i.length&&i.charCodeAt(s)==a&&o++}}}match(e,i,r){let n=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:i,to:r}:this.matches.push(1,i)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}};typeof Symbol!="undefined"&&(Vr.prototype[Symbol.iterator]=function(){return this});var Yx={from:-1,to:-1,match:/.*/.exec("")},Jp="gm"+(/x/.unicode==null?"":"u"),Zu=class{constructor(e,i,r,n=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Yx,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new ju(e,i,r,n,s);this.re=new RegExp(i,Jp+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(n);this.curLineStart=o.from,this.matchPos=Xu(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let r=this.curLineStart+i.index,n=r+i[0].length;if(this.matchPos=Xu(this.text,n+(r==n?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<n||r>this.value.to)&&(!this.test||this.test(r,n,i)))return this.value={from:r,to:n,match:i},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},Yp=new WeakMap,Wu=class t{constructor(e,i){this.from=e,this.text=i}get to(){return this.from+this.text.length}static get(e,i,r){let n=Yp.get(e);if(!n||n.from>=r||n.to<=i){let a=new t(i,e.sliceString(i,r));return Yp.set(e,a),a}if(n.from==i&&n.to==r)return n;let{text:s,from:o}=n;return o>i&&(s=e.sliceString(i,o)+s,o=i),n.to<r&&(s+=e.sliceString(n.to,r)),Yp.set(e,new t(o,s)),new t(i,s.slice(i-o,r-o))}},ju=class{constructor(e,i,r,n,s){this.text=e,this.to=s,this.done=!1,this.value=Yx,this.matchPos=Xu(e,n),this.re=new RegExp(i,Jp+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Wu.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==e&&(this.re.lastIndex=e+1,i=this.re.exec(this.flat.text)),i){let r=this.flat.from+i.index,n=r+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,n,i)))return this.value={from:r,to:n,match:i},this.matchPos=Xu(this.text,n+(r==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Wu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol!="undefined"&&(Zu.prototype[Symbol.iterator]=ju.prototype[Symbol.iterator]=function(){return this});function y$(t){try{return new RegExp(t,Jp),!0}catch{return!1}}function Xu(t,e){if(e>=t.length)return e;let i=t.lineAt(e),r;for(;e<i.to&&(r=i.text.charCodeAt(e-i.from))>=56320&&r<57344;)e++;return e}function Fp(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),i=ve("input",{class:"cm-textfield",name:"line",value:e}),r=ve("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Yu.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},ve("label",t.state.phrase("Go to line"),": ",i)," ",ve("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,h]=s,f=c?+c.slice(1):0,d=u?+u:a.number;if(u&&h){let g=d/100;l&&(g=g*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*g)}else u&&l&&(d=d*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),m=D.cursor(p.from+Math.max(0,Math.min(f,p.length)));t.dispatch({effects:[Yu.of(!1),q.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}var Yu=ee.define(),Wx=Ae.define({create(){return!0},update(t,e){for(let i of e.effects)i.is(Yu)&&(t=i.value);return t},provide:t=>fn.from(t,e=>e?Fp:null)}),v$=t=>{let e=dn(t,Fp);if(!e){let i=[Yu.of(!0)];t.state.field(Wx,!1)==null&&i.push(ee.appendConfig.of([Wx,x$])),t.dispatch({effects:i}),e=dn(t,Fp)}return e&&e.dom.querySelector("input").select(),!0},x$=q.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),w$={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Fx=W.define({combine(t){return ct(t,w$,{highlightWordAroundCursor:(e,i)=>e||i,minSelectionLength:Math.min,maxMatches:Math.min})}});function Ux(t){let e=[C$,P$];return t&&e.push(Fx.of(t)),e}var _$=U.mark({class:"cm-selectionMatch"}),S$=U.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jx(t,e,i,r){return(i==0||t(e.sliceDoc(i-1,i))!=we.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=we.Word)}function k$(t,e,i,r){return t(e.sliceDoc(i,i+1))==we.Word&&t(e.sliceDoc(r-1,r))==we.Word}var P$=Ie.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Fx),{state:i}=t,r=i.selection;if(r.ranges.length>1)return U.none;let n=r.main,s,o=null;if(n.empty){if(!e.highlightWordAroundCursor)return U.none;let l=i.wordAt(n.head);if(!l)return U.none;o=i.charCategorizer(n.head),s=i.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return U.none;if(e.wholeWords){if(s=i.sliceDoc(n.from,n.to),o=i.charCategorizer(n.head),!(jx(o,i,n.from,n.to)&&k$(o,i,n.from,n.to)))return U.none}else if(s=i.sliceDoc(n.from,n.to),!s)return U.none}let a=[];for(let l of t.visibleRanges){let u=new Vr(i.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||jx(o,i,c,h))&&(n.empty&&c<=n.from&&h>=n.to?a.push(S$.range(c,h)):(c>=n.to||h<=n.from)&&a.push(_$.range(c,h)),a.length>e.maxMatches))return U.none}}return U.set(a)}},{decorations:t=>t.decorations}),C$=q.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),T$=({state:t,dispatch:e})=>{let{selection:i}=t,r=D.create(i.ranges.map(n=>t.wordAt(n.head)||D.cursor(n.head)),i.mainIndex);return r.eq(i)?!1:(e(t.update({selection:r})),!0)};function E$(t,e){let{main:i,ranges:r}=t.selection,n=t.wordAt(i.head),s=n&&n.from==i.from&&n.to==i.to;for(let o=!1,a=new Vr(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Vr(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}var Q$=({state:t,dispatch:e})=>{let{ranges:i}=t.selection;if(i.some(s=>s.from===s.to))return T$({state:t,dispatch:e});let r=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let n=E$(t,r);return n?(e(t.update({selection:t.selection.addRange(D.range(n.from,n.to),!1),effects:q.scrollIntoView(n.to)})),!0):!1},As=W.define({combine(t){return ct(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Kp(e),scrollToMatch:e=>q.scrollIntoView(e)})}});var Fu=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||y$(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(i,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Hp(this):new Up(this)}getCursor(e,i=0,r){let n=e.doc?e:Se.create({doc:e});return r==null&&(r=n.doc.length),this.regexp?Qs(this,n,i,r):Es(this,n,i,r)}},Uu=class{constructor(e){this.spec=e}};function Es(t,e,i,r){return new Vr(e.doc,t.unquoted,i,r,t.caseSensitive?void 0:n=>n.toLowerCase(),t.wholeWord?A$(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function A$(t,e){return(i,r,n,s)=>((s>i||s+n.length<r)&&(s=Math.max(0,i-2),n=t.sliceString(s,Math.min(t.length,r+2))),(e(Hu(n,i-s))!=we.Word||e(Gu(n,i-s))!=we.Word)&&(e(Gu(n,r-s))!=we.Word||e(Hu(n,r-s))!=we.Word))}var Up=class extends Uu{constructor(e){super(e)}nextMatch(e,i,r){let n=Es(this.spec,e,r,e.doc.length).nextOverlapping();return n.done&&(n=Es(this.spec,e,0,i).nextOverlapping()),n.done?null:n.value}prevMatchInRange(e,i,r){for(let n=r;;){let s=Math.max(i,n-1e4-this.spec.unquoted.length),o=Es(this.spec,e,s,n),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==i)return null;n-=1e4}}prevMatch(e,i,r){return this.prevMatchInRange(e,0,i)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,i){let r=Es(this.spec,e,0,e.doc.length),n=[];for(;!r.next().done;){if(n.length>=i)return null;n.push(r.value)}return n}highlight(e,i,r,n){let s=Es(this.spec,e,Math.max(0,i-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}};function Qs(t,e,i,r){return new Zu(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?M$(e.charCategorizer(e.selection.main.head)):void 0},i,r)}function Hu(t,e){return t.slice(We(t,e,!1),e)}function Gu(t,e){return t.slice(e,We(t,e))}function M$(t){return(e,i,r)=>!r[0].length||(t(Hu(r.input,r.index))!=we.Word||t(Gu(r.input,r.index))!=we.Word)&&(t(Gu(r.input,r.index+r[0].length))!=we.Word||t(Hu(r.input,r.index+r[0].length))!=we.Word)}var Hp=class extends Uu{nextMatch(e,i,r){let n=Qs(this.spec,e,r,e.doc.length).next();return n.done&&(n=Qs(this.spec,e,0,i).next()),n.done?null:n.value}prevMatchInRange(e,i,r){for(let n=1;;n++){let s=Math.max(i,r-n*1e4),o=Qs(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==i||a.from>s+10))return a;if(s==i)return null}}prevMatch(e,i,r){return this.prevMatchInRange(e,0,i)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(i,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:i)}matchAll(e,i){let r=Qs(this.spec,e,0,e.doc.length),n=[];for(;!r.next().done;){if(n.length>=i)return null;n.push(r.value)}return n}highlight(e,i,r,n){let s=Qs(this.spec,e,Math.max(0,i-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}},Oa=ee.define(),em=ee.define(),Lr=Ae.define({create(t){return new ga(Gp(t).create(),null)},update(t,e){for(let i of e.effects)i.is(Oa)?t=new ga(i.value.create(),t.panel):i.is(em)&&(t=new ga(t.query,i.value?tm:null));return t},provide:t=>fn.from(t,e=>e.panel)});var ga=class{constructor(e,i){this.query=e,this.panel=i}},$$=U.mark({class:"cm-searchMatch"}),R$=U.mark({class:"cm-searchMatch cm-searchMatch-selected"}),I$=Ie.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Lr))}update(t){let e=t.state.field(Lr);(e!=t.startState.field(Lr)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return U.none;let{view:i}=this,r=new hi;for(let n=0,s=i.visibleRanges,o=s.length;n<o;n++){let{from:a,to:l}=s[n];for(;n<o-1&&l>s[n+1].from-2*250;)l=s[++n].to;t.highlight(i.state,a,l,(u,c)=>{let h=i.state.selection.ranges.some(f=>f.from==u&&f.to==c);r.add(u,c,h?R$:$$)})}return r.finish()}},{decorations:t=>t.decorations});function ba(t){return e=>{let i=e.state.field(Lr,!1);return i&&i.query.spec.valid?t(e,i):Kx(e)}}var Ku=ba((t,{query:e})=>{let{to:i}=t.state.selection.main,r=e.nextMatch(t.state,i,i);if(!r)return!1;let n=D.single(r.from,r.to),s=t.state.facet(As);return t.dispatch({selection:n,effects:[im(t,r),s.scrollToMatch(n.main,t)],userEvent:"select.search"}),Gx(t),!0}),Ju=ba((t,{query:e})=>{let{state:i}=t,{from:r}=i.selection.main,n=e.prevMatch(i,r,r);if(!n)return!1;let s=D.single(n.from,n.to),o=t.state.facet(As);return t.dispatch({selection:s,effects:[im(t,n),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),Gx(t),!0}),D$=ba((t,{query:e})=>{let i=e.matchAll(t.state,1e3);return!i||!i.length?!1:(t.dispatch({selection:D.create(i.map(r=>D.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),L$=({state:t,dispatch:e})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:r,to:n}=i.main,s=[],o=0;for(let a=new Vr(t.doc,t.sliceDoc(r,n));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(D.range(a.value.from,a.value.to))}return e(t.update({selection:D.create(s,o),userEvent:"select.search.matches"})),!0},Xx=ba((t,{query:e})=>{let{state:i}=t,{from:r,to:n}=i.selection.main;if(i.readOnly)return!1;let s=e.nextMatch(i,r,r);if(!s)return!1;let o=[],a,l,u=[];if(s.from==r&&s.to==n&&(l=i.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(i,s.from,s.to),u.push(q.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(r).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=D.single(s.from-c,s.to-c),u.push(im(t,s)),u.push(i.facet(As).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:u,userEvent:"input.replace"}),!0}),V$=ba((t,{query:e})=>{if(t.state.readOnly)return!1;let i=e.matchAll(t.state,1e9).map(n=>{let{from:s,to:o}=n;return{from:s,to:o,insert:e.getReplacement(n)}});if(!i.length)return!1;let r=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:q.announce.of(r),userEvent:"input.replace.all"}),!0});function tm(t){return t.state.facet(As).createPanel(t)}function Gp(t,e){var i,r,n,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(As);return new Fu({search:((i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function Hx(t){let e=dn(t,tm);return e&&e.dom.querySelector("[main-field]")}function Gx(t){let e=Hx(t);e&&e==t.root.activeElement&&e.select()}var Kx=t=>{let e=t.state.field(Lr,!1);if(e&&e.panel){let i=Hx(t);if(i&&i!=t.root.activeElement){let r=Gp(t.state,e.query.spec);r.valid&&t.dispatch({effects:Oa.of(r)}),i.focus(),i.select()}}else t.dispatch({effects:[em.of(!0),e?Oa.of(Gp(t.state,e.query.spec)):ee.appendConfig.of(z$)]});return!0},Jx=t=>{let e=t.state.field(Lr,!1);if(!e||!e.panel)return!1;let i=dn(t,tm);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:em.of(!1)}),!0},ew=[{key:"Mod-f",run:Kx,scope:"editor search-panel"},{key:"F3",run:Ku,shift:Ju,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Ku,shift:Ju,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Jx,scope:"editor search-panel"},{key:"Mod-Shift-l",run:L$},{key:"Mod-Alt-g",run:v$},{key:"Mod-d",run:Q$,preventDefault:!0}],Kp=class{constructor(e){this.view=e;let i=this.query=e.state.field(Lr).query.spec;this.commit=this.commit.bind(this),this.searchField=ve("input",{value:i.search,placeholder:qt(e,"Find"),"aria-label":qt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ve("input",{value:i.replace,placeholder:qt(e,"Replace"),"aria-label":qt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ve("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=ve("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=ve("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit});function r(n,s,o){return ve("button",{class:"cm-button",name:n,onclick:s,type:"button"},o)}this.dom=ve("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,r("next",()=>Ku(e),[qt(e,"next")]),r("prev",()=>Ju(e),[qt(e,"previous")]),r("select",()=>D$(e),[qt(e,"all")]),ve("label",null,[this.caseField,qt(e,"match case")]),ve("label",null,[this.reField,qt(e,"regexp")]),ve("label",null,[this.wordField,qt(e,"by word")]),...e.state.readOnly?[]:[ve("br"),this.replaceField,r("replace",()=>Xx(e),[qt(e,"replace")]),r("replaceAll",()=>V$(e),[qt(e,"replace all")])],ve("button",{name:"close",onclick:()=>Jx(e),"aria-label":qt(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new Fu({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Oa.of(e)}))}keydown(e){x0(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ju:Ku)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Xx(this.view))}update(e){for(let i of e.transactions)for(let r of i.effects)r.is(Oa)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(As).top}};function qt(t,e){return t.state.phrase(e)}var Bu=30,qu=/[\s\.,:;?!]/;function im(t,{from:e,to:i}){let r=t.state.doc.lineAt(e),n=t.state.doc.lineAt(i).to,s=Math.max(r.from,e-Bu),o=Math.min(n,i+Bu),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Bu;l++)if(!qu.test(a[l+1])&&qu.test(a[l])){a=a.slice(l);break}}if(o!=n){for(let l=a.length-1;l>a.length-Bu;l--)if(!qu.test(a[l-1])&&qu.test(a[l])){a=a.slice(0,l);break}}return q.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}var N$=q.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),z$=[Lr,Ut.low(I$),N$];var rm=class{constructor(e,i,r){this.from=e,this.to=i,this.diagnostic=r}},xn=class t{constructor(e,i,r){this.diagnostics=e,this.panel=i,this.selected=r}static init(e,i,r){let n=e,s=r.facet(ya).markerFilter;s&&(n=s(n,r));let o=U.set(n.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?U.widget({widget:new nm(a),diagnostic:a}).range(a.from):U.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new t(o,i,Ms(o))}};function Ms(t,e=null,i=0){let r=null;return t.between(i,1e9,(n,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new rm(n,s,o.diagnostic),!1}),r}function B$(t,e){let i=e.pos,r=e.end||i,n=t.state.facet(ya).hideOn(t,i,r);if(n!=null)return n;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(iw))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function q$(t,e){return t.field(Zt,!1)?e:e.concat(ee.appendConfig.of(H$))}var iw=ee.define(),sm=ee.define(),rw=ee.define(),Zt=Ae.define({create(){return new xn(U.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let i=t.diagnostics.map(e.changes),r=null,n=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=Ms(i,t.selected.diagnostic,s)||Ms(i,null,s)}!i.size&&n&&e.state.facet(ya).autoPanel&&(n=null),t=new xn(i,n,r)}for(let i of e.effects)if(i.is(iw)){let r=e.state.facet(ya).autoPanel?i.value.length?va.open:null:t.panel;t=xn.init(i.value,r,e.state)}else i.is(sm)?t=new xn(t.diagnostics,i.value?va.open:null,t.selected):i.is(rw)&&(t=new xn(t.diagnostics,t.panel,i.value));return t},provide:t=>[fn.from(t,e=>e.panel),q.decorations.from(t,e=>e.diagnostics)]});var Z$=U.mark({class:"cm-lintRange cm-lintRange-active"});function W$(t,e,i){let{diagnostics:r}=t.state.field(Zt),n=[],s=2e8,o=0;r.between(e-(i<0?1:0),e+(i>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||i>0)&&(e<u||i<0))&&(n.push(c.diagnostic),s=Math.min(l,s),o=Math.max(u,o))});let a=t.state.facet(ya).tooltipFilter;return a&&(n=a(n,t.state)),n.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:j$(t,n)}}}:null}function j$(t,e){return ve("ul",{class:"cm-tooltip-lint"},e.map(i=>ow(t,i,!1)))}var X$=t=>{let e=t.state.field(Zt,!1);(!e||!e.panel)&&t.dispatch({effects:q$(t.state,[sm.of(!0)])});let i=dn(t,va.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},tw=t=>{let e=t.state.field(Zt,!1);return!e||!e.panel?!1:(t.dispatch({effects:sm.of(!1)}),!0)},Y$=t=>{let e=t.state.field(Zt,!1);if(!e)return!1;let i=t.state.selection.main,r=e.diagnostics.iter(i.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==i.from&&r.to==i.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)};var nw=[{key:"Mod-Shift-m",run:X$,preventDefault:!0},{key:"F8",run:Y$}];var ya=W.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},ct(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,i)=>e?i?r=>e(r)||i(r):e:i}))}});function sw(t){let e=[];if(t)e:for(let{name:i}of t){for(let r=0;r<i.length;r++){let n=i[r];if(/[a-zA-Z]/.test(n)&&!e.some(s=>s.toLowerCase()==n.toLowerCase())){e.push(n);continue e}}e.push("")}return e}function ow(t,e,i){var r;let n=i?sw(e.actions):[];return ve("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ve("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let d=Ms(t.state.field(Zt).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:u}=s,c=n[o]?u.indexOf(n[o]):-1,h=c<0?u:[u.slice(0,c),ve("u",u.slice(c,c+1)),u.slice(c+1)];return ve("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${n[o]})"`}.`},h)}),e.source&&ve("div",{class:"cm-diagnosticSource"},e.source))}var nm=class extends Ct{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ve("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}},tc=class{constructor(e,i){this.diagnostic=i,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=ow(e,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},va=class t{constructor(e){this.view=e,this.items=[];let i=n=>{if(n.keyCode==27)tw(this.view),this.view.focus();else if(n.keyCode==38||n.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(n.keyCode==40||n.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(n.keyCode==36)this.moveSelection(0);else if(n.keyCode==35)this.moveSelection(this.items.length-1);else if(n.keyCode==13)this.view.focus();else if(n.keyCode>=65&&n.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=sw(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==n.keyCode){let l=Ms(this.view.state.field(Zt).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;n.preventDefault()},r=n=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(n.target)&&this.moveSelection(s)};this.list=ve("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i,onclick:r}),this.dom=ve("div",{class:"cm-panel-lint"},this.list,ve("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>tw(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(Zt).selected;if(!e)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==e.diagnostic)return i;return-1}update(){let{diagnostics:e,selected:i}=this.view.state.field(Zt),r=0,n=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let u=-1,c;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){u=h;break}u<0?(c=new tc(this.view,l.diagnostic),this.items.splice(r,0,c),n=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),n=!0)),i&&c.diagnostic==i.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();this.items.length==0&&(this.items.push(new tc(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{let l=a.height/this.list.offsetHeight;o.top<a.top?this.list.scrollTop-=(a.top-o.top)/l:o.bottom>a.bottom&&(this.list.scrollTop+=(o.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function i(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)i();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)i()}moveSelection(e){if(this.selectedIndex<0)return;let i=this.view.state.field(Zt),r=Ms(i.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:rw.of(r)})}static open(e){return new t(e)}};function F$(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function ec(t){return F$(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var U$=q.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ec("#d11")},".cm-lintRange-warning":{backgroundImage:ec("orange")},".cm-lintRange-info":{backgroundImage:ec("#999")},".cm-lintRange-hint":{backgroundImage:ec("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var H$=[Zt,q.decorations.compute([Zt],t=>{let{selected:e,panel:i}=t.field(Zt);return!e||!i||e.from==e.to?U.none:U.set([Z$.range(e.from,e.to)])}),R0(W$,{hideOn:B$}),U$];var aw=[L0(),V0(),Q0(),fx(),by(),P0(),E0(),Se.allowMultipleSelections.of(!0),cy(),na(vy,{fallback:!0}),Sy(),Cv(),Mv(),M0(),$0(),A0(),Ux(),fs.of([...Qv,...Bx,...ew,...gx,...my,...Ap,...nw])];var G$="#e5c07b",lw="#e06c75",K$="#56b6c2",J$="#ffffff",ic="#abb2bf",am="#7d8799",e2="#61afef",t2="#98c379",uw="#d19a66",i2="#c678dd",r2="#21252b",cw="#2c313a",hw="#282c34",om="#353a42",n2="#3E4451",fw="#528bff";var dw=q.theme({"&":{color:ic,backgroundColor:hw},".cm-content":{caretColor:fw},".cm-cursor, .cm-dropCursor":{borderLeftColor:fw},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:n2},".cm-panels":{backgroundColor:r2,color:ic},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:hw,color:am,border:"none"},".cm-activeLineGutter":{backgroundColor:cw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:om},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:om,borderBottomColor:om},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:cw,color:ic}}},{dark:!0}),pw=bs.define([{tag:T.keyword,color:i2},{tag:[T.name,T.deleted,T.character,T.propertyName,T.macroName],color:lw},{tag:[T.function(T.variableName),T.labelName],color:e2},{tag:[T.color,T.constant(T.name),T.standard(T.name)],color:uw},{tag:[T.definition(T.name),T.separator],color:ic},{tag:[T.typeName,T.className,T.number,T.changed,T.annotation,T.modifier,T.self,T.namespace],color:G$},{tag:[T.operator,T.operatorKeyword,T.url,T.escape,T.regexp,T.link,T.special(T.string)],color:K$},{tag:[T.meta,T.comment],color:am},{tag:T.strong,fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.link,color:am,textDecoration:"underline"},{tag:T.heading,fontWeight:"bold",color:lw},{tag:[T.atom,T.bool,T.special(T.variableName)],color:uw},{tag:[T.processingInstruction,T.string,T.inserted],color:t2},{tag:T.invalid,color:J$}]);var s2=Ge`\
<div ${xe("_div")}>
</div>
<slot ${xe("_slot")}></slot>
`,o2=`${He("inline-block")}

:host {
}

.cm-editor {
    border: 1px solid #ddd;
}
`,wn=class extends lt{constructor(){super();this.mode="html";this.theme="light";this.text="";this._cmLight=q.baseTheme({});this._cmDakrHighlight=na(pw);this._cmJson=tx();this._cmHtml=Jv();this._cmJavaScript=$u();this._text=this._slot.assignedNodes().map(i=>i.textContent).join(`
`).trim()}extensions(){let i=[aw];switch(this.mode){case"javascript":i.push(this._cmJavaScript);break;case"json":i.push(this._cmJson);break;case"html":default:i.push(this._cmHtml);break}switch(this.theme){case"dark":i.push(dw),i.push(this._cmDakrHighlight);break;case"light":default:i.push(this._cmLight);break}return i}enter(){super.enter(),this._view=new q({extensions:this.extensions(),parent:this._div,dispatch:i=>{this._view.update([i]),i.changes.empty||(this._text=this._view.state.doc.toString(),this.$emit("change",this._text))}})}update(i){super.update(i),this._view.dom.style.height=`${this.clientHeight}px`,(i.mode||i.theme)&&this._view.dispatch({reconfigure:{full:this.extensions()}}),i.text&&this._view.dispatch({changes:{from:0,to:this._view.state.doc.length,insert:this.text}})}exit(){this._view.destroy(),super.exit()}};se([ye],wn.prototype,"mode",2),se([ye],wn.prototype,"theme",2),se([yo],wn.prototype,"text",2),wn=se([Ke("hpcc-codemirror",{template:s2,styles:o2})],wn);var L;(function(t){function e(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(E===0)return-1;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);var R;_<S?R=_+1+(E-S):R=_-S+1;for(var w=0;w<R;++w){var x=(S+w)%E;if(P[x]===Q)return x}return-1}t.firstIndexOf=e;function i(P,Q,S,_){S===void 0&&(S=-1),_===void 0&&(_=0);var E=P.length;if(E===0)return-1;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);var R;S<_?R=S+1+(E-_):R=S-_+1;for(var w=0;w<R;++w){var x=(S-w+E)%E;if(P[x]===Q)return x}return-1}t.lastIndexOf=i;function r(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(E===0)return-1;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);var R;_<S?R=_+1+(E-S):R=_-S+1;for(var w=0;w<R;++w){var x=(S+w)%E;if(Q(P[x],x))return x}return-1}t.findFirstIndex=r;function n(P,Q,S,_){S===void 0&&(S=-1),_===void 0&&(_=0);var E=P.length;if(E===0)return-1;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);var R;S<_?R=S+1+(E-_):R=S-_+1;for(var w=0;w<R;++w){var x=(S-w+E)%E;if(Q(P[x],x))return x}return-1}t.findLastIndex=n;function s(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=r(P,Q,S,_);return E!==-1?P[E]:void 0}t.findFirstValue=s;function o(P,Q,S,_){S===void 0&&(S=-1),_===void 0&&(_=0);var E=n(P,Q,S,_);return E!==-1?P[E]:void 0}t.findLastValue=o;function a(P,Q,S,_,E){_===void 0&&(_=0),E===void 0&&(E=-1);var R=P.length;if(R===0)return 0;_<0?_=Math.max(0,_+R):_=Math.min(_,R-1),E<0?E=Math.max(0,E+R):E=Math.min(E,R-1);for(var w=_,x=E-_+1;x>0;){var M=x>>1,$=w+M;S(P[$],Q)<0?(w=$+1,x-=M+1):x=M}return w}t.lowerBound=a;function l(P,Q,S,_,E){_===void 0&&(_=0),E===void 0&&(E=-1);var R=P.length;if(R===0)return 0;_<0?_=Math.max(0,_+R):_=Math.min(_,R-1),E<0?E=Math.max(0,E+R):E=Math.min(E,R-1);for(var w=_,x=E-_+1;x>0;){var M=x>>1,$=w+M;S(P[$],Q)>0?x=M:(w=$+1,x-=M+1)}return w}t.upperBound=l;function u(P,Q,S){if(P===Q)return!0;if(P.length!==Q.length)return!1;for(var _=0,E=P.length;_<E;++_)if(S?!S(P[_],Q[_]):P[_]!==Q[_])return!1;return!0}t.shallowEqual=u;function c(P,Q){Q===void 0&&(Q={});var S=Q.start,_=Q.stop,E=Q.step;if(E===void 0&&(E=1),E===0)throw new Error("Slice `step` cannot be zero.");var R=P.length;S===void 0?S=E<0?R-1:0:S<0?S=Math.max(S+R,E<0?-1:0):S>=R&&(S=E<0?R-1:R),_===void 0?_=E<0?-1:R:_<0?_=Math.max(_+R,E<0?-1:0):_>=R&&(_=E<0?R-1:R);var w;E<0&&_>=S||E>0&&S>=_?w=0:E<0?w=Math.floor((_-S+1)/E+1):w=Math.floor((_-S-1)/E+1);for(var x=[],M=0;M<w;++M)x[M]=P[S+M*E];return x}t.slice=c;function h(P,Q,S){var _=P.length;if(!(_<=1)&&(Q<0?Q=Math.max(0,Q+_):Q=Math.min(Q,_-1),S<0?S=Math.max(0,S+_):S=Math.min(S,_-1),Q!==S)){for(var E=P[Q],R=Q<S?1:-1,w=Q;w!==S;w+=R)P[w]=P[w+R];P[S]=E}}t.move=h;function f(P,Q,S){Q===void 0&&(Q=0),S===void 0&&(S=-1);var _=P.length;if(!(_<=1))for(Q<0?Q=Math.max(0,Q+_):Q=Math.min(Q,_-1),S<0?S=Math.max(0,S+_):S=Math.min(S,_-1);Q<S;){var E=P[Q],R=P[S];P[Q++]=R,P[S--]=E}}t.reverse=f;function d(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(!(E<=1)&&(S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1),!(S>=_))){var R=_-S+1;if(Q>0?Q=Q%R:Q<0&&(Q=(Q%R+R)%R),Q!==0){var w=S+Q;f(P,S,w-1),f(P,w,_),f(P,S,_)}}}t.rotate=d;function p(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(E!==0){S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);var R;_<S?R=_+1+(E-S):R=_-S+1;for(var w=0;w<R;++w)P[(S+w)%E]=Q}}t.fill=p;function m(P,Q,S){var _=P.length;Q<0?Q=Math.max(0,Q+_):Q=Math.min(Q,_);for(var E=_;E>Q;--E)P[E]=P[E-1];P[Q]=S}t.insert=m;function g(P,Q){var S=P.length;if(Q<0&&(Q+=S),!(Q<0||Q>=S)){for(var _=P[Q],E=Q+1;E<S;++E)P[E-1]=P[E];return P.length=S-1,_}}t.removeAt=g;function O(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=e(P,Q,S,_);return E!==-1&&g(P,E),E}t.removeFirstOf=O;function y(P,Q,S,_){S===void 0&&(S=-1),_===void 0&&(_=0);var E=i(P,Q,S,_);return E!==-1&&g(P,E),E}t.removeLastOf=y;function v(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(E===0)return 0;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);for(var R=0,w=0;w<E;++w)S<=_&&w>=S&&w<=_&&P[w]===Q||_<S&&(w<=_||w>=S)&&P[w]===Q?R++:R>0&&(P[w-R]=P[w]);return R>0&&(P.length=E-R),R}t.removeAllOf=v;function k(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E,R=r(P,Q,S,_);return R!==-1&&(E=g(P,R)),{index:R,value:E}}t.removeFirstWhere=k;function C(P,Q,S,_){S===void 0&&(S=-1),_===void 0&&(_=0);var E,R=n(P,Q,S,_);return R!==-1&&(E=g(P,R)),{index:R,value:E}}t.removeLastWhere=C;function A(P,Q,S,_){S===void 0&&(S=0),_===void 0&&(_=-1);var E=P.length;if(E===0)return 0;S<0?S=Math.max(0,S+E):S=Math.min(S,E-1),_<0?_=Math.max(0,_+E):_=Math.min(_,E-1);for(var R=0,w=0;w<E;++w)S<=_&&w>=S&&w<=_&&Q(P[w],w)||_<S&&(w<=_||w>=S)&&Q(P[w],w)?R++:R>0&&(P[w-R]=P[w]);return R>0&&(P.length=E-R),R}t.removeAllWhere=A})(L||(L={}));function Wt(t){var e;return typeof t.iter=="function"?e=t.iter():e=new a2(t),e}function J(t,e){for(var i=0,r=Wt(t),n;(n=r.next())!==void 0;)if(e(n,i++)===!1)return}function mw(t,e){for(var i=0,r=Wt(t),n;(n=r.next())!==void 0;)if(!e(n,i++))return!1;return!0}function gw(t,e){for(var i=0,r=Wt(t),n;(n=r.next())!==void 0;)if(e(n,i++))return!0;return!1}function Ow(t){for(var e=0,i=[],r=Wt(t),n;(n=r.next())!==void 0;)i[e++]=n;return i}var a2=function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}(),kq=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},t}(),Pq=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},t}(),Cq=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},t}(),Tq=function(){function t(e){this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)},t}();function um(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _n(Wt(t.map(Wt)))}var _n=function(){function t(e){this._cloned=!1,this._source=e,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(this._active===void 0){var e=this._source.next();if(e===void 0)return;this._active=this._cloned?e.clone():e}var i=this._active.next();return i!==void 0?i:(this._active=void 0,this.next())},t}();function jt(){return new l2}var l2=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();var Eq=function(){function t(e,i){this._source=e,this._index=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var e=this._source.next();if(e!==void 0)return[this._index++,e]},t}();function bw(t,e){return new u2(Wt(t),e)}var u2=function(){function t(e,i){this._index=0,this._source=e,this._fn=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){for(var e=this._fn,i=this._source,r;(r=i.next())!==void 0;)if(e(r,this._index++))return r},t}();function Rs(t,e){for(var i=0,r=Wt(t),n;(n=r.next())!==void 0;)if(e(n,i++))return n}function yw(t,e){var i=Wt(t),r=i.next();if(r!==void 0){for(var n=r;(r=i.next())!==void 0;)e(r,n)>0&&(n=r);return n}}function Nr(t,e){return new c2(Wt(t),e)}var c2=function(){function t(e,i){this._index=0,this._source=e,this._fn=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var e=this._source.next();if(e!==void 0)return this._fn.call(void 0,e,this._index++)},t}();var Qq=function(){function t(e,i,r){this._index=0,this._start=e,this._stop=i,this._step=r,this._length=lm.rangeLength(e,i,r)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}(),lm;(function(t){function e(i,r,n){return n===0?1/0:i>r&&n>0||i<r&&n<0?0:Math.ceil((r-i)/n)}t.rangeLength=e})(lm||(lm={}));function cm(t,e,i){var r=0,n=Wt(t),s=n.next();if(s===void 0&&i===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(s===void 0)return i;var o=n.next();if(o===void 0&&i===void 0)return s;if(o===void 0)return e(i,s,r++);var a;i===void 0?a=e(s,o,r++):a=e(e(i,s,r++),o,r++);for(var l;(l=n.next())!==void 0;)a=e(a,l,r++);return a}function xa(t){return new h2(t,1)}var h2=function(){function t(e,i){this._value=e,this._count=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();function vw(t){var e;return typeof t.retro=="function"?e=t.retro():e=new f2(t),e}var f2=function(){function t(e){this._source=e,this._index=e.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();var Aq=function(){function t(e,i){this._source=e,this._step=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var e=this._source.next(),i=this._step-1;i>0;--i)this._source.next();return e},t}(),$s;(function(t){function e(o,a,l){l===void 0&&(l=0);for(var u=new Array(a.length),c=0,h=l,f=a.length;c<f;++c,++h){if(h=o.indexOf(a[c],h),h===-1)return null;u[c]=h}return u}t.findIndices=e;function i(o,a,l){l===void 0&&(l=0);var u=e(o,a,l);if(!u)return null;for(var c=0,h=0,f=u.length;h<f;++h){var d=u[h]-l;c+=d*d}return{score:c,indices:u}}t.matchSumOfSquares=i;function r(o,a,l){l===void 0&&(l=0);var u=e(o,a,l);if(!u)return null;for(var c=0,h=l-1,f=0,d=u.length;f<d;++f){var p=u[f];c+=p-h-1,h=p}return{score:c,indices:u}}t.matchSumOfDeltas=r;function n(o,a,l){for(var u=[],c=0,h=0,f=a.length;c<f;){for(var d=a[c],p=a[c];++c<f&&a[c]===p+1;)p++;h<d&&u.push(o.slice(h,d)),d<p+1&&u.push(l(o.slice(d,p+1))),h=p+1}return h<o.length&&u.push(o.slice(h)),u}t.highlight=n;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})($s||($s={}));var Mq=function(){function t(e,i){this._source=e,this._count=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(e!==void 0)return this._count--,e}},t}();var $q=function(){function t(e){this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map(function(e){return e.clone()}))},t.prototype.next=function(){for(var e=new Array(this._source.length),i=0,r=this._source.length;i<r;++i){var n=this._source[i].next();if(n===void 0)return;e[i]=n}return e},t}();var xw;(function(t){function e(i){var r=document.body,n=function(s){s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),r.removeEventListener("copy",n,!0)};r.addEventListener("copy",n,!0),document.execCommand("copy")}t.copyText=e})(xw||(xw={}));var ge;(function(t){function e(s){var o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,u=parseFloat(o.borderRightWidth)||0,c=parseFloat(o.borderBottomWidth)||0,h=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,d=parseFloat(o.paddingRight)||0,p=parseFloat(o.paddingBottom)||0,m=l+f+d+u,g=a+h+p+c;return{borderTop:a,borderLeft:l,borderRight:u,borderBottom:c,paddingTop:h,paddingLeft:f,paddingRight:d,paddingBottom:p,horizontalSum:m,verticalSum:g}}t.boxSizing=e;function i(s){var o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,u=parseFloat(o.maxWidth)||1/0,c=parseFloat(o.maxHeight)||1/0;return u=Math.max(a,u),c=Math.max(l,c),{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c}}t.sizeLimits=i;function r(s,o,a){var l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=r;function n(s,o){var a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=n})(ge||(ge={}));var Je;(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(Je||(Je={}));var yi;(function(t){function e(n){if(n in bi.specificityCache)return bi.specificityCache[n];var s=bi.calculateSingle(n);return bi.specificityCache[n]=s}t.calculateSpecificity=e;function i(n){if(n in bi.validityCache)return bi.validityCache[n];var s=!0;try{bi.testElem.querySelector(n)}catch{s=!1}return bi.validityCache[n]=s}t.isValid=i;function r(n,s){return bi.protoMatchFunc.call(n,s)}t.matches=r})(yi||(yi={}));var bi;(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=function(){var c=Element.prototype;return c.matches||c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector||function(h){var f=this,d=f.ownerDocument?f.ownerDocument.querySelectorAll(h):[];return Array.prototype.indexOf.call(d,f)!==-1}}();function e(c){c=c.split(",",1)[0];var h=0,f=0,d=0;function p(m){var g=c.match(m);return g===null?!1:(c=c.slice(g[0].length),!0)}for(c=c.replace(u," $1 ");c.length>0;){if(p(i)){h++;continue}if(p(r)){f++;continue}if(p(n)){f++;continue}if(p(o)){d++;continue}if(p(a)){f++;continue}if(p(s)){d++;continue}if(!p(l))return 0}return h=Math.min(h,255),f=Math.min(f,255),d=Math.min(d,255),h<<16|f<<8|d}t.calculateSingle=e;var i=/^#[^\s\+>~#\.\[:]+/,r=/^\.[^\s\+>~#\.\[:]+/,n=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,u=/:not\(([^\)]+)\)/g})(bi||(bi={}));var ww=function(){function t(e){this._root=new Be.LeafNode,this.cmp=e}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._root.size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var e=Be.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var e=Be.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return Be.iterItems(this._root)},t.prototype.retro=function(){return Be.retroItems(this._root)},t.prototype.slice=function(e,i){return Be.sliceItems(this._root,e,i)},t.prototype.retroSlice=function(e,i){return Be.retroSliceItems(this._root,e,i)},t.prototype.at=function(e){return Be.itemAt(this._root,e)},t.prototype.has=function(e,i){return Be.hasItem(this._root,e,i)},t.prototype.indexOf=function(e,i){return Be.indexOf(this._root,e,i)},t.prototype.get=function(e,i){return Be.getItem(this._root,e,i)},t.prototype.assign=function(e){this.clear(),this.update(e)},t.prototype.insert=function(e){var i=Be.insertItem(this._root,e,this.cmp);return this._root=Be.maybeSplitRoot(this._root),i},t.prototype.update=function(e){var i=this;J(e,function(r){i.insert(r)})},t.prototype.delete=function(e,i){var r=Be.deleteItem(this._root,e,i);return this._root=Be.maybeExtractRoot(this._root),r},t.prototype.remove=function(e){var i=Be.removeItem(this._root,e);return this._root=Be.maybeExtractRoot(this._root),i},t.prototype.clear=function(){Be.clear(this._root),this._root=new Be.LeafNode},t}();(function(t){function e(i,r){var n=new t(r);return n.assign(i),n}t.from=e})(ww||(ww={}));var Be;(function(t){var e=function(){function w(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(w.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),w}();t.BranchNode=e;var i=function(){function w(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(w.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),w}();t.LeafNode=i;function r(w){for(;w.type===0;)w=w.children[0];return w}t.firstLeaf=r;function n(w){for(;w.type===0;)w=w.children[w.children.length-1];return w}t.lastLeaf=n;function s(w){var x=r(w);return new C(x,0,-1)}t.iterItems=s;function o(w){var x=n(w);return new A(x,x.size-1,-1)}t.retroItems=o;function a(w,x,M){x===void 0?x=0:x<0?x=Math.max(0,x+w.size):x=Math.min(x,w.size),M===void 0?M=w.size:M<0?M=Math.max(0,M+w.size):M=Math.min(M,w.size);var $=Math.max(0,M-x);if($===0)return jt();for(;w.type===0;){var I=P(w.sizes,x);I>0&&(x-=w.sizes[I-1]),w=w.children[I]}return new C(w,x,$)}t.sliceItems=a;function l(w,x,M){x===void 0?x=w.size-1:x<0?x=Math.max(-1,x+w.size):x=Math.min(x,w.size-1),M===void 0?M=-1:M<0?M=Math.max(-1,M+w.size):M=Math.min(M,w.size-1);var $=Math.max(0,x-M);if($===0)return jt();for(;w.type===0;){var I=P(w.sizes,x);I>0&&(x-=w.sizes[I-1]),w=w.children[I]}return new A(w,x,$)}t.retroSliceItems=l;function u(w,x){if(x<0&&(x+=w.size),!(x<0||x>=w.size)){for(;w.type===0;){var M=P(w.sizes,x);M>0&&(x-=w.sizes[M-1]),w=w.children[M]}return w.items[x]}}t.itemAt=u;function c(w,x,M){for(;w.type===0;){var $=Q(w.items,x,M);w=w.children[$]}var I=S(w.items,x,M);return I>=0}t.hasItem=c;function h(w,x,M){for(var $=0;w.type===0;){var I=Q(w.items,x,M);I>0&&($+=w.sizes[I-1]),w=w.children[I]}var z=S(w.items,x,M);return z>=0?$+z:-$+z}t.indexOf=h;function f(w,x,M){for(;w.type===0;){var $=Q(w.items,x,M);w=w.children[$]}var I=S(w.items,x,M);return I>=0?w.items[I]:void 0}t.getItem=f;function d(w,x,M){if(w.type===1){var $=S(w.items,x,M),I;return $>=0?(I=w.items[$],w.items[$]=x):(I=void 0,L.insert(w.items,-$-1,x)),I}var z=Q(w.items,x,M),Y=w.children[z],j=Y.size,K=d(Y,x,M),ie=Y.size;if(w.items[z]=Y.items[0],j===ie)return K;if(Y.width>v){var me=E(Y);L.insert(w.children,z+1,me),L.insert(w.items,z+1,me.items[0])}return _(w,z),K}t.insertItem=d;function p(w,x,M){if(w.type===1){var $=S(w.items,x,M);return $<0?void 0:L.removeAt(w.items,$)}var I=Q(w.items,x,M),z=w.children[I],Y=z.size,j=p(z,x,M),K=z.size;return Y===K||(w.items[I]=z.items[0],z.width<k&&(I=R(w,I)),_(w,I)),j}t.deleteItem=p;function m(w,x){if(x<0&&(x+=w.size),!(x<0||x>=w.size)){if(w.type===1)return L.removeAt(w.items,x);var M=P(w.sizes,x);M>0&&(x-=w.sizes[M]);var $=w.children[M],I=m($,x);return w.items[M]=$.items[0],$.width<k&&(M=R(w,M)),_(w,M),I}}t.removeItem=m;function g(w){w.type===0?(J(w.children,g),w.children.length=0,w.sizes.length=0,w.items.length=0):(w.items.length=0,w.next=null,w.prev=null)}t.clear=g;function O(w){if(w.width<=v)return w;var x=new e,M=E(w);return x.sizes[0]=w.size,x.sizes[1]=w.size+M.size,x.children[0]=w,x.children[1]=M,x.items[0]=w.items[0],x.items[1]=M.items[0],x}t.maybeSplitRoot=O;function y(w){if(w.type===1||w.children.length>1)return w;var x=w.children.pop();return g(w),x}t.maybeExtractRoot=y;var v=32,k=v>>1,C=function(){function w(x,M,$){this._node=x,this._index=M,this._count=$}return w.prototype.iter=function(){return this},w.prototype.clone=function(){return new w(this._node,this._index,this._count)},w.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},w}(),A=function(){function w(x,M,$){this._node=x,this._index=M,this._count=$}return w.prototype.iter=function(){return this},w.prototype.clone=function(){return new w(this._node,this._index,this._count)},w.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},w}();function P(w,x){for(var M=w.length,$=0;$<M;++$)if(w[$]>x)return $;return M-1}function Q(w,x,M){for(var $=w.length,I=1;I<$;++I)if(M(w[I],x)>0)return I-1;return $-1}function S(w,x,M){for(var $=w.length,I=0;I<$;++I){var z=M(w[I],x);if(z===0)return I;if(z>0)return-I-1}return-$-1}function _(w,x){for(var M=w.sizes,$=w.children,I=x>0?M[x-1]:0,z=$.length;x<z;++x)I=M[x]=I+$[x].size;M.length=$.length}function E(w){if(w.type===1){for(var x=new i,M=w.items,$=x.items,I=k,z=M.length;I<z;++I)$.push(M[I]);return M.length=k,w.next&&(w.next.prev=x),x.next=w.next,x.prev=w,w.next=x,x}for(var Y=new e,j=w.children,K=Y.children,I=k,z=j.length;I<z;++I)K.push(j[I]);j.length=k;for(var ie=w.items,me=Y.items,I=k,z=ie.length;I<z;++I)me.push(ie[I]);return ie.length=k,_(w,k),_(Y,0),Y}function R(w,x){var M,$,I,z,Y,j,K=w.children[x],ie=x===0?w.children[x+1]:w.children[x-1],me=x===0,fe=K.type===1,Te=ie.width>k;if(fe&&Te&&me){var te=K,oe=ie;return te.items.push(oe.items.shift()),w.items[x+1]=oe.items[0],x}if(fe&&Te&&!me){var te=K,oe=ie;return te.items.unshift(oe.items.pop()),w.items[x]=te.items[0],x-1}if(fe&&!Te&&me){var te=K,oe=ie;return(M=oe.items).unshift.apply(M,te.items),L.removeAt(w.children,x),L.removeAt(w.items,x+1),te.prev&&(te.prev.next=oe),oe.prev=te.prev,g(te),x}if(fe&&!Te&&!me){var te=K,oe=ie;return($=oe.items).push.apply($,te.items),L.removeAt(w.children,x),L.removeAt(w.items,x),te.next&&(te.next.prev=oe),oe.next=te.next,g(te),x-1}if(!fe&&Te&&me){var te=K,oe=ie;return te.children.push(oe.children.shift()),te.items.push(oe.items.shift()),w.items[x+1]=oe.items[0],_(te,te.width-1),_(oe,0),x}if(!fe&&Te&&!me){var te=K,oe=ie;return te.children.unshift(oe.children.pop()),te.items.unshift(oe.items.pop()),w.items[x]=te.items[0],_(te,0),_(oe,oe.width-1),x-1}if(!fe&&!Te&&me){var te=K,oe=ie;return(I=oe.children).unshift.apply(I,te.children),(z=oe.items).unshift.apply(z,te.items),L.removeAt(w.children,x),L.removeAt(w.items,x+1),_(oe,0),te.children.length=0,g(te),x}if(!fe&&!Te&&!me){var te=K,oe=ie;return(Y=oe.children).push.apply(Y,te.children),(j=oe.items).push.apply(j,te.items),L.removeAt(w.children,x),L.removeAt(w.items,x),_(oe,0),te.children.length=0,g(te),x-1}throw"unreachable"}})(Be||(Be={}));var rc=function(){function t(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.assign=function(e){var i=this;this.clear(),J(e,function(r){i.addLast(r)})},t.prototype.push=function(e){this.addLast(e)},t.prototype.pop=function(){return this.removeLast()},t.prototype.shift=function(e){this.addFirst(e)},t.prototype.unshift=function(){return this.removeFirst()},t.prototype.addFirst=function(e){var i=new rr.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i},t.prototype.addLast=function(e){var i=new rr.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i},t.prototype.insertBefore=function(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof rr.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");var r=new rr.LinkedListNode(this,e),n=i,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r},t.prototype.insertAfter=function(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof rr.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");var r=new rr.LinkedListNode(this,e),n=i,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r},t.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},t.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},t.prototype.removeNode=function(e){if(!(e instanceof rr.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--},t.prototype.clear=function(){for(var e=this._first;e;){var i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0},t}();(function(t){function e(o){var a=new t;return a.assign(o),a}t.from=e;var i=function(){function o(a){this._node=a}return o.prototype.iter=function(){return this},o.prototype.clone=function(){return new o(this._node)},o.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.next,a.value}},o}();t.ForwardValueIterator=i;var r=function(){function o(a){this._node=a}return o.prototype.iter=function(){return this},o.prototype.clone=function(){return new o(this._node)},o.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.prev,a.value}},o}();t.RetroValueIterator=r;var n=function(){function o(a){this._node=a}return o.prototype.iter=function(){return this},o.prototype.clone=function(){return new o(this._node)},o.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.next,a}},o}();t.ForwardNodeIterator=n;var s=function(){function o(a){this._node=a}return o.prototype.iter=function(){return this},o.prototype.clone=function(){return new o(this._node)},o.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.prev,a}},o}();t.RetroNodeIterator=s})(rc||(rc={}));var rr;(function(t){var e=function(){function i(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}return i}();t.LinkedListNode=e})(rr||(rr={}));var hm=function(t,e){return hm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])},hm(t,e)};function d2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hm(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Xt=function(){function t(e){this.type=e}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!1},t}(),Is=function(t){d2(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.conflate=function(i){return!0},e}(Xt),V;(function(t){function e(S,_){var E=c.get(S);if(!E||E.length===0){y(S,_);return}var R=mw(vw(E),function(w){return w?O(w,S,_):!0});R&&y(S,_)}t.sendMessage=e;function i(S,_){if(!_.isConflatable){v(S,_);return}var E=gw(u,function(R){return R.handler!==S||!R.msg||R.msg.type!==_.type||!R.msg.isConflatable?!1:R.msg.conflate(_)});E||v(S,_)}t.postMessage=i;function r(S,_){var E=c.get(S);E&&E.indexOf(_)!==-1||(E?E.push(_):c.set(S,[_]))}t.installMessageHook=r;function n(S,_){var E=c.get(S);if(E){var R=E.indexOf(_);R!==-1&&(E[R]=null,C(E))}}t.removeMessageHook=n;function s(S){var _=c.get(S);_&&_.length>0&&(L.fill(_,null),C(_)),J(u,function(E){E.handler===S&&(E.handler=null,E.msg=null)})}t.clearData=s;function o(){p||d===0||(g(d),p=!0,k(),p=!1)}t.flush=o;function a(){return f}t.getExceptionHandler=a;function l(S){var _=f;return f=S,_}t.setExceptionHandler=l;var u=new rc,c=new WeakMap,h=new Set,f=function(S){console.error(S)},d=0,p=!1,m=function(){var S=typeof requestAnimationFrame=="function";return S?requestAnimationFrame:setImmediate}(),g=function(){var S=typeof cancelAnimationFrame=="function";return S?cancelAnimationFrame:clearImmediate}();function O(S,_,E){var R=!0;try{typeof S=="function"?R=S(_,E):R=S.messageHook(_,E)}catch(w){f(w)}return R}function y(S,_){try{S.processMessage(_)}catch(E){f(E)}}function v(S,_){u.addLast({handler:S,msg:_}),d===0&&(d=m(k))}function k(){if(d=0,!u.isEmpty){var S={handler:null,msg:null};for(u.addLast(S);;){var _=u.removeFirst();if(_===S)return;_.handler&&_.msg&&e(_.handler,_.msg)}}}function C(S){h.size===0&&m(A),h.add(S)}function A(){h.forEach(P),h.clear()}function P(S){L.removeAllWhere(S,Q)}function Q(S){return S===null}})(V||(V={}));var yt=function(){function t(e){this._pid=Sn.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return t.prototype.get=function(e){var i,r=Sn.ensureMap(e);return this._pid in r?i=r[this._pid]:i=r[this._pid]=this._createValue(e),i},t.prototype.set=function(e,i){var r,n=Sn.ensureMap(e);this._pid in n?r=n[this._pid]:r=n[this._pid]=this._createValue(e);var s=this._coerceValue(e,i);this._maybeNotify(e,r,n[this._pid]=s)},t.prototype.coerce=function(e){var i,r=Sn.ensureMap(e);this._pid in r?i=r[this._pid]:i=r[this._pid]=this._createValue(e);var n=this._coerceValue(e,i);this._maybeNotify(e,i,r[this._pid]=n)},t.prototype._createValue=function(e){var i=this._create;return i(e)},t.prototype._coerceValue=function(e,i){var r=this._coerce;return r?r(e,i):i},t.prototype._compareValue=function(e,i){var r=this._compare;return r?r(e,i):e===i},t.prototype._maybeNotify=function(e,i,r){var n=this._changed;n&&!this._compareValue(i,r)&&n(e,i,r)},t}();(function(t){function e(i){Sn.ownerData.delete(i)}t.clearData=e})(yt||(yt={}));var Sn;(function(t){t.ownerData=new WeakMap,t.nextPID=function(){var i=0;return function(){var r=Math.random(),n=(""+r).slice(2);return"pid-"+n+"-"+i++}}();function e(i){var r=t.ownerData.get(i);return r||(r=Object.create(null),t.ownerData.set(i,r),r)}t.ensureMap=e})(Sn||(Sn={}));var le=function(){function t(e){this._blockedCount=0,this.sender=e}return t.prototype.block=function(e){this._blockedCount++;try{e()}finally{this._blockedCount--}},t.prototype.connect=function(e,i){return At.connect(this,e,i)},t.prototype.disconnect=function(e,i){return At.disconnect(this,e,i)},t.prototype.emit=function(e){this._blockedCount||At.emit(this,e)},t}();(function(t){function e(u,c){var h=At.blockedProperty;h.set(u,h.get(u)+1);try{c()}finally{h.set(u,h.get(u)-1)}}t.blockAll=e;function i(u,c){At.disconnectBetween(u,c)}t.disconnectBetween=i;function r(u){At.disconnectSender(u)}t.disconnectSender=r;function n(u){At.disconnectReceiver(u)}t.disconnectReceiver=n;function s(u){At.disconnectAll(u)}t.disconnectAll=s;function o(u){At.disconnectAll(u)}t.clearData=o;function a(){return At.exceptionHandler}t.getExceptionHandler=a;function l(u){var c=At.exceptionHandler;return At.exceptionHandler=u,c}t.setExceptionHandler=l})(le||(le={}));var At;(function(t){t.exceptionHandler=function(y){console.error(y)};function e(y,v,k){k=k||void 0;var C=l.get(y.sender);if(C||(C=[],l.set(y.sender,C)),f(C,y,v,k))return!1;var A=k||v,P=u.get(A);P||(P=[],u.set(A,P));var Q={signal:y,slot:v,thisArg:k};return C.push(Q),P.push(Q),!0}t.connect=e;function i(y,v,k){k=k||void 0;var C=l.get(y.sender);if(!C||C.length===0)return!1;var A=f(C,y,v,k);if(!A)return!1;var P=k||v,Q=u.get(P);return A.signal=null,p(C),p(Q),!0}t.disconnect=i;function r(y,v){var k=l.get(y);if(!(!k||k.length===0)){var C=u.get(v);!C||C.length===0||(J(C,function(A){A.signal&&A.signal.sender===y&&(A.signal=null)}),p(k),p(C))}}t.disconnectBetween=r;function n(y){var v=l.get(y);!v||v.length===0||(J(v,function(k){if(k.signal){var C=k.thisArg||k.slot;k.signal=null,p(u.get(C))}}),p(v))}t.disconnectSender=n;function s(y){var v=u.get(y);!v||v.length===0||(J(v,function(k){if(k.signal){var C=k.signal.sender;k.signal=null,p(l.get(C))}}),p(v))}t.disconnectReceiver=s;function o(y){n(y),s(y)}t.disconnectAll=o;function a(y,v){if(!(t.blockedProperty.get(y.sender)>0)){var k=l.get(y.sender);if(!(!k||k.length===0))for(var C=0,A=k.length;C<A;++C){var P=k[C];P.signal===y&&d(P,v)}}}t.emit=a;var l=new WeakMap,u=new WeakMap,c=new Set,h=function(){var y=typeof requestAnimationFrame=="function";return y?requestAnimationFrame:setImmediate}();function f(y,v,k,C){return Rs(y,function(A){return A.signal===v&&A.slot===k&&A.thisArg===C})}function d(y,v){var k=y.signal,C=y.slot,A=y.thisArg;try{C.call(A,k.sender,v)}catch(P){t.exceptionHandler(P)}}function p(y){c.size===0&&h(m),c.add(y)}function m(){c.forEach(g),c.clear()}function g(y){L.removeAllWhere(y,O)}function O(y){return y.signal===null}t.blockedProperty=new yt({name:"blocked",create:function(){return 0}})})(At||(At={}));var fm=function(t,e){return fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])},fm(t,e)};function Sw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fm(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var zr=function(){function t(e){this._fn=e}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},t}(),Yq=function(t){Sw(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i._disposed=new le(i),i}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),le.clearData(this))},e}(zr),dm=function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(e){e.dispose()}),this._items.clear())},t.prototype.contains=function(e){return this._items.has(e)},t.prototype.add=function(e){this._items.add(e)},t.prototype.remove=function(e){this._items.delete(e)},t.prototype.clear=function(){this._items.clear()},t}();(function(t){function e(i){var r=new t;return J(i,function(n){r.add(n)}),r}t.from=e})(dm||(dm={}));var _w=function(t){Sw(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i._disposed=new le(i),i}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),le.clearData(this))},e}(dm);(function(t){function e(i){var r=new t;return J(i,function(n){r.add(n)}),r}t.from=e})(_w||(_w={}));var Br=function(){function t(e){var i=this;this._onScrollFrame=function(){if(i._scrollTarget){var r=i._scrollTarget,n=r.element,s=r.edge,o=r.distance,a=dt.SCROLL_EDGE_SIZE-o,l=Math.pow(a/dt.SCROLL_EDGE_SIZE,2),u=Math.max(1,Math.round(l*dt.SCROLL_EDGE_SIZE));switch(s){case"top":n.scrollTop-=u;break;case"left":n.scrollLeft-=u;break;case"right":n.scrollLeft+=u;break;case"bottom":n.scrollTop+=u;break}requestAnimationFrame(i._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return t.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=dt.createMouseEvent("pointerup",-1,-1);dt.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.start=function(e,i){var r=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,i),this._promise=new Promise(function(s,o){r._resolve=s});var n=dt.createMouseEvent("pointermove",e,i);return document.dispatchEvent(n),this._promise},t.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}},t.prototype.moveDragImage=function(e,i){if(this.dragImage){var r=this.dragImage.style;r.top=i+"px",r.left=e+"px"}},t.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)},t.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),e.button===0){if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){dt.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}var i=dt.dispatchDrop(this,this._currentTarget,e);this._finalize(i)}},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()},t.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},t.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},t.prototype._updateDragScroll=function(e){var i=dt.findScrollTarget(e);!this._scrollTarget&&!i||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=i)},t.prototype._updateCurrentTarget=function(e){var i=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=this.document.elementFromPoint(e.clientX,e.clientY);this._currentElement=s,s!==n&&s!==r&&dt.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=dt.dispatchDragEnter(this,s,r,e)),r!==i&&(this._currentTarget=r,dt.dispatchDragLeave(this,i,r,e));var o=dt.dispatchDragOver(this,r,e);this._setDropAction(o)},t.prototype._attachDragImage=function(e,i){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.top=i+"px",r.left=e+"px";var n=this.document instanceof Document?this.document.body:this.document.firstElementChild;n.appendChild(this.dragImage)}},t.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},t.prototype._setDropAction=function(e){if(e=dt.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=t.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=t.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=t.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=t.overrideCursor("move",this.document);break}},t.prototype._finalize=function(e){var i=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,i&&i(e)},t}();(function(t){function e(r,n){n===void 0&&(n=document);var s=++i,o=n instanceof Document?n.body:n.firstElementChild;return o.style.cursor=r,o.classList.add("lm-mod-override-cursor"),o.classList.add("p-mod-override-cursor"),new zr(function(){s===i&&(o.style.cursor="",o.classList.remove("lm-mod-override-cursor"),o.classList.remove("p-mod-override-cursor"))})}t.overrideCursor=e;var i=0})(Br||(Br={}));var dt;(function(t){t.SCROLL_EDGE_SIZE=20;function e(f,d){return u[f]&c[d]?f:"none"}t.validateAction=e;function i(f,d,p){var m=document.createEvent("MouseEvent");return m.initMouseEvent(f,!0,!0,window,0,0,0,d,p,!1,!1,!1,!1,0,null),m}t.createMouseEvent=i;function r(f){for(var d=f.clientX,p=f.clientY,m=document.elementFromPoint(d,p);m;m=m.parentElement){var g=m.hasAttribute("data-lm-dragscroll");if(g=g||m.hasAttribute("data-p-dragscroll"),!!g){var O=0,y=0;m===document.body&&(O=window.pageXOffset,y=window.pageYOffset);var v=m.getBoundingClientRect(),k=v.top+y,C=v.left+O,A=C+v.width,P=k+v.height;if(!(d<C||d>=A||p<k||p>=P)){var Q=d-C+1,S=p-k+1,_=A-d,E=P-p,R=Math.min(Q,S,_,E);if(!(R>t.SCROLL_EDGE_SIZE)){var w=void 0;switch(R){case E:w="bottom";break;case S:w="top";break;case _:w="right";break;case Q:w="left";break;default:throw"unreachable"}var x=m.scrollWidth-m.clientWidth,M=m.scrollHeight-m.clientHeight,$=void 0;switch(w){case"top":$=M>0&&m.scrollTop>0;break;case"left":$=x>0&&m.scrollLeft>0;break;case"right":$=x>0&&m.scrollLeft<x;break;case"bottom":$=M>0&&m.scrollTop<M;break;default:throw"unreachable"}if($)return{element:m,edge:w,distance:R}}}}}return null}t.findScrollTarget=r;function n(f,d,p,m){if(!d)return null;var g=h("lm-dragenter",f,m,p),O=!d.dispatchEvent(g);if(O||(g=h("p-dragenter",f,m,p),O=!d.dispatchEvent(g),O))return d;var y=f.document instanceof Document?f.document.body:f.document.firstElementChild;return d===y?p:(g=h("lm-dragenter",f,m,p),y.dispatchEvent(g),g=h("p-dragenter",f,m,p),y.dispatchEvent(g),y)}t.dispatchDragEnter=n;function s(f,d,p,m){if(d){var g=h("lm-dragexit",f,m,p);d.dispatchEvent(g),g=h("p-dragexit",f,m,p),d.dispatchEvent(g)}}t.dispatchDragExit=s;function o(f,d,p,m){if(d){var g=h("lm-dragleave",f,m,p);d.dispatchEvent(g),g=h("p-dragleave",f,m,p),d.dispatchEvent(g)}}t.dispatchDragLeave=o;function a(f,d,p){if(!d)return"none";var m=h("lm-dragover",f,p,null),g=!d.dispatchEvent(m);return g||(m=h("p-dragover",f,p,null),g=!d.dispatchEvent(m),g)?m.dropAction:"none"}t.dispatchDragOver=a;function l(f,d,p){if(!d)return"none";var m=h("lm-drop",f,p,null),g=!d.dispatchEvent(m);return g||(m=h("p-drop",f,p,null),g=!d.dispatchEvent(m),g)?m.dropAction:"none"}t.dispatchDrop=l;var u={none:0,copy:1,link:2,move:4},c={none:u.none,copy:u.copy,link:u.link,move:u.move,"copy-link":u.copy|u.link,"copy-move":u.copy|u.move,"link-move":u.link|u.move,all:u.copy|u.link|u.move};function h(f,d,p,m){var g=document.createEvent("MouseEvent");return g.initMouseEvent(f,!0,!0,window,0,p.screenX,p.screenY,p.clientX,p.clientY,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,m),g.dropAction="none",g.mimeData=d.mimeData,g.proposedAction=d.proposedAction,g.supportedActions=d.supportedActions,g.source=d.source,g}})(dt||(dt={}));var Cn=uO(pm());var vt=uO(pm());function Ds(){return gm.keyboardLayout}var mm=function(){function t(e,i,r){r===void 0&&(r=[]),this.name=e,this._codes=i,this._keys=t.extractKeys(i),this._modifierKeys=t.convertToKeySet(r)}return t.prototype.keys=function(){return Object.keys(this._keys)},t.prototype.isValidKey=function(e){return e in this._keys},t.prototype.isModifierKey=function(e){return e in this._modifierKeys},t.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},t}();(function(t){function e(r){var n=Object.create(null);for(var s in r)n[r[s]]=!0;return n}t.extractKeys=e;function i(r){for(var n=Object(null),s=0,o=r.length;s<o;++s)n[r[s]]=!0;return n}t.convertToKeySet=i})(mm||(mm={}));var p2=new mm("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]),gm;(function(t){t.keyboardLayout=p2})(gm||(gm={}));var Om=function(){return Om=Object.assign||function(e){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Om.apply(this,arguments)},Ls=function(){function t(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new le(this),this._commandExecuted=new le(this),this._keyBindingChanged=new le(this)}return Object.defineProperty(t.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),t.prototype.listCommands=function(){return Object.keys(this._commands)},t.prototype.hasCommand=function(e){return e in this._commands},t.prototype.addCommand=function(e,i){var r=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=qr.createCommand(i),this._commandChanged.emit({id:e,type:"added"}),new zr(function(){delete r._commands[e],r._commandChanged.emit({id:e,type:"removed"})})},t.prototype.notifyCommandChanged=function(e){if(e!==void 0&&!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})},t.prototype.describedBy=function(e){var i=this._commands[e];return i?i.describedBy||{args:null}:{args:null}},t.prototype.label=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.label.call(void 0,i):""},t.prototype.mnemonic=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.mnemonic.call(void 0,i):-1},t.prototype.icon=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.icon.call(void 0,i):""},t.prototype.iconClass=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.iconClass.call(void 0,i):""},t.prototype.iconLabel=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.iconLabel.call(void 0,i):""},t.prototype.caption=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.caption.call(void 0,i):""},t.prototype.usage=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.usage.call(void 0,i):""},t.prototype.className=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.className.call(void 0,i):""},t.prototype.dataset=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.dataset.call(void 0,i):{}},t.prototype.isEnabled=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.isEnabled.call(void 0,i):!1},t.prototype.isToggled=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.isToggled.call(void 0,i):!1},t.prototype.isToggleable=function(e,i){var r=this._commands[e];return r?r.isToggleable:!1},t.prototype.isVisible=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];return r?r.isVisible.call(void 0,i):!1},t.prototype.execute=function(e,i){i===void 0&&(i=vt.JSONExt.emptyObject);var r=this._commands[e];if(!r)return Promise.reject(new Error("Command '"+e+"' not registered."));var n;try{n=r.execute.call(void 0,i)}catch(o){n=Promise.reject(o)}var s=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:i,result:s}),s},t.prototype.addKeyBinding=function(e){var i=this,r=qr.createKeyBinding(e);return this._keyBindings.push(r),this._keyBindingChanged.emit({binding:r,type:"added"}),new zr(function(){L.removeFirstOf(i._keyBindings,r),i._keyBindingChanged.emit({binding:r,type:"removed"})})},t.prototype.processKeydownEvent=function(e){if(!(this._replaying||t.isModifierKeyPressed(e))){var i=t.keystrokeForKeydownEvent(e);if(!i){this._replayKeydownEvents(),this._clearPendingState();return}this._keystrokes.push(i);var r=qr.matchKeyBinding(this._keyBindings,this._keystrokes,e),n=r.exact,s=r.partial;if(!n&&!s){this._replayKeydownEvents(),this._clearPendingState();return}if(e.preventDefault(),e.stopPropagation(),n&&!s){this._executeKeyBinding(n),this._clearPendingState();return}n&&(this._exactKeyMatch=n),this._keydownEvents.push(e),this._startTimer()}},t.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=window.setTimeout(function(){e._onPendingTimeout()},qr.CHORD_TIMEOUT)},t.prototype._clearTimer=function(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)},t.prototype._replayKeydownEvents=function(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(qr.replayKeyEvent),this._replaying=!1)},t.prototype._executeKeyBinding=function(e){var i=e.command,r=e.args;if(!this.hasCommand(i)||!this.isEnabled(i,r)){var n=this.hasCommand(i)?"enabled":"registered",s=e.keys.join(", "),o="Cannot execute key binding '"+s+"':",a="command '"+i+"' is not "+n+".";console.warn(o+" "+a);return}this.execute(i,r)},t.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},t.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},t}();(function(t){function e(a){for(var l="",u=!1,c=!1,h=!1,f=!1,d=0,p=a.split(/\s+/);d<p.length;d++){var m=p[d];m==="Accel"?Je.IS_MAC?c=!0:h=!0:m==="Alt"?u=!0:m==="Cmd"?c=!0:m==="Ctrl"?h=!0:m==="Shift"?f=!0:m.length>0&&(l=m)}return{cmd:c,ctrl:h,alt:u,shift:f,key:l}}t.parseKeystroke=e;function i(a){var l="",u=e(a);return u.ctrl&&(l+="Ctrl "),u.alt&&(l+="Alt "),u.shift&&(l+="Shift "),u.cmd&&Je.IS_MAC&&(l+="Cmd "),l+u.key}t.normalizeKeystroke=i;function r(a){var l;return Je.IS_WIN?l=a.winKeys||a.keys:Je.IS_MAC?l=a.macKeys||a.keys:l=a.linuxKeys||a.keys,l.map(i)}t.normalizeKeys=r;function n(a){return typeof a=="string"?l(a):a.map(l).join(", ");function l(u){var c=[],h=Je.IS_MAC?" ":"+",f=e(u);return f.ctrl&&c.push("Ctrl"),f.alt&&c.push("Alt"),f.shift&&c.push("Shift"),Je.IS_MAC&&f.cmd&&c.push("Cmd"),c.push(f.key),c.map(qr.formatKey).join(h)}}t.formatKeystroke=n;function s(a){var l=Ds(),u=l.keyForKeydownEvent(a);return l.isModifierKey(u)}t.isModifierKeyPressed=s;function o(a){var l=Ds(),u=l.keyForKeydownEvent(a);if(!u||l.isModifierKey(u))return"";var c=[];return a.ctrlKey&&c.push("Ctrl"),a.altKey&&c.push("Alt"),a.shiftKey&&c.push("Shift"),a.metaKey&&Je.IS_MAC&&c.push("Cmd"),c.push(u),c.join(" ")}t.keystrokeForKeydownEvent=o})(Ls||(Ls={}));var qr;(function(t){t.CHORD_TIMEOUT=1e3;function e(v){var k,C;return!v.icon||typeof v.icon=="string"?(C=p(v.iconClass||v.icon,l),k=C):(C=p(v.iconClass,l),k=p(v.icon,d)),{execute:v.execute,describedBy:Om({args:null},v.describedBy),label:p(v.label,l),mnemonic:p(v.mnemonic,u),icon:k,iconClass:C,iconLabel:p(v.iconLabel,l),caption:p(v.caption,l),usage:p(v.usage,l),className:p(v.className,l),dataset:p(v.dataset,f),isEnabled:v.isEnabled||c,isToggled:v.isToggled||h,isToggleable:v.isToggleable||!!v.isToggled,isVisible:v.isVisible||c}}t.createCommand=e;function i(v){return{keys:Ls.normalizeKeys(v),selector:m(v),command:v.command,args:v.args||vt.JSONExt.emptyObject}}t.createKeyBinding=i;function r(v,k,C){for(var A=null,P=!1,Q=1/0,S=0,_=0,E=v.length;_<E;++_){var R=v[_],w=g(R.keys,k);if(w!==0){if(w===2){!P&&O(R.selector,C)!==-1&&(P=!0);continue}var x=O(R.selector,C);if(!(x===-1||x>Q)){var M=yi.calculateSpecificity(R.selector);(!A||x<Q||M>=S)&&(A=R,Q=x,S=M)}}}return{exact:A,partial:P}}t.matchKeyBinding=r;function n(v){v.target.dispatchEvent(y(v))}t.replayKeyEvent=n;function s(v){return Je.IS_MAC?o.hasOwnProperty(v)?o[v]:v:a.hasOwnProperty(v)?a[v]:v}t.formatKey=s;var o={Backspace:"\u232B",Tab:"\u21E5",Enter:"\u21A9",Shift:"\u21E7",Ctrl:"\u2303",Alt:"\u2325",Escape:"\u238B",PageUp:"\u21DE",PageDown:"\u21DF",End:"\u2198",Home:"\u2196",ArrowLeft:"\u2190",ArrowUp:"\u2191",ArrowRight:"\u2192",ArrowDown:"\u2193",Delete:"\u2326",Cmd:"\u2318"},a={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},l=function(){return""},u=function(){return-1},c=function(){return!0},h=function(){return!1},f=function(){return{}},d=function(){};function p(v,k){return v===void 0?k:typeof v=="function"?v:function(){return v}}function m(v){if(v.selector.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+v.selector);if(!yi.isValid(v.selector))throw new Error("Invalid selector: "+v.selector);return v.selector}function g(v,k){if(v.length<k.length)return 0;for(var C=0,A=k.length;C<A;++C)if(v[C]!==k[C])return 0;return v.length>k.length?2:1}function O(v,k){for(var C=k.target,A=k.currentTarget,P=0;C!==null;C=C.parentElement,++P){if(C.hasAttribute("data-lm-suppress-shortcuts")||C.hasAttribute("data-p-suppress-shortcuts"))return-1;if(yi.matches(C,v))return P;if(C===A)return-1}return-1}function y(v){var k=document.createEvent("Event"),C=v.bubbles||!0,A=v.cancelable||!0;return k.initEvent(v.type||"keydown",C,A),k.key=v.key||"",k.keyCode=v.keyCode||0,k.which=v.keyCode||0,k.ctrlKey=v.ctrlKey||!1,k.altKey=v.altKey||!1,k.shiftKey=v.shiftKey||!1,k.metaKey=v.metaKey||!1,k.view=v.view||window,k}})(qr||(qr={}));var bm=function(t,e){return bm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])},bm(t,e)};function m2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bm(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var sc=function(){function t(e){this.type="text",this.content=e}return t}(),oc=function(){function t(e,i,r,n){this.type="element",this.tag=e,this.attrs=i,this.children=r,this.renderer=n}return t}(),sZ=function(t){m2(e,t);function e(i,r,n){return t.call(this,i,r,[],n||void 0)||this}return e}(oc);function de(t){for(var e={},i,r=[],n=1,s=arguments.length;n<s;++n){var o=arguments[n];typeof o=="string"?r.push(new sc(o)):o instanceof sc||o instanceof oc?r.push(o):o instanceof Array?a(r,o):(n===1||n===2)&&o&&typeof o=="object"&&("render"in o?i=o:e=o)}return new oc(t,e,r,i);function a(l,u){for(var c=0,h=u;c<h.length;c++){var f=h[c];typeof f=="string"?l.push(new sc(f)):(f instanceof sc||f instanceof oc)&&l.push(f)}}}(function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")})(de||(de={}));var nr;(function(t){function e(r){return kn.createDOMNode(r)}t.realize=e;function i(r,n){var s=kn.hostMap.get(n)||[],o=kn.asContentArray(r);kn.hostMap.set(n,o),kn.updateContent(n,s,o)}t.render=i})(nr||(nr={}));var kn;(function(t){t.hostMap=new WeakMap;function e(d){return d?d instanceof Array?d:[d]:[]}t.asContentArray=e;function i(d){var p=arguments[1]||null,m=arguments[2]||null;if(p)p.insertBefore(i(d),m);else{if(d.type==="text")return document.createTextNode(d.content);if(p=document.createElement(d.tag),o(p,d.attrs),d.renderer)return d.renderer.render(p,{attrs:d.attrs,children:d.children}),p;for(var g=0,O=d.children.length;g<O;++g)i(d.children[g],p)}return p}t.createDOMNode=i;function r(d,p,m){if(p!==m){for(var g=f(d,p),O=p.slice(),y=d.firstChild,v=m.length,k=0;k<v;++k){if(k>=O.length){i(m[k],d);continue}var C=O[k],A=m[k];if(C===A){y=y.nextSibling;continue}if(C.type==="text"&&A.type==="text"){y.textContent!==A.content&&(y.textContent=A.content),y=y.nextSibling;continue}if(C.type==="text"||A.type==="text"){L.insert(O,k,A),i(A,d,y);continue}if(!C.renderer!=!A.renderer){L.insert(O,k,A),i(A,d,y);continue}var P=A.attrs.key;if(P&&P in g){var Q=g[P];Q.vNode!==C&&(L.move(O,O.indexOf(Q.vNode,k+1),k),d.insertBefore(Q.element,y),C=Q.vNode,y=Q.element)}if(C===A){y=y.nextSibling;continue}var S=C.attrs.key;if(S&&S!==P){L.insert(O,k,A),i(A,d,y);continue}if(C.tag!==A.tag){L.insert(O,k,A),i(A,d,y);continue}a(y,C.attrs,A.attrs),A.renderer?A.renderer.render(y,{attrs:A.attrs,children:A.children}):r(y,C.children,A.children),y=y.nextSibling}n(d,O,v,!0)}}t.updateContent=r;function n(d,p,m,g){for(var O=p.length-1;O>=m;--O){var y=p[O],v=g?d.lastChild:d.childNodes[O];y.type==="text"||(y.renderer&&y.renderer.unrender?y.renderer.unrender(v,{attrs:y.attrs,children:y.children}):n(v,y.children,0,!1)),g&&d.removeChild(v)}}var s={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function o(d,p){for(var m in p)m in s||(m.substr(0,2)==="on"?d[m]=p[m]:d.setAttribute(m,p[m]));p.className!==void 0&&d.setAttribute("class",p.className),p.htmlFor!==void 0&&d.setAttribute("for",p.htmlFor),p.dataset&&l(d,p.dataset),p.style&&c(d,p.style)}function a(d,p,m){if(p!==m){var g;for(g in p)g in s||g in m||(g.substr(0,2)==="on"?d[g]=null:d.removeAttribute(g));for(g in m)g in s||p[g]===m[g]||(g.substr(0,2)==="on"?d[g]=m[g]:d.setAttribute(g,m[g]));p.className!==m.className&&(m.className!==void 0?d.setAttribute("class",m.className):d.removeAttribute("class")),p.htmlFor!==m.htmlFor&&(m.htmlFor!==void 0?d.setAttribute("for",m.htmlFor):d.removeAttribute("for")),p.dataset!==m.dataset&&u(d,p.dataset||{},m.dataset||{}),p.style!==m.style&&h(d,p.style||{},m.style||{})}}function l(d,p){for(var m in p)d.setAttribute("data-"+m,p[m])}function u(d,p,m){for(var g in p)g in m||d.removeAttribute("data-"+g);for(var O in m)p[O]!==m[O]&&d.setAttribute("data-"+O,m[O])}function c(d,p){var m=d.style,g;for(g in p)m[g]=p[g]}function h(d,p,m){var g=d.style,O;for(O in p)O in m||(g[O]="");for(O in m)p[O]!==m[O]&&(g[O]=m[O])}function f(d,p){for(var m=d.firstChild,g=Object.create(null),O=0,y=p;O<y.length;O++){var v=y[O];v.type==="element"&&v.attrs.key&&(g[v.attrs.key]={vNode:v,element:m}),m=m.nextSibling}return g}})(kn||(kn={}));var ym=function(t,e){return ym=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])},ym(t,e)};function De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ym(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var et=function(){return et=Object.assign||function(e){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},et.apply(this,arguments)};function g2(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i}function O2(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)r[n]=s[o];return r}var Zr=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return t}(),Yt;(function(t){function e(s,o){var a=s.length;if(a===0)return o;for(var l=0,u=0,c=0,h=0,f=0,d=0;d<a;++d){var p=s[d],m=p.minSize,g=p.maxSize,O=p.sizeHint;p.done=!1,p.size=Math.max(m,Math.min(O,g)),c+=p.size,l+=m,u+=g,p.stretch>0&&(h+=p.stretch,f++)}if(o===c)return 0;if(o<=l){for(var d=0;d<a;++d){var p=s[d];p.size=p.minSize}return o-l}if(o>=u){for(var d=0;d<a;++d){var p=s[d];p.size=p.maxSize}return o-u}var y=.01,v=a;if(o<c){for(var k=c-o;f>0&&k>y;)for(var C=k,A=h,d=0;d<a;++d){var p=s[d];if(!(p.done||p.stretch===0)){var P=p.stretch*C/A;p.size-P<=p.minSize?(k-=p.size-p.minSize,h-=p.stretch,p.size=p.minSize,p.done=!0,v--,f--):(k-=P,p.size-=P)}}for(;v>0&&k>y;)for(var P=k/v,d=0;d<a;++d){var p=s[d];p.done||(p.size-P<=p.minSize?(k-=p.size-p.minSize,p.size=p.minSize,p.done=!0,v--):(k-=P,p.size-=P))}}else{for(var k=o-c;f>0&&k>y;)for(var C=k,A=h,d=0;d<a;++d){var p=s[d];if(!(p.done||p.stretch===0)){var P=p.stretch*C/A;p.size+P>=p.maxSize?(k-=p.maxSize-p.size,h-=p.stretch,p.size=p.maxSize,p.done=!0,v--,f--):(k-=P,p.size+=P)}}for(;v>0&&k>y;)for(var P=k/v,d=0;d<a;++d){var p=s[d];p.done||(p.size+P>=p.maxSize?(k-=p.maxSize-p.size,p.size=p.maxSize,p.done=!0,v--):(k-=P,p.size+=P))}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}t.adjust=i;function r(s,o,a){for(var l=0,u=0;u<=o;++u){var c=s[u];l+=c.maxSize-c.size}for(var h=0,u=o+1,f=s.length;u<f;++u){var c=s[u];h+=c.size-c.minSize}a=Math.min(a,l,h);for(var d=a,u=o;u>=0&&d>0;--u){var c=s[u],p=c.maxSize-c.size;p>=d?(c.sizeHint=c.size+d,d=0):(c.sizeHint=c.size+p,d-=p)}for(var m=a,u=o+1,f=s.length;u<f&&m>0;++u){var c=s[u],p=c.size-c.minSize;p>=m?(c.sizeHint=c.size-m,m=0):(c.sizeHint=c.size-p,m-=p)}}function n(s,o,a){for(var l=0,u=o+1,c=s.length;u<c;++u){var h=s[u];l+=h.maxSize-h.size}for(var f=0,u=0;u<=o;++u){var h=s[u];f+=h.size-h.minSize}a=Math.min(a,l,f);for(var d=a,u=o+1,c=s.length;u<c&&d>0;++u){var h=s[u],p=h.maxSize-h.size;p>=d?(h.sizeHint=h.size+d,d=0):(h.sizeHint=h.size+p,d-=p)}for(var m=a,u=o;u>=0&&m>0;--u){var h=s[u],p=h.size-h.minSize;p>=m?(h.sizeHint=h.size-m,m=0):(h.sizeHint=h.size-p,m-=p)}}})(Yt||(Yt={}));var vm=function(){function t(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new le(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0?typeof e.icon=="string"?(this._icon=null,this._iconClass=e.icon):this._icon=e.icon:this._icon=null,e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.iconRenderer!==void 0&&(this._icon=e.iconRenderer),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon===null?this.iconClass:this._icon},set:function(e){if(typeof e=="string")this._icon=null,this.iconClass=e;else{if(this._icon===e)return;this._icon=e,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(e){this.icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,le.clearData(this))},t}(),N=function(){function t(e){e===void 0&&(e={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new le(this),this._hiddenMode=t.HiddenMode.Display,this.node=ac.createNode(e),this.addClass("lm-Widget"),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),le.clearData(this),V.clearData(this),yt.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return ac.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==t.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var i=new t.ChildMessage("child-removed",this);V.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){var i=new t.ChildMessage("child-added",this);V.sendMessage(this._parent,i)}this.isDisposed||V.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){if(this._layout!==e){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():jt()},t.prototype.contains=function(e){for(var i=e;i;i=i._parent)if(i===this)return!0;return!1},t.prototype.hasClass=function(e){return this.node.classList.contains(e)},t.prototype.addClass=function(e){this.node.classList.add(e)},t.prototype.removeClass=function(e){this.node.classList.remove(e)},t.prototype.toggleClass=function(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},t.prototype.update=function(){V.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){V.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){V.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){V.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&V.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&V.sendMessage(this,t.Msg.AfterShow),this.parent)){var e=new t.ChildMessage("child-shown",this);V.sendMessage(this.parent,e)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&V.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&V.sendMessage(this,t.Msg.AfterHide),this.parent)){var e=new t.ChildMessage("child-hidden",this);V.sendMessage(this.parent,e)}},t.prototype.setHidden=function(e){e?this.hide():this.show()},t.prototype.testFlag=function(e){return(this._flags&e)!==0},t.prototype.setFlag=function(e){this._flags|=e},t.prototype.clearFlag=function(e){this._flags&=~e},t.prototype.processMessage=function(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}},t.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},t.prototype.onCloseRequest=function(e){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(e){},t.prototype.onUpdateRequest=function(e){},t.prototype.onFitRequest=function(e){},t.prototype.onActivateRequest=function(e){},t.prototype.onBeforeShow=function(e){},t.prototype.onAfterShow=function(e){},t.prototype.onBeforeHide=function(e){},t.prototype.onAfterHide=function(e){},t.prototype.onBeforeAttach=function(e){},t.prototype.onAfterAttach=function(e){},t.prototype.onBeforeDetach=function(e){},t.prototype.onAfterDetach=function(e){},t.prototype.onChildAdded=function(e){},t.prototype.onChildRemoved=function(e){},t.prototype._toggleHidden=function(e){if(e)switch(this._hiddenMode){case t.HiddenMode.Display:this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="scale(0)";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case t.HiddenMode.Display:this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}},t}();(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new Xt("before-show"),s.AfterShow=new Xt("after-show"),s.BeforeHide=new Xt("before-hide"),s.AfterHide=new Xt("after-hide"),s.BeforeAttach=new Xt("before-attach"),s.AfterAttach=new Xt("after-attach"),s.BeforeDetach=new Xt("before-detach"),s.AfterDetach=new Xt("after-detach"),s.ParentChanged=new Xt("parent-changed"),s.UpdateRequest=new Is("update-request"),s.FitRequest=new Is("fit-request"),s.ActivateRequest=new Is("activate-request"),s.CloseRequest=new Is("close-request")}(t.Msg||(t.Msg={}));var e=function(s){De(o,s);function o(a,l){var u=s.call(this,a)||this;return u.child=l,u}return o}(Xt);t.ChildMessage=e;var i=function(s){De(o,s);function o(a,l){var u=s.call(this,"resize")||this;return u.width=a,u.height=l,u}return o}(Xt);t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function r(s,o,a){if(a===void 0&&(a=null),s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");V.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),V.sendMessage(s,t.Msg.AfterAttach)}t.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");V.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),V.sendMessage(s,t.Msg.AfterDetach)}t.detach=n})(N||(N={}));var ac;(function(t){t.titleProperty=new yt({name:"title",create:function(i){return new vm({owner:i})}});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(ac||(ac={}));var Wr=function(){function t(e){e===void 0&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,le.clearData(this),yt.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}},t.prototype.init=function(){var e=this;J(this,function(i){i.parent=e.parent})},t.prototype.onResize=function(e){J(this,function(i){V.sendMessage(i,N.ResizeMessage.UnknownSize)})},t.prototype.onUpdateRequest=function(e){J(this,function(i){V.sendMessage(i,N.ResizeMessage.UnknownSize)})},t.prototype.onBeforeAttach=function(e){J(this,function(i){V.sendMessage(i,e)})},t.prototype.onAfterAttach=function(e){J(this,function(i){V.sendMessage(i,e)})},t.prototype.onBeforeDetach=function(e){J(this,function(i){V.sendMessage(i,e)})},t.prototype.onAfterDetach=function(e){J(this,function(i){V.sendMessage(i,e)})},t.prototype.onBeforeShow=function(e){J(this,function(i){i.isHidden||V.sendMessage(i,e)})},t.prototype.onAfterShow=function(e){J(this,function(i){i.isHidden||V.sendMessage(i,e)})},t.prototype.onBeforeHide=function(e){J(this,function(i){i.isHidden||V.sendMessage(i,e)})},t.prototype.onAfterHide=function(e){J(this,function(i){i.isHidden||V.sendMessage(i,e)})},t.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},t.prototype.onFitRequest=function(e){},t.prototype.onChildShown=function(e){},t.prototype.onChildHidden=function(e){},t}();(function(t){function e(s){return Vs.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){Vs.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function r(s){return Vs.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=r;function n(s,o){Vs.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=n})(Wr||(Wr={}));var Sa=function(){function t(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var e=ge.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},t.prototype.update=function(e,i,r,n){var s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(Wr.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(Wr.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(n-o)/2;break;case"bottom":i+=n-o;break;default:throw"unreachable"}var a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=i+"px"),this._left!==e&&(this._left=e,l.left=e+"px"),this._width!==s&&(a=!0,this._width=s,l.width=s+"px"),this._height!==o&&(a=!0,this._height=o,l.height=o+"px"),a){var u=new N.ResizeMessage(s,o);V.sendMessage(this.widget,u)}},t}(),Vs;(function(t){t.horizontalAlignmentProperty=new yt({name:"horizontalAlignment",create:function(){return"center"},changed:e}),t.verticalAlignmentProperty=new yt({name:"verticalAlignment",create:function(){return"top"},changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(Vs||(Vs={}));var dc=function(t){De(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i._widgets=[],i}return e.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return Wt(this._widgets)},e.prototype.addWidget=function(i){this.insertWidget(this._widgets.length,i)},e.prototype.insertWidget=function(i,r){r.parent=this.parent;var n=this._widgets.indexOf(r),s=Math.max(0,Math.min(i,this._widgets.length));if(n===-1){L.insert(this._widgets,s,r),this.parent&&this.attachWidget(s,r);return}s===this._widgets.length&&s--,n!==s&&(L.move(this._widgets,n,s),this.parent&&this.moveWidget(n,s,r))},e.prototype.removeWidget=function(i){this.removeWidgetAt(this._widgets.indexOf(i))},e.prototype.removeWidgetAt=function(i){var r=L.removeAt(this._widgets,i);r&&this.parent&&this.detachWidget(i,r)},e.prototype.init=function(){var i=this;t.prototype.init.call(this),J(this,function(r,n){i.attachWidget(n,r)})},e.prototype.attachWidget=function(i,r){var n=this.parent.node.children[i];this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterAttach)},e.prototype.moveWidget=function(i,r,n){this.parent.isAttached&&V.sendMessage(n,N.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&V.sendMessage(n,N.Msg.AfterDetach);var s=this.parent.node.children[r];this.parent.isAttached&&V.sendMessage(n,N.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,s),this.parent.isAttached&&V.sendMessage(n,N.Msg.AfterAttach)},e.prototype.detachWidget=function(i,r){this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterDetach)},e}(Wr),wa;(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(wa||(wa={}));var _a=wa,Tn=function(t){De(e,t);function e(i){var r=t.call(this)||this;return r.widgetOffset=0,r._fixed=0,r._spacing=4,r._dirty=!1,r._hasNormedSizes=!1,r._sizers=[],r._items=[],r._handles=[],r._box=null,r._alignment="start",r._orientation="horizontal",r.renderer=i.renderer,i.orientation!==void 0&&(r._orientation=i.orientation),i.alignment!==void 0&&(r._alignment=i.alignment),i.spacing!==void 0&&(r._spacing=wa.clampDimension(i.spacing)),r}return e.prototype.dispose=function(){J(this._items,function(i){i.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(i){this._orientation!==i&&(this._orientation=i,this.parent&&(this.parent.dataset.orientation=i,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(i){this._alignment!==i&&(this._alignment=i,this.parent&&(this.parent.dataset.alignment=i,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(i){i=wa.clampDimension(i),this._spacing!==i&&(this._spacing=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),e.prototype.absoluteSizes=function(){return this._sizers.map(function(i){return i.size})},e.prototype.relativeSizes=function(){return or.normalize(this._sizers.map(function(i){return i.size}))},e.prototype.setRelativeSizes=function(i,r){r===void 0&&(r=!0);for(var n=this._sizers.length,s=i.slice(0,n);s.length<n;)s.push(0);for(var o=or.normalize(s),a=0;a<n;++a){var l=this._sizers[a];l.sizeHint=o[a],l.size=o[a]}this._hasNormedSizes=!0,r&&this.parent&&this.parent.update()},e.prototype.moveHandle=function(i,r){var n=this._handles[i];if(!(!n||n.classList.contains("lm-mod-hidden"))){var s;if(this._orientation==="horizontal"?s=r-n.offsetLeft:s=r-n.offsetTop,s!==0){for(var o=0,a=this._sizers;o<a.length;o++){var l=a[o];l.size>0&&(l.sizeHint=l.size)}Yt.adjust(this._sizers,i,s),this.parent&&this.parent.update()}}},e.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(i,r){var n=new Sa(r),s=or.createHandle(this.renderer),o=or.averageSize(this._sizers),a=or.createSizer(o);L.insert(this._items,i,n),L.insert(this._sizers,i,a),L.insert(this._handles,i,s),this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.node.appendChild(s),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(i,r,n){L.move(this._items,i,r),L.move(this._sizers,i,r),L.move(this._handles,i,r),this.parent.fit()},e.prototype.detachWidget=function(i,r){var n=L.removeAt(this._items,i),s=L.removeAt(this._handles,i);L.removeAt(this._sizers,i),this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.node.removeChild(s),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(i){t.prototype.onBeforeShow.call(this,i),this.parent.update()},e.prototype.onBeforeAttach=function(i){t.prototype.onBeforeAttach.call(this,i),this.parent.fit()},e.prototype.onChildShown=function(i){this.parent.fit()},e.prototype.onChildHidden=function(i){this.parent.fit()},e.prototype.onResize=function(i){this.parent.isVisible&&this._update(i.width,i.height)},e.prototype.onUpdateRequest=function(i){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(i){this.parent.isAttached&&this._fit()},e.prototype.updateItemPosition=function(i,r,n,s,o,a,l){var u=this._items[i];if(!u.isHidden){var c=this._handles[i].style;r?(n+=this.widgetOffset,u.update(n,s,l,o),n+=l,c.top=s+"px",c.left=n+"px",c.width=this._spacing+"px",c.height=o+"px"):(s+=this.widgetOffset,u.update(n,s,a,l),s+=l,c.top=s+"px",c.left=n+"px",c.width=a+"px",c.height=this._spacing+"px")}},e.prototype._fit=function(){for(var i=0,r=-1,n=0,s=this._items.length;n<s;++n)this._items[n].isHidden?(this._handles[n].classList.add("lm-mod-hidden"),this._handles[n].classList.add("p-mod-hidden")):(this._handles[n].classList.remove("lm-mod-hidden"),this._handles[n].classList.remove("p-mod-hidden"),r=n,i++);r!==-1&&(this._handles[r].classList.add("lm-mod-hidden"),this._handles[r].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,i-1)+this.widgetOffset*this._items.length;for(var o=this._orientation==="horizontal",a=o?this._fixed:0,l=o?0:this._fixed,n=0,s=this._items.length;n<s;++n){var u=this._items[n],c=this._sizers[n];if(c.size>0&&(c.sizeHint=c.size),u.isHidden){c.minSize=0,c.maxSize=0;continue}u.fit(),c.stretch=e.getStretch(u.widget),o?(c.minSize=u.minWidth,c.maxSize=u.maxWidth,a+=u.minWidth,l=Math.max(l,u.minHeight)):(c.minSize=u.minHeight,c.maxSize=u.maxHeight,l+=u.minHeight,a=Math.max(a,u.minWidth))}var h=this._box=ge.boxSizing(this.parent.node);a+=h.horizontalSum,l+=h.verticalSum;var f=this.parent.node.style;f.minWidth=a+"px",f.minHeight=l+"px",this._dirty=!0,this.parent.parent&&V.sendMessage(this.parent.parent,N.Msg.FitRequest),this._dirty&&V.sendMessage(this.parent,N.Msg.UpdateRequest)},e.prototype._update=function(i,r){this._dirty=!1;for(var n=0,s=0,o=this._items.length;s<o;++s)n+=+!this._items[s].isHidden;if(!(n===0&&this.widgetOffset===0)){i<0&&(i=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=ge.boxSizing(this.parent.node));var a=this._box.paddingTop,l=this._box.paddingLeft,u=i-this._box.horizontalSum,c=r-this._box.verticalSum,h=0,f=0,d=this._orientation==="horizontal";if(n>0){var p=void 0;if(d?p=Math.max(0,u-this._fixed):p=Math.max(0,c-this._fixed),this._hasNormedSizes){for(var m=0,g=this._sizers;m<g.length;m++){var O=g[m];O.sizeHint*=p}this._hasNormedSizes=!1}var y=Yt.calc(this._sizers,p);if(y>0)switch(this._alignment){case"start":break;case"center":h=0,f=y/2;break;case"end":h=0,f=y;break;case"justify":h=y/n,f=0;break;default:throw"unreachable"}}for(var s=0,o=this._items.length;s<o;++s){var v=this._items[s],k=v.isHidden?0:this._sizers[s].size+h;this.updateItemPosition(s,d,d?l+f:l,d?a:a+f,c,u,k);var C=this.widgetOffset+(this._handles[s].classList.contains("lm-mod-hidden")?0:this._spacing);d?l+=k+C:a+=k+C}}},e}(dc);(function(t){function e(r){return or.stretchProperty.get(r)}t.getStretch=e;function i(r,n){or.stretchProperty.set(r,n)}t.setStretch=i})(Tn||(Tn={}));var or;(function(t){t.stretchProperty=new yt({name:"stretch",create:function(){return 0},coerce:function(o,a){return Math.max(0,Math.floor(a))},changed:s});function e(o){var a=new Zr;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){var a=o.createHandle();return a.style.position="absolute",a}t.createHandle=i;function r(o){return o.reduce(function(a,l){return a+l.size},0)/o.length||0}t.averageSize=r;function n(o){var a=o.length;if(a===0)return[];var l=o.reduce(function(u,c){return u+Math.abs(c)},0);return l===0?o.map(function(u){return 1/a}):o.map(function(u){return u/l})}t.normalize=n;function s(o){o.parent&&o.parent.layout instanceof Tn&&o.parent.fit()}})(or||(or={}));var b2=function(t){De(e,t);function e(i){var r=t.call(this,et(et({},i),{orientation:i.orientation||"vertical"}))||this;return r._titles=[],r.titleSpace=i.titleSpace||22,r}return Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(i){i=_a.clampDimension(i),this.widgetOffset!==i&&(this.widgetOffset=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,t.prototype.dispose.call(this))},e.prototype.updateTitle=function(i,r){var n=this._titles[i],s=n.classList.contains("lm-mod-expanded"),o=lc.createTitle(this.renderer,r.title,s);this._titles[i]=o,this.parent.node.replaceChild(o,n)},e.prototype.attachWidget=function(i,r){var n=lc.createTitle(this.renderer,r.title);L.insert(this._titles,i,n),this.parent.node.appendChild(n),r.node.setAttribute("role","region"),r.node.setAttribute("aria-labelledby",n.id),t.prototype.attachWidget.call(this,i,r)},e.prototype.moveWidget=function(i,r,n){L.move(this._titles,i,r),t.prototype.moveWidget.call(this,i,r,n)},e.prototype.detachWidget=function(i,r){var n=L.removeAt(this._titles,i);this.parent.node.removeChild(n),t.prototype.detachWidget.call(this,i,r)},e.prototype.updateItemPosition=function(i,r,n,s,o,a,l){var u=this._titles[i].style;u.top=s+"px",u.left=n+"px",u.height=this.widgetOffset+"px",r?u.width=o+"px":u.width=a+"px",t.prototype.updateItemPosition.call(this,i,r,n,s,o,a,l)},e}(Tn),lc;(function(t){function e(i,r,n){n===void 0&&(n=!0);var s=i.createSectionTitle(r);return s.style.position="absolute",s.setAttribute("aria-label",r.label+" Section"),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(lc||(lc={}));var Tm=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this)||this;return r.addClass("lm-Panel"),r.addClass("p-Panel"),r.layout=xm.createLayout(i),r}return Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(i){this.layout.addWidget(i)},e.prototype.insertWidget=function(i,r){this.layout.insertWidget(i,r)},e}(N),xm;(function(t){function e(i){return i.layout||new dc}t.createLayout=e})(xm||(xm={}));var En=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{layout:wm.createLayout(i)})||this;return r._handleMoved=new le(r),r._pressData=null,r.addClass("lm-SplitPanel"),r.addClass("p-SplitPanel"),r}return e.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(i){this.layout.orientation=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(i){this.layout.alignment=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(i){this.layout.spacing=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return this.layout.relativeSizes()},e.prototype.setRelativeSizes=function(i,r){r===void 0&&(r=!0),this.layout.setRelativeSizes(i,r)},e.prototype.handleEvent=function(i){switch(i.type){case"mousedown":this._evtMouseDown(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseup":this._evtMouseUp(i);break;case"pointerdown":this._evtMouseDown(i);break;case"pointermove":this._evtMouseMove(i);break;case"pointerup":this._evtMouseUp(i);break;case"keydown":this._evtKeyDown(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},e.prototype.onChildAdded=function(i){i.child.addClass("lm-SplitPanel-child"),i.child.addClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype.onChildRemoved=function(i){i.child.removeClass("lm-SplitPanel-child"),i.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype._evtKeyDown=function(i){this._pressData&&(i.preventDefault(),i.stopPropagation()),i.keyCode===27&&this._releaseMouse()},e.prototype._evtMouseDown=function(i){if(i.button===0){var r=this.layout,n=L.findFirstIndex(r.handles,function(c){return c.contains(i.target)});if(n!==-1){i.preventDefault(),i.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var s,o=r.handles[n],a=o.getBoundingClientRect();r.orientation==="horizontal"?s=i.clientX-a.left:s=i.clientY-a.top;var l=window.getComputedStyle(o),u=Br.overrideCursor(l.cursor);this._pressData={index:n,delta:s,override:u}}}},e.prototype._evtMouseMove=function(i){i.preventDefault(),i.stopPropagation();var r,n=this.layout,s=this.node.getBoundingClientRect();n.orientation==="horizontal"?r=i.clientX-s.left-this._pressData.delta:r=i.clientY-s.top-this._pressData.delta,n.moveHandle(this._pressData.index,r)},e.prototype._evtMouseUp=function(i){i.button===0&&(i.preventDefault(),i.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},e}(Tm);(function(t){var e=function(){function n(){}return n.prototype.createHandle=function(){var s=document.createElement("div");return s.className="lm-SplitPanel-handle",s.classList.add("p-SplitPanel-handle"),s},n}();t.Renderer=e,t.defaultRenderer=new e;function i(n){return Tn.getStretch(n)}t.getStretch=i;function r(n,s){Tn.setStretch(n,s)}t.setStretch=r})(En||(En={}));var wm;(function(t){function e(i){return i.layout||new Tn({renderer:i.renderer||En.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(wm||(wm={}));var _m=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,et(et({},i),{layout:Sm.createLayout(i)}))||this;return r._widgetSizesCache=new WeakMap,r.addClass("lm-AccordionPanel"),r}return Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(i){this.layout.titleSpace=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(i){t.prototype.addWidget.call(this,i),i.title.changed.connect(this._onTitleChanged,this)},e.prototype.collapse=function(i){var r=this.layout.widgets[i];r&&!r.isHidden&&this._toggleExpansion(i)},e.prototype.expand=function(i){var r=this.layout.widgets[i];r&&r.isHidden&&this._toggleExpansion(i)},e.prototype.insertWidget=function(i,r){t.prototype.insertWidget.call(this,i,r),r.title.changed.connect(this._onTitleChanged,this)},e.prototype.handleEvent=function(i){switch(t.prototype.handleEvent.call(this,i),i.type){case"click":this._evtClick(i);break;case"keydown":this._eventKeyDown(i);break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),t.prototype.onBeforeAttach.call(this,i)},e.prototype.onAfterDetach=function(i){t.prototype.onAfterDetach.call(this,i),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},e.prototype._onTitleChanged=function(i){var r=L.findFirstIndex(this.widgets,function(n){return n.contains(i.owner)});r>=0&&(this.layout.updateTitle(r,i.owner),this.update())},e.prototype._computeWidgetSize=function(i){var r=this.layout,n=r.widgets[i];if(n){var s=n.isHidden,o=r.absoluteSizes(),a=(s?-1:1)*this.spacing,l=o.reduce(function(d,p){return d+p}),u=O2(o);if(s){var f=this._widgetSizesCache.get(n);if(!f)return;u[i]+=f;var h=u.map(function(p){return p-f>0}).lastIndexOf(!0);h===-1?u.forEach(function(p,m){m!==i&&(u[m]-=o[m]/l*(f-a))}):u[h]-=f-a}else{var c=o[i];this._widgetSizesCache.set(n,c),u[i]=0;var h=u.map(function(d){return d>0}).lastIndexOf(!0);if(h===-1)return;u[h]=o[h]+c+a}return u.map(function(d){return d/(l+a)})}},e.prototype._evtClick=function(i){var r=i.target;if(r){var n=L.findFirstIndex(this.titles,function(s){return s.contains(r)});n>=0&&(i.preventDefault(),i.stopPropagation(),this._toggleExpansion(n))}},e.prototype._eventKeyDown=function(i){if(!i.defaultPrevented){var r=i.target,n=!1;if(r){var s=L.findFirstIndex(this.titles,function(c){return c.contains(r)});if(s>=0){var o=i.keyCode.toString();if(i.key.match(/Space|Enter/)||o.match(/13|32/))r.click(),n=!0;else if(this.orientation==="horizontal"?i.key.match(/ArrowLeft|ArrowRight/)||o.match(/37|39/):i.key.match(/ArrowUp|ArrowDown/)||o.match(/38|40/)){var a=i.key.match(/ArrowLeft|ArrowUp/)||o.match(/37|38/)?-1:1,l=this.titles.length,u=(s+l+a)%l;this.titles[u].focus(),n=!0}else i.key==="End"||o==="35"?(this.titles[this.titles.length-1].focus(),n=!0):(i.key==="Home"||o==="36")&&(this.titles[0].focus(),n=!0)}n&&i.preventDefault()}}},e.prototype._toggleExpansion=function(i){var r=this.titles[i],n=this.layout.widgets[i],s=this._computeWidgetSize(i);s&&this.setRelativeSizes(s,!1),n.isHidden?(r.classList.add("lm-mod-expanded"),r.setAttribute("aria-expanded","true"),n.show()):(r.classList.remove("lm-mod-expanded"),r.setAttribute("aria-expanded","false"),n.hide())},e}(En);(function(t){var e=function(i){De(r,i);function r(){var n=i.call(this)||this;return n.titleClassName="lm-AccordionPanel-title",n._titleID=0,n._titleKeys=new WeakMap,n._uuid=++r._nInstance,n}return r.prototype.createCollapseIcon=function(n){return document.createElement("span")},r.prototype.createSectionTitle=function(n){var s=document.createElement("h3");s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.id=this.createTitleKey(n),s.className=this.titleClassName;for(var o in n.dataset)s.dataset[o]=n.dataset[o];var a=s.appendChild(this.createCollapseIcon(n));a.className="lm-AccordionPanel-titleCollapser";var l=s.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=n.label,l.title=n.caption||n.label,s},r.prototype.createTitleKey=function(n){var s=this._titleKeys.get(n);return s===void 0&&(s="title-key-"+this._uuid+"-"+this._titleID++,this._titleKeys.set(n,s)),s},r._nInstance=0,r}(En.Renderer);t.Renderer=e,t.defaultRenderer=new e})(_m||(_m={}));var Sm;(function(t){function e(i){return i.layout||new b2({renderer:i.renderer||_m.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(Sm||(Sm={}));var vi=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this)||this;return r._fixed=0,r._spacing=4,r._dirty=!1,r._sizers=[],r._items=[],r._box=null,r._alignment="start",r._direction="top-to-bottom",i.direction!==void 0&&(r._direction=i.direction),i.alignment!==void 0&&(r._alignment=i.alignment),i.spacing!==void 0&&(r._spacing=_a.clampDimension(i.spacing)),r}return e.prototype.dispose=function(){J(this._items,function(i){i.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(i){this._direction!==i&&(this._direction=i,this.parent&&(this.parent.dataset.direction=i,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(i){this._alignment!==i&&(this._alignment=i,this.parent&&(this.parent.dataset.alignment=i,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(i){i=_a.clampDimension(i),this._spacing!==i&&(this._spacing=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(i,r){L.insert(this._items,i,new Sa(r)),L.insert(this._sizers,i,new Zr),this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(i,r,n){L.move(this._items,i,r),L.move(this._sizers,i,r),this.parent.update()},e.prototype.detachWidget=function(i,r){var n=L.removeAt(this._items,i);L.removeAt(this._sizers,i),this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(i){t.prototype.onBeforeShow.call(this,i),this.parent.update()},e.prototype.onBeforeAttach=function(i){t.prototype.onBeforeAttach.call(this,i),this.parent.fit()},e.prototype.onChildShown=function(i){this.parent.fit()},e.prototype.onChildHidden=function(i){this.parent.fit()},e.prototype.onResize=function(i){this.parent.isVisible&&this._update(i.width,i.height)},e.prototype.onUpdateRequest=function(i){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(i){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var i=0,r=0,n=this._items.length;r<n;++r)i+=+!this._items[r].isHidden;this._fixed=this._spacing*Math.max(0,i-1);for(var s=Pn.isHorizontal(this._direction),o=s?this._fixed:0,a=s?0:this._fixed,r=0,n=this._items.length;r<n;++r){var l=this._items[r],u=this._sizers[r];if(l.isHidden){u.minSize=0,u.maxSize=0;continue}l.fit(),u.sizeHint=e.getSizeBasis(l.widget),u.stretch=e.getStretch(l.widget),s?(u.minSize=l.minWidth,u.maxSize=l.maxWidth,o+=l.minWidth,a=Math.max(a,l.minHeight)):(u.minSize=l.minHeight,u.maxSize=l.maxHeight,a+=l.minHeight,o=Math.max(o,l.minWidth))}var c=this._box=ge.boxSizing(this.parent.node);o+=c.horizontalSum,a+=c.verticalSum;var h=this.parent.node.style;h.minWidth=o+"px",h.minHeight=a+"px",this._dirty=!0,this.parent.parent&&V.sendMessage(this.parent.parent,N.Msg.FitRequest),this._dirty&&V.sendMessage(this.parent,N.Msg.UpdateRequest)},e.prototype._update=function(i,r){this._dirty=!1;for(var n=0,s=0,o=this._items.length;s<o;++s)n+=+!this._items[s].isHidden;if(n!==0){i<0&&(i=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=ge.boxSizing(this.parent.node));var a=this._box.paddingTop,l=this._box.paddingLeft,u=i-this._box.horizontalSum,c=r-this._box.verticalSum,h;switch(this._direction){case"left-to-right":h=Yt.calc(this._sizers,Math.max(0,u-this._fixed));break;case"top-to-bottom":h=Yt.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":h=Yt.calc(this._sizers,Math.max(0,u-this._fixed)),l+=u;break;case"bottom-to-top":h=Yt.calc(this._sizers,Math.max(0,c-this._fixed)),a+=c;break;default:throw"unreachable"}var f=0,d=0;if(h>0)switch(this._alignment){case"start":break;case"center":f=0,d=h/2;break;case"end":f=0,d=h;break;case"justify":f=h/n,d=0;break;default:throw"unreachable"}for(var s=0,o=this._items.length;s<o;++s){var p=this._items[s];if(!p.isHidden){var m=this._sizers[s].size;switch(this._direction){case"left-to-right":p.update(l+d,a,m+f,c),l+=m+f+this._spacing;break;case"top-to-bottom":p.update(l,a+d,u,m+f),a+=m+f+this._spacing;break;case"right-to-left":p.update(l-d-m-f,a,m+f,c),l-=m+f+this._spacing;break;case"bottom-to-top":p.update(l,a-d-m-f,u,m+f),a-=m+f+this._spacing;break;default:throw"unreachable"}}}}},e}(dc);(function(t){function e(s){return Pn.stretchProperty.get(s)}t.getStretch=e;function i(s,o){Pn.stretchProperty.set(s,o)}t.setStretch=i;function r(s){return Pn.sizeBasisProperty.get(s)}t.getSizeBasis=r;function n(s,o){Pn.sizeBasisProperty.set(s,o)}t.setSizeBasis=n})(vi||(vi={}));var Pn;(function(t){t.stretchProperty=new yt({name:"stretch",create:function(){return 0},coerce:function(n,s){return Math.max(0,Math.floor(s))},changed:r}),t.sizeBasisProperty=new yt({name:"sizeBasis",create:function(){return 0},coerce:function(n,s){return Math.max(0,Math.floor(s))},changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}t.isHorizontal=e;function i(n){return Math.max(0,Math.floor(n))}t.clampSpacing=i;function r(n){n.parent&&n.parent.layout instanceof vi&&n.parent.fit()}})(Pn||(Pn={}));var Pw=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{layout:km.createLayout(i)})||this;return r.addClass("lm-BoxPanel"),r.addClass("p-BoxPanel"),r}return Object.defineProperty(e.prototype,"direction",{get:function(){return this.layout.direction},set:function(i){this.layout.direction=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(i){this.layout.alignment=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(i){this.layout.spacing=i},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(i){i.child.addClass("lm-BoxPanel-child"),i.child.addClass("p-BoxPanel-child")},e.prototype.onChildRemoved=function(i){i.child.removeClass("lm-BoxPanel-child"),i.child.removeClass("p-BoxPanel-child")},e}(Tm);(function(t){function e(s){return vi.getStretch(s)}t.getStretch=e;function i(s,o){vi.setStretch(s,o)}t.setStretch=i;function r(s){return vi.getSizeBasis(s)}t.getSizeBasis=r;function n(s,o){vi.setSizeBasis(s,o)}t.setSizeBasis=n})(Pw||(Pw={}));var km;(function(t){function e(i){return i.layout||new vi(i)}t.createLayout=e})(km||(km={}));var Cw=function(t){De(e,t);function e(i){var r=t.call(this,{node:sr.createNode()})||this;return r._activeIndex=-1,r._items=[],r._results=null,r.addClass("lm-CommandPalette"),r.addClass("p-CommandPalette"),r.setFlag(N.Flag.DisallowLayout),r.commands=i.commands,r.renderer=i.renderer||e.defaultRenderer,r.commands.commandChanged.connect(r._onGenericChange,r),r.commands.keyBindingChanged.connect(r._onGenericChange,r),r}return e.prototype.dispose=function(){this._items.length=0,this._results=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.addItem=function(i){var r=sr.createItem(this.commands,i);return this._items.push(r),this.refresh(),r},e.prototype.addItems=function(i){var r=this,n=i.map(function(s){return sr.createItem(r.commands,s)});return n.forEach(function(s){return r._items.push(s)}),this.refresh(),n},e.prototype.removeItem=function(i){this.removeItemAt(this._items.indexOf(i))},e.prototype.removeItemAt=function(i){var r=L.removeAt(this._items,i);r&&this.refresh()},e.prototype.clearItems=function(){this._items.length!==0&&(this._items.length=0,this.refresh())},e.prototype.refresh=function(){if(this._results=null,this.inputNode.value!==""){var i=this.node.getElementsByClassName("lm-close-icon")[0];i.style.display="inherit"}else{var i=this.node.getElementsByClassName("lm-close-icon")[0];i.style.display="none"}this.update()},e.prototype.handleEvent=function(i){switch(i.type){case"click":this._evtClick(i);break;case"keydown":this._evtKeyDown(i);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},e.prototype.onActivateRequest=function(i){if(this.isAttached){var r=this.inputNode;r.focus(),r.select()}},e.prototype.onUpdateRequest=function(i){var r=this.inputNode.value,n=this.contentNode,s=this._results;if(s||(s=this._results=sr.search(this._items,r),this._activeIndex=r?L.findFirstIndex(s,sr.canActivate):-1),!r&&s.length===0){nr.render(null,n);return}if(r&&s.length===0){var o=this.renderer.renderEmptyMessage({query:r});nr.render(o,n);return}for(var a=this.renderer,l=this._activeIndex,u=new Array(s.length),c=0,h=s.length;c<h;++c){var f=s[c];if(f.type==="header"){var d=f.indices,p=f.category;u[c]=a.renderHeader({category:p,indices:d})}else{var m=f.item,d=f.indices,g=c===l;u[c]=a.renderItem({item:m,indices:d,active:g})}}if(nr.render(u,n),l<0||l>=s.length)n.scrollTop=0;else{var O=n.children[l];ge.scrollIntoViewIfNeeded(n,O)}},e.prototype._evtClick=function(i){if(i.button===0){if(i.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}var r=L.findFirstIndex(this.contentNode.children,function(n){return n.contains(i.target)});r!==-1&&(i.preventDefault(),i.stopPropagation(),this._execute(r))}},e.prototype._evtKeyDown=function(i){if(!(i.altKey||i.ctrlKey||i.metaKey||i.shiftKey))switch(i.keyCode){case 13:i.preventDefault(),i.stopPropagation(),this._execute(this._activeIndex);break;case 38:i.preventDefault(),i.stopPropagation(),this._activatePreviousItem();break;case 40:i.preventDefault(),i.stopPropagation(),this._activateNextItem();break}},e.prototype._activateNextItem=function(){if(!(!this._results||this._results.length===0)){var i=this._activeIndex,r=this._results.length,n=i<r-1?i+1:0,s=n===0?r-1:n-1;this._activeIndex=L.findFirstIndex(this._results,sr.canActivate,n,s),this.update()}},e.prototype._activatePreviousItem=function(){if(!(!this._results||this._results.length===0)){var i=this._activeIndex,r=this._results.length,n=i<=0?r-1:i-1,s=n===r-1?0:n+1;this._activeIndex=L.findLastIndex(this._results,sr.canActivate,n,s),this.update()}},e.prototype._execute=function(i){if(this._results){var r=this._results[i];if(r){if(r.type==="header"){var n=this.inputNode;n.value=r.category.toLowerCase()+" ",n.focus(),this.refresh();return}r.item.isEnabled&&(this.commands.execute(r.item.command,r.item.args),this.inputNode.value="",this.refresh())}}},e.prototype._toggleFocused=function(){var i=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",i),this.toggleClass("p-mod-focused",i)},e.prototype._onGenericChange=function(){this.refresh()},e}(N);(function(t){var e=function(){function i(){}return i.prototype.renderHeader=function(r){var n=this.formatHeader(r);return de.li({className:"lm-CommandPalette-header p-CommandPalette-header"},n)},i.prototype.renderItem=function(r){var n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?de.li({className:n,dataset:s,role:"checkbox","aria-checked":""+r.item.isToggled},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):de.li({className:n,dataset:s},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))},i.prototype.renderEmptyMessage=function(r){var n=this.formatEmptyMessage(r);return de.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},n)},i.prototype.renderItemIcon=function(r){var n=this.createIconClass(r);return typeof r.item.icon=="string"?de.div({className:n},r.item.iconLabel):de.div({className:n},r.item.icon,r.item.iconLabel)},i.prototype.renderItemContent=function(r){return de.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))},i.prototype.renderItemLabel=function(r){var n=this.formatItemLabel(r);return de.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},n)},i.prototype.renderItemCaption=function(r){var n=this.formatItemCaption(r);return de.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},n)},i.prototype.renderItemShortcut=function(r){var n=this.formatItemShortcut(r);return de.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},n)},i.prototype.createItemClass=function(r){var n="lm-CommandPalette-item";n+=" p-CommandPalette-item",r.item.isEnabled||(n+=" lm-mod-disabled",n+=" p-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled",n+=" p-mod-toggled"),r.active&&(n+=" lm-mod-active",n+=" p-mod-active");var s=r.item.className;return s&&(n+=" "+s),n},i.prototype.createItemDataset=function(r){return et(et({},r.item.dataset),{command:r.item.command})},i.prototype.createIconClass=function(r){var n="lm-CommandPalette-itemIcon";n+=" p-CommandPalette-itemIcon";var s=r.item.iconClass;return s?n+" "+s:n},i.prototype.formatHeader=function(r){return!r.indices||r.indices.length===0?r.category:$s.highlight(r.category,r.indices,de.mark)},i.prototype.formatEmptyMessage=function(r){return"No commands found that match '"+r.query+"'"},i.prototype.formatItemShortcut=function(r){var n=r.item.keyBinding;return n?Ls.formatKeystroke(n.keys):null},i.prototype.formatItemLabel=function(r){return!r.indices||r.indices.length===0?r.item.label:$s.highlight(r.item.label,r.indices,de.mark)},i.prototype.formatItemCaption=function(r){return r.item.caption},i}();t.Renderer=e,t.defaultRenderer=new e})(Cw||(Cw={}));var sr;(function(t){function e(){var f=document.createElement("div"),d=document.createElement("div"),p=document.createElement("div"),m=document.createElement("input"),g=document.createElement("ul"),O=document.createElement("button");return d.className="lm-CommandPalette-search",p.className="lm-CommandPalette-wrapper",m.className="lm-CommandPalette-input",O.className="lm-close-icon",g.className="lm-CommandPalette-content",d.classList.add("p-CommandPalette-search"),p.classList.add("p-CommandPalette-wrapper"),m.classList.add("p-CommandPalette-input"),g.classList.add("p-CommandPalette-content"),m.spellcheck=!1,p.appendChild(m),p.appendChild(O),d.appendChild(p),f.appendChild(d),f.appendChild(g),f}t.createNode=e;function i(f,d){return new h(f,d)}t.createItem=i;function r(f,d){var p=a(f,d);return p.sort(u),c(p)}t.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,d){d=o(d);for(var p=[],m=0,g=f.length;m<g;++m){var O=f[m];if(O.isVisible){if(!d){p.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:O});continue}var y=l(O,d);y&&(O.isEnabled||(y.score+=1e3),p.push(y))}}return p}function l(f,d){for(var p=f.category.toLowerCase(),m=f.label.toLowerCase(),g=p+" "+m,O=1/0,y=null,v=/\b\w/g;;){var k=v.exec(g);if(!k)break;var C=$s.matchSumOfDeltas(g,d,k.index);if(!C)break;C&&C.score<=O&&(O=C.score,y=C.indices)}if(!y||O===1/0)return null;for(var A=p.length+1,P=L.lowerBound(y,A,function(R,w){return R-w}),Q=y.slice(0,P),S=y.slice(P),_=0,E=S.length;_<E;++_)S[_]-=A;return Q.length===0?{matchType:0,categoryIndices:null,labelIndices:S,score:O,item:f}:S.length===0?{matchType:1,categoryIndices:Q,labelIndices:null,score:O,item:f}:{matchType:2,categoryIndices:Q,labelIndices:S,score:O,item:f}}function u(f,d){var p=f.matchType-d.matchType;if(p!==0)return p;var m=f.score-d.score;if(m!==0)return m;var g=0,O=0;switch(f.matchType){case 0:g=f.labelIndices[0],O=d.labelIndices[0];break;case 1:case 2:g=f.categoryIndices[0],O=d.categoryIndices[0];break}if(g!==O)return g-O;var y=f.item.category.localeCompare(d.item.category);if(y!==0)return y;var v=f.item.rank,k=d.item.rank;return v!==k?v<k?-1:1:f.item.label.localeCompare(d.item.label)}function c(f){var d=new Array(f.length);L.fill(d,!1);for(var p=[],m=0,g=f.length;m<g;++m)if(!d[m]){var O=f[m],y=O.item,v=O.categoryIndices,k=y.category;p.push({type:"header",category:k,indices:v});for(var C=m;C<g;++C)if(!d[C]){var A=f[C],P=A.item,Q=A.labelIndices;P.category===k&&(p.push({type:"item",item:P,indices:Q}),d[C]=!0)}}return p}var h=function(){function f(d,p){this._commands=d,this.category=s(p.category),this.command=p.command,this.args=p.args||Cn.JSONExt.emptyObject,this.rank=p.rank!==void 0?p.rank:1/0}return Object.defineProperty(f.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"keyBinding",{get:function(){var d=this,p=d.command,m=d.args;return L.findLastValue(this._commands.keyBindings,function(g){return g.command===p&&Cn.JSONExt.deepEqual(g.args,m)})||null},enumerable:!0,configurable:!0}),f}()})(sr||(sr={}));var zs=function(t){De(e,t);function e(i){var r=t.call(this,{node:xt.createNode()})||this;return r._childIndex=-1,r._activeIndex=-1,r._openTimerID=0,r._closeTimerID=0,r._items=[],r._childMenu=null,r._parentMenu=null,r._aboutToClose=new le(r),r._menuRequested=new le(r),r.addClass("lm-Menu"),r.addClass("p-Menu"),r.setFlag(N.Flag.DisallowLayout),r.commands=i.commands,r.renderer=i.renderer||e.defaultRenderer,r}return e.prototype.dispose=function(){this.close(),this._items.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootMenu",{get:function(){for(var i=this;i._parentMenu;)i=i._parentMenu;return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leafMenu",{get:function(){for(var i=this;i._childMenu;)i=i._childMenu;return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(i){this.activeIndex=i?this._items.indexOf(i):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(i){(i<0||i>=this._items.length)&&(i=-1),i!==-1&&!xt.canActivate(this._items[i])&&(i=-1),this._activeIndex!==i&&(this._activeIndex=i,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.activateNextItem=function(){var i=this._items.length,r=this._activeIndex,n=r<i-1?r+1:0,s=n===0?i-1:n-1;this.activeIndex=L.findFirstIndex(this._items,xt.canActivate,n,s)},e.prototype.activatePreviousItem=function(){var i=this._items.length,r=this._activeIndex,n=r<=0?i-1:r-1,s=n===i-1?0:n+1;this.activeIndex=L.findLastIndex(this._items,xt.canActivate,n,s)},e.prototype.triggerActiveItem=function(){if(this.isAttached){var i=this.activeItem;if(i){if(this._cancelOpenTimer(),this._cancelCloseTimer(),i.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();var r=i.command,n=i.args;this.commands.isEnabled(r,n)?this.commands.execute(r,n):console.log("Command '"+r+"' is disabled.")}}},e.prototype.addItem=function(i){return this.insertItem(this._items.length,i)},e.prototype.insertItem=function(i,r){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(i,this._items.length)),s=xt.createItem(this,r);return L.insert(this._items,n,s),this.update(),s},e.prototype.removeItem=function(i){this.removeItemAt(this._items.indexOf(i))},e.prototype.removeItemAt=function(i){this.isAttached&&this.close(),this.activeIndex=-1;var r=L.removeAt(this._items,i);r&&this.update()},e.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())},e.prototype.open=function(i,r,n){if(n===void 0&&(n={}),!this.isAttached){var s=n.forceX||!1,o=n.forceY||!1;xt.openRootMenu(this,i,r,s,o),this.activate()}},e.prototype.handleEvent=function(i){switch(i.type){case"keydown":this._evtKeyDown(i);break;case"mouseup":this._evtMouseUp(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseenter":this._evtMouseEnter(i);break;case"mouseleave":this._evtMouseLeave(i);break;case"mousedown":this._evtMouseDown(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},e.prototype.onActivateRequest=function(i){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(i){for(var r=this,n=this._items,s=this.renderer,o=this._activeIndex,a=xt.computeCollapsed(n),l=new Array(n.length),u=function(f,d){var p=n[f],m=f===o,g=a[f];l[f]=s.renderItem({item:p,active:m,collapsed:g,onfocus:function(){r.activeIndex=f}})},c=0,h=n.length;c<h;++c)u(c);nr.render(l,this.contentNode)},e.prototype.onCloseRequest=function(i){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var r=this._childMenu;r&&(this._childIndex=-1,this._childMenu=null,r._parentMenu=null,r.close());var n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),t.prototype.onCloseRequest.call(this,i)},e.prototype._evtKeyDown=function(i){i.preventDefault(),i.stopPropagation();var r=i.keyCode;if(r===13){this.triggerActiveItem();return}if(r===27){this.close();return}if(r===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(r===38){this.activatePreviousItem();return}if(r===39){var n=this.activeItem;n&&n.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(r===40){this.activateNextItem();return}var s=Ds().keyForKeydownEvent(i);if(s){var o=this._activeIndex+1,a=xt.findMnemonic(this._items,s,o);a.index!==-1&&!a.multiple?(this.activeIndex=a.index,this.triggerActiveItem()):a.index!==-1?this.activeIndex=a.index:a.auto!==-1&&(this.activeIndex=a.auto)}},e.prototype._evtMouseUp=function(i){i.button===0&&(i.preventDefault(),i.stopPropagation(),this.triggerActiveItem())},e.prototype._evtMouseMove=function(i){var r=L.findFirstIndex(this.contentNode.children,function(s){return ge.hitTest(s,i.clientX,i.clientY)});if(r!==this._activeIndex){if(this.activeIndex=r,r=this.activeIndex,r===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;!n||n.type!=="submenu"||!n.submenu||this._startOpenTimer()}},e.prototype._evtMouseEnter=function(i){for(var r=this._parentMenu;r;r=r._parentMenu)r._cancelOpenTimer(),r._cancelCloseTimer(),r.activeIndex=r._childIndex},e.prototype._evtMouseLeave=function(i){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}var r=i.clientX,n=i.clientY;if(ge.hitTest(this._childMenu.node,r,n)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()},e.prototype._evtMouseDown=function(i){this._parentMenu||(xt.hitTestMenus(this,i.clientX,i.clientY)?(i.preventDefault(),i.stopPropagation()):this.close())},e.prototype._openChildMenu=function(i){i===void 0&&(i=!1);var r=this.activeItem;if(!r||r.type!=="submenu"||!r.submenu){this._closeChildMenu();return}var n=r.submenu;if(n!==this._childMenu){e.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,V.sendMessage(this,N.Msg.UpdateRequest);var s=this.contentNode.children[this._activeIndex];xt.openSubmenu(n,s),i&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}},e.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},e.prototype._startOpenTimer=function(){var i=this;this._openTimerID===0&&(this._openTimerID=window.setTimeout(function(){i._openTimerID=0,i._openChildMenu()},xt.TIMER_DELAY))},e.prototype._startCloseTimer=function(){var i=this;this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(function(){i._closeTimerID=0,i._closeChildMenu()},xt.TIMER_DELAY))},e.prototype._cancelOpenTimer=function(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)},e.prototype._cancelCloseTimer=function(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},e.saveWindowData=function(){xt.saveWindowData()},e}(N);(function(t){var e=function(){function i(){}return i.prototype.renderItem=function(r){var n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return de.li(et({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus},o),this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))},i.prototype.renderIcon=function(r){var n=this.createIconClass(r);return typeof r.item.icon=="string"?de.div({className:n},r.item.iconLabel):de.div({className:n},r.item.icon,r.item.iconLabel)},i.prototype.renderLabel=function(r){var n=this.formatLabel(r);return de.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},n)},i.prototype.renderShortcut=function(r){var n=this.formatShortcut(r);return de.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},n)},i.prototype.renderSubmenu=function(r){return de.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},i.prototype.createItemClass=function(r){var n="lm-Menu-item";n+=" p-Menu-item",r.item.isEnabled||(n+=" lm-mod-disabled",n+=" p-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled",n+=" p-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden",n+=" p-mod-hidden"),r.active&&(n+=" lm-mod-active",n+=" p-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed",n+=" p-mod-collapsed");var s=r.item.className;return s&&(n+=" "+s),n},i.prototype.createItemDataset=function(r){var n,s=r.item,o=s.type,a=s.command,l=s.dataset;return o==="command"?n=et(et({},l),{type:o,command:a}):n=et(et({},l),{type:o}),n},i.prototype.createIconClass=function(r){var n="lm-Menu-itemIcon";n+=" p-Menu-itemIcon";var s=r.item.iconClass;return s?n+" "+s:n},i.prototype.createItemARIA=function(r){var n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),n.role="menuitem"}return n},i.prototype.formatLabel=function(r){var n=r.item,s=n.label,o=n.mnemonic;if(o<0||o>=s.length)return s;var a=s.slice(0,o),l=s.slice(o+1),u=s[o],c=de.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},u);return[a,c,l]},i.prototype.formatShortcut=function(r){var n=r.item.keyBinding;return n?Ls.formatKeystroke(n.keys):null},i}();t.Renderer=e,t.defaultRenderer=new e})(zs||(zs={}));var xt;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;var e=null,i=0;function r(){return i>0?(i--,e):c()}function n(){e=c(),i++}t.saveWindowData=n;function s(){var m=document.createElement("div"),g=document.createElement("ul");return g.className="lm-Menu-content",g.classList.add("p-Menu-content"),m.appendChild(g),g.setAttribute("role","menu"),m.tabIndex=0,m}t.createNode=s;function o(m){return m.type!=="separator"&&m.isEnabled&&m.isVisible}t.canActivate=o;function a(m,g){return new p(m.commands,g)}t.createItem=a;function l(m,g,O){for(var y=m;y;y=y.childMenu)if(ge.hitTest(y.node,g,O))return!0;return!1}t.hitTestMenus=l;function u(m){var g=new Array(m.length);L.fill(g,!1);for(var O=0,y=m.length;O<y;++O){var v=m[O];if(v.isVisible){if(v.type!=="separator")break;g[O]=!0}}for(var k=y-1;k>=0;--k){var v=m[k];if(v.isVisible){if(v.type!=="separator")break;g[k]=!0}}for(var C=!1;++O<k;){var v=m[O];v.isVisible&&(v.type!=="separator"?C=!1:C?g[O]=!0:C=!0)}return g}t.computeCollapsed=u;function c(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function h(m,g,O,y,v){var k=r(),C=k.pageXOffset,A=k.pageYOffset,P=k.clientWidth,Q=k.clientHeight;V.sendMessage(m,N.Msg.UpdateRequest);var S=Q-(v?O:0),_=m.node,E=_.style;E.opacity="0",E.maxHeight=S+"px",N.attach(m,document.body);var R=_.getBoundingClientRect(),w=R.width,x=R.height;!y&&g+w>C+P&&(g=C+P-w),!v&&O+x>A+Q&&(O>A+Q?O=A+Q-x:O=O-x),E.transform="translate("+Math.max(0,g)+"px, "+Math.max(0,O)+"px",E.opacity="1"}t.openRootMenu=h;function f(m,g){var O=r(),y=O.pageXOffset,v=O.pageYOffset,k=O.clientWidth,C=O.clientHeight;V.sendMessage(m,N.Msg.UpdateRequest);var A=C,P=m.node,Q=P.style;Q.opacity="0",Q.maxHeight=A+"px",N.attach(m,document.body);var S=P.getBoundingClientRect(),_=S.width,E=S.height,R=ge.boxSizing(m.node),w=g.getBoundingClientRect(),x=w.right-t.SUBMENU_OVERLAP;x+_>y+k&&(x=w.left+t.SUBMENU_OVERLAP-_);var M=w.top-R.borderTop-R.paddingTop;M+E>v+C&&(M=w.bottom+R.borderBottom+R.paddingBottom-E),Q.transform="translate("+Math.max(0,x)+"px, "+Math.max(0,M)+"px",Q.opacity="1"}t.openSubmenu=f;function d(m,g,O){for(var y=-1,v=-1,k=!1,C=g.toUpperCase(),A=0,P=m.length;A<P;++A){var Q=(A+O)%P,S=m[Q];if(o(S)){var _=S.label;if(_.length!==0){var E=S.mnemonic;if(E>=0&&E<_.length){_[E].toUpperCase()===C&&(y===-1?y=Q:k=!0);continue}v===-1&&_[0].toUpperCase()===C&&(v=Q)}}}return{index:y,multiple:k,auto:v}}t.findMnemonic=d;var p=function(){function m(g,O){this._commands=g,this.type=O.type||"command",this.command=O.command||"",this.args=O.args||Cn.JSONExt.emptyObject,this.submenu=O.submenu||null}return Object.defineProperty(m.prototype,"label",{get:function(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"mnemonic",{get:function(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"icon",{get:function(){return this.type==="command"?this._commands.icon(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"iconClass",{get:function(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"iconLabel",{get:function(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"caption",{get:function(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"className",{get:function(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"dataset",{get:function(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isEnabled",{get:function(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isToggled",{get:function(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isVisible",{get:function(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"keyBinding",{get:function(){if(this.type==="command"){var g=this,O=g.command,y=g.args;return L.findLastValue(this._commands.keyBindings,function(v){return v.command===O&&Cn.JSONExt.deepEqual(v.args,y)})||null}return null},enumerable:!0,configurable:!0}),m}()})(xt||(xt={}));var OZ=function(){function t(e){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var i=e.groupByTarget,r=e.sortBySelector,n=g2(e,["groupByTarget","sortBySelector"]);this.menu=new zs(n),this._groupByTarget=i!==!1,this._sortBySelector=r!==!1}return t.prototype.addItem=function(e){var i=this,r=uc.createItem(e,this._idTick++);return this._items.push(r),new zr(function(){L.removeFirstOf(i._items,r)})},t.prototype.open=function(e){var i=this;if(zs.saveWindowData(),this.menu.clearItems(),this._items.length===0)return!1;var r=uc.matchItems(this._items,e,this._groupByTarget,this._sortBySelector);return!r||r.length===0?!1:(J(r,function(n){i.menu.addItem(n)}),this.menu.open(e.clientX,e.clientY),!0)},t}(),uc;(function(t){function e(o,a){var l=r(o.selector),u=o.rank!==void 0?o.rank:1/0;return et(et({},o),{selector:l,rank:u,id:a})}t.createItem=e;function i(o,a,l,u){var c=a.target;if(!c)return null;var h=a.currentTarget;if(!h||!h.contains(c)&&(c=document.elementFromPoint(a.clientX,a.clientY),!c||!h.contains(c)))return null;for(var f=[],d=o.slice();c!==null;){for(var p=[],m=0,g=d.length;m<g;++m){var O=d[m];O&&yi.matches(c,O.selector)&&(p.push(O),d[m]=null)}if(p.length!==0&&(l&&p.sort(u?s:n),f.push.apply(f,p)),c===h)break;c=c.parentElement}return l||f.sort(u?s:n),f}t.matchItems=i;function r(o){if(o.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+o);if(!yi.isValid(o))throw new Error("Invalid selector: "+o);return o}function n(o,a){var l=o.rank,u=a.rank;return l!==u?l<u?-1:1:o.id-a.id}function s(o,a){var l=yi.calculateSpecificity(o.selector),u=yi.calculateSpecificity(a.selector);return l!==u?u-l:n(o,a)}})(uc||(uc={}));var Bs=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{node:ti.createNode()})||this;return r._currentIndex=-1,r._titles=[],r._titlesEditable=!1,r._previousTitle=null,r._dragData=null,r._addButtonEnabled=!1,r._tabMoved=new le(r),r._currentChanged=new le(r),r._addRequested=new le(r),r._tabCloseRequested=new le(r),r._tabDetachRequested=new le(r),r._tabActivateRequested=new le(r),r.addClass("lm-TabBar"),r.addClass("p-TabBar"),r.contentNode.setAttribute("role","tablist"),r.setFlag(N.Flag.DisallowLayout),r._document=i.document||document,r.tabsMovable=i.tabsMovable||!1,r.titlesEditable=i.titlesEditable||!1,r.allowDeselect=i.allowDeselect||!1,r.addButtonEnabled=i.addButtonEnabled||!1,r.insertBehavior=i.insertBehavior||"select-tab-if-needed",r.name=i.name||"",r.orientation=i.orientation||"horizontal",r.removeBehavior=i.removeBehavior||"select-tab-after",r.renderer=i.renderer||e.defaultRenderer,r}return e.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(i){this._titlesEditable=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(i){this.currentIndex=i?this._titles.indexOf(i):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(i){if((i<0||i>=this._titles.length)&&(i=-1),this._currentIndex!==i){var r=this._currentIndex,n=this._titles[r]||null,s=i,o=this._titles[s]||null;this._currentIndex=s,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:r,previousTitle:n,currentIndex:s,currentTitle:o})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(i){this._name=i,i?this.contentNode.setAttribute("aria-label",i):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(i){this._orientation!==i&&(this._releaseMouse(),this._orientation=i,this.dataset.orientation=i,this.contentNode.setAttribute("aria-orientation",i))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(i){this._addButtonEnabled!==i&&(this._addButtonEnabled=i,i?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),e.prototype.addTab=function(i){return this.insertTab(this._titles.length,i)},e.prototype.insertTab=function(i,r){this._releaseMouse();var n=ti.asTitle(r),s=this._titles.indexOf(n),o=Math.max(0,Math.min(i,this._titles.length));return s===-1?(L.insert(this._titles,o,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(o,n),n):(o===this._titles.length&&o--,s===o||(L.move(this._titles,s,o),this.update(),this._adjustCurrentForMove(s,o)),n)},e.prototype.removeTab=function(i){this.removeTabAt(this._titles.indexOf(i))},e.prototype.removeTabAt=function(i){this._releaseMouse();var r=L.removeAt(this._titles,i);r&&(r.changed.disconnect(this._onTitleChanged,this),r===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(i,r))},e.prototype.clearTabs=function(){if(this._titles.length!==0){this._releaseMouse();for(var i=0,r=this._titles;i<r.length;i++){var n=r[i];n.changed.disconnect(this._onTitleChanged,this)}var s=this.currentIndex,o=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),s!==-1&&this._currentChanged.emit({previousIndex:s,previousTitle:o,currentIndex:-1,currentTitle:null})}},e.prototype.releaseMouse=function(){this._releaseMouse()},e.prototype.handleEvent=function(i){switch(i.type){case"mousedown":this._evtMouseDown(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseup":this._evtMouseUp(i);break;case"pointerdown":this._evtMouseDown(i);break;case"pointermove":this._evtMouseMove(i);break;case"pointerup":this._evtMouseUp(i);break;case"dblclick":this._evtDblClick(i);break;case"keydown":this._evtKeyDown(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(i){for(var r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=0,l=r.length;a<l;++a){var u=r[a],c=u===s,h=c?l:l-a-1;o[a]=n.renderTab({title:u,current:c,zIndex:h})}nr.render(o,this.contentNode)},e.prototype._evtDblClick=function(i){if(this.titlesEditable){var r=this.contentNode.children,n=L.findFirstIndex(r,function(h){return ge.hitTest(h,i.clientX,i.clientY)});if(n!==-1){var s=this.titles[n],o=r[n].querySelector(".lm-TabBar-tabLabel");if(o&&o.contains(i.target)){var a=s.label||"",l=o.innerHTML;o.innerHTML="";var u=document.createElement("input");u.classList.add("lm-TabBar-tabInput"),u.value=a,o.appendChild(u);var c=function(){u.removeEventListener("blur",c),o.innerHTML=l};u.addEventListener("dblclick",function(h){return h.stopPropagation()}),u.addEventListener("blur",c),u.addEventListener("keydown",function(h){h.key==="Enter"?(u.value!==""&&(s.label=s.caption=u.value),c()):h.key==="Escape"&&c()}),u.select(),u.focus(),o.children.length>0&&o.children[0].focus()}}}},e.prototype._evtKeyDown=function(i){i.preventDefault(),i.stopPropagation(),i.keyCode===27&&this._releaseMouse()},e.prototype._evtMouseDown=function(i){if(!(i.button!==0&&i.button!==1)&&!this._dragData){var r=this.addButtonEnabled&&this.addButtonNode.contains(i.target),n=this.contentNode.children,s=L.findFirstIndex(n,function(a){return ge.hitTest(a,i.clientX,i.clientY)});if(!(s===-1&&!r)&&(i.preventDefault(),i.stopPropagation(),this._dragData={tab:n[s],index:s,pressX:i.clientX,pressY:i.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),!(i.button===1||r))){var o=n[s].querySelector(this.renderer.closeIconSelector);o&&o.contains(i.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===s?this.currentIndex=-1:this.currentIndex=s,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},e.prototype._evtMouseMove=function(i){var r=this._dragData;if(r){i.preventDefault(),i.stopPropagation();var n=this.contentNode.children;if(!(!r.dragActive&&!ti.dragExceeded(r,i))){if(!r.dragActive){var s=r.tab.getBoundingClientRect();this._orientation==="horizontal"?(r.tabPos=r.tab.offsetLeft,r.tabSize=s.width,r.tabPressPos=r.pressX-s.left):(r.tabPos=r.tab.offsetTop,r.tabSize=s.height,r.tabPressPos=r.pressY-s.top),r.tabLayout=ti.snapTabLayout(n,this._orientation),r.contentRect=this.contentNode.getBoundingClientRect(),r.override=Br.overrideCursor("default"),r.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),r.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),r.dragActive=!0}if(!r.detachRequested&&ti.detachExceeded(r,i)){r.detachRequested=!0;var o=r.index,a=i.clientX,l=i.clientY,u=n[o],c=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:c,tab:u,clientX:a,clientY:l}),r.dragAborted)return}ti.layoutTabs(n,r,i,this._orientation)}}},e.prototype._evtMouseUp=function(i){var r=this;if(!(i.button!==0&&i.button!==1)){var n=this._dragData;if(n){if(i.preventDefault(),i.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var s=this.addButtonEnabled&&this.addButtonNode.contains(i.target);if(s){this._addRequested.emit(void 0);return}var o=this.contentNode.children,a=L.findFirstIndex(o,function(h){return ge.hitTest(h,i.clientX,i.clientY)});if(a!==n.index)return;var l=this._titles[a];if(!l.closable)return;if(i.button===1){this._tabCloseRequested.emit({index:a,title:l});return}var u=o[a].querySelector(this.renderer.closeIconSelector);if(u&&u.contains(i.target)){this._tabCloseRequested.emit({index:a,title:l});return}return}if(i.button===0){ti.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging");var c=ti.parseTransitionDuration(n.tab);setTimeout(function(){if(!n.dragAborted){r._dragData=null,ti.resetTabPositions(r.contentNode.children,r._orientation),n.override.dispose(),r.removeClass("lm-mod-dragging"),r.removeClass("p-mod-dragging");var h=n.index,f=n.targetIndex;f===-1||h===f||(L.move(r._titles,h,f),r._adjustCurrentForMove(h,f),r._tabMoved.emit({fromIndex:h,toIndex:f,title:r._titles[f]}),V.sendMessage(r,N.Msg.UpdateRequest))}},c)}}}},e.prototype._releaseMouse=function(){var i=this._dragData;i&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),i.dragAborted=!0,i.dragActive&&(ti.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),i.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),i.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},e.prototype._adjustCurrentForInsert=function(i,r){var n=this.currentTitle,s=this._currentIndex,o=this.insertBehavior;if(o==="select-tab"||o==="select-tab-if-needed"&&s===-1){this._currentIndex=i,this._previousTitle=n,this._currentChanged.emit({previousIndex:s,previousTitle:n,currentIndex:i,currentTitle:r});return}s>=i&&this._currentIndex++},e.prototype._adjustCurrentForMove=function(i,r){this._currentIndex===i?this._currentIndex=r:this._currentIndex<i&&this._currentIndex>=r?this._currentIndex++:this._currentIndex>i&&this._currentIndex<=r&&this._currentIndex--},e.prototype._adjustCurrentForRemove=function(i,r){var n=this._currentIndex,s=this.removeBehavior;if(n!==i){n>i&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:-1,currentTitle:null});return}if(s==="select-tab-after"){this._currentIndex=Math.min(i,this._titles.length-1),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(s==="select-tab-before"){this._currentIndex=Math.max(0,i-1),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(s==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(i,this._titles.length-1),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:-1,currentTitle:null})},e.prototype._onTitleChanged=function(i){this.update()},e}(N);(function(t){var e=function(){function i(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++i._nInstance}return i.prototype.renderTab=function(r){var n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),u=this.createTabDataset(r),c=this.createTabARIA(r);return r.title.closable?de.li(et({id:o,key:s,className:l,title:n,style:a,dataset:u},c),this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):de.li(et({id:o,key:s,className:l,title:n,style:a,dataset:u},c),this.renderIcon(r),this.renderLabel(r))},i.prototype.renderIcon=function(r){var n=r.title,s=this.createIconClass(r);return typeof n.icon=="string"?de.div({className:s},n.iconLabel):de.div({className:s},n.icon,n.iconLabel)},i.prototype.renderLabel=function(r){return de.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},r.title.label)},i.prototype.renderCloseIcon=function(r){return de.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},i.prototype.createTabKey=function(r){var n=this._tabKeys.get(r.title);return n===void 0&&(n="tab-key-"+this._uuid+"-"+this._tabID++,this._tabKeys.set(r.title,n)),n},i.prototype.createTabStyle=function(r){return{zIndex:""+r.zIndex}},i.prototype.createTabClass=function(r){var n="lm-TabBar-tab";return n+=" p-TabBar-tab",r.title.className&&(n+=" "+r.title.className),r.title.closable&&(n+=" lm-mod-closable",n+=" p-mod-closable"),r.current&&(n+=" lm-mod-current",n+=" p-mod-current"),n},i.prototype.createTabDataset=function(r){return r.title.dataset},i.prototype.createTabARIA=function(r){return{role:"tab","aria-selected":r.current.toString()}},i.prototype.createIconClass=function(r){var n="lm-TabBar-tabIcon";n+=" p-TabBar-tabIcon";var s=r.title.iconClass;return s?n+" "+s:n},i._nInstance=0,i}();t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(Bs||(Bs={}));var ti;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){var c=document.createElement("div"),h=document.createElement("ul");h.setAttribute("role","tablist"),h.className="lm-TabBar-content",h.classList.add("p-TabBar-content"),c.appendChild(h);var f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",c.appendChild(f),c}t.createNode=e;function i(c){return c instanceof vm?c:new vm(c)}t.asTitle=i;function r(c){var h=window.getComputedStyle(c);return 1e3*(parseFloat(h.transitionDuration)||0)}t.parseTransitionDuration=r;function n(c,h){for(var f=new Array(c.length),d=0,p=c.length;d<p;++d){var m=c[d],g=window.getComputedStyle(m);h==="horizontal"?f[d]={pos:m.offsetLeft,size:m.offsetWidth,margin:parseFloat(g.marginLeft)||0}:f[d]={pos:m.offsetTop,size:m.offsetHeight,margin:parseFloat(g.marginTop)||0}}return f}t.snapTabLayout=n;function s(c,h){var f=Math.abs(h.clientX-c.pressX),d=Math.abs(h.clientY-c.pressY);return f>=t.DRAG_THRESHOLD||d>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(c,h){var f=c.contentRect;return h.clientX<f.left-t.DETACH_THRESHOLD||h.clientX>=f.right+t.DETACH_THRESHOLD||h.clientY<f.top-t.DETACH_THRESHOLD||h.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(c,h,f,d){var p,m,g,O;d==="horizontal"?(p=h.pressX,m=f.clientX-h.contentRect.left,g=f.clientX,O=h.contentRect.width):(p=h.pressY,m=f.clientY-h.contentRect.top,g=f.clientY,O=h.contentRect.height);for(var y=h.index,v=m-h.tabPressPos,k=v+h.tabSize,C=0,A=c.length;C<A;++C){var P=void 0,Q=h.tabLayout[C],S=Q.pos+(Q.size>>1);if(C<h.index&&v<S)P=h.tabSize+h.tabLayout[C+1].margin+"px",y=Math.min(y,C);else if(C>h.index&&k>S)P=-h.tabSize-Q.margin+"px",y=Math.max(y,C);else if(C===h.index){var _=g-p,E=O-(h.tabPos+h.tabSize);P=Math.max(-h.tabPos,Math.min(_,E))+"px"}else P="";d==="horizontal"?c[C].style.left=P:c[C].style.top=P}h.targetIndex=y}t.layoutTabs=a;function l(c,h){var f;h==="horizontal"?f=c.contentRect.width:f=c.contentRect.height;var d;if(c.targetIndex===c.index)d=0;else if(c.targetIndex>c.index){var p=c.tabLayout[c.targetIndex];d=p.pos+p.size-c.tabSize-c.tabPos}else{var p=c.tabLayout[c.targetIndex];d=p.pos-c.tabPos}var m=f-(c.tabPos+c.tabSize),g=Math.max(-c.tabPos,Math.min(d,m));h==="horizontal"?c.tab.style.left=g+"px":c.tab.style.top=g+"px"}t.finalizeTabPosition=l;function u(c,h){J(c,function(f){h==="horizontal"?f.style.left="":f.style.top=""})}t.resetTabPositions=u})(ti||(ti={}));var y2=function(t){De(e,t);function e(i){var r=t.call(this)||this;return r._spacing=4,r._dirty=!1,r._root=null,r._box=null,r._items=new Map,r.renderer=i.renderer,i.spacing!==void 0&&(r._spacing=_a.clampDimension(i.spacing)),r._document=i.document||document,r._hiddenMode=i.hiddenMode!==void 0?i.hiddenMode:N.HiddenMode.Display,r}return e.prototype.dispose=function(){var i=this.iter();this._items.forEach(function(r){r.dispose()}),this._box=null,this._root=null,this._items.clear(),J(i,function(r){r.dispose()}),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(i){var r=this;this._hiddenMode!==i&&(this._hiddenMode=i,J(this.tabBars(),function(n){n.titles.length>1&&n.titles.forEach(function(s){s.owner.hiddenMode=r._hiddenMode})}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(i){i=_a.clampDimension(i),this._spacing!==i&&(this._spacing=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._root?this._root.iterAllWidgets():jt()},e.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():jt()},e.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():jt()},e.prototype.tabBars=function(){return this._root?this._root.iterTabBars():jt()},e.prototype.handles=function(){return this._root?this._root.iterHandles():jt()},e.prototype.moveHandle=function(i,r,n){var s=i.classList.contains("lm-mod-hidden");if(s=s||i.classList.contains("p-mod-hidden"),!(!this._root||s)){var o=this._root.findSplitNode(i);if(o){var a;o.node.orientation==="horizontal"?a=r-i.offsetLeft:a=n-i.offsetTop,a!==0&&(o.node.holdSizes(),Yt.adjust(o.node.sizers,o.index,a),this.parent&&this.parent.update())}}},e.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},e.prototype.restoreLayout=function(i){var r=this,n=new Set,s;i.main?s=Xe.normalizeAreaConfig(i.main,n):s=null;var o=this.widgets(),a=this.tabBars(),l=this.handles();this._root=null,J(o,function(u){n.has(u)||(u.parent=null)}),J(a,function(u){u.dispose()}),J(l,function(u){u.parentNode&&u.parentNode.removeChild(u)}),n.forEach(function(u){u.parent=r.parent}),s?this._root=Xe.realizeAreaConfig(s,{createTabBar:function(u){return r._createTabBar()},createHandle:function(){return r._createHandle()}},this._document):this._root=null,this.parent&&(n.forEach(function(u){r.attachWidget(u)}),this.parent.fit())},e.prototype.addWidget=function(i,r){r===void 0&&(r={});var n=r.ref||null,s=r.mode||"tab-after",o=null;if(this._root&&n&&(o=this._root.findTabNode(n)),n&&!o)throw new Error("Reference widget is not in the layout.");switch(i.parent=this.parent,s){case"tab-after":this._insertTab(i,n,o,!0);break;case"tab-before":this._insertTab(i,n,o,!1);break;case"split-top":this._insertSplit(i,n,o,"vertical",!1);break;case"split-left":this._insertSplit(i,n,o,"horizontal",!1);break;case"split-right":this._insertSplit(i,n,o,"horizontal",!0);break;case"split-bottom":this._insertSplit(i,n,o,"vertical",!0);break}this.parent&&(this.attachWidget(i),this.parent.fit())},e.prototype.removeWidget=function(i){this._removeWidget(i),this.parent&&(this.detachWidget(i),this.parent.fit())},e.prototype.hitTestTabAreas=function(i,r){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ge.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),s=i-n.left-this._box.borderLeft,o=r-n.top-this._box.borderTop,a=this._root.hitTestTabNodes(s,o);if(!a)return null;var l=a.tabBar,u=a.top,c=a.left,h=a.width,f=a.height,d=this._box.borderLeft+this._box.borderRight,p=this._box.borderTop+this._box.borderBottom,m=n.width-d-(c+h),g=n.height-p-(u+f);return{tabBar:l,x:s,y:o,top:u,left:c,right:m,bottom:g,width:h,height:f}},e.prototype.init=function(){var i=this;t.prototype.init.call(this),J(this,function(r){i.attachWidget(r)}),J(this.handles(),function(r){i.parent.node.appendChild(r)}),this.parent.fit()},e.prototype.attachWidget=function(i){this.parent.node!==i.node.parentNode&&(this._items.set(i,new Sa(i)),this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterAttach))},e.prototype.detachWidget=function(i){if(this.parent.node===i.node.parentNode){this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterDetach);var r=this._items.get(i);r&&(this._items.delete(i),r.dispose())}},e.prototype.onBeforeShow=function(i){t.prototype.onBeforeShow.call(this,i),this.parent.update()},e.prototype.onBeforeAttach=function(i){t.prototype.onBeforeAttach.call(this,i),this.parent.fit()},e.prototype.onChildShown=function(i){this.parent.fit()},e.prototype.onChildHidden=function(i){this.parent.fit()},e.prototype.onResize=function(i){this.parent.isVisible&&this._update(i.width,i.height)},e.prototype.onUpdateRequest=function(i){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(i){this.parent.isAttached&&this._fit()},e.prototype._removeWidget=function(i){if(this._root){var r=this._root.findTabNode(i);if(r){if(Xe.removeAria(i),r.tabBar.titles.length>1){if(r.tabBar.removeTab(i.title),this._hiddenMode===N.HiddenMode.Scale&&r.tabBar.titles.length==1){var n=r.tabBar.titles[0].owner;n.hiddenMode=N.HiddenMode.Display}return}if(r.tabBar.dispose(),this._root===r){this._root=null;return}this._root.holdAllSizes();var s=r.parent;r.parent=null;var o=L.removeFirstOf(s.children,r),a=L.removeAt(s.handles,o);if(L.removeAt(s.sizers,o),a.parentNode&&a.parentNode.removeChild(a),s.children.length>1){s.syncHandles();return}var l=s.parent;s.parent=null;var u=s.children[0],c=s.handles[0];if(s.children.length=0,s.handles.length=0,s.sizers.length=0,c.parentNode&&c.parentNode.removeChild(c),this._root===s){u.parent=null,this._root=u;return}var h=l,f=h.children.indexOf(s);if(u instanceof Xe.TabLayoutNode){u.parent=h,h.children[f]=u;return}var d=L.removeAt(h.handles,f);L.removeAt(h.children,f),L.removeAt(h.sizers,f),d.parentNode&&d.parentNode.removeChild(d);for(var p=0,m=u.children.length;p<m;++p){var g=u.children[p],O=u.handles[p],y=u.sizers[p];L.insert(h.children,f+p,g),L.insert(h.handles,f+p,O),L.insert(h.sizers,f+p,y),g.parent=h}u.children.length=0,u.handles.length=0,u.sizers.length=0,u.parent=null,h.syncHandles()}}},e.prototype._insertTab=function(i,r,n,s){if(i!==r){if(!this._root){var o=new Xe.TabLayoutNode(this._createTabBar());o.tabBar.addTab(i.title),this._root=o,Xe.addAria(i,o.tabBar);return}n||(n=this._root.findFirstTabNode()),n.tabBar.titles.indexOf(i.title)===-1&&(this._removeWidget(i),i.hide());var a;if(r?a=n.tabBar.titles.indexOf(r.title):a=n.tabBar.currentIndex,this._hiddenMode===N.HiddenMode.Scale)if(n.tabBar.titles.length===0)i.hiddenMode=N.HiddenMode.Display;else if(n.tabBar.titles.length==1){var l=n.tabBar.titles[0].owner;l.hiddenMode=N.HiddenMode.Scale}else i.hiddenMode=N.HiddenMode.Scale;else i.hiddenMode=this._hiddenMode;n.tabBar.insertTab(a+(s?1:0),i.title),Xe.addAria(i,n.tabBar)}},e.prototype._insertSplit=function(i,r,n,s,o){if(!(i===r&&n&&n.tabBar.titles.length===1)){this._removeWidget(i);var a=new Xe.TabLayoutNode(this._createTabBar());if(a.tabBar.addTab(i.title),Xe.addAria(i,a.tabBar),!this._root){this._root=a;return}if(!n||!n.parent){var l=this._splitRoot(s),u=o?l.children.length:0;l.normalizeSizes();var c=Xe.createSizer(n?1:Xe.GOLDEN_RATIO);L.insert(l.children,u,a),L.insert(l.sizers,u,c),L.insert(l.handles,u,this._createHandle()),a.parent=l,l.normalizeSizes(),l.syncHandles();return}var h=n.parent;if(h.orientation===s){var f=h.children.indexOf(n);h.normalizeSizes();var d=h.sizers[f].sizeHint/=2,p=f+(o?1:0);L.insert(h.children,p,a),L.insert(h.sizers,p,Xe.createSizer(d)),L.insert(h.handles,p,this._createHandle()),a.parent=h,h.syncHandles();return}var m=L.removeFirstOf(h.children,n),g=new Xe.SplitLayoutNode(s);g.normalized=!0,g.children.push(n),g.sizers.push(Xe.createSizer(.5)),g.handles.push(this._createHandle()),n.parent=g;var O=o?1:0;L.insert(g.children,O,a),L.insert(g.sizers,O,Xe.createSizer(.5)),L.insert(g.handles,O,this._createHandle()),a.parent=g,g.syncHandles(),L.insert(h.children,m,g),g.parent=h}},e.prototype._splitRoot=function(i){var r=this._root;if(r instanceof Xe.SplitLayoutNode&&r.orientation===i)return r;var n=this._root=new Xe.SplitLayoutNode(i);return r&&(n.children.push(r),n.sizers.push(Xe.createSizer(0)),n.handles.push(this._createHandle()),r.parent=n),n},e.prototype._fit=function(){var i=0,r=0;if(this._root){var n=this._root.fit(this._spacing,this._items);i=n.minWidth,r=n.minHeight}var s=this._box=ge.boxSizing(this.parent.node);i+=s.horizontalSum,r+=s.verticalSum;var o=this.parent.node.style;o.minWidth=i+"px",o.minHeight=r+"px",this._dirty=!0,this.parent.parent&&V.sendMessage(this.parent.parent,N.Msg.FitRequest),this._dirty&&V.sendMessage(this.parent,N.Msg.UpdateRequest)},e.prototype._update=function(i,r){if(this._dirty=!1,!!this._root){i<0&&(i=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=ge.boxSizing(this.parent.node));var n=this._box.paddingTop,s=this._box.paddingLeft,o=i-this._box.horizontalSum,a=r-this._box.verticalSum;this._root.update(n,s,o,a,this._spacing,this._items)}},e.prototype._createTabBar=function(){var i=this.renderer.createTabBar(this._document);return i.orientation="horizontal",this.parent&&(i.parent=this.parent,this.attachWidget(i)),i},e.prototype._createHandle=function(){var i=this.renderer.createHandle(),r=i.style;return r.position="absolute",r.top="0",r.left="0",r.width="0",r.height="0",this.parent&&this.parent.node.appendChild(i),i},e}(Wr),Xe;(function(t){t.GOLDEN_RATIO=.618;function e(f){var d=new Zr;return d.sizeHint=f,d.size=f,d}t.createSizer=e;function i(f,d){var p;return f.type==="tab-area"?p=l(f,d):p=u(f,d),p}t.normalizeAreaConfig=i;function r(f,d,p){var m;return f.type==="tab-area"?m=c(f,d,p):m=h(f,d,p),m}t.realizeAreaConfig=r;var n=function(){function f(d){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var p=new Zr,m=new Zr;p.stretch=0,m.stretch=1,this.tabBar=d,this.sizers=[p,m]}return Object.defineProperty(f.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),f.prototype.iterAllWidgets=function(){return um(xa(this.tabBar),this.iterUserWidgets())},f.prototype.iterUserWidgets=function(){return Nr(this.tabBar.titles,function(d){return d.owner})},f.prototype.iterSelectedWidgets=function(){var d=this.tabBar.currentTitle;return d?xa(d.owner):jt()},f.prototype.iterTabBars=function(){return xa(this.tabBar)},f.prototype.iterHandles=function(){return jt()},f.prototype.findTabNode=function(d){return this.tabBar.titles.indexOf(d.title)!==-1?this:null},f.prototype.findSplitNode=function(d){return null},f.prototype.findFirstTabNode=function(){return this},f.prototype.hitTestTabNodes=function(d,p){return d<this._left||d>=this._left+this._width||p<this._top||p>=this._top+this._height?null:this},f.prototype.createConfig=function(){var d=this.tabBar.titles.map(function(m){return m.owner}),p=this.tabBar.currentIndex;return{type:"tab-area",widgets:d,currentIndex:p}},f.prototype.holdAllSizes=function(){},f.prototype.fit=function(d,p){var m=0,g=0,O=1/0,y=1/0,v=p.get(this.tabBar),k=this.tabBar.currentTitle,C=k?p.get(k.owner):void 0,A=this.sizers,P=A[0],Q=A[1];return v&&v.fit(),C&&C.fit(),v&&!v.isHidden?(m=Math.max(m,v.minWidth),g+=v.minHeight,P.minSize=v.minHeight,P.maxSize=v.maxHeight):(P.minSize=0,P.maxSize=0),C&&!C.isHidden?(m=Math.max(m,C.minWidth),g+=C.minHeight,Q.minSize=C.minHeight,Q.maxSize=1/0):(Q.minSize=0,Q.maxSize=1/0),{minWidth:m,minHeight:g,maxWidth:O,maxHeight:y}},f.prototype.update=function(d,p,m,g,O,y){this._top=p,this._left=d,this._width=m,this._height=g;var v=y.get(this.tabBar),k=this.tabBar.currentTitle,C=k?y.get(k.owner):void 0;if(Yt.calc(this.sizers,g),v&&!v.isHidden){var A=this.sizers[0].size;v.update(d,p,m,A),p+=A}if(C&&!C.isHidden){var A=this.sizers[1].size;C.update(d,p,m,A)}},f}();t.TabLayoutNode=n;var s=function(){function f(d){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=d}return f.prototype.iterAllWidgets=function(){var d=Nr(this.children,function(p){return p.iterAllWidgets()});return new _n(d)},f.prototype.iterUserWidgets=function(){var d=Nr(this.children,function(p){return p.iterUserWidgets()});return new _n(d)},f.prototype.iterSelectedWidgets=function(){var d=Nr(this.children,function(p){return p.iterSelectedWidgets()});return new _n(d)},f.prototype.iterTabBars=function(){var d=Nr(this.children,function(p){return p.iterTabBars()});return new _n(d)},f.prototype.iterHandles=function(){var d=Nr(this.children,function(p){return p.iterHandles()});return um(this.handles,new _n(d))},f.prototype.findTabNode=function(d){for(var p=0,m=this.children.length;p<m;++p){var g=this.children[p].findTabNode(d);if(g)return g}return null},f.prototype.findSplitNode=function(d){var p=this.handles.indexOf(d);if(p!==-1)return{index:p,node:this};for(var m=0,g=this.children.length;m<g;++m){var O=this.children[m].findSplitNode(d);if(O)return O}return null},f.prototype.findFirstTabNode=function(){return this.children.length===0?null:this.children[0].findFirstTabNode()},f.prototype.hitTestTabNodes=function(d,p){for(var m=0,g=this.children.length;m<g;++m){var O=this.children[m].hitTestTabNodes(d,p);if(O)return O}return null},f.prototype.createConfig=function(){var d=this.orientation,p=this.createNormalizedSizes(),m=this.children.map(function(g){return g.createConfig()});return{type:"split-area",orientation:d,children:m,sizes:p}},f.prototype.syncHandles=function(){var d=this;J(this.handles,function(p,m){p.setAttribute("data-orientation",d.orientation),m===d.handles.length-1?(p.classList.add("lm-mod-hidden"),p.classList.add("p-mod-hidden")):(p.classList.remove("lm-mod-hidden"),p.classList.remove("p-mod-hidden"))})},f.prototype.holdSizes=function(){J(this.sizers,function(d){d.sizeHint=d.size})},f.prototype.holdAllSizes=function(){J(this.children,function(d){return d.holdAllSizes()}),this.holdSizes()},f.prototype.normalizeSizes=function(){var d=this.sizers.length;if(d!==0){this.holdSizes();var p=cm(this.sizers,function(m,g){return m+g.sizeHint},0);p===0?J(this.sizers,function(m){m.size=m.sizeHint=1/d}):J(this.sizers,function(m){m.size=m.sizeHint/=p}),this.normalized=!0}},f.prototype.createNormalizedSizes=function(){var d=this.sizers.length;if(d===0)return[];var p=this.sizers.map(function(g){return g.size}),m=cm(p,function(g,O){return g+O},0);return m===0?J(p,function(g,O){p[O]=1/d}):J(p,function(g,O){p[O]=g/m}),p},f.prototype.fit=function(d,p){for(var m=this.orientation==="horizontal",g=Math.max(0,this.children.length-1)*d,O=m?g:0,y=m?0:g,v=1/0,k=1/0,C=0,A=this.children.length;C<A;++C){var P=this.children[C].fit(d,p);m?(y=Math.max(y,P.minHeight),O+=P.minWidth,this.sizers[C].minSize=P.minWidth):(O=Math.max(O,P.minWidth),y+=P.minHeight,this.sizers[C].minSize=P.minHeight)}return{minWidth:O,minHeight:y,maxWidth:v,maxHeight:k}},f.prototype.update=function(d,p,m,g,O,y){var v=this.orientation==="horizontal",k=Math.max(0,this.children.length-1)*O,C=Math.max(0,(v?m:g)-k);this.normalized&&(J(this.sizers,function(E){E.sizeHint*=C}),this.normalized=!1),Yt.calc(this.sizers,C);for(var A=0,P=this.children.length;A<P;++A){var Q=this.children[A],S=this.sizers[A].size,_=this.handles[A].style;v?(Q.update(d,p,S,g,O,y),d+=S,_.top=p+"px",_.left=d+"px",_.width=O+"px",_.height=g+"px",d+=O):(Q.update(d,p,m,S,O,y),p+=S,_.top=p+"px",_.left=d+"px",_.width=m+"px",_.height=O+"px",p+=O)}},f}();t.SplitLayoutNode=s;function o(f,d){f.node.setAttribute("role","tabpanel");var p=d.renderer;if(p instanceof Bs.Renderer){var m=p.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",m)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,d){if(f.widgets.length===0)return null;var p=[];if(J(f.widgets,function(g){d.has(g)||(d.add(g),p.push(g))}),p.length===0)return null;var m=f.currentIndex;return m!==-1&&(m<0||m>=p.length)&&(m=0),{type:"tab-area",widgets:p,currentIndex:m}}function u(f,d){for(var p=f.orientation,m=[],g=[],O=0,y=f.children.length;O<y;++O){var v=i(f.children[O],d);v&&(v.type==="tab-area"||v.orientation!==p?(m.push(v),g.push(Math.abs(f.sizes[O]||0))):(m.push.apply(m,v.children),g.push.apply(g,v.sizes)))}return m.length===0?null:m.length===1?m[0]:{type:"split-area",orientation:p,children:m,sizes:g}}function c(f,d,p){var m=d.createTabBar(p);return J(f.widgets,function(g){g.hide(),m.addTab(g.title),t.addAria(g,m)}),m.currentIndex=f.currentIndex,new n(m)}function h(f,d,p){var m=new s(f.orientation);return J(f.children,function(g,O){var y=r(g,d,p),v=e(f.sizes[O]),k=d.createHandle();m.children.push(y),m.handles.push(k),m.sizers.push(v),y.parent=m}),m.syncHandles(),m.normalizeSizes(),m}})(Xe||(Xe={}));var cc=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this)||this;r._drag=null,r._tabsMovable=!0,r._tabsConstrained=!1,r._addButtonEnabled=!1,r._pressData=null,r._layoutModified=new le(r),r._addRequested=new le(r),r.addClass("lm-DockPanel"),r.addClass("p-DockPanel"),r._document=i.document||document,r._mode=i.mode||"multiple-document",r._renderer=i.renderer||e.defaultRenderer,r._edges=i.edges||Ve.DEFAULT_EDGES,i.tabsMovable!==void 0&&(r._tabsMovable=i.tabsMovable),i.tabsConstrained!==void 0&&(r._tabsConstrained=i.tabsConstrained),i.addButtonEnabled!==void 0&&(r._addButtonEnabled=i.addButtonEnabled),r.dataset.mode=r._mode;var n={createTabBar:function(){return r._createTabBar()},createHandle:function(){return r._createHandle()}};return r.layout=new y2({document:r._document,renderer:n,spacing:i.spacing,hiddenMode:i.hiddenMode}),r.overlay=i.overlay||new e.Overlay,r.node.appendChild(r.overlay.node),r}return e.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(i){this.layout.hiddenMode=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(i){this.layout.spacing=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(i){if(this._mode!==i){this._mode=i,this.dataset.mode=i;var r=this.layout;switch(i){case"multiple-document":J(r.tabBars(),function(n){n.show()});break;case"single-document":r.restoreLayout(Ve.createSingleDocumentConfig(this));break;default:throw"unreachable"}V.postMessage(this,Ve.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(i){this._tabsMovable=i,J(this.tabBars(),function(r){r.tabsMovable=i})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(i){this._tabsConstrained=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(i){this._addButtonEnabled=i,J(this.tabBars(),function(r){r.addButtonEnabled=i})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),e.prototype.widgets=function(){return this.layout.widgets()},e.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},e.prototype.tabBars=function(){return this.layout.tabBars()},e.prototype.handles=function(){return this.layout.handles()},e.prototype.selectWidget=function(i){var r=Rs(this.tabBars(),function(n){return n.titles.indexOf(i.title)!==-1});if(!r)throw new Error("Widget is not contained in the dock panel.");r.currentTitle=i.title},e.prototype.activateWidget=function(i){this.selectWidget(i),i.activate()},e.prototype.saveLayout=function(){return this.layout.saveLayout()},e.prototype.restoreLayout=function(i){this._mode="multiple-document",this.layout.restoreLayout(i),(Je.IS_EDGE||Je.IS_IE)&&V.flush(),V.postMessage(this,Ve.LayoutModified)},e.prototype.addWidget=function(i,r){r===void 0&&(r={}),this._mode==="single-document"?this.layout.addWidget(i):this.layout.addWidget(i,r),V.postMessage(this,Ve.LayoutModified)},e.prototype.processMessage=function(i){i.type==="layout-modified"?this._layoutModified.emit(void 0):t.prototype.processMessage.call(this,i)},e.prototype.handleEvent=function(i){switch(i.type){case"lm-dragenter":this._evtDragEnter(i);break;case"lm-dragleave":this._evtDragLeave(i);break;case"lm-dragover":this._evtDragOver(i);break;case"lm-drop":this._evtDrop(i);break;case"mousedown":this._evtMouseDown(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseup":this._evtMouseUp(i);break;case"pointerdown":this._evtMouseDown(i);break;case"pointermove":this._evtMouseMove(i);break;case"pointerup":this._evtMouseUp(i);break;case"keydown":this._evtKeyDown(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},e.prototype.onChildAdded=function(i){Ve.isGeneratedTabBarProperty.get(i.child)||(i.child.addClass("lm-DockPanel-widget"),i.child.addClass("p-DockPanel-widget"))},e.prototype.onChildRemoved=function(i){Ve.isGeneratedTabBarProperty.get(i.child)||(i.child.removeClass("lm-DockPanel-widget"),i.child.removeClass("p-DockPanel-widget"),V.postMessage(this,Ve.LayoutModified))},e.prototype._evtDragEnter=function(i){i.mimeData.hasData("application/vnd.lumino.widget-factory")&&(i.preventDefault(),i.stopPropagation())},e.prototype._evtDragLeave=function(i){i.preventDefault(),!(this._tabsConstrained&&i.source!==this)&&(i.stopPropagation(),this.overlay.hide(1))},e.prototype._evtDragOver=function(i){i.preventDefault(),this._tabsConstrained&&i.source!==this||this._showOverlay(i.clientX,i.clientY)==="invalid"?i.dropAction="none":(i.stopPropagation(),i.dropAction=i.proposedAction)},e.prototype._evtDrop=function(i){if(i.preventDefault(),this.overlay.hide(0),i.proposedAction==="none"){i.dropAction="none";return}var r=i.clientX,n=i.clientY,s=Ve.findDropTarget(this,r,n,this._edges),o=s.zone,a=s.target;if(this._tabsConstrained&&i.source!==this||o==="invalid"){i.dropAction="none";return}var l=i.mimeData,u=l.getData("application/vnd.lumino.widget-factory");if(typeof u!="function"){i.dropAction="none";return}var c=u();if(!(c instanceof N)){i.dropAction="none";return}if(c.contains(this)){i.dropAction="none";return}var h=a?Ve.getDropRef(a.tabBar):null;switch(o){case"root-all":this.addWidget(c);break;case"root-top":this.addWidget(c,{mode:"split-top"});break;case"root-left":this.addWidget(c,{mode:"split-left"});break;case"root-right":this.addWidget(c,{mode:"split-right"});break;case"root-bottom":this.addWidget(c,{mode:"split-bottom"});break;case"widget-all":this.addWidget(c,{mode:"tab-after",ref:h});break;case"widget-top":this.addWidget(c,{mode:"split-top",ref:h});break;case"widget-left":this.addWidget(c,{mode:"split-left",ref:h});break;case"widget-right":this.addWidget(c,{mode:"split-right",ref:h});break;case"widget-bottom":this.addWidget(c,{mode:"split-bottom",ref:h});break;case"widget-tab":this.addWidget(c,{mode:"tab-after",ref:h});break;default:throw"unreachable"}i.dropAction=i.proposedAction,i.stopPropagation(),this.activateWidget(c)},e.prototype._evtKeyDown=function(i){i.preventDefault(),i.stopPropagation(),i.keyCode===27&&(this._releaseMouse(),V.postMessage(this,Ve.LayoutModified))},e.prototype._evtMouseDown=function(i){if(i.button===0){var r=this.layout,n=i.target,s=Rs(r.handles(),function(h){return h.contains(n)});if(s){i.preventDefault(),i.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var o=s.getBoundingClientRect(),a=i.clientX-o.left,l=i.clientY-o.top,u=window.getComputedStyle(s),c=Br.overrideCursor(u.cursor,this._document);this._pressData={handle:s,deltaX:a,deltaY:l,override:c}}}},e.prototype._evtMouseMove=function(i){if(this._pressData){i.preventDefault(),i.stopPropagation();var r=this.node.getBoundingClientRect(),n=i.clientX-r.left-this._pressData.deltaX,s=i.clientY-r.top-this._pressData.deltaY,o=this.layout;o.moveHandle(this._pressData.handle,n,s)}},e.prototype._evtMouseUp=function(i){i.button===0&&(i.preventDefault(),i.stopPropagation(),this._releaseMouse(),V.postMessage(this,Ve.LayoutModified))},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},e.prototype._showOverlay=function(i,r){var n=Ve.findDropTarget(this,i,r,this._edges),s=n.zone,o=n.target;if(s==="invalid")return this.overlay.hide(100),s;var a,l,u,c,h=ge.boxSizing(this.node),f=this.node.getBoundingClientRect();switch(s){case"root-all":a=h.paddingTop,l=h.paddingLeft,u=h.paddingRight,c=h.paddingBottom;break;case"root-top":a=h.paddingTop,l=h.paddingLeft,u=h.paddingRight,c=f.height*Ve.GOLDEN_RATIO;break;case"root-left":a=h.paddingTop,l=h.paddingLeft,u=f.width*Ve.GOLDEN_RATIO,c=h.paddingBottom;break;case"root-right":a=h.paddingTop,l=f.width*Ve.GOLDEN_RATIO,u=h.paddingRight,c=h.paddingBottom;break;case"root-bottom":a=f.height*Ve.GOLDEN_RATIO,l=h.paddingLeft,u=h.paddingRight,c=h.paddingBottom;break;case"widget-all":a=o.top,l=o.left,u=o.right,c=o.bottom;break;case"widget-top":a=o.top,l=o.left,u=o.right,c=o.bottom+o.height/2;break;case"widget-left":a=o.top,l=o.left,u=o.right+o.width/2,c=o.bottom;break;case"widget-right":a=o.top,l=o.left+o.width/2,u=o.right,c=o.bottom;break;case"widget-bottom":a=o.top+o.height/2,l=o.left,u=o.right,c=o.bottom;break;case"widget-tab":var d=o.tabBar.node.getBoundingClientRect().height;a=o.top,l=o.left,u=o.right,c=o.bottom+o.height-d;break;default:throw"unreachable"}return this.overlay.show({top:a,left:l,right:u,bottom:c}),s},e.prototype._createTabBar=function(){var i=this._renderer.createTabBar(this._document);return Ve.isGeneratedTabBarProperty.set(i,!0),this._mode==="single-document"&&i.hide(),i.tabsMovable=this._tabsMovable,i.allowDeselect=!1,i.addButtonEnabled=this._addButtonEnabled,i.removeBehavior="select-previous-tab",i.insertBehavior="select-tab-if-needed",i.tabMoved.connect(this._onTabMoved,this),i.currentChanged.connect(this._onCurrentChanged,this),i.tabCloseRequested.connect(this._onTabCloseRequested,this),i.tabDetachRequested.connect(this._onTabDetachRequested,this),i.tabActivateRequested.connect(this._onTabActivateRequested,this),i.addRequested.connect(this._onTabAddRequested,this),i},e.prototype._createHandle=function(){return this._renderer.createHandle()},e.prototype._onTabMoved=function(){V.postMessage(this,Ve.LayoutModified)},e.prototype._onCurrentChanged=function(i,r){var n=r.previousTitle,s=r.currentTitle;n&&n.owner.hide(),s&&s.owner.show(),(Je.IS_EDGE||Je.IS_IE)&&V.flush(),V.postMessage(this,Ve.LayoutModified)},e.prototype._onTabAddRequested=function(i){this._addRequested.emit(i)},e.prototype._onTabActivateRequested=function(i,r){r.title.owner.activate()},e.prototype._onTabCloseRequested=function(i,r){r.title.owner.close()},e.prototype._onTabDetachRequested=function(i,r){var n=this;if(!this._drag){i.releaseMouse();var s=r.title,o=r.tab,a=r.clientX,l=r.clientY,u=new Cn.MimeData,c=function(){return s.owner};u.setData("application/vnd.lumino.widget-factory",c);var h=o.cloneNode(!0);this._drag=new Br({document:this._document,mimeData:u,dragImage:h,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden"),o.classList.add("p-mod-hidden");var f=function(){n._drag=null,o.classList.remove("lm-mod-hidden"),o.classList.remove("p-mod-hidden")};this._drag.start(a,l).then(f)}},e}(N);(function(t){var e=function(){function r(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return r.prototype.show=function(n){var s=this.node.style;s.top=n.top+"px",s.left=n.left+"px",s.right=n.right+"px",s.bottom=n.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},r.prototype.hide=function(n){var s=this;if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(function(){s._timer=-1,s._hidden=!0,s.node.classList.add("lm-mod-hidden"),s.node.classList.add("p-mod-hidden")},n))}},r}();t.Overlay=e;var i=function(){function r(){}return r.prototype.createTabBar=function(n){var s=new Bs({document:n});return s.addClass("lm-DockPanel-tabBar"),s.addClass("p-DockPanel-tabBar"),s},r.prototype.createHandle=function(){var n=document.createElement("div");return n.className="lm-DockPanel-handle",n.classList.add("p-DockPanel-handle"),n},r}();t.Renderer=i,t.defaultRenderer=new i})(cc||(cc={}));var Ve;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new Is("layout-modified"),t.isGeneratedTabBarProperty=new yt({name:"isGeneratedTabBar",create:function(){return!1}});function e(n){if(n.isEmpty)return{main:null};var s=Ow(n.widgets()),o=n.selectedWidgets().next(),a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(n,s,o,a){if(!ge.hitTest(n.node,s,o))return{zone:"invalid",target:null};var l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){var u=n.node.getBoundingClientRect(),c=s-u.left+1,h=o-u.top+1,f=u.right-s,d=u.bottom-o,p=Math.min(h,f,d,c);switch(p){case h:if(h<a.top)return{zone:"root-top",target:null};break;case f:if(f<a.right)return{zone:"root-right",target:null};break;case d:if(d<a.bottom)return{zone:"root-bottom",target:null};break;case c:if(c<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var m=l.hitTestTabAreas(s,o);if(!m)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:m};var g=m.x-m.left+1,O=m.y-m.top+1,y=m.left+m.width-m.x,v=m.top+m.height-m.y,k=m.tabBar.node.getBoundingClientRect().height;if(O<k)return{zone:"widget-tab",target:m};var C=Math.round(m.width/3),A=Math.round(m.height/3);if(g>C&&y>C&&O>A&&v>A)return{zone:"widget-all",target:m};g/=C,O/=A,y/=C,v/=A;var P=Math.min(g,O,y,v),Q;switch(P){case g:Q="widget-left";break;case O:Q="widget-top";break;case y:Q="widget-right";break;case v:Q="widget-bottom";break;default:throw"unreachable"}return{zone:Q,target:m}}t.findDropTarget=i;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}t.getDropRef=r})(Ve||(Ve={}));var bZ=function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new le(this),this._currentChanged=new le(this)}return t.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,le.clearData(this),J(this._widgets,function(i){i.node.removeEventListener("focus",e,!0),i.node.removeEventListener("blur",e,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(e){var i=this._numbers.get(e);return i===void 0?-1:i},t.prototype.has=function(e){return this._numbers.has(e)},t.prototype.add=function(e){if(!this._numbers.has(e)){var i=e.node.contains(document.activeElement),r=i?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,r),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),i&&this._setWidgets(e,e)}},t.prototype.remove=function(e){var i=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),L.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var r=bw(this._widgets,function(s){return i._numbers.get(s)!==-1}),n=yw(r,function(s,o){var a=i._numbers.get(s),l=i._numbers.get(o);return a-l})||null;this._setWidgets(n,null)}},t.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e);break}},t.prototype._setWidgets=function(e,i){var r=this._currentWidget;this._currentWidget=e;var n=this._activeWidget;this._activeWidget=i,r!==e&&this._currentChanged.emit({oldValue:r,newValue:e}),n!==i&&this._activeChanged.emit({oldValue:n,newValue:i})},t.prototype._evtFocus=function(e){var i=this._nodes.get(e.currentTarget);i!==this._currentWidget&&this._numbers.set(i,this._counter++),this._setWidgets(i,i)},t.prototype._evtBlur=function(e){var i=this._nodes.get(e.currentTarget),r=e.relatedTarget;if(!r){this._setWidgets(this._currentWidget,null);return}if(!i.node.contains(r)&&!Rs(this._widgets,function(n){return n.node.contains(r)})){this._setWidgets(this._currentWidget,null);return}},t.prototype._onWidgetDisposed=function(e){this.remove(e)},t}(),Pm=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,i)||this;return r._dirty=!1,r._rowSpacing=4,r._columnSpacing=4,r._items=[],r._rowStarts=[],r._columnStarts=[],r._rowSizers=[new Zr],r._columnSizers=[new Zr],r._box=null,i.rowCount!==void 0&&Fe.reallocSizers(r._rowSizers,i.rowCount),i.columnCount!==void 0&&Fe.reallocSizers(r._columnSizers,i.columnCount),i.rowSpacing!==void 0&&(r._rowSpacing=Fe.clampValue(i.rowSpacing)),i.columnSpacing!==void 0&&(r._columnSpacing=Fe.clampValue(i.columnSpacing)),r}return e.prototype.dispose=function(){J(this._items,function(i){var r=i.widget;i.dispose(),r.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(i){i!==this.rowCount&&(Fe.reallocSizers(this._rowSizers,i),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(i){i!==this.columnCount&&(Fe.reallocSizers(this._columnSizers,i),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(i){i=Fe.clampValue(i),this._rowSpacing!==i&&(this._rowSpacing=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(i){i=Fe.clampValue(i),this._columnSpacing!==i&&(this._columnSpacing=i,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.rowStretch=function(i){var r=this._rowSizers[i];return r?r.stretch:-1},e.prototype.setRowStretch=function(i,r){var n=this._rowSizers[i];n&&(r=Fe.clampValue(r),n.stretch!==r&&(n.stretch=r,this.parent&&this.parent.update()))},e.prototype.columnStretch=function(i){var r=this._columnSizers[i];return r?r.stretch:-1},e.prototype.setColumnStretch=function(i,r){var n=this._columnSizers[i];n&&(r=Fe.clampValue(r),n.stretch!==r&&(n.stretch=r,this.parent&&this.parent.update()))},e.prototype.iter=function(){return Nr(this._items,function(i){return i.widget})},e.prototype.addWidget=function(i){var r=L.findFirstIndex(this._items,function(n){return n.widget===i});r===-1&&(this._items.push(new Sa(i)),this.parent&&this.attachWidget(i))},e.prototype.removeWidget=function(i){var r=L.findFirstIndex(this._items,function(s){return s.widget===i});if(r!==-1){var n=L.removeAt(this._items,r);this.parent&&this.detachWidget(i),n.dispose()}},e.prototype.init=function(){var i=this;t.prototype.init.call(this),J(this,function(r){i.attachWidget(r)})},e.prototype.attachWidget=function(i){this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterAttach),this.parent.fit()},e.prototype.detachWidget=function(i){this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterDetach),this.parent.fit()},e.prototype.onBeforeShow=function(i){t.prototype.onBeforeShow.call(this,i),this.parent.update()},e.prototype.onBeforeAttach=function(i){t.prototype.onBeforeAttach.call(this,i),this.parent.fit()},e.prototype.onChildShown=function(i){this.parent.fit()},e.prototype.onChildHidden=function(i){this.parent.fit()},e.prototype.onResize=function(i){this.parent.isVisible&&this._update(i.width,i.height)},e.prototype.onUpdateRequest=function(i){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(i){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var i=0,r=this.rowCount;i<r;++i)this._rowSizers[i].minSize=0;for(var i=0,r=this.columnCount;i<r;++i)this._columnSizers[i].minSize=0;for(var n=this._items.filter(function(O){return!O.isHidden}),i=0,r=n.length;i<r;++i)n[i].fit();var s=this.rowCount-1,o=this.columnCount-1;n.sort(Fe.rowSpanCmp);for(var i=0,r=n.length;i<r;++i){var a=n[i],l=e.getCellConfig(a.widget),u=Math.min(l.row,s),c=Math.min(l.row+l.rowSpan-1,s);Fe.distributeMin(this._rowSizers,u,c,a.minHeight)}n.sort(Fe.columnSpanCmp);for(var i=0,r=n.length;i<r;++i){var a=n[i],l=e.getCellConfig(a.widget),h=Math.min(l.column,o),f=Math.min(l.column+l.columnSpan-1,o);Fe.distributeMin(this._columnSizers,h,f,a.minWidth)}if(this.fitPolicy==="set-no-constraint"){V.sendMessage(this.parent,N.Msg.UpdateRequest);return}for(var d=s*this._rowSpacing,p=o*this._columnSpacing,i=0,r=this.rowCount;i<r;++i)d+=this._rowSizers[i].minSize;for(var i=0,r=this.columnCount;i<r;++i)p+=this._columnSizers[i].minSize;var m=this._box=ge.boxSizing(this.parent.node);p+=m.horizontalSum,d+=m.verticalSum;var g=this.parent.node.style;g.minWidth=p+"px",g.minHeight=d+"px",this._dirty=!0,this.parent.parent&&V.sendMessage(this.parent.parent,N.Msg.FitRequest),this._dirty&&V.sendMessage(this.parent,N.Msg.UpdateRequest)},e.prototype._update=function(i,r){this._dirty=!1,i<0&&(i=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=ge.boxSizing(this.parent.node));var n=this._box.paddingTop,s=this._box.paddingLeft,o=i-this._box.horizontalSum,a=r-this._box.verticalSum,l=this.rowCount-1,u=this.columnCount-1,c=l*this._rowSpacing,h=u*this._columnSpacing;Yt.calc(this._rowSizers,Math.max(0,a-c)),Yt.calc(this._columnSizers,Math.max(0,o-h));for(var f=0,d=n,p=this.rowCount;f<p;++f)this._rowStarts[f]=d,d+=this._rowSizers[f].size+this._rowSpacing;for(var f=0,d=s,p=this.columnCount;f<p;++f)this._columnStarts[f]=d,d+=this._columnSizers[f].size+this._columnSpacing;for(var f=0,p=this._items.length;f<p;++f){var m=this._items[f];if(!m.isHidden){var g=e.getCellConfig(m.widget),O=Math.min(g.row,l),y=Math.min(g.column,u),v=Math.min(g.row+g.rowSpan-1,l),k=Math.min(g.column+g.columnSpan-1,u),C=this._columnStarts[y],A=this._rowStarts[O],P=this._columnStarts[k]+this._columnSizers[k].size-C,Q=this._rowStarts[v]+this._rowSizers[v].size-A;m.update(C,A,P,Q)}}},e}(Wr);(function(t){function e(r){return Fe.cellConfigProperty.get(r)}t.getCellConfig=e;function i(r,n){Fe.cellConfigProperty.set(r,Fe.normalizeConfig(n))}t.setCellConfig=i})(Pm||(Pm={}));var Fe;(function(t){t.cellConfigProperty=new yt({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:a});function e(l){var u=Math.max(0,Math.floor(l.row||0)),c=Math.max(0,Math.floor(l.column||0)),h=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:u,column:c,rowSpan:h,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function r(l,u){var c=t.cellConfigProperty.get(l.widget),h=t.cellConfigProperty.get(u.widget);return c.rowSpan-h.rowSpan}t.rowSpanCmp=r;function n(l,u){var c=t.cellConfigProperty.get(l.widget),h=t.cellConfigProperty.get(u.widget);return c.columnSpan-h.columnSpan}t.columnSpanCmp=n;function s(l,u){for(u=Math.max(1,Math.floor(u));l.length<u;)l.push(new Zr);l.length>u&&(l.length=u)}t.reallocSizers=s;function o(l,u,c,h){if(!(c<u)){if(u===c){var f=l[u];f.minSize=Math.max(f.minSize,h);return}for(var d=0,p=u;p<=c;++p)d+=l[p].minSize;if(!(d>=h))for(var m=(h-d)/(c-u+1),p=u;p<=c;++p)l[p].minSize+=m}}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof Pm&&l.parent.fit()}})(Fe||(Fe={}));var Tw=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{node:hc.createNode()})||this;return r._activeIndex=-1,r._tabFocusIndex=0,r._menus=[],r._childMenu=null,r.addClass("lm-MenuBar"),r.addClass("p-MenuBar"),r.setFlag(N.Flag.DisallowLayout),r.renderer=i.renderer||e.defaultRenderer,r._forceItemsPosition=i.forceItemsPosition||{forceX:!0,forceY:!0},r}return e.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(i){this.activeIndex=i?this._menus.indexOf(i):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(i){(i<0||i>=this._menus.length)&&(i=-1),this._activeIndex!==i&&(this._activeIndex=i,i!==-1&&(this._tabFocusIndex=i),this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),e.prototype.openActiveMenu=function(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},e.prototype.addMenu=function(i){this.insertMenu(this._menus.length,i)},e.prototype.insertMenu=function(i,r){this._closeChildMenu();var n=this._menus.indexOf(r),s=Math.max(0,Math.min(i,this._menus.length));if(n===-1){L.insert(this._menus,s,r),r.addClass("lm-MenuBar-menu"),r.addClass("p-MenuBar-menu"),r.aboutToClose.connect(this._onMenuAboutToClose,this),r.menuRequested.connect(this._onMenuMenuRequested,this),r.title.changed.connect(this._onTitleChanged,this),this.update();return}s===this._menus.length&&s--,n!==s&&(L.move(this._menus,n,s),this.update())},e.prototype.removeMenu=function(i){this.removeMenuAt(this._menus.indexOf(i))},e.prototype.removeMenuAt=function(i){this._closeChildMenu();var r=L.removeAt(this._menus,i);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),r.removeClass("p-MenuBar-menu"),this.update())},e.prototype.clearMenus=function(){if(this._menus.length!==0){this._closeChildMenu();for(var i=0,r=this._menus;i<r.length;i++){var n=r[i];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},e.prototype.handleEvent=function(i){switch(i.type){case"keydown":this._evtKeyDown(i);break;case"mousedown":this._evtMouseDown(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseleave":this._evtMouseLeave(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},e.prototype.onActivateRequest=function(i){this.isAttached&&(this.activeIndex=0)},e.prototype.onUpdateRequest=function(i){for(var r=this,n=this._menus,s=this.renderer,o=this._activeIndex,a=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,l=new Array(n.length),u=function(f,d){var p=n[f].title,m=f===o;m&&n[f].items.length==0&&(m=!1),l[f]=s.renderItem({title:p,active:m,tabbable:f===a,onfocus:function(){r.activeIndex=f}})},c=0,h=n.length;c<h;++c)u(c);nr.render(l,this.contentNode)},e.prototype._evtKeyDown=function(i){var r=i.keyCode;if(r===9){this.activeIndex=-1;return}if(i.preventDefault(),i.stopPropagation(),r===13||r===32||r===38||r===40){this.openActiveMenu();return}if(r===27){this._closeChildMenu(),this.activeIndex=-1,this.node.blur();return}if(r===37){var n=this._activeIndex,s=this._menus.length;this.activeIndex=n===0?s-1:n-1;return}if(r===39){var n=this._activeIndex,s=this._menus.length;this.activeIndex=n===s-1?0:n+1;return}var o=Ds().keyForKeydownEvent(i);if(o){var a=this._activeIndex+1,l=hc.findMnemonic(this._menus,o,a);l.index!==-1&&!l.multiple?(this.activeIndex=l.index,this.openActiveMenu()):l.index!==-1?this.activeIndex=l.index:l.auto!==-1&&(this.activeIndex=l.auto)}},e.prototype._evtMouseDown=function(i){if(ge.hitTest(this.node,i.clientX,i.clientY)){i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation();var r=L.findFirstIndex(this.contentNode.children,function(s){return ge.hitTest(s,i.clientX,i.clientY)});if(r===-1){this._closeChildMenu();return}if(i.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=r;else{var n=this._positionForMenu(r);zs.saveWindowData(),this.activeIndex=r,this._openChildMenu(n)}}},e.prototype._evtMouseMove=function(i){var r=L.findFirstIndex(this.contentNode.children,function(s){return ge.hitTest(s,i.clientX,i.clientY)});if(r!==this._activeIndex&&!(r===-1&&this._childMenu)){var n=this._positionForMenu(r);zs.saveWindowData(),this.activeIndex=r,this._childMenu&&this._openChildMenu(n)}},e.prototype._positionForMenu=function(i){var r=this.contentNode.children[i],n=r.getBoundingClientRect(),s=n.left,o=n.bottom;return{top:o,left:s}},e.prototype._evtMouseLeave=function(i){this._childMenu||(this.activeIndex=-1)},e.prototype._openChildMenu=function(i){var r;i===void 0&&(i={});var n=this.activeMenu;if(!n){this._closeChildMenu();return}var s=this._childMenu;if(s!==n){this._childMenu=n,s?s.close():document.addEventListener("mousedown",this,!0),V.sendMessage(this,N.Msg.UpdateRequest);var o=i.left,a=i.top;(typeof o=="undefined"||typeof a=="undefined")&&(r=this._positionForMenu(this._activeIndex),o=r.left,a=r.top),s||(this.addClass("lm-mod-active"),this.addClass("p-mod-active")),n.items.length>0&&n.open(o,a,this._forceItemsPosition)}},e.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var i=this._childMenu;this._childMenu=null,i.close(),this.activeIndex=-1}},e.prototype._onMenuAboutToClose=function(i){i===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},e.prototype._onMenuMenuRequested=function(i,r){if(i===this._childMenu){var n=this._activeIndex,s=this._menus.length;switch(r){case"next":this.activeIndex=n===s-1?0:n+1;break;case"previous":this.activeIndex=n===0?s-1:n-1;break}this.openActiveMenu()}},e.prototype._onTitleChanged=function(){this.update()},e}(N);(function(t){var e=function(){function i(){}return i.prototype.renderItem=function(r){var n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return de.li(et({className:n,dataset:s,tabindex:r.tabbable?"0":"-1",onfocus:r.onfocus},o),this.renderIcon(r),this.renderLabel(r))},i.prototype.renderIcon=function(r){var n=this.createIconClass(r);return typeof r.title.icon=="string"?de.div({className:n},r.title.iconLabel):de.div({className:n},r.title.icon,r.title.iconLabel)},i.prototype.renderLabel=function(r){var n=this.formatLabel(r);return de.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},n)},i.prototype.createItemClass=function(r){var n="lm-MenuBar-item";return n+=" p-MenuBar-item",r.title.className&&(n+=" "+r.title.className),r.active&&(n+=" lm-mod-active",n+=" p-mod-active"),n},i.prototype.createItemDataset=function(r){return r.title.dataset},i.prototype.createItemARIA=function(r){return{role:"menuitem","aria-haspopup":"true"}},i.prototype.createIconClass=function(r){var n="lm-MenuBar-itemIcon";n+=" p-MenuBar-itemIcon";var s=r.title.iconClass;return s?n+" "+s:n},i.prototype.formatLabel=function(r){var n=r.title,s=n.label,o=n.mnemonic;if(o<0||o>=s.length)return s;var a=s.slice(0,o),l=s.slice(o+1),u=s[o],c=de.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},u);return[a,c,l]},i}();t.Renderer=e,t.defaultRenderer=new e})(Tw||(Tw={}));var hc;(function(t){function e(){var r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",n.classList.add("p-MenuBar-content"),r.appendChild(n),n.setAttribute("role","menubar"),r}t.createNode=e;function i(r,n,s){for(var o=-1,a=-1,l=!1,u=n.toUpperCase(),c=0,h=r.length;c<h;++c){var f=(c+s)%h,d=r[f].title;if(d.label.length!==0){var p=d.mnemonic;if(p>=0&&p<d.label.length){d.label[p].toUpperCase()===u&&(o===-1?o=f:l=!0);continue}a===-1&&d.label[0].toUpperCase()===u&&(a=f)}}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(hc||(hc={}));var yZ=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{node:fc.createNode()})||this;return r._onRepeat=function(){if(r._repeatTimer=-1,!!r._pressData){var n=r._pressData.part;if(n!=="thumb"){r._repeatTimer=window.setTimeout(r._onRepeat,20);var s=r._pressData.mouseX,o=r._pressData.mouseY;if(n==="decrement"){if(!ge.hitTest(r.decrementNode,s,o))return;r._stepRequested.emit("decrement");return}if(n==="increment"){if(!ge.hitTest(r.incrementNode,s,o))return;r._stepRequested.emit("increment");return}if(n==="track"){if(!ge.hitTest(r.trackNode,s,o))return;var a=r.thumbNode;if(ge.hitTest(a,s,o))return;var l=a.getBoundingClientRect(),u=void 0;r._orientation==="horizontal"?u=s<l.left?"decrement":"increment":u=o<l.top?"decrement":"increment",r._pageRequested.emit(u);return}}}},r._value=0,r._page=10,r._maximum=100,r._repeatTimer=-1,r._pressData=null,r._thumbMoved=new le(r),r._stepRequested=new le(r),r._pageRequested=new le(r),r.addClass("lm-ScrollBar"),r.addClass("p-ScrollBar"),r.setFlag(N.Flag.DisallowLayout),r._orientation=i.orientation||"vertical",r.dataset.orientation=r._orientation,i.maximum!==void 0&&(r._maximum=Math.max(0,i.maximum)),i.page!==void 0&&(r._page=Math.max(0,i.page)),i.value!==void 0&&(r._value=Math.max(0,Math.min(i.value,r._maximum))),r}return Object.defineProperty(e.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(i){this._orientation!==i&&(this._releaseMouse(),this._orientation=i,this.dataset.orientation=i,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(i){i=Math.max(0,Math.min(i,this._maximum)),this._value!==i&&(this._value=i,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(i){i=Math.max(0,i),this._page!==i&&(this._page=i,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this._maximum},set:function(i){i=Math.max(0,i),this._maximum!==i&&(this._maximum=i,this._value=Math.min(this._value,i),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(i){switch(i.type){case"mousedown":this._evtMouseDown(i);break;case"mousemove":this._evtMouseMove(i);break;case"mouseup":this._evtMouseUp(i);break;case"keydown":this._evtKeyDown(i);break;case"contextmenu":i.preventDefault(),i.stopPropagation();break}},e.prototype.onBeforeAttach=function(i){this.node.addEventListener("mousedown",this),this.update()},e.prototype.onAfterDetach=function(i){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(i){var r=this._value*100/this._maximum,n=this._page*100/(this._page+this._maximum);r=Math.max(0,Math.min(r,100)),n=Math.max(0,Math.min(n,100));var s=this.thumbNode.style;this._orientation==="horizontal"?(s.top="",s.height="",s.left=r+"%",s.width=n+"%",s.transform="translate("+-r+"%, 0%)"):(s.left="",s.width="",s.top=r+"%",s.height=n+"%",s.transform="translate(0%, "+-r+"%)")},e.prototype._evtKeyDown=function(i){if(i.preventDefault(),i.stopPropagation(),i.keyCode===27){var r=this._pressData?this._pressData.value:-1;this._releaseMouse(),r!==-1&&this._moveThumb(r)}},e.prototype._evtMouseDown=function(i){if(i.button===0&&(this.activate(),!this._pressData)){var r=fc.findPart(this,i.target);if(r){i.preventDefault(),i.stopPropagation();var n=Br.overrideCursor("default");if(this._pressData={part:r,override:n,delta:-1,value:-1,mouseX:i.clientX,mouseY:i.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),r==="thumb"){var s=this.thumbNode,o=s.getBoundingClientRect();this._orientation==="horizontal"?this._pressData.delta=i.clientX-o.left:this._pressData.delta=i.clientY-o.top,s.classList.add("lm-mod-active"),s.classList.add("p-mod-active"),this._pressData.value=this._value;return}if(r==="track"){var o=this.thumbNode.getBoundingClientRect(),a=void 0;this._orientation==="horizontal"?a=i.clientX<o.left?"decrement":"increment":a=i.clientY<o.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),this._pageRequested.emit(a);return}if(r==="decrement"){this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("decrement");return}if(r==="increment"){this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("increment");return}}}},e.prototype._evtMouseMove=function(i){if(this._pressData&&(i.preventDefault(),i.stopPropagation(),this._pressData.mouseX=i.clientX,this._pressData.mouseY=i.clientY,this._pressData.part==="thumb")){var r=this.thumbNode.getBoundingClientRect(),n=this.trackNode.getBoundingClientRect(),s,o;this._orientation==="horizontal"?(s=i.clientX-n.left-this._pressData.delta,o=n.width-r.width):(s=i.clientY-n.top-this._pressData.delta,o=n.height-r.height);var a=o===0?0:s*this._maximum/o;this._moveThumb(a)}},e.prototype._evtMouseUp=function(i){i.button===0&&(i.preventDefault(),i.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},e.prototype._moveThumb=function(i){i=Math.max(0,Math.min(i,this._maximum)),this._value!==i&&(this._value=i,this.update(),this._thumbMoved.emit(i))},e}(N),fc;(function(t){function e(){var r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",n.classList.add("p-ScrollBar-button"),s.classList.add("p-ScrollBar-button"),o.classList.add("p-ScrollBar-track"),a.classList.add("p-ScrollBar-thumb"),o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}t.createNode=e;function i(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}t.findPart=i})(fc||(fc={}));var vZ=function(t){De(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i._widget=null,i}return e.prototype.dispose=function(){if(this._widget){var i=this._widget;this._widget=null,i.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(i){i&&(i.parent=this.parent),this._widget!==i&&(this._widget&&this._widget.dispose(),this._widget=i,this.parent&&i&&this.attachWidget(i))},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._widget?xa(this._widget):jt()},e.prototype.removeWidget=function(i){this._widget===i&&(this._widget=null,this.parent&&this.detachWidget(i))},e.prototype.init=function(){var i=this;t.prototype.init.call(this),J(this,function(r){i.attachWidget(r)})},e.prototype.attachWidget=function(i){this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterAttach)},e.prototype.detachWidget=function(i){this.parent.isAttached&&V.sendMessage(i,N.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&V.sendMessage(i,N.Msg.AfterDetach)},e}(Wr),v2=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,i)||this;return r._dirty=!1,r._items=[],r._box=null,r._hiddenMode=i.hiddenMode!==void 0?i.hiddenMode:N.HiddenMode.Display,r}return Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(i){var r=this;this._hiddenMode!==i&&(this._hiddenMode=i,this.widgets.length>1&&this.widgets.forEach(function(n){n.hiddenMode=r._hiddenMode}))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){J(this._items,function(i){i.dispose()}),this._box=null,this._items.length=0,t.prototype.dispose.call(this)},e.prototype.attachWidget=function(i,r){this._hiddenMode===N.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=N.HiddenMode.Scale),r.hiddenMode=N.HiddenMode.Scale):r.hiddenMode=N.HiddenMode.Display,L.insert(this._items,i,new Sa(r)),this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(i,r,n){L.move(this._items,i,r),this.parent.update()},e.prototype.detachWidget=function(i,r){var n=L.removeAt(this._items,i);this.parent.isAttached&&V.sendMessage(r,N.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&V.sendMessage(r,N.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===N.HiddenMode.Scale&&(r.hiddenMode=N.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=N.HiddenMode.Display)),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(i){t.prototype.onBeforeShow.call(this,i),this.parent.update()},e.prototype.onBeforeAttach=function(i){t.prototype.onBeforeAttach.call(this,i),this.parent.fit()},e.prototype.onChildShown=function(i){this.parent.fit()},e.prototype.onChildHidden=function(i){this.parent.fit()},e.prototype.onResize=function(i){this.parent.isVisible&&this._update(i.width,i.height)},e.prototype.onUpdateRequest=function(i){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(i){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var i=0,r=0,n=0,s=this._items.length;n<s;++n){var o=this._items[n];o.isHidden||(o.fit(),i=Math.max(i,o.minWidth),r=Math.max(r,o.minHeight))}var a=this._box=ge.boxSizing(this.parent.node);i+=a.horizontalSum,r+=a.verticalSum;var l=this.parent.node.style;l.minWidth=i+"px",l.minHeight=r+"px",this._dirty=!0,this.parent.parent&&V.sendMessage(this.parent.parent,N.Msg.FitRequest),this._dirty&&V.sendMessage(this.parent,N.Msg.UpdateRequest)},e.prototype._update=function(i,r){this._dirty=!1;for(var n=0,s=0,o=this._items.length;s<o;++s)n+=+!this._items[s].isHidden;if(n!==0){i<0&&(i=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=ge.boxSizing(this.parent.node));for(var a=this._box.paddingTop,l=this._box.paddingLeft,u=i-this._box.horizontalSum,c=r-this._box.verticalSum,s=0,o=this._items.length;s<o;++s){var h=this._items[s];h.isHidden||(h.widget.node.style.zIndex=""+s,h.update(l,a,u,c))}}},e}(dc),x2=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this,{layout:Cm.createLayout(i)})||this;return r._widgetRemoved=new le(r),r.addClass("lm-StackedPanel"),r.addClass("p-StackedPanel"),r}return Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(i){this.layout.hiddenMode=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(i){i.child.addClass("lm-StackedPanel-child"),i.child.addClass("p-StackedPanel-child")},e.prototype.onChildRemoved=function(i){i.child.removeClass("lm-StackedPanel-child"),i.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(i.child)},e}(Tm),Cm;(function(t){function e(i){return i.layout||new v2}t.createLayout=e})(Cm||(Cm={}));var Ew=function(t){De(e,t);function e(i){i===void 0&&(i={});var r=t.call(this)||this;r._currentChanged=new le(r),r._addRequested=new le(r),r.addClass("lm-TabPanel"),r.addClass("p-TabPanel"),r.tabBar=new Bs(i),r.tabBar.addClass("lm-TabPanel-tabBar"),r.stackedPanel=new x2,r.stackedPanel.addClass("lm-TabPanel-stackedPanel"),r.tabBar.addClass("p-TabPanel-tabBar"),r.stackedPanel.addClass("p-TabPanel-stackedPanel"),r.tabBar.tabMoved.connect(r._onTabMoved,r),r.tabBar.currentChanged.connect(r._onCurrentChanged,r),r.tabBar.tabCloseRequested.connect(r._onTabCloseRequested,r),r.tabBar.tabActivateRequested.connect(r._onTabActivateRequested,r),r.tabBar.addRequested.connect(r._onTabAddRequested,r),r.stackedPanel.widgetRemoved.connect(r._onWidgetRemoved,r),r._tabPlacement=i.tabPlacement||"top";var n=Ns.directionFromPlacement(r._tabPlacement),s=Ns.orientationFromPlacement(r._tabPlacement);r.tabBar.orientation=s,r.tabBar.dataset.placement=r._tabPlacement;var o=new vi({direction:n,spacing:0});return vi.setStretch(r.tabBar,0),vi.setStretch(r.stackedPanel,1),o.addWidget(r.tabBar),o.addWidget(r.stackedPanel),r.layout=o,r}return Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(i){this.tabBar.currentIndex=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){var i=this.tabBar.currentTitle;return i?i.owner:null},set:function(i){this.tabBar.currentTitle=i?i.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(i){this.tabBar.tabsMovable=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(i){this.tabBar.addButtonEnabled=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(i){if(this._tabPlacement!==i){this._tabPlacement=i;var r=Ns.directionFromPlacement(i),n=Ns.orientationFromPlacement(i);this.tabBar.orientation=n,this.tabBar.dataset.placement=i,this.layout.direction=r}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(i){this.insertWidget(this.widgets.length,i)},e.prototype.insertWidget=function(i,r){r!==this.currentWidget&&r.hide(),this.stackedPanel.insertWidget(i,r),this.tabBar.insertTab(i,r.title),r.node.setAttribute("role","tabpanel");var n=this.tabBar.renderer;if(n instanceof Bs.Renderer){var s=n.createTabKey({title:r.title,current:!1,zIndex:0});r.node.setAttribute("aria-labelledby",s)}},e.prototype._onCurrentChanged=function(i,r){var n=r.previousIndex,s=r.previousTitle,o=r.currentIndex,a=r.currentTitle,l=s?s.owner:null,u=a?a.owner:null;l&&l.hide(),u&&u.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:o,currentWidget:u}),(Je.IS_EDGE||Je.IS_IE)&&V.flush()},e.prototype._onTabAddRequested=function(i,r){this._addRequested.emit(i)},e.prototype._onTabActivateRequested=function(i,r){r.title.owner.activate()},e.prototype._onTabCloseRequested=function(i,r){r.title.owner.close()},e.prototype._onTabMoved=function(i,r){this.stackedPanel.insertWidget(r.toIndex,r.title.owner)},e.prototype._onWidgetRemoved=function(i,r){r.node.removeAttribute("role"),r.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(r.title)},e}(N),Ns;(function(t){function e(s){return r[s]}t.orientationFromPlacement=e;function i(s){return n[s]}t.directionFromPlacement=i;var r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Ns||(Ns={}));var pc=class extends N{constructor(i,r){super({node:r});this._host=i;this.addClass("hpcc-LuminoAdapter")}onCloseRequest(i){!this._host.$emit("closeRequest",this.node)||super.onCloseRequest(i)}};var Qw=0,jr=class extends lt{constructor(){super();this._childCount=0;this.createPanel(),this.slotChanged(),this._slot.addEventListener("slotchange",()=>this.slotChanged())}slotChanged(){let i=this._slot.assignedElements(),r={};for(let n=0;n<i.length;++n){++this._childCount;let s=i[n],o=document.createElement("slot");o.setAttribute("name",`slot_${++Qw}`),o.style.cssText=s.style.cssText,o.style.display="inline-block";let a=new pc(this,o);r[s.id]=a,a.title.label=s.dataset.label||s.id&&`#${s.id}`||`${s.tagName} ${this._childCount}`,a.title.closable=dO(s.dataset.closable),a.title.caption=s.dataset.caption||a.title.label,a.title.className=s.dataset.className||"",a.title.iconClass=s.dataset.iconClass||"",a.title.iconLabel=s.dataset.iconLabel||"",this.addWidget(a,s,s.dataset.ref?r[s.dataset.ref]:void 0),s.setAttribute("slot",`slot_${Qw}`)}}destruct(){for(let i=0;i<this.childElementCount;++i)--this._childCount,this.children[i].setAttribute("slot","")}exit(){this.destruct(),super.exit()}};var qs=ae`
.lm-Widget {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  cursor: default;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}
`,TZ=ae`
.lm-AccordionPanel[data-orientation='horizontal'] > .lm-AccordionPanel-title {
    display: block;
    transform-origin: top left;
    transform: rotate(-90deg) translate(-100%);
  }
`,EZ=ae`
.lm-CommandPalette {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-CommandPalette-search {
  flex: 0 0 auto;
}

.lm-CommandPalette-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  min-height: 0;
  overflow: auto;
  list-style-type: none;
}

.lm-CommandPalette-header {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-CommandPalette-item {
  display: flex;
  flex-direction: row;
}

.lm-CommandPalette-itemIcon {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemContent {
  flex: 1 1 auto;
  overflow: hidden;
}

.lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemLabel {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-close-icon {
  border: 1px solid transparent;
  background-color: transparent;
  position: absolute;
  z-index: 1;
  right: 3%;
  top: 0;
  bottom: 0;
  margin: auto;
  padding: 7px 0;
  display: none;
  vertical-align: middle;
  outline: 0;
  cursor: pointer;
}
.lm-close-icon:after {
  content: 'X';
  display: block;
  width: 15px;
  height: 15px;
  text-align: center;
  color: #000;
  font-weight: normal;
  font-size: 12px;
  cursor: pointer;
}
`,Aw=ae`
.lm-DockPanel {
  z-index: 0;
}

.lm-DockPanel-widget {
  z-index: 0;
}

.lm-DockPanel-tabBar {
  z-index: 1;
}

.lm-DockPanel-handle {
  z-index: 2;
}

.lm-DockPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-DockPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-DockPanel-handle[data-orientation='horizontal'] {
  cursor: ew-resize;
}

.lm-DockPanel-handle[data-orientation='vertical'] {
  cursor: ns-resize;
}

.lm-DockPanel-handle[data-orientation='horizontal']:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-DockPanel-handle[data-orientation='vertical']:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

.lm-DockPanel-overlay {
  z-index: 3;
  box-sizing: border-box;
  pointer-events: none;
}

.lm-DockPanel-overlay.lm-mod-hidden {
  display: none !important;
}
`,QZ=ae`
.lm-Menu {
  z-index: 10000;
  position: absolute;
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-Menu-content {
  margin: 0;
  padding: 0;
  display: table;
  list-style-type: none;
}

.lm-Menu-item {
  display: table-row;
}

.lm-Menu-item.lm-mod-hidden,
.lm-Menu-item.lm-mod-collapsed {
  display: none !important;
}

.lm-Menu-itemIcon,
.lm-Menu-itemSubmenuIcon {
  display: table-cell;
  text-align: center;
}

.lm-Menu-itemLabel {
  display: table-cell;
  text-align: left;
}

.lm-Menu-itemShortcut {
  display: table-cell;
  text-align: right;
}
`,AZ=ae`
.lm-MenuBar {
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-MenuBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  list-style-type: none;
}

.lm-MenuBar-item {
  box-sizing: border-box;
}

.lm-MenuBar-itemIcon,
.lm-MenuBar-itemLabel {
  display: inline-block;
}
`,MZ=ae`
.lm-ScrollBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-ScrollBar[data-orientation='horizontal'] {
  flex-direction: row;
}

.lm-ScrollBar[data-orientation='vertical'] {
  flex-direction: column;
}

.lm-ScrollBar-button {
  box-sizing: border-box;
  flex: 0 0 auto;
}

.lm-ScrollBar-track {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  flex: 1 1 auto;
}

.lm-ScrollBar-thumb {
  box-sizing: border-box;
  position: absolute;
}
`,mc=ae`
.lm-SplitPanel-child {
  z-index: 0;
}

.lm-SplitPanel-handle {
  z-index: 1;
}

.lm-SplitPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-SplitPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {
  cursor: ew-resize;
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {
  cursor: ns-resize;
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}
`,gc=ae`
.lm-TabBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-TabBar[data-orientation='horizontal'] {
  flex-direction: row;
  align-items: flex-end;
}

.lm-TabBar[data-orientation='vertical'] {
  flex-direction: column;
  align-items: flex-end;
}

.lm-TabBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
}

.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {
  flex-direction: row;
}

.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {
  flex-direction: column;
}

.lm-TabBar-tab {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  overflow: hidden;
  touch-action: none;
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabCloseIcon {
  flex: 0 0 auto;
}

.lm-TabBar-tabLabel {
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
}

.lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
}

.lm-TabBar-tab.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar-addButton.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {
  position: relative;
}

.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {
  left: 0;
  transition: left 150ms ease;
}

.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {
  top: 0;
  transition: top 150ms ease;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {
  transition: none;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
  background: inherit;
}
`,Oc=ae`
.lm-TabPanel-tabBar {
  z-index: 1;
}

.lm-TabPanel-stackedPanel {
  z-index: 0;
}
`,Mw=ae`
body.lm-mod-override-cursor * {
  cursor: inherit !important;
}

host:.lm-mod-override-cursor * {
  cursor: inherit !important;
}

host: > div.lm-mod-override-cursor * {
  cursor: inherit !important;
}
`;var IZ=ae`
.lm-AccordionPanel .lm-AccordionPanel-title {
    box-sizing: border-box;
    padding: 0px 10px;
    background: #e5e5e5;
    border: 1px solid #c0c0c0;
    border-bottom: none;
    font: 12px Helvetica, Arial, sans-serif;
    min-height: 22px;
    max-height: 22px;
    min-width: 35px;
    line-height: 20px;
    margin: 0px;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:focus,
  .lm-AccordionPanel .lm-AccordionPanel-title:hover {
    background: #dbdbdb;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:focus,
  .lm-AccordionPanel
    .lm-AccordionPanel-title:last-of-type:focus:not(.lm-mod-expanded) {
    border: 1px solid lightskyblue;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:last-of-type:not(.lm-mod-expanded) {
    border-bottom: 1px solid #c0c0c0;
  }
  
  .lm-AccordionPanel
    .lm-AccordionPanel-title.lm-mod-expanded
    .lm-AccordionPanel-titleCollapser:before {
    content: '\\f0d8'; /* fa-caret-up */
    font-family: FontAwesome;
  }
  
  .lm-AccordionPanel
    .lm-AccordionPanel-title
    .lm-AccordionPanel-titleCollapser:before {
    content: '\\f0d7'; /* fa-caret-down */
    font-family: FontAwesome;
    position: absolute;
    right: 10px;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-titleLabel {
    padding: 0px 5px;
  }
  `,DZ=ae`
.lm-CommandPalette {
  font-family: sans-serif;
  background: #f5f5f5;
}

.lm-CommandPalette-search {
  padding: 8px;
}

.lm-CommandPalette-wrapper {
  padding: 4px 6px;
  background: white;
  border: 1px solid #e0e0e0;
  position: relative;
}

.lm-CommandPalette-input {
  width: 92%;
  border: none;
  outline: none;
  font-size: 16px;
}

.lm-CommandPalette-header {
  padding: 4px;
  color: #757575;
  font-size: 12px;
  font-weight: 600;
  background: #e1e1e1;
  cursor: pointer;
}

.lm-CommandPalette-header:hover::before {
  content: '\\2026';
  float: right;
  margin-right: 4px;
}

.lm-CommandPalette-header > mark {
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item {
  padding: 4px 8px;
  color: #757575;
  font-size: 13px;
  font-weight: 500;
}

.lm-CommandPalette-emptyMessage {
  padding: 4px;
  color: #757575;
  font-size: 12px;
  font-weight: 600;
  text-align: center;
}

.lm-CommandPalette-item.lm-mod-disabled {
  color: rgba(0, 0, 0, 0.25);
}

.lm-CommandPalette-item.lm-mod-active {
  background: #7fdbff;
}

.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {
  background: #e5e5e5;
}

.lm-CommandPalette-itemIcon {
  display: none;
}

.lm-CommandPalette-itemLabel > mark {
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item.lm-mod-disabled mark {
  color: rgba(0, 0, 0, 0.4);
}

.lm-CommandPalette-itemCaption {
  color: #9e9e9e;
  font-size: 11px;
  font-weight: 400;
}
`,LZ=ae`
.lm-DataGrid {
  min-width: 64px;
  min-height: 64px;
  border: 1px solid #a0a0a0;
}

.lm-DataGrid-scrollCorner {
  background-color: #f0f0f0;
}

.lm-DataGrid-scrollCorner::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
  background-color: #a0a0a0;
}

.lm-DataGrid-cellEditorOccluder {
  pointer-events: none;
  position: absolute;
  overflow: hidden;
}

.lm-DataGrid-cellEditorContainer {
  pointer-events: auto;
  position: absolute;
  background-color: #ffffff;
  box-sizing: border-box;
  box-shadow: 0px 0px 6px #006bf7;
  border: 2px solid #006bf7;
}

.lm-DataGrid-cellEditorContainer.lm-mod-invalid {
  box-shadow: 0px 0px 6px red;
  border: 2px solid red;
}

.lm-DataGrid-cellEditorContainer > form {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.lm-DataGrid-cellEditorWidget {
  width: 100%;
  height: 100%;
  outline: none;
  box-sizing: border-box;
}

.lm-DataGrid-cellEditorInput {
  background-color: #ffffff;
  border: 0;
}

.lm-DataGrid-cellEditorCheckbox {
  margin: 0;
}

.lm-DataGrid-notification {
  position: absolute;
  display: flex;
  overflow: visible;
  animation: fade-in 300ms ease-out;
}

.lm-DataGrid-notificationContainer {
  box-shadow: 0px 2px 5px #999999;
  border-radius: 3px;
  background-color: white;
  color: black;
  border: 1px solid black;
  font-family: sans-serif;
  font-size: 13px;
  padding: 4px;
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
}
`,$w=ae`
.lm-DockPanel-overlay {
  background: rgba(255, 255, 255, 0.6);
  border: 1px dashed black;
  transition-property: top, left, right, bottom;
  transition-duration: 150ms;
  transition-timing-function: ease;
}
`,VZ=ae`
.lm-Menu {
  padding: 3px 0px;
  background: white;
  color: rgba(0, 0, 0, 0.87);
  border: 1px solid #c0c0c0;
  font: 12px Helvetica, Arial, sans-serif;
  box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.2);
}

.lm-Menu-item.lm-mod-active {
  background: #e5e5e5;
}

.lm-Menu-item.lm-mod-disabled {
  color: rgba(0, 0, 0, 0.25);
}

.lm-Menu-itemIcon {
  width: 21px;
  padding: 4px 2px;
}

.lm-Menu-itemLabel {
  padding: 4px 35px 4px 2px;
}

.lm-Menu-itemMnemonic {
  text-decoration: underline;
}

.lm-Menu-itemShortcut {
  padding: 4px 0px;
}

.lm-Menu-itemSubmenuIcon {
  width: 16px;
  padding: 4px 0px;
}

.lm-Menu-item[data-type='separator'] > div {
  padding: 0;
  height: 9px;
}

.lm-Menu-item[data-type='separator'] > div::after {
  content: '';
  display: block;
  position: relative;
  top: 4px;
  border-top: 1px solid #dddddd;
}

.lm-Menu-itemIcon::before,
.lm-Menu-itemSubmenuIcon::before {
  font-family: FontAwesome;
}

.lm-Menu-item.lm-mod-toggled > .lm-Menu-itemIcon::before {
  content: '\\f00c';
}

.lm-Menu-item[data-type='submenu'] > .lm-Menu-itemSubmenuIcon::before {
  content: '\\f0da';
}
`,NZ=ae`
.lm-MenuBar {
  padding-left: 5px;
  background: #fafafa;
  color: rgba(0, 0, 0, 0.87);
  border-bottom: 1px solid #dddddd;
  font: 13px Helvetica, Arial, sans-serif;
}

.lm-MenuBar-menu {
  transform: translateY(-1px);
}

.lm-MenuBar-item {
  padding: 4px 8px;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
}

.lm-MenuBar-item.lm-mod-active {
  background: #e5e5e5;
}

.lm-MenuBar.lm-mod-active .lm-MenuBar-item.lm-mod-active {
  z-index: 10001;
  background: white;
  border-left: 1px solid #c0c0c0;
  border-right: 1px solid #c0c0c0;
  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2);
}
`,zZ=ae`
.lm-ScrollBar[data-orientation='horizontal'] {
  min-height: 16px;
  max-height: 16px;
  min-width: 45px;
  border-top: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] {
  min-width: 16px;
  max-width: 16px;
  min-height: 45px;
  border-left: 1px solid #a0a0a0;
}

.lm-ScrollBar-button {
  background-color: #f0f0f0;
  background-position: center center;
  min-height: 15px;
  max-height: 15px;
  min-width: 15px;
  max-width: 15px;
}

.lm-ScrollBar-button:hover {
  background-color: #dadada;
}

.lm-ScrollBar-button.lm-mod-active {
  background-color: #cdcdcd;
}

.lm-ScrollBar-track {
  background: #f0f0f0;
}

.lm-ScrollBar-thumb {
  background: #cdcdcd;
}

.lm-ScrollBar-thumb:hover {
  background: #bababa;
}

.lm-ScrollBar-thumb.lm-mod-active {
  background: #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-thumb {
  height: 100%;
  min-width: 15px;
  border-left: 1px solid #a0a0a0;
  border-right: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-thumb {
  width: 100%;
  min-height: 15px;
  border-top: 1px solid #a0a0a0;
  border-bottom: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-button[data-action='decrement']:before {
  content: '\\f0d9';  /* fa-caret-left */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-button[data-action='increment']:before {
  content: '\\f0da';  /* fa-caret-right */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-button[data-action='decrement']:before {
  content: '\\f0d8';  /* fa-caret-up */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-button[data-action='increment']:before {
  content: '\\f0d7';  /* fa-caret-down */
  font-family: FontAwesome;
}
`,bc=ae`
.lm-TabBar {
  min-height: 24px;
  max-height: 24px;
}

.lm-TabBar-content {
  min-width: 0;
  min-height: 0;
  align-items: flex-end;
  border-bottom: 1px solid #c0c0c0;
}

.lm-TabBar-tab {
  padding: 0px 10px;
  background: #e5e5e5;
  border: 1px solid #c0c0c0;
  border-bottom: none;
  font: 12px Helvetica, Arial, sans-serif;
  flex: 0 1 125px;
  min-height: 20px;
  max-height: 20px;
  min-width: 35px;
  margin-left: -1px;
  line-height: 20px;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  padding: 0px;
  border: 0px;
  font: 12px Helvetica, Arial, sans-serif;
}

.lm-TabBar-tab.lm-mod-current {
  background: white;
}

.lm-TabBar-tab:hover:not(.lm-mod-current) {
  background: #f0f0f0;
}

.lm-TabBar-tab:first-child {
  margin-left: 0;
}

.lm-TabBar-tab.lm-mod-current {
  min-height: 23px;
  max-height: 23px;
  transform: translateY(1px);
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabLabel,
.lm-TabBar-tabCloseIcon {
  display: inline-block;
}

.lm-TabBar-tab.lm-mod-closable > .lm-TabBar-tabCloseIcon {
  margin-left: 4px;
}

.lm-TabBar .lm-TabBar-addButton {
  padding: 0px 6px;
  border-bottom: 1px solid #c0c0c0;
}

.lm-TabBar-tab.lm-mod-closable > .lm-TabBar-tabCloseIcon:before {
  content: '\\f00d'; /* fa-close */
  font-family: FontAwesome;
}

.lm-TabBar .lm-TabBar-addButton:before {
  content: '\\f067'; /* fa-plus */
  font-family: FontAwesome;
}

.lm-TabBar-tab.lm-mod-drag-image {
  min-height: 23px;
  max-height: 23px;
  min-width: 125px;
  border: none;
  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  transform: translateX(-40%) translateY(-58%);
}
`;var w2=Ge`\
<div ${xe("_div")}>
</div>
<slot ${xe("_slot")}></slot>`,_2=ae`
${He("inline-block")} 

:host > slot {
    visibility: hidden;
}

${Mw}
${qs}
${mc}
${gc}
${Oc}
${Aw}

${$w}
${bc}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
    border-top: none;
}
`,yc=class extends jr{constructor(){super()}createPanel(){this._dockPanel=new cc({document:this.shadowRoot})}addWidget(e,i,r){this._dockPanel.addWidget(e,{mode:i.dataset.mode,ref:r})}enter(){super.enter(),N.attach(this._dockPanel,this._div),V.installMessageHook(this._dockPanel,this)}update(e){super.update(e),this._dockPanel.node.style.width=`${this.clientWidth}px`,this._dockPanel.node.style.height=`${this.clientHeight}px`,this._dockPanel.update()}exit(){V.removeMessageHook(this._dockPanel,this),N.detach(this._dockPanel),super.exit()}messageHook(e,i){if(e===this._dockPanel){switch(i.type){case"child-added":case"child-hidden":case"child-removed":case"child-shown":case"closeRequest":case"fit-request":case"layout-modified":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${i.type}`)}this.$emit(i.type,i)}return!0}};yc=se([Ke("hpcc-dockpanel",{template:w2,styles:_2})],yc);var S2=Ge`\
<div ${xe("_div")}>
</div>
<slot ${xe("_slot")}></slot>`,k2=ae`
${He("inline-block")} 

${qs}
${mc}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
}`,Zs=class extends jr{constructor(){super();this.orientation="horizontal";this.spacing=4}createPanel(){this._splitPanel=new En({orientation:this.orientation,spacing:this.spacing})}addWidget(i,r,n){this._splitPanel.addWidget(i),r.dataset.border_width!==void 0&&(i.node.style.borderWidth=`${r.dataset.border_width}px`),r.dataset.padding!==void 0&&(i.node.style.padding=`${r.dataset.padding}px`)}enter(){super.enter(),N.attach(this._splitPanel,this._div),V.installMessageHook(this._splitPanel,this)}update(i){super.update(i),this._splitPanel.orientation=this.orientation,this._splitPanel.spacing=this.spacing,this._splitPanel.node.style.width=`${this.clientWidth}px`,this._splitPanel.node.style.height=`${this.clientHeight}px`,this._splitPanel.update(),this.$emit("update-request",this)}exit(){V.removeMessageHook(this._splitPanel,this),N.detach(this._splitPanel),super.exit()}messageHook(i,r){if(i===this._splitPanel){switch(r.type){case"fit-request":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${r.type}`)}this.$emit(r.type,r)}return!0}};se([ye],Zs.prototype,"orientation",2),se([ye({type:"number"})],Zs.prototype,"spacing",2),Zs=se([Ke("hpcc-splitpanel",{template:S2,styles:k2})],Zs);var P2=Ge`\
<div ${xe("_div")}>
</div>
<slot ${xe("_slot")}></slot>`,C2=ae`
${He("inline-block")} 

:host > slot {
    visibility: hidden;
}

${qs}
${gc}
${Oc}

${bc}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
}

:host-context([tab_placement="top"]) .hpcc-LuminoAdapter  {
    border-top: none;
}

:host-context([tab_placement="bottom"]) .hpcc-LuminoAdapter  {
    border-bottom: none;
}
`,Qn=class extends jr{constructor(){super();this.tabs_movable=!1;this.add_button_enabled=!1;this.tab_placement="top"}createPanel(){this._tabPanel=new Ew({document:this.shadowRoot,tabsMovable:this.tabs_movable,addButtonEnabled:this.add_button_enabled,tabPlacement:this.tab_placement})}addWidget(i,r,n){this._tabPanel.addWidget(i)}enter(){super.enter(),N.attach(this._tabPanel,this._div),V.installMessageHook(this._tabPanel,this)}update(i){super.update(i),this._tabPanel.tabsMovable=this.tabs_movable,this._tabPanel.addButtonEnabled=this.add_button_enabled,this._tabPanel.tabPlacement=this.tab_placement,this._tabPanel.node.style.width=`${this.clientWidth}px`,this._tabPanel.node.style.height=`${this.clientHeight}px`,this._tabPanel.update()}exit(){V.removeMessageHook(this._tabPanel,this),N.detach(this._tabPanel),super.exit()}messageHook(i,r){if(i===this._tabPanel){switch(r.type){case"fit-request":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${r.type}`)}this.$emit(r.type,r)}return!0}};se([ye({type:"boolean"})],Qn.prototype,"tabs_movable",2),se([ye({type:"boolean"})],Qn.prototype,"add_button_enabled",2),se([ye],Qn.prototype,"tab_placement",2),Qn=se([Ke("hpcc-tabpanel",{template:P2,styles:C2})],Qn);var T2=Ge`\
<div ${xe("_div")}>
    <slot></slot>
</div>`,E2=ae`
${He("inline-block")} 
`,vc=class extends lt{constructor(){super()}enter(){super.enter()}update(e){super.update(e),this._div.style.width=`${this.clientWidth}px`,this._div.style.height=`${this.clientHeight}px`}};vc=se([Ke("hpcc-pane",{template:T2,styles:E2})],vc);var Q2={value:()=>{}};function Iw(){for(var t=0,e=arguments.length,i={},r;t<e;++t){if(!(r=arguments[t]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new xc(i)}function xc(t){this._=t}function A2(t,e){return t.trim().split(/^|\s+/).map(function(i){var r="",n=i.indexOf(".");if(n>=0&&(r=i.slice(n+1),i=i.slice(0,n)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}xc.prototype=Iw.prototype={constructor:xc,on:function(t,e){var i=this._,r=A2(t+"",i),n,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((n=(t=r[s]).type)&&(n=M2(i[n],t.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=r[s]).type)i[n]=Rw(i[n],t.name,e);else if(e==null)for(n in i)i[n]=Rw(i[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new xc(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var i=new Array(n),r=0,n,s;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,n=s.length;r<n;++r)s[r].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],n=0,s=r.length;n<s;++n)r[n].value.apply(e,i)}};function M2(t,e){for(var i=0,r=t.length,n;i<r;++i)if((n=t[i]).name===e)return n.value}function Rw(t,e,i){for(var r=0,n=t.length;r<n;++r)if(t[r].name===e){t[r]=Q2,t=t.slice(0,r).concat(t.slice(r+1));break}return i!=null&&t.push({name:e,value:i}),t}var ka=Iw;var wc="http://www.w3.org/1999/xhtml",Em={svg:"http://www.w3.org/2000/svg",xhtml:wc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ar(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Em.hasOwnProperty(e)?{space:Em[e],local:t}:t}function $2(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===wc&&e.documentElement.namespaceURI===wc?e.createElement(t):e.createElementNS(i,t)}}function R2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _c(t){var e=ar(t);return(e.local?R2:$2)(e)}function I2(){}function An(t){return t==null?I2:function(){return this.querySelector(t)}}function Dw(t){typeof t!="function"&&(t=An(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var s=e[n],o=s.length,a=r[n]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ne(r,this._parents)}function Qm(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function D2(){return[]}function Pa(t){return t==null?D2:function(){return this.querySelectorAll(t)}}function L2(t){return function(){return Qm(t.apply(this,arguments))}}function Lw(t){typeof t=="function"?t=L2(t):t=Pa(t);for(var e=this._groups,i=e.length,r=[],n=[],s=0;s<i;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),n.push(l));return new Ne(r,n)}function Ca(t){return function(){return this.matches(t)}}function Sc(t){return function(e){return e.matches(t)}}var V2=Array.prototype.find;function N2(t){return function(){return V2.call(this.children,t)}}function z2(){return this.firstElementChild}function Vw(t){return this.select(t==null?z2:N2(typeof t=="function"?t:Sc(t)))}var B2=Array.prototype.filter;function q2(){return Array.from(this.children)}function Z2(t){return function(){return B2.call(this.children,t)}}function Nw(t){return this.selectAll(t==null?q2:Z2(typeof t=="function"?t:Sc(t)))}function zw(t){typeof t!="function"&&(t=Ca(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var s=e[n],o=s.length,a=r[n]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Ne(r,this._parents)}function kc(t){return new Array(t.length)}function Bw(){return new Ne(this._enter||this._groups.map(kc),this._parents)}function Ta(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ta.prototype={constructor:Ta,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qw(t){return function(){return t}}function W2(t,e,i,r,n,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):i[o]=new Ta(t,s[o]);for(;o<l;++o)(a=e[o])&&(n[o]=a)}function j2(t,e,i,r,n,s,o){var a,l,u=new Map,c=e.length,h=s.length,f=new Array(c),d;for(a=0;a<c;++a)(l=e[a])&&(f[a]=d=o.call(l,l.__data__,a,e)+"",u.has(d)?n[a]=l:u.set(d,l));for(a=0;a<h;++a)d=o.call(t,s[a],a,s)+"",(l=u.get(d))?(r[a]=l,l.__data__=s[a],u.delete(d)):i[a]=new Ta(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(f[a])===l&&(n[a]=l)}function X2(t){return t.__data__}function Zw(t,e){if(!arguments.length)return Array.from(this,X2);var i=e?j2:W2,r=this._parents,n=this._groups;typeof t!="function"&&(t=qw(t));for(var s=n.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],h=n[u],f=h.length,d=Y2(t.call(c,c&&c.__data__,u,r)),p=d.length,m=a[u]=new Array(p),g=o[u]=new Array(p),O=l[u]=new Array(f);i(c,h,m,g,O,d,e);for(var y=0,v=0,k,C;y<p;++y)if(k=m[y]){for(y>=v&&(v=y+1);!(C=g[v])&&++v<p;);k._next=C||null}}return o=new Ne(o,r),o._enter=a,o._exit=l,o}function Y2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ww(){return new Ne(this._exit||this._groups.map(kc),this._parents)}function jw(t,e,i){var r=this.enter(),n=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(n=e(n),n&&(n=n.selection())),i==null?s.remove():i(s),r&&n?r.merge(n).order():n}function Xw(t){for(var e=t.selection?t.selection():t,i=this._groups,r=e._groups,n=i.length,s=r.length,o=Math.min(n,s),a=new Array(n),l=0;l<o;++l)for(var u=i[l],c=r[l],h=u.length,f=a[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<n;++l)a[l]=i[l];return new Ne(a,this._parents)}function Yw(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var r=t[e],n=r.length-1,s=r[n],o;--n>=0;)(o=r[n])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Fw(t){t||(t=F2);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var i=this._groups,r=i.length,n=new Array(r),s=0;s<r;++s){for(var o=i[s],a=o.length,l=n[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Ne(n,this._parents).order()}function F2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Uw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hw(){return Array.from(this)}function Gw(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],n=0,s=r.length;n<s;++n){var o=r[n];if(o)return o}return null}function Kw(){let t=0;for(let e of this)++t;return t}function Jw(){return!this.node()}function e1(t){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var n=e[i],s=0,o=n.length,a;s<o;++s)(a=n[s])&&t.call(a,a.__data__,s,n);return this}function U2(t){return function(){this.removeAttribute(t)}}function H2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G2(t,e){return function(){this.setAttribute(t,e)}}function K2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function J2(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function eR(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function t1(t,e){var i=ar(t);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((e==null?i.local?H2:U2:typeof e=="function"?i.local?eR:J2:i.local?K2:G2)(i,e))}function Pc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tR(t){return function(){this.style.removeProperty(t)}}function iR(t,e,i){return function(){this.style.setProperty(t,e,i)}}function rR(t,e,i){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,i)}}function i1(t,e,i){return arguments.length>1?this.each((e==null?tR:typeof e=="function"?rR:iR)(t,e,i==null?"":i)):Xr(this.node(),t)}function Xr(t,e){return t.style.getPropertyValue(e)||Pc(t).getComputedStyle(t,null).getPropertyValue(e)}function nR(t){return function(){delete this[t]}}function sR(t,e){return function(){this[t]=e}}function oR(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function r1(t,e){return arguments.length>1?this.each((e==null?nR:typeof e=="function"?oR:sR)(t,e)):this.node()[t]}function n1(t){return t.trim().split(/^|\s+/)}function Am(t){return t.classList||new s1(t)}function s1(t){this._node=t,this._names=n1(t.getAttribute("class")||"")}s1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function o1(t,e){for(var i=Am(t),r=-1,n=e.length;++r<n;)i.add(e[r])}function a1(t,e){for(var i=Am(t),r=-1,n=e.length;++r<n;)i.remove(e[r])}function aR(t){return function(){o1(this,t)}}function lR(t){return function(){a1(this,t)}}function uR(t,e){return function(){(e.apply(this,arguments)?o1:a1)(this,t)}}function l1(t,e){var i=n1(t+"");if(arguments.length<2){for(var r=Am(this.node()),n=-1,s=i.length;++n<s;)if(!r.contains(i[n]))return!1;return!0}return this.each((typeof e=="function"?uR:e?aR:lR)(i,e))}function cR(){this.textContent=""}function hR(t){return function(){this.textContent=t}}function fR(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function u1(t){return arguments.length?this.each(t==null?cR:(typeof t=="function"?fR:hR)(t)):this.node().textContent}function dR(){this.innerHTML=""}function pR(t){return function(){this.innerHTML=t}}function mR(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function c1(t){return arguments.length?this.each(t==null?dR:(typeof t=="function"?mR:pR)(t)):this.node().innerHTML}function gR(){this.nextSibling&&this.parentNode.appendChild(this)}function h1(){return this.each(gR)}function OR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f1(){return this.each(OR)}function d1(t){var e=typeof t=="function"?t:_c(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bR(){return null}function p1(t,e){var i=typeof t=="function"?t:_c(t),r=e==null?bR:typeof e=="function"?e:An(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function yR(){var t=this.parentNode;t&&t.removeChild(this)}function m1(){return this.each(yR)}function vR(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xR(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g1(t){return this.select(t?xR:vR)}function O1(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wR(t){return function(e){t.call(this,e,this.__data__)}}function _R(t){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{type:e,name:i}})}function SR(t){return function(){var e=this.__on;if(e){for(var i=0,r=-1,n=e.length,s;i<n;++i)s=e[i],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function kR(t,e,i){return function(){var r=this.__on,n,s=wR(e);if(r){for(var o=0,a=r.length;o<a;++o)if((n=r[o]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=i),n.value=e;return}}this.addEventListener(t.type,s,i),n={type:t.type,name:t.name,value:e,listener:s,options:i},r?r.push(n):this.__on=[n]}}function b1(t,e,i){var r=_R(t+""),n,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(n=0,c=a[l];n<s;++n)if((o=r[n]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?kR:SR,n=0;n<s;++n)this.each(a(r[n],e,i));return this}function y1(t,e,i){var r=Pc(t),n=r.CustomEvent;typeof n=="function"?n=new n(e,i):(n=r.document.createEvent("Event"),i?(n.initEvent(e,i.bubbles,i.cancelable),n.detail=i.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function PR(t,e){return function(){return y1(this,t,e)}}function CR(t,e){return function(){return y1(this,t,e.apply(this,arguments))}}function v1(t,e){return this.each((typeof e=="function"?CR:PR)(t,e))}function*x1(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],n=0,s=r.length,o;n<s;++n)(o=r[n])&&(yield o)}var Mm=[null];function Ne(t,e){this._groups=t,this._parents=e}function w1(){return new Ne([[document.documentElement]],Mm)}function TR(){return this}Ne.prototype=w1.prototype={constructor:Ne,select:Dw,selectAll:Lw,selectChild:Vw,selectChildren:Nw,filter:zw,data:Zw,enter:Bw,exit:Ww,join:jw,merge:Xw,selection:TR,order:Yw,sort:Fw,call:Uw,nodes:Hw,node:Gw,size:Kw,empty:Jw,each:e1,attr:t1,style:i1,property:r1,classed:l1,text:u1,html:c1,raise:h1,lower:f1,append:d1,insert:p1,remove:m1,clone:g1,datum:O1,on:b1,dispatch:v1,[Symbol.iterator]:x1};var lr=w1;function ii(t){return typeof t=="string"?new Ne([[document.querySelector(t)]],[document.documentElement]):new Ne([[t]],Mm)}function _1(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ur(t,e){if(t=_1(t),e===void 0&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}}return[t.pageX,t.pageY]}var Cc={capture:!0,passive:!1};function Tc(t){t.preventDefault(),t.stopImmediatePropagation()}function $m(t){var e=t.document.documentElement,i=ii(t).on("dragstart.drag",Tc,Cc);"onselectstart"in e?i.on("selectstart.drag",Tc,Cc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rm(t,e){var i=t.document.documentElement,r=ii(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tc,Cc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function Ec(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function Im(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function Aa(){}var Ea=.7,Mc=1/Ea,Ws="\\s*([+-]?\\d+)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ER=/^#([0-9a-f]{3,8})$/,QR=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),AR=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),MR=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Qa}\\)$`),$R=new RegExp(`^rgba\\(${zi},${zi},${zi},${Qa}\\)$`),RR=new RegExp(`^hsl\\(${Qa},${zi},${zi}\\)$`),IR=new RegExp(`^hsla\\(${Qa},${zi},${zi},${Qa}\\)$`),S1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ec(Aa,Yr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:DR,formatHsl:LR,formatRgb:P1,toString:P1});function k1(){return this.rgb().formatHex()}function DR(){return this.rgb().formatHex8()}function LR(){return M1(this).formatHsl()}function P1(){return this.rgb().formatRgb()}function Yr(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=ER.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?C1(e):i===3?new Mt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Qc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Qc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QR.exec(t))?new Mt(e[1],e[2],e[3],1):(e=AR.exec(t))?new Mt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MR.exec(t))?Qc(e[1],e[2],e[3],e[4]):(e=$R.exec(t))?Qc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RR.exec(t))?Q1(e[1],e[2]/100,e[3]/100,1):(e=IR.exec(t))?Q1(e[1],e[2]/100,e[3]/100,e[4]):S1.hasOwnProperty(t)?C1(S1[t]):t==="transparent"?new Mt(NaN,NaN,NaN,0):null}function C1(t){return new Mt(t>>16&255,t>>8&255,t&255,1)}function Qc(t,e,i,r){return r<=0&&(t=e=i=NaN),new Mt(t,e,i,r)}function VR(t){return t instanceof Aa||(t=Yr(t)),t?(t=t.rgb(),new Mt(t.r,t.g,t.b,t.opacity)):new Mt}function js(t,e,i,r){return arguments.length===1?VR(t):new Mt(t,e,i,r==null?1:r)}function Mt(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}Ec(Mt,js,Im(Aa,{brighter(t){return t=t==null?Mc:Math.pow(Mc,t),new Mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ea:Math.pow(Ea,t),new Mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mt($n(this.r),$n(this.g),$n(this.b),$c(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:NR,formatRgb:E1,toString:E1}));function T1(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function NR(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function E1(){let t=$c(this.opacity);return`${t===1?"rgb(":"rgba("}${$n(this.r)}, ${$n(this.g)}, ${$n(this.b)}${t===1?")":`, ${t})`}`}function $c(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $n(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=$n(t),(t<16?"0":"")+t.toString(16)}function Q1(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,i,r)}function M1(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof Aa||(t=Yr(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,n=Math.min(e,i,r),s=Math.max(e,i,r),o=NaN,a=s-n,l=(s+n)/2;return a?(e===s?o=(i-r)/a+(i<r)*6:i===s?o=(r-e)/a+2:o=(e-i)/a+4,a/=l<.5?s+n:2-s-n,o*=60):a=l>0&&l<1?0:o,new xi(o,a,l,t.opacity)}function $1(t,e,i,r){return arguments.length===1?M1(t):new xi(t,e,i,r==null?1:r)}function xi(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}Ec(xi,$1,Im(Aa,{brighter(t){return t=t==null?Mc:Math.pow(Mc,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ea:Math.pow(Ea,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,n=2*i-r;return new Mt(Dm(t>=240?t-240:t+120,n,r),Dm(t,n,r),Dm(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new xi(A1(this.h),Ac(this.s),Ac(this.l),$c(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=$c(this.opacity);return`${t===1?"hsl(":"hsla("}${A1(this.h)}, ${Ac(this.s)*100}%, ${Ac(this.l)*100}%${t===1?")":`, ${t})`}`}}));function A1(t){return t=(t||0)%360,t<0?t+360:t}function Ac(t){return Math.max(0,Math.min(1,t||0))}function Dm(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}function Lm(t,e,i,r,n){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*i+(1+3*t+3*s-3*o)*r+o*n)/6}function R1(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),n=t[r],s=t[r+1],o=r>0?t[r-1]:2*n-s,a=r<e-1?t[r+2]:2*s-n;return Lm((i-r/e)*e,o,n,s,a)}}function I1(t){var e=t.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*e),n=t[(r+e-1)%e],s=t[r%e],o=t[(r+1)%e],a=t[(r+2)%e];return Lm((i-r/e)*e,n,s,o,a)}}var Vm=t=>()=>t;function zR(t,e){return function(i){return t+i*e}}function BR(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function D1(t){return(t=+t)==1?Rc:function(e,i){return i-e?BR(e,i,t):Vm(isNaN(e)?i:e)}}function Rc(t,e){var i=e-t;return i?zR(t,i):Vm(isNaN(t)?e:t)}var Ic=function t(e){var i=D1(e);function r(n,s){var o=i((n=js(n)).r,(s=js(s)).r),a=i(n.g,s.g),l=i(n.b,s.b),u=Rc(n.opacity,s.opacity);return function(c){return n.r=o(c),n.g=a(c),n.b=l(c),n.opacity=u(c),n+""}}return r.gamma=t,r}(1);function L1(t){return function(e){var i=e.length,r=new Array(i),n=new Array(i),s=new Array(i),o,a;for(o=0;o<i;++o)a=js(e[o]),r[o]=a.r||0,n[o]=a.g||0,s[o]=a.b||0;return r=t(r),n=t(n),s=t(s),a.opacity=1,function(l){return a.r=r(l),a.g=n(l),a.b=s(l),a+""}}}var qR=L1(R1),ZR=L1(I1);function ri(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nm=new RegExp(zm.source,"g");function WR(t){return function(){return t}}function jR(t){return function(e){return t(e)+""}}function Bm(t,e){var i=zm.lastIndex=Nm.lastIndex=0,r,n,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=zm.exec(t))&&(n=Nm.exec(e));)(s=n.index)>i&&(s=e.slice(i,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:ri(r,n)})),i=Nm.lastIndex;return i<e.length&&(s=e.slice(i),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?jR(l[0].x):WR(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}var V1=180/Math.PI,Dc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qm(t,e,i,r,n,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*i+e*r)&&(i-=t*l,r-=e*l),(a=Math.sqrt(i*i+r*r))&&(i/=a,r/=a,l/=a),t*r<e*i&&(t=-t,e=-e,l=-l,o=-o),{translateX:n,translateY:s,rotate:Math.atan2(e,t)*V1,skewX:Math.atan(l)*V1,scaleX:o,scaleY:a}}var Lc;function N1(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Dc:qm(e.a,e.b,e.c,e.d,e.e,e.f)}function z1(t){return t==null?Dc:(Lc||(Lc=document.createElementNS("http://www.w3.org/2000/svg","g")),Lc.setAttribute("transform",t),(t=Lc.transform.baseVal.consolidate())?(t=t.matrix,qm(t.a,t.b,t.c,t.d,t.e,t.f)):Dc)}function B1(t,e,i,r){function n(u){return u.length?u.pop()+" ":""}function s(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push("translate(",null,e,null,i);p.push({i:m-4,x:ri(u,h)},{i:m-2,x:ri(c,f)})}else(h||f)&&d.push("translate("+h+e+f+i)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(n(h)+"rotate(",null,r)-2,x:ri(u,c)})):c&&h.push(n(h)+"rotate("+c+r)}function a(u,c,h,f){u!==c?f.push({i:h.push(n(h)+"skewX(",null,r)-2,x:ri(u,c)}):c&&h.push(n(h)+"skewX("+c+r)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var m=d.push(n(d)+"scale(",null,",",null,")");p.push({i:m-4,x:ri(u,h)},{i:m-2,x:ri(c,f)})}else(h!==1||f!==1)&&d.push(n(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),a(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,m=f.length,g;++p<m;)h[(g=f[p]).i]=g.x(d);return h.join("")}}}var Zm=B1(N1,"px, ","px)","deg)"),Wm=B1(z1,", ",")",")");var XR=1e-12;function q1(t){return((t=Math.exp(t))+1/t)/2}function YR(t){return((t=Math.exp(t))-1/t)/2}function FR(t){return((t=Math.exp(2*t))-1)/(t+1)}var jm=function t(e,i,r){function n(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],h=o[1],f=o[2],d=c-a,p=h-l,m=d*d+p*p,g,O;if(m<XR)O=Math.log(f/u)/e,g=function(P){return[a+P*d,l+P*p,u*Math.exp(e*P*O)]};else{var y=Math.sqrt(m),v=(f*f-u*u+r*m)/(2*u*i*y),k=(f*f-u*u-r*m)/(2*f*i*y),C=Math.log(Math.sqrt(v*v+1)-v),A=Math.log(Math.sqrt(k*k+1)-k);O=(A-C)/e,g=function(P){var Q=P*O,S=q1(C),_=u/(i*y)*(S*FR(e*Q+C)-YR(C));return[a+_*d,l+_*p,u*S/q1(e*Q+C)]}}return g.duration=O*1e3*e/Math.SQRT2,g}return n.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},n}(Math.SQRT2,2,4);var Xs=0,$a=0,Ma=0,W1=1e3,Vc,Ra,Nc=0,Rn=0,zc=0,Ia=typeof performance=="object"&&performance.now?performance:Date,j1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function La(){return Rn||(j1(UR),Rn=Ia.now()+zc)}function UR(){Rn=0}function Da(){this._call=this._time=this._next=null}Da.prototype=Bc.prototype={constructor:Da,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?La():+i)+(e==null?0:+e),!this._next&&Ra!==this&&(Ra?Ra._next=this:Vc=this,Ra=this),this._call=t,this._time=i,Xm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xm())}};function Bc(t,e,i){var r=new Da;return r.restart(t,e,i),r}function X1(){La(),++Xs;for(var t=Vc,e;t;)(e=Rn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Xs}function Z1(){Rn=(Nc=Ia.now())+zc,Xs=$a=0;try{X1()}finally{Xs=0,GR(),Rn=0}}function HR(){var t=Ia.now(),e=t-Nc;e>W1&&(zc-=e,Nc=t)}function GR(){for(var t,e=Vc,i,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Vc=i);Ra=t,Xm(r)}function Xm(t){if(!Xs){$a&&($a=clearTimeout($a));var e=t-Rn;e>24?(t<1/0&&($a=setTimeout(Z1,t-Ia.now()-zc)),Ma&&(Ma=clearInterval(Ma))):(Ma||(Nc=Ia.now(),Ma=setInterval(HR,W1)),Xs=1,j1(Z1))}}function qc(t,e,i){var r=new Da;return e=e==null?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,i),r}var KR=ka("start","end","cancel","interrupt"),JR=[],U1=0,Y1=1,Wc=2,Zc=3,F1=4,jc=5,Va=6;function Fr(t,e,i,r,n,s){var o=t.__transition;if(!o)t.__transition={};else if(i in o)return;eI(t,i,{name:e,index:r,group:n,on:KR,tween:JR,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:U1})}function Na(t,e){var i=Ue(t,e);if(i.state>U1)throw new Error("too late; already scheduled");return i}function ot(t,e){var i=Ue(t,e);if(i.state>Zc)throw new Error("too late; already running");return i}function Ue(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function eI(t,e,i){var r=t.__transition,n;r[e]=i,i.timer=Bc(s,0,i.time);function s(u){i.state=Y1,i.timer.restart(o,i.delay,i.time),i.delay<=u&&o(u-i.delay)}function o(u){var c,h,f,d;if(i.state!==Y1)return l();for(c in r)if(d=r[c],d.name===i.name){if(d.state===Zc)return qc(o);d.state===F1?(d.state=Va,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Va,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(qc(function(){i.state===Zc&&(i.state=F1,i.timer.restart(a,i.delay,i.time),a(u))}),i.state=Wc,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Wc){for(i.state=Zc,n=new Array(f=i.tween.length),c=0,h=-1;c<f;++c)(d=i.tween[c].value.call(t,t.__data__,i.index,i.group))&&(n[++h]=d);n.length=h+1}}function a(u){for(var c=u<i.duration?i.ease.call(null,u/i.duration):(i.timer.restart(l),i.state=jc,1),h=-1,f=n.length;++h<f;)n[h].call(t,c);i.state===jc&&(i.on.call("end",t,t.__data__,i.index,i.group),l())}function l(){i.state=Va,i.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Ur(t,e){var i=t.__transition,r,n,s=!0,o;if(i){e=e==null?null:e+"";for(o in i){if((r=i[o]).name!==e){s=!1;continue}n=r.state>Wc&&r.state<jc,r.state=Va,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete i[o]}s&&delete t.__transition}}function H1(t){return this.each(function(){Ur(this,t)})}function tI(t,e){var i,r;return function(){var n=ot(this,t),s=n.tween;if(s!==i){r=i=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}n.tween=r}}function iI(t,e,i){var r,n;if(typeof i!="function")throw new Error;return function(){var s=ot(this,t),o=s.tween;if(o!==r){n=(r=o).slice();for(var a={name:e,value:i},l=0,u=n.length;l<u;++l)if(n[l].name===e){n[l]=a;break}l===u&&n.push(a)}s.tween=n}}function G1(t,e){var i=this._id;if(t+="",arguments.length<2){for(var r=Ue(this.node(),i).tween,n=0,s=r.length,o;n<s;++n)if((o=r[n]).name===t)return o.value;return null}return this.each((e==null?tI:iI)(i,t,e))}function Ys(t,e,i){var r=t._id;return t.each(function(){var n=ot(this,r);(n.value||(n.value={}))[e]=i.apply(this,arguments)}),function(n){return Ue(n,r).value[e]}}function Xc(t,e){var i;return(typeof e=="number"?ri:e instanceof Yr?Ic:(i=Yr(e))?(e=i,Ic):Bm)(t,e)}function rI(t){return function(){this.removeAttribute(t)}}function nI(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sI(t,e,i){var r,n=i+"",s;return function(){var o=this.getAttribute(t);return o===n?null:o===r?s:s=e(r=o,i)}}function oI(t,e,i){var r,n=i+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?s:s=e(r=o,i)}}function aI(t,e,i){var r,n,s;return function(){var o,a=i(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===n?s:(n=l,s=e(r=o,a)))}}function lI(t,e,i){var r,n,s;return function(){var o,a=i(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===n?s:(n=l,s=e(r=o,a)))}}function K1(t,e){var i=ar(t),r=i==="transform"?Wm:Xc;return this.attrTween(t,typeof e=="function"?(i.local?lI:aI)(i,r,Ys(this,"attr."+t,e)):e==null?(i.local?nI:rI)(i):(i.local?oI:sI)(i,r,e))}function uI(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function cI(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function hI(t,e){var i,r;function n(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&cI(t,s)),i}return n._value=e,n}function fI(t,e){var i,r;function n(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&uI(t,s)),i}return n._value=e,n}function J1(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var r=ar(t);return this.tween(i,(r.local?hI:fI)(r,e))}function dI(t,e){return function(){Na(this,t).delay=+e.apply(this,arguments)}}function pI(t,e){return e=+e,function(){Na(this,t).delay=e}}function e_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dI:pI)(e,t)):Ue(this.node(),e).delay}function mI(t,e){return function(){ot(this,t).duration=+e.apply(this,arguments)}}function gI(t,e){return e=+e,function(){ot(this,t).duration=e}}function t_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mI:gI)(e,t)):Ue(this.node(),e).duration}function OI(t,e){if(typeof e!="function")throw new Error;return function(){ot(this,t).ease=e}}function i_(t){var e=this._id;return arguments.length?this.each(OI(e,t)):Ue(this.node(),e).ease}function bI(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;ot(this,t).ease=i}}function r_(t){if(typeof t!="function")throw new Error;return this.each(bI(this._id,t))}function n_(t){typeof t!="function"&&(t=Ca(t));for(var e=this._groups,i=e.length,r=new Array(i),n=0;n<i;++n)for(var s=e[n],o=s.length,a=r[n]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new wt(r,this._parents,this._name,this._id)}function s_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,r=e.length,n=i.length,s=Math.min(r,n),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=i[a],c=l.length,h=o[a]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;a<r;++a)o[a]=e[a];return new wt(o,this._parents,this._name,this._id)}function yI(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function vI(t,e,i){var r,n,s=yI(e)?Na:ot;return function(){var o=s(this,t),a=o.on;a!==r&&(n=(r=a).copy()).on(e,i),o.on=n}}function o_(t,e){var i=this._id;return arguments.length<2?Ue(this.node(),i).on.on(t):this.each(vI(i,t,e))}function xI(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function a_(){return this.on("end.remove",xI(this._id))}function l_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=An(t));for(var r=this._groups,n=r.length,s=new Array(n),o=0;o<n;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,h,f=0;f<l;++f)(c=a[f])&&(h=t.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Fr(u[f],e,i,f,u,Ue(c,i)));return new wt(s,this._parents,e,i)}function u_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=Pa(t));for(var r=this._groups,n=r.length,s=[],o=[],a=0;a<n;++a)for(var l=r[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,p=Ue(c,i),m=0,g=f.length;m<g;++m)(d=f[m])&&Fr(d,e,i,m,f,p);s.push(f),o.push(c)}return new wt(s,o,e,i)}var wI=lr.prototype.constructor;function c_(){return new wI(this._groups,this._parents)}function _I(t,e){var i,r,n;return function(){var s=Xr(this,t),o=(this.style.removeProperty(t),Xr(this,t));return s===o?null:s===i&&o===r?n:n=e(i=s,r=o)}}function h_(t){return function(){this.style.removeProperty(t)}}function SI(t,e,i){var r,n=i+"",s;return function(){var o=Xr(this,t);return o===n?null:o===r?s:s=e(r=o,i)}}function kI(t,e,i){var r,n,s;return function(){var o=Xr(this,t),a=i(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Xr(this,t))),o===l?null:o===r&&l===n?s:(n=l,s=e(r=o,a))}}function PI(t,e){var i,r,n,s="style."+e,o="end."+s,a;return function(){var l=ot(this,t),u=l.on,c=l.value[s]==null?a||(a=h_(e)):void 0;(u!==i||n!==c)&&(r=(i=u).copy()).on(o,n=c),l.on=r}}function f_(t,e,i){var r=(t+="")=="transform"?Zm:Xc;return e==null?this.styleTween(t,_I(t,r)).on("end.style."+t,h_(t)):typeof e=="function"?this.styleTween(t,kI(t,r,Ys(this,"style."+t,e))).each(PI(this._id,t)):this.styleTween(t,SI(t,r,e),i).on("end.style."+t,null)}function CI(t,e,i){return function(r){this.style.setProperty(t,e.call(this,r),i)}}function TI(t,e,i){var r,n;function s(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&CI(t,o,i)),r}return s._value=e,s}function d_(t,e,i){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,TI(t,e,i==null?"":i))}function EI(t){return function(){this.textContent=t}}function QI(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function p_(t){return this.tween("text",typeof t=="function"?QI(Ys(this,"text",t)):EI(t==null?"":t+""))}function AI(t){return function(e){this.textContent=t.call(this,e)}}function MI(t){var e,i;function r(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&AI(n)),e}return r._value=t,r}function m_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,MI(t))}function g_(){for(var t=this._name,e=this._id,i=Yc(),r=this._groups,n=r.length,s=0;s<n;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Ue(l,e);Fr(l,t,i,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wt(r,this._parents,t,i)}function O_(){var t,e,i=this,r=i._id,n=i.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--n===0&&s()}};i.each(function(){var u=ot(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),n===0&&s()})}var $I=0;function wt(t,e,i,r){this._groups=t,this._parents=e,this._name=i,this._id=r}function b_(t){return lr().transition(t)}function Yc(){return++$I}var cr=lr.prototype;wt.prototype=b_.prototype={constructor:wt,select:l_,selectAll:u_,selectChild:cr.selectChild,selectChildren:cr.selectChildren,filter:n_,merge:s_,selection:c_,transition:g_,call:cr.call,nodes:cr.nodes,node:cr.node,size:cr.size,empty:cr.empty,each:cr.each,on:o_,attr:K1,attrTween:J1,style:f_,styleTween:d_,text:p_,textTween:m_,remove:a_,tween:G1,delay:e_,duration:t_,ease:i_,easeVarying:r_,end:O_,[Symbol.iterator]:cr[Symbol.iterator]};function Fc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var RI={time:null,delay:0,duration:250,ease:Fc};function II(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function y_(t){var e,i;t instanceof wt?(e=t._id,t=t._name):(e=Yc(),(i=RI).time=La(),t=t==null?null:t+"");for(var r=this._groups,n=r.length,s=0;s<n;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Fr(l,t,e,u,o,i||II(l,e));return new wt(r,this._parents,t,e)}lr.prototype.interrupt=H1;lr.prototype.transition=y_;var{abs:I8,max:D8,min:L8}=Math;function v_(t){return[+t[0],+t[1]]}function DI(t){return[v_(t[0]),v_(t[1])]}var V8={name:"x",handles:["w","e"].map(Ym),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},N8={name:"y",handles:["n","s"].map(Ym),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},z8={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ym),input:function(t){return t==null?null:DI(t)},output:function(t){return t}};function Ym(t){return{type:t}}var za=t=>()=>t;function Fm(t,{sourceEvent:e,target:i,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function wi(t,e,i){this.k=t,this.x=e,this.y=i}wi.prototype={constructor:wi,scale:function(t){return t===1?this:new wi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new wi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new wi(1,0,0);Um.prototype=wi.prototype;function Um(t){for(;!t.__zoom;)if(!(t=t.parentNode))return hr;return t.__zoom}function Uc(t){t.stopImmediatePropagation()}function Fs(t){t.preventDefault(),t.stopImmediatePropagation()}function LI(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function VI(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function x_(){return this.__zoom||hr}function NI(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function zI(){return navigator.maxTouchPoints||"ontouchstart"in this}function BI(t,e,i){var r=t.invertX(e[0][0])-i[0][0],n=t.invertX(e[1][0])-i[1][0],s=t.invertY(e[0][1])-i[0][1],o=t.invertY(e[1][1])-i[1][1];return t.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Hm(){var t=LI,e=VI,i=BI,r=NI,n=zI,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=jm,u=ka("start","zoom","end"),c,h,f,d=500,p=150,m=0,g=10;function O(x){x.property("__zoom",x_).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",_).filter(n).on("touchstart.zoom",E).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",w).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(x,M,$,I){var z=x.selection?x.selection():x;z.property("__zoom",x_),x!==z?C(x,M,$,I):z.interrupt().each(function(){A(this,arguments).event(I).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},O.scaleBy=function(x,M,$,I){O.scaleTo(x,function(){var z=this.__zoom.k,Y=typeof M=="function"?M.apply(this,arguments):M;return z*Y},$,I)},O.scaleTo=function(x,M,$,I){O.transform(x,function(){var z=e.apply(this,arguments),Y=this.__zoom,j=$==null?k(z):typeof $=="function"?$.apply(this,arguments):$,K=Y.invert(j),ie=typeof M=="function"?M.apply(this,arguments):M;return i(v(y(Y,ie),j,K),z,o)},$,I)},O.translateBy=function(x,M,$,I){O.transform(x,function(){return i(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),o)},null,I)},O.translateTo=function(x,M,$,I,z){O.transform(x,function(){var Y=e.apply(this,arguments),j=this.__zoom,K=I==null?k(Y):typeof I=="function"?I.apply(this,arguments):I;return i(hr.translate(K[0],K[1]).scale(j.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof $=="function"?-$.apply(this,arguments):-$),Y,o)},I,z)};function y(x,M){return M=Math.max(s[0],Math.min(s[1],M)),M===x.k?x:new wi(M,x.x,x.y)}function v(x,M,$){var I=M[0]-$[0]*x.k,z=M[1]-$[1]*x.k;return I===x.x&&z===x.y?x:new wi(x.k,I,z)}function k(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function C(x,M,$,I){x.on("start.zoom",function(){A(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(I).end()}).tween("zoom",function(){var z=this,Y=arguments,j=A(z,Y).event(I),K=e.apply(z,Y),ie=$==null?k(K):typeof $=="function"?$.apply(z,Y):$,me=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),fe=z.__zoom,Te=typeof M=="function"?M.apply(z,Y):M,te=l(fe.invert(ie).concat(me/fe.k),Te.invert(ie).concat(me/Te.k));return function(oe){if(oe===1)oe=Te;else{var ji=te(oe),Vh=me/ji[2];oe=new wi(Vh,ie[0]-ji[0]*Vh,ie[1]-ji[1]*Vh)}j.zoom(null,oe)}})}function A(x,M,$){return!$&&x.__zooming||new P(x,M)}function P(x,M){this.that=x,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(x,M),this.taps=0}P.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,M){return this.mouse&&x!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var M=ii(this.that).datum();u.call(x,this.that,new Fm(x,{sourceEvent:this.sourceEvent,target:O,type:x,transform:this.that.__zoom,dispatch:u}),M)}};function Q(x,...M){if(!t.apply(this,arguments))return;var $=A(this,M).event(x),I=this.__zoom,z=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),Y=ur(x);if($.wheel)($.mouse[0][0]!==Y[0]||$.mouse[0][1]!==Y[1])&&($.mouse[1]=I.invert($.mouse[0]=Y)),clearTimeout($.wheel);else{if(I.k===z)return;$.mouse=[Y,I.invert(Y)],Ur(this),$.start()}Fs(x),$.wheel=setTimeout(j,p),$.zoom("mouse",i(v(y(I,z),$.mouse[0],$.mouse[1]),$.extent,o));function j(){$.wheel=null,$.end()}}function S(x,...M){if(f||!t.apply(this,arguments))return;var $=x.currentTarget,I=A(this,M,!0).event(x),z=ii(x.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",me,!0),Y=ur(x,$),j=x.clientX,K=x.clientY;$m(x.view),Uc(x),I.mouse=[Y,this.__zoom.invert(Y)],Ur(this),I.start();function ie(fe){if(Fs(fe),!I.moved){var Te=fe.clientX-j,te=fe.clientY-K;I.moved=Te*Te+te*te>m}I.event(fe).zoom("mouse",i(v(I.that.__zoom,I.mouse[0]=ur(fe,$),I.mouse[1]),I.extent,o))}function me(fe){z.on("mousemove.zoom mouseup.zoom",null),Rm(fe.view,I.moved),Fs(fe),I.event(fe).end()}}function _(x,...M){if(t.apply(this,arguments)){var $=this.__zoom,I=ur(x.changedTouches?x.changedTouches[0]:x,this),z=$.invert(I),Y=$.k*(x.shiftKey?.5:2),j=i(v(y($,Y),I,z),e.apply(this,M),o);Fs(x),a>0?ii(this).transition().duration(a).call(C,j,I,x):ii(this).call(O.transform,j,I,x)}}function E(x,...M){if(t.apply(this,arguments)){var $=x.touches,I=$.length,z=A(this,M,x.changedTouches.length===I).event(x),Y,j,K,ie;for(Uc(x),j=0;j<I;++j)K=$[j],ie=ur(K,this),ie=[ie,this.__zoom.invert(ie),K.identifier],z.touch0?!z.touch1&&z.touch0[2]!==ie[2]&&(z.touch1=ie,z.taps=0):(z.touch0=ie,Y=!0,z.taps=1+!!c);c&&(c=clearTimeout(c)),Y&&(z.taps<2&&(h=ie[0],c=setTimeout(function(){c=null},d)),Ur(this),z.start())}}function R(x,...M){if(this.__zooming){var $=A(this,M).event(x),I=x.changedTouches,z=I.length,Y,j,K,ie;for(Fs(x),Y=0;Y<z;++Y)j=I[Y],K=ur(j,this),$.touch0&&$.touch0[2]===j.identifier?$.touch0[0]=K:$.touch1&&$.touch1[2]===j.identifier&&($.touch1[0]=K);if(j=$.that.__zoom,$.touch1){var me=$.touch0[0],fe=$.touch0[1],Te=$.touch1[0],te=$.touch1[1],oe=(oe=Te[0]-me[0])*oe+(oe=Te[1]-me[1])*oe,ji=(ji=te[0]-fe[0])*ji+(ji=te[1]-fe[1])*ji;j=y(j,Math.sqrt(oe/ji)),K=[(me[0]+Te[0])/2,(me[1]+Te[1])/2],ie=[(fe[0]+te[0])/2,(fe[1]+te[1])/2]}else if($.touch0)K=$.touch0[0],ie=$.touch0[1];else return;$.zoom("touch",i(v(j,K,ie),$.extent,o))}}function w(x,...M){if(this.__zooming){var $=A(this,M).event(x),I=x.changedTouches,z=I.length,Y,j;for(Uc(x),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),Y=0;Y<z;++Y)j=I[Y],$.touch0&&$.touch0[2]===j.identifier?delete $.touch0:$.touch1&&$.touch1[2]===j.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(j=ur(j,this),Math.hypot(h[0]-j[0],h[1]-j[1])<g)){var K=ii(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return O.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:za(+x),O):r},O.filter=function(x){return arguments.length?(t=typeof x=="function"?x:za(!!x),O):t},O.touchable=function(x){return arguments.length?(n=typeof x=="function"?x:za(!!x),O):n},O.extent=function(x){return arguments.length?(e=typeof x=="function"?x:za([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),O):e},O.scaleExtent=function(x){return arguments.length?(s[0]=+x[0],s[1]=+x[1],O):[s[0],s[1]]},O.translateExtent=function(x){return arguments.length?(o[0][0]=+x[0][0],o[1][0]=+x[1][0],o[0][1]=+x[0][1],o[1][1]=+x[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function(x){return arguments.length?(i=x,O):i},O.duration=function(x){return arguments.length?(a=+x,O):a},O.interpolate=function(x){return arguments.length?(l=x,O):l},O.on=function(){var x=u.on.apply(u,arguments);return x===u?O:x},O.clickDistance=function(x){return arguments.length?(m=(x=+x)*x,O):Math.sqrt(m)},O.tapDistance=function(x){return arguments.length?(g=+x,O):g},O}var ZI=Ge`\
<svg ${xe("_svg")}>
    <foreignObject ${xe("_content")} x="0" y="0" width="100%" height="100%" style="overflow:visible">
        <slot></slot>
    </foreignObject>
</svg>`,WI=ae`
${He("inline-block")} 
`,fr=class extends Ol{constructor(){super();this.scale_min=.5;this.scale_max=1.5;this.x=0;this.y=0;this.scale=1;this._zoom=Hm().duration(0).on("zoom",({transform:i})=>{this.x=i.x,this.y=i.y,this.scale=i.k,this.$emit("change")})}enter(){super.enter(),this.svg=ii(this.shadowRoot).select("svg"),this.content=this.svg.select("foreignObject"),this.svg.call(this._zoom,hr.translate(this.x,this.y).scale(this.scale))}update(i){super.update(i),this.content.attr("width",`${this.clientWidth}`).attr("height",`${this.clientHeight}`),this._zoom.extent([[0,0],[this.clientWidth,this.clientHeight]]).scaleExtent([this.scale_min,this.scale_max]),(i.x!==void 0||i.y!==void 0||i.scale!==void 0)&&this.content.attr("transform",hr.translate(this.x,this.y).scale(this.scale).toString()),this._zoom.transform(this.svg,hr.translate(this.x,this.y).scale(this.scale))}};se([ye({type:"number"})],fr.prototype,"scale_min",2),se([ye({type:"number"})],fr.prototype,"scale_max",2),se([ye({type:"number"})],fr.prototype,"x",2),se([ye({type:"number"})],fr.prototype,"y",2),se([ye({type:"number"})],fr.prototype,"scale",2),fr=se([Ke("hpcc-zoom",{template:ZI,styles:WI})],fr);var jI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],C_=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],XI="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",T_="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Gm={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Km="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",YI={5:Km,"5module":Km+" export import",6:Km+" const class extends export import super"},FI=/^in(stanceof)?$/,UI=new RegExp("["+T_+"]"),HI=new RegExp("["+T_+XI+"]");function eg(t,e){for(var i=65536,r=0;r<e.length;r+=2){if(i+=e[r],i>t)return!1;if(i+=e[r+1],i>=t)return!0}return!1}function dr(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&UI.test(String.fromCharCode(t)):e===!1?!1:eg(t,C_)}function Us(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&HI.test(String.fromCharCode(t)):e===!1?!1:eg(t,C_)||eg(t,jI)}var pe=function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null};function ni(t,e){return new pe(t,{beforeExpr:!0,binop:e})}var si={beforeExpr:!0},$t={startsExpr:!0},ng={};function he(t,e){return e===void 0&&(e={}),e.keyword=t,ng[t]=new pe(t,e)}var b={num:new pe("num",$t),regexp:new pe("regexp",$t),string:new pe("string",$t),name:new pe("name",$t),privateId:new pe("privateId",$t),eof:new pe("eof"),bracketL:new pe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pe("]"),braceL:new pe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pe("}"),parenL:new pe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pe(")"),comma:new pe(",",si),semi:new pe(";",si),colon:new pe(":",si),dot:new pe("."),question:new pe("?",si),questionDot:new pe("?."),arrow:new pe("=>",si),template:new pe("template"),invalidTemplate:new pe("invalidTemplate"),ellipsis:new pe("...",si),backQuote:new pe("`",$t),dollarBraceL:new pe("${",{beforeExpr:!0,startsExpr:!0}),eq:new pe("=",{beforeExpr:!0,isAssign:!0}),assign:new pe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ni("||",1),logicalAND:ni("&&",2),bitwiseOR:ni("|",3),bitwiseXOR:ni("^",4),bitwiseAND:ni("&",5),equality:ni("==/!=/===/!==",6),relational:ni("</>/<=/>=",7),bitShift:ni("<</>>/>>>",8),plusMin:new pe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ni("%",10),star:ni("*",10),slash:ni("/",10),starstar:new pe("**",{beforeExpr:!0}),coalesce:ni("??",1),_break:he("break"),_case:he("case",si),_catch:he("catch"),_continue:he("continue"),_debugger:he("debugger"),_default:he("default",si),_do:he("do",{isLoop:!0,beforeExpr:!0}),_else:he("else",si),_finally:he("finally"),_for:he("for",{isLoop:!0}),_function:he("function",$t),_if:he("if"),_return:he("return",si),_switch:he("switch"),_throw:he("throw",si),_try:he("try"),_var:he("var"),_const:he("const"),_while:he("while",{isLoop:!0}),_with:he("with"),_new:he("new",{beforeExpr:!0,startsExpr:!0}),_this:he("this",$t),_super:he("super",$t),_class:he("class",$t),_extends:he("extends",si),_export:he("export"),_import:he("import",$t),_null:he("null",$t),_true:he("true",$t),_false:he("false",$t),_in:he("in",{beforeExpr:!0,binop:7}),_instanceof:he("instanceof",{beforeExpr:!0,binop:7}),_typeof:he("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:he("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:he("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},li=/\r\n?|\n|\u2028|\u2029/,GI=new RegExp(li.source,"g");function Hs(t){return t===10||t===13||t===8232||t===8233}function E_(t,e,i){i===void 0&&(i=t.length);for(var r=e;r<i;r++){var n=t.charCodeAt(r);if(Hs(n))return r<i-1&&n===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}var Q_=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,oi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,A_=Object.prototype,KI=A_.hasOwnProperty,JI=A_.toString,Wa=Object.hasOwn||function(t,e){return KI.call(t,e)},w_=Array.isArray||function(t){return JI.call(t)==="[object Array]"},__=Object.create(null);function Hr(t){return __[t]||(__[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Gr(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var eD=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,qa=function(e,i){this.line=e,this.column=i};qa.prototype.offset=function(e){return new qa(this.line,this.column+e)};var th=function(e,i,r){this.start=i,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)};function Gs(t,e){for(var i=1,r=0;;){var n=E_(t,r,e);if(n<0)return new qa(i,e-r);++i,r=n}}var tg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},S_=!1;function tD(t){var e={};for(var i in tg)e[i]=t&&Wa(t,i)?t[i]:tg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!S_&&typeof console=="object"&&console.warn&&(S_=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),w_(e.onToken)){var r=e.onToken;e.onToken=function(n){return r.push(n)}}return w_(e.onComment)&&(e.onComment=iD(e,e.onComment)),e}function iD(t,e){return function(i,r,n,s,o,a){var l={type:i?"Block":"Line",value:r,start:n,end:s};t.locations&&(l.loc=new th(this,o,a)),t.ranges&&(l.range=[n,s]),e.push(l)}}var Za=1,Ks=2,sg=4,M_=8,$_=16,R_=32,og=64,I_=128,ja=256,ag=Za|Ks|ja;function lg(t,e){return Ks|(t?sg:0)|(e?M_:0)}var Gc=0,ug=1,mr=2,D_=3,L_=4,V_=5,ze=function(e,i,r){this.options=e=tD(e),this.sourceFile=e.sourceFile,this.keywords=Hr(YI[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=Gm[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=Hr(n);var s=(n?n+" ":"")+Gm.strict;this.reservedWordsStrict=Hr(s),this.reservedWordsStrictBind=Hr(s+" "+Gm.strictBind),this.input=String(i),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(li).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Za),this.regexpState=null,this.privateNameStack=[]},Bi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ze.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Bi.inFunction.get=function(){return(this.currentVarScope().flags&Ks)>0};Bi.inGenerator.get=function(){return(this.currentVarScope().flags&M_)>0&&!this.currentVarScope().inClassFieldInit};Bi.inAsync.get=function(){return(this.currentVarScope().flags&sg)>0&&!this.currentVarScope().inClassFieldInit};Bi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&ja)return!1;if(e.flags&Ks)return(e.flags&sg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Bi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&og)>0||i||this.options.allowSuperOutsideMethod};Bi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&I_)>0};Bi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Bi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Ks|ja))>0||i};Bi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ja)>0};ze.extend=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var r=this,n=0;n<e.length;n++)r=e[n](r);return r};ze.parse=function(e,i){return new this(i,e).parse()};ze.parseExpressionAt=function(e,i,r){var n=new this(r,e,i);return n.nextToken(),n.parseExpression()};ze.tokenizer=function(e,i){return new this(i,e)};Object.defineProperties(ze.prototype,Bi);var _t=ze.prototype,rD=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;_t.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){oi.lastIndex=t,t+=oi.exec(this.input)[0].length;var e=rD.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){oi.lastIndex=t+e[0].length;var i=oi.exec(this.input),r=i.index+i[0].length,n=this.input.charAt(r);return n===";"||n==="}"||li.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,oi.lastIndex=t,t+=oi.exec(this.input)[0].length,this.input[t]===";"&&t++}};_t.eat=function(t){return this.type===t?(this.next(),!0):!1};_t.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc};_t.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};_t.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};_t.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||li.test(this.input.slice(this.lastTokEnd,this.start))};_t.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};_t.semicolon=function(){!this.eat(b.semi)&&!this.insertSemicolon()&&this.unexpected()};_t.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};_t.expect=function(t){this.eat(t)||this.unexpected()};_t.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var ih=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};_t.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};_t.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,r=t.doubleProto;if(!e)return i>=0||r>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};_t.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};_t.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var G=ze.prototype;G.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==b.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var r=0,n=Object.keys(this.undefinedExports);r<n.length;r+=1){var s=n[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var cg={kind:"loop"},nD={kind:"switch"};G.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;oi.lastIndex=this.pos;var e=oi.exec(this.input),i=this.pos+e[0].length,r=this.input.charCodeAt(i);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(dr(r,!0)){for(var n=i+1;Us(r=this.input.charCodeAt(n),!0);)++n;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(i,n);if(!FI.test(s))return!0}return!1};G.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;oi.lastIndex=this.pos;var t=oi.exec(this.input),e=this.pos+t[0].length,i;return!li.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Us(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};G.parseStatement=function(t,e,i){var r=this.type,n=this.startNode(),s;switch(this.isLet(t)&&(r=b._var,s="let"),r){case b._break:case b._continue:return this.parseBreakContinueStatement(n,r.keyword);case b._debugger:return this.parseDebuggerStatement(n);case b._do:return this.parseDoStatement(n);case b._for:return this.parseForStatement(n);case b._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(n,!0);case b._if:return this.parseIfStatement(n);case b._return:return this.parseReturnStatement(n);case b._switch:return this.parseSwitchStatement(n);case b._throw:return this.parseThrowStatement(n);case b._try:return this.parseTryStatement(n);case b._const:case b._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(n,s);case b._while:return this.parseWhileStatement(n);case b._with:return this.parseWithStatement(n);case b.braceL:return this.parseBlock(!0,n);case b.semi:return this.parseEmptyStatement(n);case b._export:case b._import:if(this.options.ecmaVersion>10&&r===b._import){oi.lastIndex=this.pos;var o=oi.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===b._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var u=this.value,c=this.parseExpression();return r===b.name&&c.type==="Identifier"&&this.eat(b.colon)?this.parseLabeledStatement(n,u,c,t):this.parseExpressionStatement(n,c)}};G.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var n=this.labels[r];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||t.label&&i))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};G.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};G.parseDoStatement=function(t){return this.next(),this.labels.push(cg),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};G.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(cg),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===b._var||this.type===b._const||i){var r=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(r,!0,n),this.finishNode(r,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===b._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),o=!1,a=this.containsEsc,l=new ih,u=this.start,c=e>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===b._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===b._in&&this.unexpected(e),t.await=!0):o&&this.options.ecmaVersion>=8&&(c.start===u&&!a&&c.type==="Identifier"&&c.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),s&&o&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,l),this.checkLValPattern(c),this.parseForIn(t,c)):(this.checkExpressionErrors(l,!0),e>-1&&this.unexpected(e),this.parseFor(t,c))};G.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Ba|(i?0:ig),!1,e)};G.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};G.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};G.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(nD),this.enterScope(0);for(var e,i=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var r=this.type===b._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(b.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};G.parseThrowStatement=function(t){return this.next(),li.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var sD=[];G.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?R_:0),this.checkLValPattern(t,e?L_:mr),this.expect(b.parenR),t};G.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var e=this.startNode();this.next(),this.eat(b.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};G.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};G.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(cg),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};G.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};G.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};G.parseLabeledStatement=function(t,e,i,r){for(var n=0,s=this.labels;n<s.length;n+=1){var o=s[n];o.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===b._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===t.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};G.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};G.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(b.braceL),t&&this.enterScope(0);this.type!==b.braceR;){var r=this.parseStatement(null);e.body.push(r)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};G.parseFor=function(t,e){return t.init=e,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};G.parseForIn=function(t,e){var i=this.type===b._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};G.parseVar=function(t,e,i,r){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(b.eq)?n.init=this.parseMaybeAssign(e):!r&&i==="const"&&!(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&n.id.type!=="Identifier"&&!(e&&(this.type===b._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(b.comma))break}return t};G.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?ug:mr,!1)};var Ba=1,ig=2,N_=4;G.parseFunction=function(t,e,i,r,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===b.star&&e&ig&&this.unexpected(),t.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&Ba&&(t.id=e&N_&&this.type!==b.name?null:this.parseIdent(),t.id&&!(e&ig)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?ug:mr:D_));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lg(t.async,t.generator)),e&Ba||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&Ba?"FunctionDeclaration":"FunctionExpression")};G.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};G.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),n=this.startNode(),s=!1;for(n.body=[],this.expect(b.braceL);this.type!==b.braceR;){var o=this.parseClassElement(t.superClass!==null);o&&(n.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&oD(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};G.parseClassElement=function(t){if(this.eat(b.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),r="",n=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===b.star?a=!0:r="static"}if(i.static=a,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===b.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(e>=9||!s)&&this.eat(b.star)&&(n=!0),!r&&!s&&!n){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=r,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===b.parenL||o!=="method"||n||s){var u=!i.static&&Kc(i,"constructor"),c=u&&t;u&&o!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=u?"constructor":o,this.parseClassMethod(i,n,s,c)}else this.parseClassField(i);return i};G.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword};G.parseClassElementName=function(t){this.type===b.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};G.parseClassMethod=function(t,e,i,r){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&Kc(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,r);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};G.parseClassField=function(t){if(Kc(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Kc(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};G.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(ja|og);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};G.parseClassId=function(t,e){this.type===b.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,mr,!1)):(e===!0&&this.unexpected(),t.id=null)};G.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null};G.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};G.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,n=r===0?null:this.privateNameStack[r-1],s=0;s<i.length;++s){var o=i[s];Wa(e,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function oD(t,e){var i=e.key.name,r=t[i],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),r==="iget"&&n==="iset"||r==="iset"&&n==="iget"||r==="sget"&&n==="sset"||r==="sset"&&n==="sget"?(t[i]="true",!1):r?!0:(t[i]=n,!1)}function Kc(t,e){var i=t.computed,r=t.key;return!i&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}G.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};G.parseExport=function(t,e){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(t,e);if(this.eat(b._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,r=t.specifiers;i<r.length;i+=1){var n=r[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};G.parseExportDeclaration=function(t){return this.parseStatement(null)};G.parseExportDefaultDeclaration=function(){var t;if(this.type===b._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Ba|N_,!1,t)}else if(this.type===b._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};G.checkExport=function(t,e,i){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Wa(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};G.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var r=0,n=e.properties;r<n.length;r+=1){var s=n[r];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(t,l)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};G.checkVariableExport=function(t,e){if(t)for(var i=0,r=e;i<r.length;i+=1){var n=r[i];this.checkPatternExport(t,n.id)}};G.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};G.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};G.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;e.push(this.parseExportSpecifier(t))}return e};G.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=sD,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};G.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,mr),this.finishNode(t,"ImportSpecifier")};G.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,mr),this.finishNode(t,"ImportDefaultSpecifier")};G.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,mr),this.finishNode(t,"ImportNamespaceSpecifier")};G.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===b.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return t;if(this.type===b.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(b.braceL);!this.eat(b.braceR);){if(e)e=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseImportSpecifier())}return t};G.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var t=this.parseLiteral(this.value);return eD.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};G.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};G.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ui=ze.prototype;ui.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var r=0,n=t.properties;r<n.length;r+=1){var s=n[r];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ui.toAssignableList=function(t,e){for(var i=t.length,r=0;r<i;r++){var n=t[r];n&&this.toAssignable(n,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};ui.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ui.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ui.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()};ui.parseBindingList=function(t,e,i,r){for(var n=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(b.comma),e&&this.type===b.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),n.push(o),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else n.push(this.parseAssignableListItem(r))}return n};ui.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ui.parseBindingListItem=function(t){return t};ui.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return i;var r=this.startNodeAt(t,e);return r.left=i,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};ui.checkLValSimple=function(t,e,i){e===void 0&&(e=Gc);var r=e!==Gc;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===mr&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Wa(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==V_&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};ui.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Gc),t.type){case"ObjectPattern":for(var r=0,n=t.properties;r<n.length;r+=1){var s=n[r];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,e,i)}break;default:this.checkLValSimple(t,e,i)}};ui.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Gc),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Ft=function(e,i,r,n,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!r,this.override=n,this.generator=!!s},$e={b_stat:new Ft("{",!1),b_expr:new Ft("{",!0),b_tmpl:new Ft("${",!1),p_stat:new Ft("(",!1),p_expr:new Ft("(",!0),q_tmpl:new Ft("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Ft("function",!1),f_expr:new Ft("function",!0),f_expr_gen:new Ft("function",!0,!1,null,!0),f_gen:new Ft("function",!1,!1,null,!0)},Js=ze.prototype;Js.initialContext=function(){return[$e.b_stat]};Js.curContext=function(){return this.context[this.context.length-1]};Js.braceIsBlock=function(t){var e=this.curContext();return e===$e.f_expr||e===$e.f_stat?!0:t===b.colon&&(e===$e.b_stat||e===$e.b_expr)?!e.isExpr:t===b._return||t===b.name&&this.exprAllowed?li.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow?!0:t===b.braceL?e===$e.b_stat:t===b._var||t===b._const||t===b.name?!1:!this.exprAllowed};Js.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Js.updateContext=function(t){var e,i=this.type;i.keyword&&t===b.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Js.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};b.parenR.updateContext=b.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===$e.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?$e.b_stat:$e.b_expr),this.exprAllowed=!0};b.dollarBraceL.updateContext=function(){this.context.push($e.b_tmpl),this.exprAllowed=!0};b.parenL.updateContext=function(t){var e=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(e?$e.p_stat:$e.p_expr),this.exprAllowed=!0};b.incDec.updateContext=function(){};b._function.updateContext=b._class.updateContext=function(t){t.beforeExpr&&t!==b._else&&!(t===b.semi&&this.curContext()!==$e.p_stat)&&!(t===b._return&&li.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===b.colon||t===b.braceL)&&this.curContext()===$e.b_stat)?this.context.push($e.f_expr):this.context.push($e.f_stat),this.exprAllowed=!1};b.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};b.backQuote.updateContext=function(){this.curContext()===$e.q_tmpl?this.context.pop():this.context.push($e.q_tmpl),this.exprAllowed=!1};b.star.updateContext=function(t){if(t===b._function){var e=this.context.length-1;this.context[e]===$e.f_expr?this.context[e]=$e.f_expr_gen:this.context[e]=$e.f_gen}this.exprAllowed=!0};b.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==b.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var ne=ze.prototype;ne.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,n;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var o=e[n];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=e[n]={init:!1,get:!1,set:!1};o[s]=!0}};ne.parseExpression=function(t,e){var i=this.start,r=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===b.comma){var s=this.startNodeAt(i,r);for(s.expressions=[n];this.eat(b.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return n};ne.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,n=-1,s=-1,o=-1;e?(n=e.parenthesizedAssign,s=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new ih,r=!0);var a=this.start,l=this.startLoc;(this.type===b.parenL||this.type===b.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var u=this.parseMaybeConditional(t,e);if(i&&(u=i.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===b.eq&&(u=this.toAssignable(u,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=u.start&&(e.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),s>-1&&(e.trailingComma=s),u};ne.parseMaybeConditional=function(t,e){var i=this.start,r=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(b.question)){var s=this.startNodeAt(i,r);return s.test=n,s.consequent=this.parseMaybeAssign(),this.expect(b.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return n};ne.parseExprOps=function(t,e){var i=this.start,r=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,r,-1,t)};ne.parseExprOp=function(t,e,i,r,n){var s=this.type.binop;if(s!=null&&(!n||this.type!==b._in)&&s>r){var o=this.type===b.logicalOR||this.type===b.logicalAND,a=this.type===b.coalesce;a&&(s=b.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),u,c,s,n),f=this.buildBinary(e,i,t,h,l,o||a);return(o&&this.type===b.coalesce||a&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,i,r,n)}return t};ne.buildBinary=function(t,e,i,r,n,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=i,o.operator=n,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};ne.parseMaybeUnary=function(t,e,i,r){var n=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),e=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===b.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&z_(a.argument)?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&rg(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===b.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();else{if(o=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(n,s);u.operator=this.value,u.prefix=!1,u.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(u,"UpdateExpression")}}if(!i&&this.eat(b.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function z_(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&z_(t.expression)}function rg(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&rg(t.expression)||t.type==="ParenthesizedExpression"&&rg(t.expression)}ne.parseExprSubscripts=function(t,e){var i=this.start,r=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var s=this.parseSubscripts(n,i,r,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};ne.parseSubscripts=function(t,e,i,r,n){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,i,r,s,o,n);if(a.optional&&(o=!0),a===t||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(e,i);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}t=a}};ne.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)};ne.parseSubscriptAsyncArrow=function(t,e,i,r){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,r)};ne.parseSubscript=function(t,e,i,r,n,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(b.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(b.bracketL);if(u||l&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var c=this.startNodeAt(e,i);c.object=t,u?(c.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&t.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),t=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(b.parenL)){var h=new ih,f=this.yieldPos,d=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,h);if(n&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=d,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(e,i,m,o);this.checkExpressionErrors(h,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(e,i);g.callee=t,g.arguments=m,a&&(g.optional=l),t=this.finishNode(g,"CallExpression")}else if(this.type===b.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var O=this.startNodeAt(e,i);O.tag=t,O.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(O,"TaggedTemplateExpression")}return t};ne.parseExprAtom=function(t,e,i){this.type===b.slash&&this.readRegexp();var r,n=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===b.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(r,"Super");case b._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case b.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext($e.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===b.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(b.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,e)}return l;case b.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return r=this.startNode(),r.value=this.type===b._null?null:this.type===b._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case b.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(t.parenthesizedAssign=c),t.parenthesizedBind<0&&(t.parenthesizedBind=c)),h;case b.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case b.braceL:return this.overrideContext($e.b_expr),this.parseObj(!1,t);case b._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};ne.parseExprAtomDefault=function(){this.unexpected()};ne.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!t)return this.parseDynamicImport(e);if(this.type===b.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};ne.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var e=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};ne.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};ne.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};ne.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t};ne.shouldParseArrow=function(t){return!this.canInsertSemicolon()};ne.parseParenAndDistinguishExpression=function(t,e){var i=this.start,r=this.startLoc,n,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],u=!0,c=!1,h=new ih,f=this.yieldPos,d=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;)if(u?u=!1:this.expect(b.comma),s&&this.afterTrailingComma(b.parenR,!0)){c=!0;break}else if(this.type===b.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,h,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(b.parenR),t&&this.shouldParseArrow(l)&&this.eat(b.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(i,r,l,e);(!l.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(h,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?(n=this.startNodeAt(o,a),n.expressions=l,this.finishNodeAt(n,"SequenceExpression",m,g)):n=l[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var O=this.startNodeAt(i,r);return O.expression=n,this.finishNode(O,"ParenthesizedExpression")}else return n};ne.parseParenItem=function(t){return t};ne.parseParenArrowList=function(t,e,i,r){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,r)};var aD=[];ne.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,n,!0,!1),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):t.arguments=aD,this.finishNode(t,"NewExpression")};ne.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===b.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===b.backQuote,this.finishNode(i,"TemplateElement")};ne.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(i.quasis=[r];!r.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(b.braceR),i.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};ne.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!li.test(this.input.slice(this.lastTokEnd,this.start))};ne.parseObj=function(t,e){var i=this.startNode(),r=!0,n={};for(i.properties=[],this.next();!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,n,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};ne.parseProperty=function(t,e){var i=this.startNode(),r,n,s,o;if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===b.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(r=this.eat(b.star)));var a=this.containsEsc;return this.parsePropertyName(i),!t&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(i)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(i)):n=!1,this.parsePropertyValue(i,t,r,n,s,o,e,a),this.finishNode(i,"Property")};ne.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};ne.parsePropertyValue=function(t,e,i,r,n,s,o,a){(i||r)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,r)):!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==b.comma&&this.type!==b.braceR&&this.type!==b.eq?((i||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key)):this.type===b.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};ne.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ne.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};ne.parseMethod=function(t,e,i){var r=this.startNode(),n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lg(e,r.generator)|og|(i?I_:0)),this.expect(b.parenL),r.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};ne.parseArrowExpression=function(t,e,i,r){var n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(lg(i,!1)|$_),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")};ne.parseFunctionBody=function(t,e,i,r){var n=e&&this.type!==b.braceL,s=this.strict,o=!1;if(n)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!s&&!o&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,V_),t.body=this.parseBlock(!1,void 0,o&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()};ne.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(r.type!=="Identifier")return!1}return!0};ne.checkParams=function(t,e){for(var i=Object.create(null),r=0,n=t.params;r<n.length;r+=1){var s=n[r];this.checkLValInnerPattern(s,ug,e?null:i)}};ne.parseExprList=function(t,e,i,r){for(var n=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(b.comma),e&&this.afterTrailingComma(t))break;var o=void 0;i&&this.type===b.comma?o=null:this.type===b.ellipsis?(o=this.parseSpread(r),r&&this.type===b.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),n.push(o)}return n};ne.checkUnreserved=function(t){var e=t.start,i=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};ne.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};ne.parseIdentNode=function(){var t=this.startNode();return this.type===b.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=b.name):this.unexpected(),t};ne.parsePrivateIdent=function(){var t=this.startNode();return this.type===b.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};ne.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(b.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};ne.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Jc=ze.prototype;Jc.raise=function(t,e){var i=Gs(this.input,t);e+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=i,r.raisedAt=this.pos,r};Jc.raiseRecoverable=Jc.raise;Jc.curPosition=function(){if(this.options.locations)return new qa(this.curLine,this.pos-this.lineStart)};var Kr=ze.prototype,lD=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Kr.enterScope=function(t){this.scopeStack.push(new lD(t))};Kr.exitScope=function(){this.scopeStack.pop()};Kr.treatFunctionsAsVarInScope=function(t){return t.flags&Ks||!this.inModule&&t.flags&Za};Kr.declareName=function(t,e,i){var r=!1;if(e===mr){var n=this.currentScope();r=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&Za&&delete this.undefinedExports[t]}else if(e===L_){var s=this.currentScope();s.lexical.push(t)}else if(e===D_){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(t)>-1:r=o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(t)>-1&&!(l.flags&R_&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){r=!0;break}if(l.var.push(t),this.inModule&&l.flags&Za&&delete this.undefinedExports[t],l.flags&ag)break}r&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Kr.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Kr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Kr.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ag)return e}};Kr.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ag&&!(e.flags&$_))return e}};var rh=function(e,i,r){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new th(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},Xa=ze.prototype;Xa.startNode=function(){return new rh(this,this.start,this.startLoc)};Xa.startNodeAt=function(t,e){return new rh(this,t,e)};function B_(t,e,i,r){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=i),t}Xa.finishNode=function(t,e){return B_.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Xa.finishNodeAt=function(t,e,i,r){return B_.call(this,t,e,i,r)};Xa.copyNode=function(t){var e=new rh(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var q_="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Z_=q_+" Extended_Pictographic",W_=Z_,j_=W_+" EBase EComp EMod EPres ExtPict",X_=j_,uD=X_,cD={9:q_,10:Z_,11:W_,12:j_,13:X_,14:uD},hD="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",fD={9:"",10:"",11:"",12:"",13:"",14:hD},k_="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Y_="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",F_=Y_+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",U_=F_+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",H_=U_+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",G_=H_+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",dD=G_+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",pD={9:Y_,10:F_,11:U_,12:H_,13:G_,14:dD},K_={};function mD(t){var e=K_[t]={binary:Hr(cD[t]+" "+k_),binaryOfStrings:Hr(fD[t]),nonBinary:{General_Category:Hr(k_),Script:Hr(pD[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(Hc=0,Jm=[9,10,11,12,13,14];Hc<Jm.length;Hc+=1)P_=Jm[Hc],mD(P_);var P_,Hc,Jm,F=ze.prototype,eh=function(e,i){this.parent=e,this.base=i||this};eh.prototype.separatedFrom=function(e){for(var i=this;i;i=i.parent)for(var r=e;r;r=r.parent)if(i.base===r.base&&i!==r)return!0;return!1};eh.prototype.sibling=function(){return new eh(this.parent,this.base)};var qi=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=K_[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};qi.prototype.reset=function(e,i,r){var n=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=r,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};qi.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};qi.prototype.at=function(e,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(e>=n)return-1;var s=r.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=n)return s;var o=r.charCodeAt(e+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};qi.prototype.nextIndex=function(e,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(e>=n)return n;var s=r.charCodeAt(e),o;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=n||(o=r.charCodeAt(e+1))<56320||o>57343?e+1:e+2};qi.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};qi.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};qi.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};qi.prototype.eat=function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1};qi.prototype.eatChars=function(e,i){i===void 0&&(i=!1);for(var r=this.pos,n=0,s=e;n<s.length;n+=1){var o=s[n],a=this.at(r,i);if(a===-1||a!==o)return!1;r=this.nextIndex(r,i)}return this.pos=r,!0};F.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,r=!1,n=!1,s=0;s<i.length;s++){var o=i.charAt(s);e.indexOf(o)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(o,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(n=!0)}this.options.ecmaVersion>=15&&r&&n&&this.raise(t.start,"Invalid regular expression flag")};function gD(t){for(var e in t)return!0;return!1}F.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&gD(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};F.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var r=i[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};F.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new eh(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};F.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};F.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};F.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};F.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};F.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};F.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var r=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};F.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};F.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};F.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};F.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};F.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};F.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};F.regexp_eatSyntaxCharacter=function(t){var e=t.current();return J_(e)?(t.lastIntValue=e,t.advance(),!0):!1};function J_(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}F.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!J_(i);)t.advance();return t.pos!==e};F.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};F.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var r=0,n=i;r<n.length;r+=1){var s=n[r];s.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};F.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};F.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Gr(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Gr(t.lastIntValue);return!0}return!1};F.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,r=t.current(i);return t.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(r=t.lastIntValue),OD(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function OD(t){return dr(t,!0)||t===36||t===95}F.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,r=t.current(i);return t.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(r=t.lastIntValue),bD(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function bD(t){return Us(t,!0)||t===36||t===95||t===8204||t===8205}F.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};F.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};F.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};F.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};F.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};F.regexp_eatZero=function(t){return t.current()===48&&!nh(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};F.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};F.regexp_eatControlLetter=function(t){var e=t.current();return eS(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function eS(t){return t>=65&&t<=90||t>=97&&t<=122}F.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(r&&n>=55296&&n<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=(n-55296)*1024+(o-56320)+65536,!0}t.pos=s,t.lastIntValue=n}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&yD(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function yD(t){return t>=0&&t<=1114111}F.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};F.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var tS=0,pr=1,ai=2;F.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(vD(e))return t.lastIntValue=-1,t.advance(),pr;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&r===ai&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return tS};function vD(t){return t===100||t===68||t===115||t===83||t===119||t===87}F.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,r),pr}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return tS};F.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Wa(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};F.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return pr;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ai;t.raise("Invalid property name")};F.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";iS(e=t.current());)t.lastStringValue+=Gr(e),t.advance();return t.lastStringValue!==""};function iS(t){return eS(t)||t===95}F.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";xD(e=t.current());)t.lastStringValue+=Gr(e),t.advance();return t.lastStringValue!==""};function xD(t){return iS(t)||nh(t)}F.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};F.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===ai&&t.raise("Negated character class may contain strings"),!0}return!1};F.regexp_classContents=function(t){return t.current()===93?pr:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),pr)};F.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};F.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||sS(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};F.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};F.regexp_classSetExpression=function(t){var e=pr,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===ai&&(e=ai);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==ai&&(e=pr);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===ai&&(e=ai)}};F.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return i!==-1&&r!==-1&&i>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};F.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?pr:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};F.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return i&&r===ai&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null};F.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};F.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ai&&(e=ai);return e};F.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?pr:ai};F.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&wD(i)||_D(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function wD(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function _D(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}F.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return SD(e)?(t.lastIntValue=e,t.advance(),!0):!1};function SD(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}F.regexp_eatClassControlLetter=function(t){var e=t.current();return nh(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};F.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};F.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;nh(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function nh(t){return t>=48&&t<=57}F.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;rS(i=t.current());)t.lastIntValue=16*t.lastIntValue+nS(i),t.advance();return t.pos!==e};function rS(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function nS(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}F.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};F.regexp_eatOctalDigit=function(t){var e=t.current();return sS(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function sS(t){return t>=48&&t<=55}F.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var n=t.current();if(!rS(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+nS(n),t.advance()}return!0};var hg=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new th(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},ce=ze.prototype;ce.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new hg(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ce.getToken=function(){return this.next(),new hg(this)};typeof Symbol!="undefined"&&(ce[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===b.eof,value:e}}}});ce.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(b.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ce.readToken=function(t){return dr(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ce.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ce.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var r=void 0,n=e;(r=E_(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ce.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Hs(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ce.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Q_.test(String.fromCharCode(t)))++this.pos;else break e}}};ce.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ce.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))};ce.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(b.assign,2):this.finishOp(b.slash,1)};ce.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,r=t===42?b.star:b.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,r=b.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(b.assign,i+1):this.finishOp(r,i)};ce.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(b.assign,3)}return this.finishOp(t===124?b.logicalOR:b.logicalAND,2)}return e===61?this.finishOp(b.assign,2):this.finishOp(t===124?b.bitwiseOR:b.bitwiseAND,1)};ce.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)};ce.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||li.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(b.incDec,2):e===61?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)};ce.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(b.assign,i+1):this.finishOp(b.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(b.relational,i))};ce.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(b.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(t===61?b.eq:b.prefix,1)};ce.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(b.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)};ce.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),dr(e,!0)||e===92))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Gr(e)+"'")};ce.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Gr(t)+"'")};ce.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ce.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(li.test(r)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new qi(this));a.reset(i,n,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(n,o)}catch{}return this.finishToken(b.regexp,{pattern:n,flags:o,value:l})};ce.readInt=function(t,e,i){for(var r=this.options.ecmaVersion>=12&&e===void 0,n=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,u=e==null?1/0:e;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(r&&c===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?h=c-97+10:c>=65?h=c-65+10:c>=48&&c<=57?h=c-48:h=1/0,h>=t)break;a=c,o=o*t+h}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:o};function kD(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function oS(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}ce.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=oS(this.input.slice(e,this.pos)),++this.pos):dr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,i)};ce.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&r===110){var n=oS(this.input.slice(e,this.pos));return++this.pos,dr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),r===46&&!i&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!i&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),dr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=kD(this.input.slice(e,this.pos),i);return this.finishToken(b.num,s)};ce.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ce.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Hs(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(b.string,e)};var aS={};ce.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===aS)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ce.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw aS;this.raise(t,e)};ce.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===b.template||this.type===b.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(b.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Hs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ce.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};ce.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Gr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(r,8);return n>255&&(r=r.slice(0,-1),n=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Hs(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};ce.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ce.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(Us(n,r))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?dr:Us)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=Gr(o),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ce.readWord=function(){var t=this.readWord1(),e=b.name;return this.keywords.test(t)&&(e=ng[t]),this.finishToken(e,t)};var PD="8.12.1";ze.acorn={Parser:ze,version:PD,defaultOptions:tg,Position:qa,SourceLocation:th,getLineInfo:Gs,Node:rh,TokenType:pe,tokTypes:b,keywordTypes:ng,TokContext:Ft,tokContexts:$e,isIdentifierChar:Us,isIdentifierStart:dr,Token:hg,isNewLine:Hs,lineBreak:li,lineBreakG:GI,nonASCIIwhitespace:Q_};var sh=new Set(["Array","ArrayBuffer","atob","AudioContext","Blob","Boolean","BigInt","btoa","clearInterval","clearTimeout","console","crypto","CustomEvent","DataView","Date","decodeURI","decodeURIComponent","devicePixelRatio","document","encodeURI","encodeURIComponent","Error","escape","eval","fetch","File","FileList","FileReader","Float32Array","Float64Array","Function","Headers","Image","ImageData","Infinity","Int16Array","Int32Array","Int8Array","Intl","isFinite","isNaN","JSON","Map","Math","NaN","Number","navigator","Object","parseFloat","parseInt","performance","Path2D","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","cancelAnimationFrame","requestAnimationFrame","Set","setInterval","setTimeout","String","Symbol","SyntaxError","TextDecoder","TextEncoder","this","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","undefined","unescape","URIError","URL","WeakMap","WeakSet","WebSocket","Worker","window"]);function lS(t,e,i,r,n){i||(i=B),function s(o,a,l){var u=l||o.type;i[u](o,a,s),e[u]&&e[u](o,a)}(t,r,n)}function eo(t,e,i,r,n){var s=[];i||(i=B),function o(a,l,u){var c=u||a.type,h=a!==s[s.length-1];h&&s.push(a),i[c](a,l,o),e[c]&&e[c](a,l||s,s),h&&s.pop()}(t,r,n)}function uS(t,e){var i=Object.create(e||B);for(var r in t)i[r]=t[r];return i}function fg(t,e,i){i(t,e)}function In(t,e,i){}var B={};B.Program=B.BlockStatement=B.StaticBlock=function(t,e,i){for(var r=0,n=t.body;r<n.length;r+=1){var s=n[r];i(s,e,"Statement")}};B.Statement=fg;B.EmptyStatement=In;B.ExpressionStatement=B.ParenthesizedExpression=B.ChainExpression=function(t,e,i){return i(t.expression,e,"Expression")};B.IfStatement=function(t,e,i){i(t.test,e,"Expression"),i(t.consequent,e,"Statement"),t.alternate&&i(t.alternate,e,"Statement")};B.LabeledStatement=function(t,e,i){return i(t.body,e,"Statement")};B.BreakStatement=B.ContinueStatement=In;B.WithStatement=function(t,e,i){i(t.object,e,"Expression"),i(t.body,e,"Statement")};B.SwitchStatement=function(t,e,i){i(t.discriminant,e,"Expression");for(var r=0,n=t.cases;r<n.length;r+=1){var s=n[r];i(s,e)}};B.SwitchCase=function(t,e,i){t.test&&i(t.test,e,"Expression");for(var r=0,n=t.consequent;r<n.length;r+=1){var s=n[r];i(s,e,"Statement")}};B.ReturnStatement=B.YieldExpression=B.AwaitExpression=function(t,e,i){t.argument&&i(t.argument,e,"Expression")};B.ThrowStatement=B.SpreadElement=function(t,e,i){return i(t.argument,e,"Expression")};B.TryStatement=function(t,e,i){i(t.block,e,"Statement"),t.handler&&i(t.handler,e),t.finalizer&&i(t.finalizer,e,"Statement")};B.CatchClause=function(t,e,i){t.param&&i(t.param,e,"Pattern"),i(t.body,e,"Statement")};B.WhileStatement=B.DoWhileStatement=function(t,e,i){i(t.test,e,"Expression"),i(t.body,e,"Statement")};B.ForStatement=function(t,e,i){t.init&&i(t.init,e,"ForInit"),t.test&&i(t.test,e,"Expression"),t.update&&i(t.update,e,"Expression"),i(t.body,e,"Statement")};B.ForInStatement=B.ForOfStatement=function(t,e,i){i(t.left,e,"ForInit"),i(t.right,e,"Expression"),i(t.body,e,"Statement")};B.ForInit=function(t,e,i){t.type==="VariableDeclaration"?i(t,e):i(t,e,"Expression")};B.DebuggerStatement=In;B.FunctionDeclaration=function(t,e,i){return i(t,e,"Function")};B.VariableDeclaration=function(t,e,i){for(var r=0,n=t.declarations;r<n.length;r+=1){var s=n[r];i(s,e)}};B.VariableDeclarator=function(t,e,i){i(t.id,e,"Pattern"),t.init&&i(t.init,e,"Expression")};B.Function=function(t,e,i){t.id&&i(t.id,e,"Pattern");for(var r=0,n=t.params;r<n.length;r+=1){var s=n[r];i(s,e,"Pattern")}i(t.body,e,t.expression?"Expression":"Statement")};B.Pattern=function(t,e,i){t.type==="Identifier"?i(t,e,"VariablePattern"):t.type==="MemberExpression"?i(t,e,"MemberPattern"):i(t,e)};B.VariablePattern=In;B.MemberPattern=fg;B.RestElement=function(t,e,i){return i(t.argument,e,"Pattern")};B.ArrayPattern=function(t,e,i){for(var r=0,n=t.elements;r<n.length;r+=1){var s=n[r];s&&i(s,e,"Pattern")}};B.ObjectPattern=function(t,e,i){for(var r=0,n=t.properties;r<n.length;r+=1){var s=n[r];s.type==="Property"?(s.computed&&i(s.key,e,"Expression"),i(s.value,e,"Pattern")):s.type==="RestElement"&&i(s.argument,e,"Pattern")}};B.Expression=fg;B.ThisExpression=B.Super=B.MetaProperty=In;B.ArrayExpression=function(t,e,i){for(var r=0,n=t.elements;r<n.length;r+=1){var s=n[r];s&&i(s,e,"Expression")}};B.ObjectExpression=function(t,e,i){for(var r=0,n=t.properties;r<n.length;r+=1){var s=n[r];i(s,e)}};B.FunctionExpression=B.ArrowFunctionExpression=B.FunctionDeclaration;B.SequenceExpression=function(t,e,i){for(var r=0,n=t.expressions;r<n.length;r+=1){var s=n[r];i(s,e,"Expression")}};B.TemplateLiteral=function(t,e,i){for(var r=0,n=t.quasis;r<n.length;r+=1){var s=n[r];i(s,e)}for(var o=0,a=t.expressions;o<a.length;o+=1){var l=a[o];i(l,e,"Expression")}};B.TemplateElement=In;B.UnaryExpression=B.UpdateExpression=function(t,e,i){i(t.argument,e,"Expression")};B.BinaryExpression=B.LogicalExpression=function(t,e,i){i(t.left,e,"Expression"),i(t.right,e,"Expression")};B.AssignmentExpression=B.AssignmentPattern=function(t,e,i){i(t.left,e,"Pattern"),i(t.right,e,"Expression")};B.ConditionalExpression=function(t,e,i){i(t.test,e,"Expression"),i(t.consequent,e,"Expression"),i(t.alternate,e,"Expression")};B.NewExpression=B.CallExpression=function(t,e,i){if(i(t.callee,e,"Expression"),t.arguments)for(var r=0,n=t.arguments;r<n.length;r+=1){var s=n[r];i(s,e,"Expression")}};B.MemberExpression=function(t,e,i){i(t.object,e,"Expression"),t.computed&&i(t.property,e,"Expression")};B.ExportNamedDeclaration=B.ExportDefaultDeclaration=function(t,e,i){t.declaration&&i(t.declaration,e,t.type==="ExportNamedDeclaration"||t.declaration.id?"Statement":"Expression"),t.source&&i(t.source,e,"Expression")};B.ExportAllDeclaration=function(t,e,i){t.exported&&i(t.exported,e),i(t.source,e,"Expression")};B.ImportDeclaration=function(t,e,i){for(var r=0,n=t.specifiers;r<n.length;r+=1){var s=n[r];i(s,e)}i(t.source,e,"Expression")};B.ImportExpression=function(t,e,i){i(t.source,e,"Expression")};B.ImportSpecifier=B.ImportDefaultSpecifier=B.ImportNamespaceSpecifier=B.Identifier=B.PrivateIdentifier=B.Literal=In;B.TaggedTemplateExpression=function(t,e,i){i(t.tag,e,"Expression"),i(t.quasi,e,"Expression")};B.ClassDeclaration=B.ClassExpression=function(t,e,i){return i(t,e,"Class")};B.Class=function(t,e,i){t.id&&i(t.id,e,"Pattern"),t.superClass&&i(t.superClass,e,"Expression"),i(t.body,e)};B.ClassBody=function(t,e,i){for(var r=0,n=t.body;r<n.length;r+=1){var s=n[r];i(s,e)}};B.MethodDefinition=B.PropertyDefinition=B.Property=function(t,e,i){t.computed&&i(t.key,e,"Expression"),t.value&&i(t.value,e,"Expression")};var gr=uS({Import(){},ViewExpression(t,e,i){i(t.id,e,"Identifier")},MutableExpression(t,e,i){i(t.id,e,"Identifier")}});function oh(t){return t.type==="FunctionExpression"||t.type==="FunctionDeclaration"||t.type==="ArrowFunctionExpression"||t.type==="Program"}function CD(t){return t.type==="BlockStatement"||t.type==="ForInStatement"||t.type==="ForOfStatement"||t.type==="ForStatement"||oh(t)}function TD(t){return t.type==="FunctionExpression"||t.type==="FunctionDeclaration"}function ah(t,e){let i={type:"Program",body:[t.body]},r=new Map,n=new Set(e),s=[];function o(O,y){let v=r.get(O);return v?v.has(y):!1}function a(O,y){let v=r.get(O);v?v.add(y.name):r.set(O,new Set([y.name]))}function l(O){O.id&&a(O,O.id)}function u(O){O.params.forEach(y=>h(y,O)),O.id&&a(O,O.id)}function c(O){O.param&&h(O.param,O)}function h(O,y){switch(O.type){case"Identifier":a(y,O);break;case"ObjectPattern":O.properties.forEach(v=>h(v,y));break;case"ArrayPattern":O.elements.forEach(v=>v&&h(v,y));break;case"Property":h(O.value,y);break;case"RestElement":h(O.argument,y);break;case"AssignmentPattern":h(O.left,y);break;default:throw new Error("Unrecognized pattern type: "+O.type)}}function f(O){a(i,O.local)}eo(i,{VariableDeclaration:(O,y)=>{let v=null;for(let k=y.length-1;k>=0&&v===null;--k)(O.kind==="var"?oh(y[k]):CD(y[k]))&&(v=y[k]);O.declarations.forEach(k=>h(k.id,v))},FunctionDeclaration:(O,y)=>{let v=null;for(let k=y.length-2;k>=0&&v===null;--k)oh(y[k])&&(v=y[k]);a(v,O.id),u(O)},Function:u,ClassDeclaration:(O,y)=>{let v=null;for(let k=y.length-2;k>=0&&v===null;k--)oh(y[k])&&(v=y[k]);a(v,O.id)},Class:l,CatchClause:c,ImportDefaultSpecifier:f,ImportSpecifier:f,ImportNamespaceSpecifier:f},gr);function d(O,y){let v=O.name;if(v!=="undefined"){for(let k=y.length-2;k>=0;--k){if(v==="arguments"&&TD(y[k])||o(y[k],v))return;y[k].type==="ViewExpression"&&(O=y[k],v=`viewof ${O.id.name}`),y[k].type==="MutableExpression"&&(O=y[k],v=`mutable ${O.id.name}`)}if(!n.has(v)){if(v==="arguments")throw Object.assign(new SyntaxError("arguments is not allowed"),{node:O});s.push(O)}}}eo(i,{VariablePattern:d,Identifier:d},gr);function p(O,y){if(O)switch(O.type){case"Identifier":case"VariablePattern":{for(let v of y)if(o(v,O.name))return;if(y[y.length-2].type==="MutableExpression")return;throw Object.assign(new SyntaxError(`Assignment to constant variable ${O.name}`),{node:O})}case"ArrayPattern":{for(let v of O.elements)p(v,y);return}case"ObjectPattern":{for(let v of O.properties)p(v,y);return}case"Property":{p(O.value,y);return}case"RestElement":{p(O.argument,y);return}}}function m(O,y){p(O.argument,y)}function g(O,y){p(O.left,y)}return eo(i,{AssignmentExpression:g,AssignmentPattern:g,UpdateExpression:m,ForOfStatement:g,ForInStatement:g},gr),s}function Dn(t,e){let i={type:"Program",body:[t.body]},r=new Map,{references:n}=t;return lS(i,{CallExpression:s=>{let{callee:o,arguments:a}=s;if(o.type!=="Identifier"||o.name!==e||n.indexOf(o)<0)return;if(a.length!==1||!(a[0].type==="Literal"&&/^['"]/.test(a[0].raw)||a[0].type==="TemplateLiteral"&&a[0].expressions.length===0))throw Object.assign(new SyntaxError(`${e} requires a single literal string argument`),{node:s});let[l]=a,u=l.type==="Literal"?l.value:l.quasis[0].value.cooked,c={start:l.start,end:l.end};r.has(u)?r.get(u).push(c):r.set(u,[c])}},gr),r}var to=2,fS=4,dS=8;function pg(t,{tag:e,raw:i,globals:r,...n}={}){let s;if(e!=null&&t){s=lh.parse(t,n);let o=dg.parse(e,n);cS(o,e,r),hS(o,e),s.tag=o,s.raw=!!i}else s=Ln.parse(t,n);return cS(s,t,r),hS(s,t),s}var Ln=class t extends ze{constructor(e,...i){super(Object.assign({ecmaVersion:13},e),...i)}enterScope(e){return e&to&&++this.O_function,super.enterScope(e)}exitScope(){return this.currentScope().flags&to&&--this.O_function,super.exitScope()}parseForIn(e,i){return this.O_function===1&&e.await&&(this.O_async=!0),super.parseForIn(e,i)}parseAwait(){return this.O_function===1&&(this.O_async=!0),super.parseAwait()}parseYield(e){return this.O_function===1&&(this.O_generator=!0),super.parseYield(e)}parseImport(e){return this.next(),e.specifiers=this.parseImportSpecifiers(),this.type===b._with&&(this.next(),e.injections=this.parseImportSpecifiers()),this.expectContextual("from"),e.source=this.type===b.string?this.parseExprAtom():this.unexpected(),this.finishNode(e,"ImportDeclaration")}parseImportSpecifiers(){let e=[],i=new Set,r=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;let n=this.startNode();n.view=this.eatContextual("viewof"),n.mutable=n.view?!1:this.eatContextual("mutable"),n.imported=this.parseIdent(),this.checkUnreserved(n.imported),this.checkLocal(n.imported),this.eatContextual("as")?(n.local=this.parseIdent(),this.checkUnreserved(n.local),this.checkLocal(n.local)):n.local=n.imported,this.checkLValSimple(n.local,"let"),i.has(n.local.name)&&this.raise(n.local.start,`Identifier '${n.local.name}' has already been declared`),i.add(n.local.name),e.push(this.finishNode(n,"ImportSpecifier"))}return e}parseExprAtom(e){return this.parseMaybeKeywordExpression("viewof","ViewExpression")||this.parseMaybeKeywordExpression("mutable","MutableExpression")||super.parseExprAtom(e)}startCell(){this.O_function=0,this.O_async=!1,this.O_generator=!1,this.strict=!0,this.enterScope(to|fS|dS)}finishCell(e,i,r){return r&&this.checkLocal(r),e.id=r,e.body=i,e.async=this.O_async,e.generator=this.O_generator,this.exitScope(),this.finishNode(e,"Cell")}parseCell(e,i){let r=new t({},this.input,this.start),n=r.getToken(),s=null,o=null;return this.startCell(),n.type===b._import&&r.getToken().type!==b.parenL?s=this.parseImport(this.startNode()):n.type!==b.eof&&n.type!==b.semi&&(n.type===b.name&&((n.value==="viewof"||n.value==="mutable")&&(n=r.getToken(),n.type!==b.name&&r.unexpected()),n=r.getToken(),n.type===b.eq&&(o=this.parseMaybeKeywordExpression("viewof","ViewExpression")||this.parseMaybeKeywordExpression("mutable","MutableExpression")||this.parseIdent(),n=r.getToken(),this.expect(b.eq))),n.type===b.braceL?s=this.parseBlock():(s=this.parseExpression(),o===null&&(s.type==="FunctionExpression"||s.type==="ClassExpression")&&(o=s.id))),this.semicolon(),i&&this.expect(b.eof),this.finishCell(e,s,o)}parseTopLevel(e){return this.parseCell(e,!0)}toAssignable(e,i,r){return e.type==="MutableExpression"?e:super.toAssignable(e,i,r)}checkLocal(e){let i=e.id||e;(sh.has(i.name)||i.name==="arguments")&&this.raise(i.start,`Identifier '${i.name}' is reserved`)}checkUnreserved(e){return(e.name==="viewof"||e.name==="mutable")&&this.raise(e.start,`Unexpected keyword '${e.name}'`),super.checkUnreserved(e)}checkLValSimple(e,i,r){return super.checkLValSimple(e.type==="MutableExpression"?e.id:e,i,r)}unexpected(e){this.raise(e!=null?e:this.start,this.type===b.eof?"Unexpected end of input":"Unexpected token")}parseMaybeKeywordExpression(e,i){if(this.isContextual(e)){let r=this.startNode();return this.next(),r.id=this.parseIdent(),this.finishNode(r,i)}}},ED=new Ft("`",!0,!0,t=>QD.call(t)),lh=class extends Ln{constructor(...e){super(...e),this.type=b.backQuote,this.exprAllowed=!1}initialContext(){return[ED]}parseCell(e){this.startCell(),this.type===b.eof&&(this.value="");let i=!0,r=this.startNode();r.expressions=[];let n=this.parseTemplateElement({isTagged:i});for(r.quasis=[n];this.type!==b.eof;)this.expect(b.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(b.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:i}));return n.tail=!0,this.next(),this.finishNode(r,"TemplateLiteral"),this.expect(b.eof),this.finishCell(e,r,null)}};function QD(){e:for(;this.pos<this.input.length;this.pos++)switch(this.input.charCodeAt(this.pos)){case 92:{this.pos<this.input.length-1&&++this.pos;break}case 36:{if(this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&this.type===b.invalidTemplate)return this.pos+=2,this.finishToken(b.dollarBraceL);break e}break}}return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos))}var dg=class extends ze{constructor(e,...i){super(Object.assign({ecmaVersion:12},e),...i)}enterScope(e){return e&to&&++this.O_function,super.enterScope(e)}exitScope(){return this.currentScope().flags&to&&--this.O_function,super.exitScope()}parseForIn(e,i){return this.O_function===1&&e.await&&(this.O_async=!0),super.parseForIn(e,i)}parseAwait(){return this.O_function===1&&(this.O_async=!0),super.parseAwait()}parseYield(e){return this.O_function===1&&(this.O_generator=!0),super.parseYield(e)}parseTopLevel(e){return this.O_function=0,this.O_async=!1,this.O_generator=!1,this.strict=!0,this.enterScope(to|fS|dS),e.body=this.parseExpression(),e.input=this.input,e.async=this.O_async,e.generator=this.O_generator,this.exitScope(),this.finishNode(e,"CellTag")}};function cS(t,e,i=sh){if(!t.body)t.references=[];else if(t.body.type==="ImportDeclaration")t.references=t.body.injections?t.body.injections.map(r=>r.imported):[];else try{t.references=ah(t,i)}catch(r){if(r.node){let n=Gs(e,r.node.start);r.message+=` (${n.line}:${n.column})`,r.pos=r.node.start,r.loc=n,delete r.node}throw r}return t}function hS(t,e){if(t.body&&t.body.type!=="ImportDeclaration")try{t.fileAttachments=Dn(t,"FileAttachment"),t.databaseClients=Dn(t,"DatabaseClient"),t.secrets=Dn(t,"Secret"),t.notificationClients=Dn(t,"NotificationClient")}catch(i){if(i.node){let r=Gs(e,i.node.start);i.message+=` (${r.line}:${r.column})`,i.pos=i.node.start,i.loc=r,delete i.node}throw i}else t.fileAttachments=new Map,t.databaseClients=new Map,t.secrets=new Map,t.notificationClients=new Map;return t}var d6=Symbol("start"),p6=Symbol("modifier"),m6=Symbol("function"),g6=Symbol("name");var mg=class extends Ln{parseTopLevel(e){for(e.cells||(e.cells=[]);this.type!==b.eof;){let i=this.parseCell(this.startNode());i.input=this.input,e.cells.push(i)}return this.next(),this.finishNode(e,"Program")}};function uh(t){return mg.parse(t,{ecmaVersion:"latest"}).cells.map(e=>({text:t.substring(e.start,e.end),start:e.start,end:e.end}))}function ch(t){return pg(t)}var Ya={functionType:Object.getPrototypeOf(function(){}).constructor,asyncFunctionType:Object.getPrototypeOf(async function(){}).constructor,generatorFunctionType:Object.getPrototypeOf(function*(){}).constructor,asyncGeneratorFunctionType:Object.getPrototypeOf(async function*(){}).constructor};function AD(t=!1,e=!1){return!t&&!e?Ya.functionType:t&&!e?Ya.asyncFunctionType:!t&&e?Ya.generatorFunctionType:Ya.asyncGeneratorFunctionType}function fh(t,e=!1,i=!1,r=!1,n){if(n!==void 0)return t.patches.sort((s,o)=>o.start-s.start),t.patches.forEach(s=>{n=n.substring(0,s.start)+s.newText+n.substring(s.end)}),new(AD(e,i))(...t.args,r?n.substring(1,n.length-1).trim():`return (
${n}
);`)}function MD(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}var gg=t=>t[0]===".",io=(t,e)=>gg(t)?MD(e,t):t;async function pS(t){return new Ya.asyncFunctionType("url","return import(url)")(t)}function mS(t){return t.split("`").join("\\`")}function hh(t,e,i){let r,n;try{r=ch(t)}catch(s){n=s}return{ojs:t,offset:e,inlineMD:i,cell:r,error:n}}function $D(t){let e=[],i=/(```(?:\s|\S)[\s\S]*?```)/g,r=0,n=i.exec(t);for(;n!==null;){n.index>r&&e.push(hh(t.substring(r,n.index),r,!0));let s=n[0];if(s.indexOf("``` ")===0||s.indexOf("```\n")===0||s.indexOf("```\r\n")===0){let a=s.substring(3,s.length-3);e.push(hh(a,n.index+3,!1))}else e.push(hh(s,n.index,!0));r=n.index+n[0].length,n=i.exec(t)}return t.length>r&&e.push(hh(t.substring(r,t.length),r,!0)),e}function ro(t){let e=uh(t);return{files:[],nodes:e.map((i,r)=>({id:r,mode:"js",value:i.text,start:i.start,end:i.end}))}}function Fa(t){let e=$D(t);return{files:[],nodes:e.map((i,r)=>({id:r,mode:i.inlineMD?"md":"js",value:i.ojs,start:i.offset,end:i.offset+i.ojs.length}))}}function dh(t,e="https://api.codetabs.com/v1/proxy/?quest=",i=""){let r=t.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n?]+)/img);return fetch(t,{headers:{origin:r[0],referer:t}}).then(n=>{if(n.ok)return n;throw new Error("CORS?")}).catch(n=>(t=`${e}${t}${i}`,fetch(t,{headers:{origin:r[0],referer:t}})))}function RD(t,e){if(t.references===void 0)return{inputs:[],args:[],patches:[]};let i={};t.references.forEach(s=>i[e.substring(s.start,s.end)]=!0);let r={inputs:Object.keys(i),args:Object.keys(i).map(s=>s.split(" ").join("_")),patches:[]},n=(s,o)=>r.patches.push({start:s.start-t.body.start,end:s.end-t.body.start,newText:o});return t.body&&eo(t.body,{Identifier(s){let o=e.substring(s.start,s.end);i[o]},MutableExpression(s){let a=e.substring(s.start,s.end).split(" ").join("_")+".value";n(s,a)},ViewExpression(s){let a=e.substring(s.start,s.end).split(" ").join("_");n(s,a)},ThisExpression(s,o){e.substring(s.start,s.end)==="this"&&!o.find(l=>l.type==="FunctionExpression")&&n(s,"((this === globalThis || this === globalThis.window)? undefined : this?.valueOf())")}},gr),r}function ID(t){var e,i,r,n;return{type:"import",src:t.body.source.value,specifiers:(i=(e=t.body.specifiers)==null?void 0:e.map(s=>{var o;return{view:s.view,name:s.imported.name,alias:(o=s.local)!=null&&o.name&&s.imported.name!==s.local.name?s.local.name:s.imported.name}}))!=null?i:[],injections:(n=(r=t.body.injections)==null?void 0:r.map(s=>{var o,a;return{name:s.imported.name,alias:(a=(o=s.local)==null?void 0:o.name)!=null?a:s.imported.name}}))!=null?n:[]}}function DD(t,e,i,r){var s,o;let n=e.id&&t.substring(e.id.start,e.id.end);return{type:"viewof",variable:{type:"variable",id:n,inputs:i.inputs,func:fh(i,e.async,e.generator,e.body.type==="BlockStatement",r)},variableValue:{type:"variable",id:(o=(s=e==null?void 0:e.id)==null?void 0:s.id)==null?void 0:o.name,inputs:["Generators",n],func:(a,l)=>a.input(l)}}}function LD(t,e,i,r){var a,l;let n=e.id&&t.substring(e.id.start,e.id.end),s=(l=(a=e==null?void 0:e.id)==null?void 0:a.id)==null?void 0:l.name,o=`initial ${s}`;return{type:"mutable",initial:{type:"variable",id:o,inputs:i.inputs,func:fh(i,e.async,e.generator,e.body.type==="BlockStatement",r)},variable:{type:"variable",id:n,inputs:["Mutable",o],func:(u,c)=>new u(c)},variableValue:{type:"variable",id:s,inputs:[n],func:u=>u.generator}}}function VD(t,e,i,r){var n,s;return{type:"variable",id:e.id&&t.substring((n=e.id)==null?void 0:n.start,(s=e.id)==null?void 0:s.end),inputs:i.inputs,func:fh(i,e.async,e.generator,e.body.type==="BlockStatement",r)}}function gS(t,e){var s,o;let i=ch(t),r=i.body&&t.substring(i.body.start,i.body.end);switch((s=i.body)==null?void 0:s.type){case"ImportDeclaration":return ID(i);case"ImportExpression":r=`import("${io(i.body.source.value,e)}")`}let n=RD(i,t);switch((o=i.id)==null?void 0:o.type){case"ViewExpression":return DD(t,i,n,r);case"MutableExpression":return LD(t,i,n,r);default:return VD(t,i,n,r)}}var ph=class{constructor(){this._files=[];this._imports=[];this._functions=[];this._defines=[];this._defineUid=0;this._functionUid=0}toString(){return`${this._imports.join(`
`)}

${this._functions.join(`
`).split(`
) {`).join("){")}

export default function define(runtime, observer) {
  const main = runtime.module();

  function toString() { return this.url; }
  const fileAttachments = new Map([
    ${this._files.map(e=>`["${e.name}", { url: new URL("${e.url}"), mimeType: ${JSON.stringify(e.mime_type)}, toString }]`).join(`,
    `)}
  ]);
  main.builtin("FileAttachment", runtime.fileAttachments(name => fileAttachments.get(name)));

  ${this._defines.join(`
  `)}

  return main;
}
`}files(e){this._files=[...this._files,...e]}import(e){this._imports.push(`import define${++this._defineUid} from "${e}"; `)}importDefine(e){let i=e.injections.map(n=>n.name===n.alias?`"${n.name}"`:`{name: "${n.name}", alias: "${n.alias}"}`),r=e.injections.length?`.derive([${i.join(", ")}], main)`:"";this._defines.push(`const child${this._defineUid} = runtime.module(define${this._defineUid})${r};`),e.specifiers.forEach(n=>{this._defines.push(`main.import("${n.name}"${n.alias&&n.alias!==n.name?`, "${n.alias}"`:""}, child${this._defineUid}); `)})}function(e){var n,s,o;let i=(n=e.id)!=null?n:`${++this._functionUid}`,r=i.split(" ");return i=`_${r[r.length-1]}`,this._functions.push(`${(o=(s=e.func)==null?void 0:s.toString())==null?void 0:o.replace("anonymous",`${i}`)}`),i}define(e,i=!0,r=!1,n){var u;n=n!=null?n:e.id;let s=i?`.variable(observer(${e.id?JSON.stringify(e.id):""}))`:"",o=e.id?`${JSON.stringify(e.id)}, `:"",a=e.inputs.length?`[${e.inputs.map(c=>JSON.stringify(c)).join(", ")}], `:"",l=r?(u=e.func)==null?void 0:u.toString():n;this._defines.push(`main${s}.define(${o}${a}${l});`)}error(e){}};async function ND(t,e){let i=io(t,e),r=await dh(i).then(o=>o.text()),n;t.endsWith(".ojsnb")?n=JSON.parse(r):t.endsWith(".ojs")?n=ro(r):t.endsWith(".omd")&&(n=Fa(r));let s=mh(n,{baseUrl:e});return s.delete=()=>{},s.write=o=>{o.import(i)},s}async function zD(t){let e=`https://api.observablehq.com/${t[0]==="@"?t:`d/${t}`}.js?v=3`,i={default:function(n,s){}};try{i=await pS(e)}catch{}let r=i.default;return r.delete=()=>{},r.write=n=>{n.import(e)},r}async function BD(t){let e=`https://api.observablehq.com/document/${t}`,i=dh(e).then(n=>n.json()).catch(n=>{console.error(e),console.error(n)}),r=mh(await i);return r.delete=()=>{},r.write=n=>{n.import(e)},r}async function qD(t,e,i,{baseUrl:r,importMode:n}){let s=gg(e.src)?await ND(e.src,r):n==="recursive"?await BD(e.src):await zD(e.src),o=[],a=[];e.specifiers.forEach(u=>{let c=u.view?"viewof ":"";o.push(OS(c+u.name,c+u.alias)),u.view&&o.push(OS(u.name,u.alias))});let l=(u,c,h)=>{let f=u.module(s);return e.injections.length&&(f=f.derive(e.injections,c)),a.forEach(d=>d(c,h)),o.forEach(d=>d(c,f)),f};return l.importVariables=o,l.variables=a,l.delete=()=>{o.forEach(u=>u.delete()),a.forEach(u=>u.delete()),s.delete()},l.write=u=>{s.write(u),u.importDefine(e)},l}function Vn(t,e,i,r,n,s=!1){let o,a,l=(u,c)=>{if(o=e?c(i,t.id):void 0,a=u.variable(o),arguments.length>1)try{a.define(i,r,n)}catch(h){console.error(h==null?void 0:h.message)}if(t.pinned){a=u.variable(c(i,t.id));try{a.define(void 0,["md"],h=>h`\`\`\`js
${t.value}
\`\`\``)}catch(h){console.error(h==null?void 0:h.message)}}return a};return l.delete=()=>{var u;try{(u=o==null?void 0:o._node)==null||u.remove()}catch{}o=void 0;try{a==null||a.delete()}catch{}a=void 0},l.write=u=>{if(s)u.define({id:i,inputs:r,func:n},e,!0);else{let c=u.function({id:i,func:n});u.define({id:i,inputs:r,func:n},e,!1,c)}},l}function OS(t,e){let i,r=(n,s)=>{i=n.variable(),i.import(t,e,s)};return r.delete=()=>{i==null||i.delete()},r}async function bS(t,e){let i=[],r=[];try{let s=t.mode&&t.mode!=="js"?`${t.mode}\`${mS(t.value)}\``:t.value,o=uh(s);for(let a of o){let l=gS(a.text,e.baseUrl);switch(l.type){case"import":i.push(await qD(t,l,a.text,e));break;case"viewof":r.push(Vn(t,!0,l.variable.id,l.variable.inputs,l.variable.func)),r.push(Vn(t,!1,l.variableValue.id,l.variableValue.inputs,l.variableValue.func,!0));break;case"mutable":r.push(Vn(t,!1,l.initial.id,l.initial.inputs,l.initial.func)),r.push(Vn(t,!1,l.variable.id,l.variable.inputs,l.variable.func)),r.push(Vn(t,!0,l.variableValue.id,l.variableValue.inputs,l.variableValue.func,!0));break;case"variable":r.push(Vn(t,!0,l.id,l.inputs,l.func));break}}}catch(s){r.push(Vn(t,!0,void 0,[],s.message))}let n=(s,o,a)=>{i.forEach(l=>l(s,o,a)),r.forEach(l=>l(o,a))};return n.id=t.id,n.modules=i,n.variables=r,n.delete=()=>{r.forEach(s=>s.delete()),i.forEach(s=>s.delete())},n.write=s=>{i.forEach(o=>o.write(s)),r.forEach(o=>o.write(s))},n}function ZD(t,e){function i(){return globalThis.url}return[t.name,{url:new URL(io(t.url,e.baseUrl)),mimeType:t.mime_type,toString:i}]}function WD(t=[],e=[],{baseUrl:i=".",importMode:r="precompiled"}={}){let n=t.map(l=>ZD(l,{baseUrl:i,importMode:r})),s=new Map(n),o=new Map(e.map(l=>[l.id,l])),a=(l,u)=>{let c=l.module();return c.builtin("FileAttachment",l.fileAttachments(h=>{var f;return(f=s.get(h))!=null?f:{url:new URL(io(h,i)),mimeType:null}})),c.builtin("fetchEx",dh),o.forEach(h=>{h(l,c,u)}),c};return a.fileAttachments=s,a.cells=o,a.set=async l=>{let u=await bS(l,{baseUrl:i,importMode:r});return a.delete(u.id),o.set(u.id,u),u},a.get=l=>o.get(l),a.delete=l=>{let u=o.get(l);return u?(u.delete(),o.delete(l)):!1},a.clear=()=>{o.forEach(l=>l.delete()),o.clear()},a.write=l=>{l.files(t),o.forEach(u=>u.write(l))},a.toString=(l=new ph)=>(a.write(l),l.toString().trim()),a}async function mh(t,{baseUrl:e=".",importMode:i="precompiled"}={}){let r=typeof t=="string"?ro(t):t,n=await Promise.all(r.nodes.map(s=>bS(s,{baseUrl:e,importMode:i})));return WD(r.files,n,{baseUrl:e,importMode:i})}function Jr(t,e,i){i=i||{};var r=t.ownerDocument,n=r.defaultView.CustomEvent;typeof n=="function"?n=new n(e,{detail:i}):(n=r.createEvent("Event"),n.initEvent(e,!1,!1),n.detail=i),t.dispatchEvent(n)}function gh(t){return Array.isArray(t)||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Oh(t){return t===(t|0)+""}function at(t){let e=document.createElement("span");return e.className="observablehq--cellname",e.textContent=`${t} = `,e}var jD=Symbol.prototype.toString;function Zi(t){return jD.call(t)}var{getOwnPropertySymbols:XD,prototype:{hasOwnProperty:YD}}=Object,{toStringTag:FD}=Symbol,Og={},Nn=XD;function no(t,e){return YD.call(t,e)}function Ua(t){return t[FD]||t.constructor&&t.constructor.name||"Object"}function Rt(t,e){try{let i=t[e];return i&&i.constructor,i}catch{return Og}}var UD=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function bh(t){try{let e=UD.filter(({symbol:o})=>t[o]===!0);if(!e.length)return;let i=e.find(o=>!o.modifier),r=i.name==="Map"&&e.find(o=>o.modifier&&o.prefix),n=e.some(o=>o.arrayish),s=e.some(o=>o.setish);return{name:`${r?r.name:""}${i.name}`,symbols:e,arrayish:n&&!s,setish:s}}catch{return null}}var{getPrototypeOf:bg,getOwnPropertyDescriptors:HD}=Object,yS=bg({});function Ga(t,e,i,r){let n=gh(t),s,o,a,l;t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,o=GD):(s="Map()",o=Ha):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,o=KD):(s="Set()",o=Ha):n?(s=`${t.constructor.name}(${t.length})`,o=e5):(l=bh(t))?(s=`Immutable.${l.name}${l.name==="Record"?"":`(${t.size})`}`,n=l.arrayish,o=l.arrayish?t5:l.setish?JD:r5):r?(s=Ua(t),o=i5):(s=Ua(t),o=Ha);let u=document.createElement("span");u.className="observablehq--expanded",i&&u.appendChild(at(i));let c=u.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${s}${n?" [":" {"}`)),c.addEventListener("mouseup",function(h){h.stopPropagation(),zn(u,so(t,null,i,r))}),o=o(t);for(let h=0;!(a=o.next()).done&&h<20;++h)u.appendChild(a.value);if(!a.done){let h=u.appendChild(document.createElement("a"));h.className="observablehq--field",h.style.display="block",h.appendChild(document.createTextNode("  \u2026 more")),h.addEventListener("mouseup",function(f){f.stopPropagation(),u.insertBefore(a.value,u.lastChild.previousSibling);for(let d=0;!(a=o.next()).done&&d<19;++d)u.insertBefore(a.value,u.lastChild.previousSibling);a.done&&u.removeChild(u.lastChild.previousSibling),Jr(u,"load")})}return u.appendChild(document.createTextNode(n?"]":"}")),u}function*GD(t){for(let[e,i]of t)yield n5(e,i);yield*Ha(t)}function*KD(t){for(let e of t)yield xS(e);yield*Ha(t)}function*JD(t){for(let e of t)yield xS(e)}function*e5(t){for(let e=0,i=t.length;e<i;++e)e in t&&(yield Or(e,Rt(t,e),"observablehq--index"));for(let e in t)!Oh(e)&&no(t,e)&&(yield Or(e,Rt(t,e),"observablehq--key"));for(let e of Nn(t))yield Or(Zi(e),Rt(t,e),"observablehq--symbol")}function*t5(t){let e=0;for(let i=t.size;e<i;++e)yield Or(e,t.get(e),!0)}function*i5(t){for(let i in HD(t))yield Or(i,Rt(t,i),"observablehq--key");for(let i of Nn(t))yield Or(Zi(i),Rt(t,i),"observablehq--symbol");let e=bg(t);e&&e!==yS&&(yield vS(e))}function*Ha(t){for(let i in t)no(t,i)&&(yield Or(i,Rt(t,i),"observablehq--key"));for(let i of Nn(t))yield Or(Zi(i),Rt(t,i),"observablehq--symbol");let e=bg(t);e&&e!==yS&&(yield vS(e))}function*r5(t){for(let[e,i]of t)yield Or(e,i,"observablehq--key")}function vS(t){let e=document.createElement("div"),i=e.appendChild(document.createElement("span"));return e.className="observablehq--field",i.className="observablehq--prototype-key",i.textContent="  <prototype>",e.appendChild(document.createTextNode(": ")),e.appendChild(tt(t,void 0,void 0,void 0,!0)),e}function Or(t,e,i){let r=document.createElement("div"),n=r.appendChild(document.createElement("span"));return r.className="observablehq--field",n.className=i,n.textContent=`  ${t}`,r.appendChild(document.createTextNode(": ")),r.appendChild(tt(e)),r}function n5(t,e){let i=document.createElement("div");return i.className="observablehq--field",i.appendChild(document.createTextNode("  ")),i.appendChild(tt(t)),i.appendChild(document.createTextNode(" => ")),i.appendChild(tt(e)),i}function xS(t){let e=document.createElement("div");return e.className="observablehq--field",e.appendChild(document.createTextNode("  ")),e.appendChild(tt(t)),e}function wS(t){let e=window.getSelection();return e.type==="Range"&&(e.containsNode(t,!0)||t.contains(e.anchorNode)||t.contains(e.focusNode))}function so(t,e,i,r){let n=gh(t),s,o,a,l;if(t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,o=s5):(s="Map()",o=Ka):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,o=o5):(s="Set()",o=Ka):n?(s=`${t.constructor.name}(${t.length})`,o=u5):(l=bh(t))?(s=`Immutable.${l.name}${l.name==="Record"?"":`(${t.size})`}`,n=l.arrayish,o=l.arrayish?l5:l.setish?a5:c5):(s=Ua(t),o=Ka),e){let h=document.createElement("span");return h.className="observablehq--shallow",i&&h.appendChild(at(i)),h.appendChild(document.createTextNode(s)),h.addEventListener("mouseup",function(f){wS(h)||(f.stopPropagation(),zn(h,so(t)))}),h}let u=document.createElement("span");u.className="observablehq--collapsed",i&&u.appendChild(at(i));let c=u.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${s}${n?" [":" {"}`)),u.addEventListener("mouseup",function(h){wS(u)||(h.stopPropagation(),zn(u,Ga(t,null,i,r)))},!0),o=o(t);for(let h=0;!(a=o.next()).done&&h<20;++h)h>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(a.value);return a.done||u.appendChild(document.createTextNode(", \u2026")),u.appendChild(document.createTextNode(n?"]":"}")),u}function*s5(t){for(let[e,i]of t)yield h5(e,i);yield*Ka(t)}function*o5(t){for(let e of t)yield tt(e,!0);yield*Ka(t)}function*a5(t){for(let e of t)yield tt(e,!0)}function*l5(t){let e=-1,i=0;for(let r=t.size;i<r;++i)i>e+1&&(yield yh(i-e-1)),yield tt(t.get(i),!0),e=i;i>e+1&&(yield yh(i-e-1))}function*u5(t){let e=-1,i=0;for(let r=t.length;i<r;++i)i in t&&(i>e+1&&(yield yh(i-e-1)),yield tt(Rt(t,i),!0),e=i);i>e+1&&(yield yh(i-e-1));for(let r in t)!Oh(r)&&no(t,r)&&(yield Ja(r,Rt(t,r),"observablehq--key"));for(let r of Nn(t))yield Ja(Zi(r),Rt(t,r),"observablehq--symbol")}function*Ka(t){for(let e in t)no(t,e)&&(yield Ja(e,Rt(t,e),"observablehq--key"));for(let e of Nn(t))yield Ja(Zi(e),Rt(t,e),"observablehq--symbol")}function*c5(t){for(let[e,i]of t)yield Ja(e,i,"observablehq--key")}function yh(t){let e=document.createElement("span");return e.className="observablehq--empty",e.textContent=t===1?"empty":`empty \xD7 ${t}`,e}function Ja(t,e,i){let r=document.createDocumentFragment(),n=r.appendChild(document.createElement("span"));return n.className=i,n.textContent=t,r.appendChild(document.createTextNode(": ")),r.appendChild(tt(e,!0)),r}function h5(t,e){let i=document.createDocumentFragment();return i.appendChild(tt(t,!0)),i.appendChild(document.createTextNode(" => ")),i.appendChild(tt(e,!0)),i}function vh(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;let i=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${f5(t.getUTCFullYear(),4)}-${br(t.getUTCMonth()+1,2)}-${br(t.getUTCDate(),2)}${i||r||n||s?`T${br(i,2)}:${br(r,2)}${n||s?`:${br(n,2)}${s?`.${br(s,3)}`:""}`:""}Z`:""}`}function f5(t){return t<0?`-${br(-t,6)}`:t>9999?`+${br(t,6)}`:br(t,4)}function br(t,e){return`${t}`.padStart(e,"0")}function yg(t){return vh(t,"Invalid Date")}var d5=Error.prototype.toString;function vg(t){return t.stack||d5.call(t)}var p5=RegExp.prototype.toString;function xg(t){return p5.call(t)}var wg=20;function _g(t,e,i,r){if(e===!1){if(SS(t,/["\n]/g)<=SS(t,/`|\${/g)){let u=document.createElement("span");r&&u.appendChild(at(r));let c=u.appendChild(document.createElement("span"));return c.className="observablehq--string",c.textContent=JSON.stringify(t),u}let o=t.split(`
`);if(o.length>wg&&!i){let u=document.createElement("div");r&&u.appendChild(at(r));let c=u.appendChild(document.createElement("span"));c.className="observablehq--string",c.textContent="`"+_S(o.slice(0,wg).join(`
`));let h=u.appendChild(document.createElement("span")),f=o.length-wg;return h.textContent=`Show ${f} truncated line${f>1?"s":""}`,h.className="observablehq--string-expand",h.addEventListener("mouseup",function(d){d.stopPropagation(),zn(u,tt(t,e,!0,r))}),u}let a=document.createElement("span");r&&a.appendChild(at(r));let l=a.appendChild(document.createElement("span"));return l.className=`observablehq--string${i?" observablehq--expanded":""}`,l.textContent="`"+_S(t)+"`",a}let n=document.createElement("span");r&&n.appendChild(at(r));let s=n.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(t.length>100?`${t.slice(0,50)}\u2026${t.slice(-49)}`:t),n}function _S(t){return t.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,m5)}function m5(t){var e=t.charCodeAt(0);switch(e){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return e<16?"\\x0"+e.toString(16):e<32?"\\x"+e.toString(16):"\\"+t}function SS(t,e){for(var i=0;e.exec(t);)++i;return i}var g5=Function.prototype.toString,O5={prefix:"async \u0192"},b5={prefix:"async \u0192*"},kS={prefix:"class"},y5={prefix:"\u0192"},v5={prefix:"\u0192*"};function Sg(t,e){var i,r,n=g5.call(t);switch(t.constructor&&t.constructor.name){case"AsyncFunction":i=O5;break;case"AsyncGeneratorFunction":i=b5;break;case"GeneratorFunction":i=v5;break;default:i=/^class\b/.test(n)?kS:y5;break}return i===kS?el(i,"",e):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(n))?el(i,"("+r[1]+")",e):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(n))?el(i,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(n))?el(i,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):el(i,"(\u2026)",e)}function el(t,e,i){var r=document.createElement("span");r.className="observablehq--function",i&&r.appendChild(at(i));var n=r.appendChild(document.createElement("span"));return n.className="observablehq--keyword",n.textContent=t.prefix,r.appendChild(document.createTextNode(e)),r}var{prototype:{toString:x5}}=Object;function tt(t,e,i,r,n){let s=typeof t;switch(s){case"boolean":case"undefined":{t+="";break}case"number":{t=t===0&&1/t<0?"-0":t+"";break}case"bigint":{t=t+"n";break}case"symbol":{t=Zi(t,r);break}case"function":return Sg(t,r);case"string":return _g(t,e,i,r);default:{if(t===null){s=null,t="null";break}if(t instanceof Date){s="date",t=yg(t,r);break}if(t===Og){s="forbidden",t="[forbidden]";break}switch(x5.call(t)){case"[object RegExp]":{s="regexp",t=xg(t,r);break}case"[object Error]":case"[object DOMException]":{s="error",t=vg(t,r);break}default:return(i?Ga:so)(t,e,r,n)}break}}let o=document.createElement("span");r&&o.appendChild(at(r));let a=o.appendChild(document.createElement("span"));return a.className=`observablehq--${s}`,a.textContent=t,o}function zn(t,e){t.classList.contains("observablehq--inspect")&&e.classList.add("observablehq--inspect"),t.parentNode.replaceChild(e,t),Jr(e,"load")}var w5=/\s+\(\d+:\d+\)$/m,Bn=class{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){let{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,i){let{_node:r}=this;if((!_5(e)||e.parentNode&&e.parentNode!==r)&&(e=tt(e,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),i),e.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==e)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(e,r.firstChild)}else r.appendChild(e);Jr(r,"update")}rejected(e,i){let{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var n=document.createElement("div");n.className="observablehq--inspect",i&&n.appendChild(at(i)),n.appendChild(document.createTextNode((e+"").replace(w5,""))),r.appendChild(n),Jr(r,"error",{error:e})}};Bn.into=function(t){if(typeof t=="string"&&(t=document.querySelector(t),t==null))throw new Error("container not found");return function(){return new Bn(t.appendChild(document.createElement("div")))}};function _5(t){return(t instanceof Element||t instanceof Text)&&t instanceof t.constructor}var PS={},kg={},Pg=34,tl=10,Cg=13;function TS(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function S5(t,e){var i=TS(t);return function(r,n){return e(i(r),n,t)}}function CS(t){var e=Object.create(null),i=[];return t.forEach(function(r){for(var n in r)n in e||i.push(e[n]=n)}),i}function It(t,e){var i=t+"",r=i.length;return r<e?new Array(e-r+1).join(0)+i:i}function k5(t){return t<0?"-"+It(-t,6):t>9999?"+"+It(t,6):It(t,4)}function P5(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":k5(t.getUTCFullYear(),4)+"-"+It(t.getUTCMonth()+1,2)+"-"+It(t.getUTCDate(),2)+(n?"T"+It(e,2)+":"+It(i,2)+":"+It(r,2)+"."+It(n,3)+"Z":r?"T"+It(e,2)+":"+It(i,2)+":"+It(r,2)+"Z":i||e?"T"+It(e,2)+":"+It(i,2)+"Z":"")}function xh(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function r(h,f){var d,p,m=n(h,function(g,O){if(d)return d(g,O-1);p=g,d=f?S5(g,f):TS(g)});return m.columns=p||[],m}function n(h,f){var d=[],p=h.length,m=0,g=0,O,y=p<=0,v=!1;h.charCodeAt(p-1)===tl&&--p,h.charCodeAt(p-1)===Cg&&--p;function k(){if(y)return kg;if(v)return v=!1,PS;var A,P=m,Q;if(h.charCodeAt(P)===Pg){for(;m++<p&&h.charCodeAt(m)!==Pg||h.charCodeAt(++m)===Pg;);return(A=m)>=p?y=!0:(Q=h.charCodeAt(m++))===tl?v=!0:Q===Cg&&(v=!0,h.charCodeAt(m)===tl&&++m),h.slice(P+1,A-1).replace(/""/g,'"')}for(;m<p;){if((Q=h.charCodeAt(A=m++))===tl)v=!0;else if(Q===Cg)v=!0,h.charCodeAt(m)===tl&&++m;else if(Q!==i)continue;return h.slice(P,A)}return y=!0,h.slice(P,p)}for(;(O=k())!==kg;){for(var C=[];O!==PS&&O!==kg;)C.push(O),O=k();f&&(C=f(C,g++))==null||d.push(C)}return d}function s(h,f){return h.map(function(d){return f.map(function(p){return c(d[p])}).join(t)})}function o(h,f){return f==null&&(f=CS(h)),[f.map(c).join(t)].concat(s(h,f)).join(`
`)}function a(h,f){return f==null&&(f=CS(h)),s(h,f).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?P5(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:n,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var qn=xh(","),Tg=qn.parse,Eg=qn.parseRows,C5=qn.format,T5=qn.formatBody,E5=qn.formatRows,Q5=qn.formatRow,A5=qn.formatValue;var Zn=xh("	"),Qg=Zn.parse,Ag=Zn.parseRows,M5=Zn.format,$5=Zn.formatBody,R5=Zn.formatRows,I5=Zn.formatRow,D5=Zn.formatValue;function wh(t){for(var e in t){var i=t[e].trim(),r,n;if(!i)i=null;else if(i==="true")i=!0;else if(i==="false")i=!1;else if(i==="NaN")i=NaN;else if(!isNaN(r=+i))i=r;else if(n=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))L5&&n[4]&&!n[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i);else continue;t[e]=i}return t}var L5=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Re(t,e,i){return{resolve(r=i){return`${t}@${e}/${r}`}}}var ES=Re("d3","7.9.0","dist/d3.min.js"),QS=Re("@observablehq/inputs","0.11.0","dist/inputs.min.js"),AS=Re("@observablehq/plot","0.6.16","dist/plot.umd.min.js"),MS=Re("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),_h=Re("@observablehq/highlight.js","2.0.0","highlight.min.js"),Mg=Re("@observablehq/katex","0.11.1","dist/katex.min.js"),$S=Re("lodash","4.17.21","lodash.min.js"),RS=Re("htl","0.3.1","dist/htl.min.js"),IS=Re("jszip","3.10.1","dist/jszip.min.js"),DS=Re("marked","0.3.12","marked.min.js"),$g=Re("sql.js","1.8.0","dist/sql-wasm.js"),LS=Re("vega","5.22.1","build/vega.min.js"),VS=Re("vega-lite","5.6.0","build/vega-lite.min.js"),NS=Re("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),il=Re("apache-arrow","4.0.1","Arrow.es2015.min.js"),zS=Re("apache-arrow","9.0.0","+esm"),Sh=Re("apache-arrow","11.0.0","+esm"),BS=Re("arquero","4.8.8","dist/arquero.min.js"),qS=Re("topojson-client","3.1.0","dist/topojson-client.min.js"),ZS=Re("exceljs","4.3.0","dist/exceljs.min.js"),WS=Re("mermaid","9.2.2","dist/mermaid.min.js"),Rg=Re("leaflet","1.9.3","dist/leaflet.js"),oo=Re("@duckdb/duckdb-wasm","1.24.0","+esm");var kh=new Map,rl=[],Ig=rl.map,V5=rl.some,N5=rl.hasOwnProperty,z5=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,B5=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,jS=/(?:\.[^/]*|\/)$/,en=class extends Error{constructor(e){super(e)}};en.prototype.name=en.name;function XS(t){let e=z5.exec(t);return e&&{name:e[1],version:e[2],path:e[3]}}function Dg(t="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw new Error("origin lacks trailing slash");function i(n){for(let s of e){let o=n[s];if(typeof o=="string")return o.startsWith("./")&&(o=o.slice(2)),jS.test(o)?o:`${o}.js`}}function r(n){let s=`${t}${n.name}${n.version?`@${n.version}`:""}/package.json`,o=kh.get(s);return o||kh.set(s,o=fetch(s).then(a=>{if(!a.ok)throw new en("unable to load package.json");return a.redirected&&!kh.has(a.url)&&kh.set(a.url,o),a.json()})),o}return async function(s,o){if(s.startsWith(t)&&(s=s.substring(t.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,o==null?location:o).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new en("illegal name");let a=XS(s);if(!a)return`${t}${s}`;if(!a.version&&o!=null&&o.startsWith(t)){let u=await r(XS(o.substring(t.length)));a.version=u.dependencies&&u.dependencies[a.name]||u.peerDependencies&&u.peerDependencies[a.name]}if(a.path&&!jS.test(a.path)&&(a.path+=".js"),a.path&&a.version&&B5.test(a.version))return`${t}${a.name}@${a.version}/${a.path}`;let l=await r(a);return`${t}${l.name}@${l.version}/${a.path||i(l)||"index.js"}`}}var YS=ao(Dg());function ao(t){let e=new Map,i=n(null);function r(a){if(typeof a!="string")return a;let l=e.get(a);return l||e.set(a,l=new Promise((u,c)=>{let h=document.createElement("script");h.onload=()=>{try{u(rl.pop()(n(a)))}catch{c(new en("invalid module"))}h.remove()},h.onerror=()=>{c(new en("unable to load module")),h.remove()},h.async=!0,h.src=a,window.define=FS,document.head.appendChild(h)})),l}function n(a){return l=>Promise.resolve(t(l,a)).then(r)}function s(a){return ao((l,u)=>l in a&&(l=a[l],u=null,typeof l!="string")?l:t(l,u))}function o(a){return arguments.length>1?Promise.all(Ig.call(arguments,i)).then(q5):i(a)}return o.alias=s,o.resolve=t,o}function q5(t){let e={};for(let i of t)for(let r in i)N5.call(i,r)&&(i[r]==null?Object.defineProperty(e,r,{get:Z5(i,r)}):e[r]=i[r]);return e}function Z5(t,e){return()=>t[e]}function W5(t){return t=t+"",t==="exports"||t==="module"}function FS(t,e,i){let r=arguments.length;r<2?(i=t,e=[]):r<3&&(i=e,e=typeof t=="string"?[]:t),rl.push(V5.call(e,W5)?n=>{let s={},o={exports:s};return Promise.all(Ig.call(e,a=>(a=a+"",a==="exports"?s:a==="module"?o:n(a)))).then(a=>(i.apply(null,a),o.exports))}:n=>Promise.all(Ig.call(e,n)).then(s=>typeof i=="function"?i.apply(null,s):i))}FS.amd={};var _i="https://cdn.observableusercontent.com/npm/",Si=YS;function US(t){Si=t}function HS(t){return t==null?Si:ao(t)}async function Ng(t){let[e,i]=await Promise.all([t($g.resolve()),t.resolve($g.resolve("dist/"))]);return e({locateFile:r=>`${i}${r}`})}var Wn=class t{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){let[i,r]=await Promise.all([Ng(Si),Promise.resolve(e).then(Vg)]);return new t(new i.Database(r))}async query(e,i){return await X5(this._db,e,i)}async queryRow(e,i){return(await this.query(e,i))[0]||null}async explain(e,i){let r=await this.query(`EXPLAIN QUERY PLAN ${e}`,i);return tn("pre",{className:"observablehq--inspect"},[Lg(r.map(n=>n.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,e==null?[]:[e])}async describeColumns({schema:e,table:i}={}){if(i==null)throw new Error("missing table");let r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[i]:[i,e]);if(!r.length)throw new Error(`table not found: ${i}`);return r.map(({name:n,type:s,notnull:o})=>({name:n,type:j5(s),databaseType:s,nullable:!o}))}async describe(e){let i=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!i.length)throw new Error("Not found");let{columns:r}=i;return tn("table",{value:i},[tn("thead",[tn("tr",r.map(n=>tn("th",[Lg(n)])))]),tn("tbody",i.map(n=>tn("tr",r.map(s=>tn("td",[Lg(n[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...i){return[e.join("?"),i]}};Object.defineProperty(Wn.prototype,"dialect",{value:"sqlite"});function j5(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}function Vg(t){return typeof t=="string"?fetch(t).then(Vg):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(Vg):t instanceof ArrayBuffer?new Uint8Array(t):t}async function X5(t,e,i){let[r]=await t.exec(e,i);if(!r)return[];let{columns:n,values:s}=r,o=s.map(a=>Object.fromEntries(a.map((l,u)=>[n[u],l])));return o.columns=n,o}function tn(t,e,i){arguments.length===2&&(i=e,e=void 0);let r=document.createElement(t);if(e!==void 0)for(let n in e)r[n]=e[n];if(i!==void 0)for(let n of i)r.appendChild(n);return r}function Lg(t){return document.createTextNode(t)}function nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ph(t,e=nl){let i,r=!1;if(e.length===1){let n;for(let s of t){let o=e(s);(r?nl(o,n)>0:nl(o,o)===0)&&(i=s,n=o,r=!0)}}else for(let n of t)(r?e(n,i)>0:e(n,n)===0)&&(i=n,r=!0);return i}function Ch(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function lo(t){return t&&typeof t.toArrowBuffer=="function"}function jn(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function zg(t){return t.schema.fields.map(Y5)}function Y5(t){return{name:t.name,type:F5(t.type),nullable:t.nullable,databaseType:String(t.type)}}function F5(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function sl(){return await import(`${_i}${Sh.resolve()}`)}var Bg,Xn=class t{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,i){let r=await this._db.connect(),n,s;try{if((i==null?void 0:i.length)>0?n=await(await r.prepare(e)).send(...i):n=await r.send(e),s=await n.next(),s.done)throw new Error("missing first batch")}catch(o){throw await r.close(),o}return{schema:zg(s.value),async*readRows(){try{for(;!s.done;)yield s.value.toArray(),s=await n.next()}finally{await r.close()}}}}async query(e,i){let r=await this.queryStream(e,i),n=[];for await(let s of r.readRows())for(let o of s)n.push(o);return n.schema=r.schema,n}async queryRow(e,i){let n=(await this.queryStream(e,i)).readRows();try{let{done:s,value:o}=await n.next();return s||!o.length?null:o[0]}finally{await n.return()}}async sql(e,...i){return await this.query(e.join("?"),i)}queryTag(e,...i){return[e.join("?"),i]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:i})=>({name:i}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:r,column_type:n,null:s})=>({name:r,type:J5(n),nullable:s!=="NO",databaseType:n}))}static async of(e={},i={}){var n,s;let r=await K5();return((n=i.query)==null?void 0:n.castTimestampToDate)===void 0&&(i={...i,query:{...i.query,castTimestampToDate:!0}}),((s=i.query)==null?void 0:s.castBigIntToDouble)===void 0&&(i={...i,query:{...i.query,castBigIntToDouble:!0}}),await r.open(i),await Promise.all(Object.entries(e).map(async([o,a])=>{if(a instanceof Qe)await GS(r,o,a);else if(jn(a))await Th(r,o,a);else if(Array.isArray(a))await KS(r,o,a);else if(lo(a))await H5(r,o,a);else if("data"in a){let{data:l,...u}=a;jn(l)?await Th(r,o,l,u):await KS(r,o,l,u)}else if("file"in a){let{file:l,...u}=a;await GS(r,o,l,u)}else throw new Error(`invalid source: ${a}`)})),new t(r)}};Object.defineProperty(Xn.prototype,"dialect",{value:"duckdb"});async function GS(t,e,i,r){let n=await i.url();if(n.startsWith("blob:")){let o=await i.arrayBuffer();await t.registerFileBuffer(i.name,new Uint8Array(o))}else await t.registerFileURL(i.name,new URL(n,location).href,4);let s=await t.connect();try{switch(i.mimeType){case"text/csv":case"text/tab-separated-values":return await s.insertCSVFromPath(i.name,{name:e,schema:"main",...r}).catch(async o=>{if(o.toString().includes("Could not convert"))return await U5(s,i,e);throw o});case"application/json":return await s.insertJSONFromPath(i.name,{name:e,schema:"main",...r});default:if(/\.arrow$/i.test(i.name)){let o=new Uint8Array(await i.arrayBuffer());return await s.insertArrowFromIPCStream(o,{name:e,schema:"main",...r})}if(/\.parquet$/i.test(i.name))return await s.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${i.name}')`);throw new Error(`unknown file type: ${i.mimeType}`)}}finally{await s.close()}}async function U5(t,e,i){return await(await t.prepare(`CREATE TABLE '${i}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`)).send(e.name)}async function Th(t,e,i,r){let n=await t.connect();try{await n.insertArrowTable(i,{name:e,schema:"main",...r})}finally{await n.close()}}async function H5(t,e,i){let n=(await sl()).tableFromIPC(i.toArrowBuffer());return await Th(t,e,n)}async function KS(t,e,i,r){let s=(await sl()).tableFromJSON(i);return await Th(t,e,s,r)}async function G5(){let t=await import(`${_i}${oo.resolve()}`),e=await t.selectBundle({mvp:{mainModule:`${_i}${oo.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${_i}${oo.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${_i}${oo.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${_i}${oo.resolve("dist/duckdb-browser-eh.worker.js")}`}}),i=new t.ConsoleLogger;return{module:t,bundle:e,logger:i}}async function K5(){Bg===void 0&&(Bg=G5());let{module:t,bundle:e,logger:i}=await Bg,r=await t.createWorker(e.mainWorker),n=new t.AsyncDuckDB(i,r);return await n.instantiate(e.mainModule),n}function J5(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(t)?"integer":"other"}}var Zg=20;function rk(t,e){return t&&(typeof t.sql=="function"||typeof t.queryTag=="function"&&(typeof t.query=="function"||typeof t.queryStream=="function"))&&(e!=="table"||typeof t.describeColumns=="function")&&t!==jg}function ol(t){return Array.isArray(t)&&(nk(t.schema)||sk(t.columns)||eL(t)||ok(t)||ak(t))||lk(t)}function eL(t){let e=Math.min(Zg,t.length);for(let i=0;i<e;++i){let r=t[i];if(r===null||typeof r!="object")return!1}return e>0&&tL(t[0])}function tL(t){for(let e in t)return!0;return!1}function nk(t){return Array.isArray(t)&&t.every(iL)}function sk(t){return Array.isArray(t)&&t.every(e=>typeof e=="string")}function iL(t){return t&&typeof t.name=="string"&&typeof t.type=="string"}function Wg(t){return lk(t)||ok(t)||ak(t)}function ok(t){let e=Math.min(Zg,t.length);if(!(e>0))return!1;let i,r=!1;for(let n=0;n<e;++n){let s=t[n];if(s==null)continue;let o=typeof s;if(i===void 0)switch(o){case"number":case"boolean":case"string":case"bigint":i=o;break;default:return!1}else if(o!==i)return!1;r=!0}return r}function ak(t){let e=Math.min(Zg,t.length);if(!(e>0))return!1;let i=!1;for(let r=0;r<e;++r){let n=t[r];if(n!=null){if(!(n instanceof Date))return!1;i=!0}}return i}function lk(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}var jg=Object.assign(async(t,e,i,r)=>{if(t=await rL(await t,r),rk(t))return JS(t,uk(e,t),i);if(ol(t))return dk(t,e);throw t?new Error("invalid data source"):new Error("missing data source")},{sql(t,e,i){return async function(){return JS(await nL(await t,i),arguments,e)}}});function Xg(t){let e=new WeakMap;return(i,r)=>{if(!i||typeof i!="object")throw new Error("invalid data source");let n=e.get(i);return(!n||ol(i)&&i.length!==n._numRows)&&(n=t(i,r),n._numRows=i.length,e.set(i,n)),n}}var NY=Xg(async t=>{if(t instanceof Qe){switch(t.mimeType){case"text/csv":return t.csv({typed:"auto"});case"text/tab-separated-values":return t.tsv({typed:"auto"});case"application/json":return t.json()}throw new Error(`unsupported file type: ${t.mimeType}`)}return t}),rL=Xg(async(t,e)=>{if(t instanceof Qe){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return co(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return jn(t)||lo(t)?co(t,e):ol(t)&&Wg(t)?Array.from(t,i=>({value:i})):t}),nL=Xg(async(t,e)=>{if(t instanceof Qe){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return co(t,e);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return co(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return ol(t)?co(await sL(t,e),e):jn(t)||lo(t)?co(t,e):t});async function sL(t,e){let i=await sl();return Wg(t)?i.tableFromArrays({[e]:t}):i.tableFromJSON(t)}function co(t,e=t instanceof Qe?oL(t):"__table"){return Xn.of({[e]:t})}function oL(t){return t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function JS(t,e,i){if(!t)throw new Error("missing data source");if(typeof t.queryTag=="function"){let r=new AbortController,n={signal:r.signal};if(i.then(()=>r.abort("invalidated")),typeof t.queryStream=="function")return aL(t.queryStream(...t.queryTag.apply(t,e),n));if(typeof t.query=="function")return t.query(...t.queryTag.apply(t,e),n)}if(typeof t.sql=="function")return t.sql.apply(t,e);throw new Error("source does not implement query, queryStream, or sql")}async function*aL(t){let e=performance.now(),i=await t,r=[];r.done=!1,r.error=null,r.schema=i.schema;try{for await(let n of i.readRows()){performance.now()-e>150&&r.length>0&&(yield r,e=performance.now());for(let s of n)r.push(s)}r.done=!0,yield r}catch(n){r.error=n,yield r}}function uk(t,e){var h;let i=typeof e.escape=="function"?e.escape:f=>f,{select:r,from:n,filter:s,sort:o,slice:a}=t;if(!n.table)throw new Error("missing from table");if(r.columns&&r.columns.length===0)throw new Error("at least one column must be selected");let l=new Map((h=t.names)==null?void 0:h.map(({column:f,name:d})=>[f,d])),c=[[`SELECT ${r.columns?r.columns.map(f=>{let d=l.get(f);return d?`${i(f)} AS ${i(d)}`:i(f)}).join(", "):"*"} FROM ${lL(n.table,i)}`]];for(let f=0;f<s.length;++f)Le(f?`
AND `:`
WHERE `,c),uL(s[f],c,i);for(let f=0;f<o.length;++f)Le(f?", ":`
ORDER BY `,c),ek(o[f],c,i);if(e.dialect==="mssql"||e.dialect==="oracle"){if(a.to!==null||a.from!==null){if(!o.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");Le(`
ORDER BY `,c),ek({column:r.columns[0],direction:"ASC"},c,i)}Le(`
OFFSET ${a.from||0} ROWS`,c),Le(`
FETCH NEXT ${a.to!==null?a.to-(a.from||0):1e9} ROWS ONLY`,c)}}else(a.to!==null||a.from!==null)&&Le(`
LIMIT ${a.to!==null?a.to-(a.from||0):1e9}`,c),a.from!==null&&Le(` OFFSET ${a.from}`,c);return c}function lL(t,e){if(typeof t=="object"){let i="";return t.database!=null&&(i+=e(t.database)+"."),t.schema!=null&&(i+=e(t.schema)+"."),i+=e(t.table),i}else return e(t)}function Le(t,e){let i=e[0];i[i.length-1]+=t}function ek({column:t,direction:e},i,r){Le(`${r(t)} ${e.toUpperCase()}`,i)}function uL({type:t,operands:e},i,r){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1||t==="v"||t==="nv")switch(uo(e[0],i,r),t){case"n":case"nv":Le(" IS NULL",i);return;case"nn":case"v":Le(" IS NOT NULL",i);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(t))if(["c","nc"].includes(t)){switch(uo(e[0],i,r),t){case"c":Le(" LIKE ",i);break;case"nc":Le(" NOT LIKE ",i);break}uo(hL(e[1]),i,r);return}else{switch(uo(e[0],i,r),t){case"eq":Le(" = ",i);break;case"ne":Le(" <> ",i);break;case"gt":Le(" > ",i);break;case"lt":Le(" < ",i);break;case"gte":Le(" >= ",i);break;case"lte":Le(" <= ",i);break;default:throw new Error("Invalid filter operation")}uo(e[1],i,r);return}switch(uo(e[0],i,r),t){case"in":Le(" IN (",i);break;case"nin":Le(" NOT IN (",i);break;default:throw new Error("Invalid filter operation")}cL(e.slice(1),i),Le(")",i)}function uo(t,e,i){t.type==="column"?Le(i(t.value),e):(e.push(t.value),e[0].push(""))}function cL(t,e){let i=!0;for(let r of t)i?i=!1:Le(",",e),e.push(r.value),e[0].push("")}function hL(t){return{...t,value:`%${t.value}%`}}function ck(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))}function fL(t,e){return ck(t,e)||(t<e?-1:t>e?1:0)}function dL(t,e){return ck(t,e)||(t>e?-1:t<e?1:0)}var pL=t=>typeof t=="number"&&!Number.isNaN(t),mL=t=>Number.isInteger(t)&&!Number.isNaN(t),gL=t=>typeof t=="string",OL=t=>typeof t=="boolean",bL=t=>typeof t=="bigint",yL=t=>t instanceof Date&&!isNaN(t),vL=t=>t instanceof ArrayBuffer,xL=t=>Array.isArray(t),wL=t=>typeof t=="object"&&t!==null,_L=t=>t!=null;function qg(t){switch(t){case"string":return gL;case"bigint":return bL;case"boolean":return OL;case"number":return pL;case"integer":return mL;case"date":return yL;case"buffer":return vL;case"array":return xL;case"object":return wL;case"other":default:return _L}}var hk=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function SL(t,e){switch(e){case"string":return typeof t=="string"||t==null?t:String(t);case"boolean":if(typeof t=="string"){let i=t.trim().toLowerCase();return i==="true"?!0:i==="false"?!1:null}return typeof t=="boolean"||t==null?t:!!t;case"bigint":return typeof t=="bigint"||t==null?t:Number.isInteger(typeof t=="string"&&!t.trim()?NaN:+t)?BigInt(t):void 0;case"integer":case"number":return typeof t=="number"?t:t==null||typeof t=="string"&&!t.trim()?NaN:Number(t);case"date":{if(t instanceof Date||t==null)return t;if(typeof t=="number")return new Date(t);let i=String(t).trim();return typeof t=="string"&&!i?null:new Date(hk.test(i)?i:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw new Error(`Unable to coerce to type: ${e}`)}}function fk(t){let{columns:e}=t,{schema:i}=t;return nk(i)?{schema:i,inferred:!1}:(i=Qh(t,sk(e)?e:void 0),{schema:i,inferred:!0})}function tk(t,e){let i=t,{schema:r,inferred:n}=fk(t),s=new Map(r.map(({name:o,type:a})=>[o,a]));if(e.types){for(let{name:o,type:a}of e.types){s.set(o,a),r===i.schema&&(r=r.slice());let l=r.findIndex(u=>u.name===o);l>-1&&(r[l]={...r[l],type:a})}t=t.map(o=>Eh(o,s,r))}else n&&(t=t.map(o=>Eh(o,s,r)));return{source:t,schema:r}}function ik(t,e){if(!e.names)return t;let i=new Map(e.names.map(r=>[r.column,r]));return t.map(r=>Object.fromEntries(Object.keys(r).map(n=>{var o;let s=i.get(n);return[(o=s==null?void 0:s.name)!=null?o:n,r[n]]})))}function dk(t,e){let i=new Map,r=t,n=tk(t,e);t=n.source;let s=n.schema;if(e.derive){let u=[];e.derive.map(({name:h,value:f})=>{let d=[];ik(t,e).map((p,m)=>{let g;try{g=f(p)}catch(O){d.push({index:m,error:O}),g=void 0}u[m]?u[m]={...u[m],[h]:g}:u.push({[h]:g})}),d.length&&i.set(h,d)});let c=tk(u,e);t=t.map((h,f)=>({...h,...c.source[f]})),s=[...s,...c.schema]}for(let{type:u,operands:c}of e.filter){let[{value:h}]=c,f=c.slice(1).map(({value:d})=>d);switch(u){case"v":{let[d]=f,p=qg(d);t=t.filter(m=>p(m[h]));break}case"nv":{let[d]=f,p=qg(d);t=t.filter(m=>!p(m[h]));break}case"eq":{let[d]=f;if(d instanceof Date){let p=+d;t=t.filter(m=>+m[h]===p)}else t=t.filter(p=>p[h]===d);break}case"ne":{let[d]=f;t=t.filter(p=>p[h]!==d);break}case"c":{let[d]=f;t=t.filter(p=>typeof p[h]=="string"&&p[h].includes(d));break}case"nc":{let[d]=f;t=t.filter(p=>typeof p[h]=="string"&&!p[h].includes(d));break}case"in":{let d=new Set(f);t=t.filter(p=>d.has(p[h]));break}case"nin":{let d=new Set(f);t=t.filter(p=>!d.has(p[h]));break}case"n":{t=t.filter(d=>d[h]==null);break}case"nn":{t=t.filter(d=>d[h]!=null);break}case"lt":{let[d]=f;t=t.filter(p=>p[h]<d);break}case"lte":{let[d]=f;t=t.filter(p=>p[h]<=d);break}case"gt":{let[d]=f;t=t.filter(p=>p[h]>d);break}case"gte":{let[d]=f;t=t.filter(p=>p[h]>=d);break}default:throw new Error(`unknown filter type: ${u}`)}}for(let{column:u,direction:c}of Ch(e.sort)){let h=c==="desc"?dL:fL;t===r&&(t=t.slice()),t.sort((f,d)=>h(f[u],d[u]))}let{from:o,to:a}=e.slice;o=o==null?0:Math.max(0,o),a=a==null?1/0:Math.max(0,a),(o>0||a<1/0)&&(t=t.slice(Math.max(0,o),Math.max(0,a)));let l=s.slice();if(e.select.columns){if(s){let u=new Map(s.map(c=>[c.name,c]));s=e.select.columns.map(c=>u.get(c))}t=t.map(u=>Object.fromEntries(e.select.columns.map(c=>[c,u[c]])))}if(e.names){let u=new Map(e.names.map(c=>[c.column,c]));s&&(s=s.map(c=>{let h=u.get(c.name);return{...c,...h?{name:h.name}:null}})),l&&(l=l.map(c=>{let h=u.get(c.name);return{...c,...h?{name:h.name}:null}})),t=ik(t,e)}return t!==r&&s&&(t.schema=s),t.fullSchema=l,t.errors=i,t}function Eh(t,e,i){let r={};for(let n of i){let s=e.get(n.name),o=t[n.name];r[n.name]=s==="raw"?o:SL(o,s)}return r}function kL(){return{boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0}}var PL=["boolean","integer","number","date","bigint","array","object","buffer"];function CL(t){let e=new Set;for(let i of t)if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.add(r);return Array.from(e)}function Qh(t,e=CL(t)){var o;let i=[],n=t.slice(0,100),s={};for(let a of e){let l=s[a]=kL();for(let h of n){let f=h[a];if(f==null)continue;let d=typeof f;if(d!=="string")++l.defined,Array.isArray(f)?++l.array:f instanceof Date?++l.date:f instanceof ArrayBuffer?++l.buffer:d==="number"?(++l.number,Number.isInteger(f)&&++l.integer):d in l&&++l[d];else{if(f=f.trim(),!f)continue;++l.defined,++l.string,/^(true|false)$/i.test(f)?++l.boolean:f&&!isNaN(f)?(++l.number,Number.isInteger(+f)&&++l.integer):hk.test(f)&&++l.date}}let u=Math.max(1,l.defined*.9),c=(o=Ph(PL,h=>l[h]>=u?l[h]:NaN))!=null?o:l.string>=u?"string":"other";i.push({name:a,type:c,inferred:c})}return i}var Ah=class{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(i=>i.name),enumerable:!0}})}sheet(e,i){let r=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(r==null)throw new Error(`Sheet not found: ${e}`);let n=this._.getWorksheet(r);return TL(n,i)}};function TL(t,{range:e,headers:i}={}){let[[r,n],[s,o]]=EL(e,t),a=i?t._rows[n++]:null,l=new Set(["#"]);for(let c=r;c<=s;c++){let h=a?pk(a.findCell(c+1)):null,f=h&&h+""||QL(c);for(;l.has(f);)f+="_";l.add(f)}l=new Array(r).concat(Array.from(l));let u=new Array(o-n+1);for(let c=n;c<=o;c++){let h=u[c-n]=Object.create(null,{"#":{value:c+1}}),f=t.getRow(c+1);if(f.hasValues)for(let d=r;d<=s;d++){let p=pk(f.findCell(d+1));p!=null&&(h[l[d+1]]=p)}}return u.columns=l.filter(()=>!0),u}function pk(t){if(!t)return;let{value:e}=t;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return mk(e);if(e.text){let{text:i}=e;return i.richText&&(i=mk(i)),e.hyperlink&&e.hyperlink!==i?`${e.hyperlink} ${i}`:i}return e}return e}function mk(t){return t.richText.map(e=>e.text).join("")}function EL(t=":",{columnCount:e,rowCount:i}){if(t+="",!t.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");let[[r=0,n=0],[s=e-1,o=i-1]]=t.split(":").map(AL);return[[r,n],[s,o]]}function QL(t){let e="";t++;do e=String.fromCharCode(64+(t%26||26))+e;while(t=Math.floor((t-1)/26));return e}function AL(t){let[,e,i]=t.match(/^([A-Z]*)(\d*)$/),r=0;if(e)for(let n=0;n<e.length;n++)r+=Math.pow(26,e.length-n-1)*(e.charCodeAt(n)-64);return[r?r-1:void 0,i?+i-1:void 0]}async function yr(t){let e=await fetch(await t.url());if(!e.ok)throw new Error(`Unable to load file: ${t.name}`);return e}function ML(t,e){let i=new Map(e.map(({name:r,type:n})=>[r,n]));return Object.assign(t.map(r=>Eh(r,i,e)),{schema:e})}async function gk(t,e,{array:i=!1,typed:r=!1}={}){let n=await t.text(),s=e==="	"?i?Ag:Qg:i?Eg:Tg;if(r==="auto"&&!i){let o=s(n);return ML(o,Qh(o,o.columns))}return s(n,r&&wh)}var Yn=class{constructor(e,i){Object.defineProperty(this,"name",{value:e,enumerable:!0}),i!==void 0&&Object.defineProperty(this,"mimeType",{value:i+"",enumerable:!0})}async blob(){return(await yr(this)).blob()}async arrayBuffer(){return(await yr(this)).arrayBuffer()}async text(){return(await yr(this)).text()}async json(){return(await yr(this)).json()}async stream(){return(await yr(this)).body}async csv(e){return gk(this,",",e)}async tsv(e){return gk(this,"	",e)}async image(e){let i=await this.url();return new Promise((r,n)=>{let s=new Image;new URL(i,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,e),s.onload=()=>r(s),s.onerror=()=>n(new Error(`Unable to load file: ${this.name}`)),s.src=i})}async arrow({version:e=4}={}){switch(e){case 4:{let[i,r]=await Promise.all([Si(il.resolve()),yr(this)]);return i.Table.from(r)}case 9:{let[i,r]=await Promise.all([import(`${_i}${zS.resolve()}`),yr(this)]);return i.tableFromIPC(r)}case 11:{let[i,r]=await Promise.all([import(`${_i}${Sh.resolve()}`),yr(this)]);return i.tableFromIPC(r)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return Wn.open(yr(this))}async zip(){let[e,i]=await Promise.all([Si(IS.resolve()),this.arrayBuffer()]);return new Yg(await e.loadAsync(i))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){let[e,i]=await Promise.all([Si(ZS.resolve()),this.arrayBuffer()]);return new Ah(await new e.Workbook().xlsx.load(i))}},Qe=class extends Yn{constructor(e,i,r){super(i,r),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}};function Ok(t){throw new Error(`File not found: ${t}`)}function Ug(t){return Object.assign(e=>{let i=t(e+="");if(i==null)throw new Error(`File not found: ${e}`);if(typeof i=="object"&&"url"in i){let{url:r,mimeType:n}=i;return new Qe(r,e,n)}return new Qe(i,e)},{prototype:Qe.prototype})}var Yg=class{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(i=>!e.files[i].dir)}file(e){let i=this._.file(e+="");if(!i||i.dir)throw new Error(`file not found: ${e}`);return new Fg(i)}},Fg=class extends Yn{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}};var Hg={};hl(Hg,{canvas:()=>bk,context2d:()=>yk,download:()=>vk,element:()=>xk,input:()=>wk,range:()=>_k,select:()=>Sk,svg:()=>kk,text:()=>Pk,uid:()=>$h});function bk(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i}function yk(t,e,i){i==null&&(i=devicePixelRatio);var r=document.createElement("canvas");r.width=t*i,r.height=e*i,r.style.width=t+"px";var n=r.getContext("2d");return n.scale(i,i),n}function vk(t,e="untitled",i="Save"){let r=document.createElement("a"),n=r.appendChild(document.createElement("button"));n.textContent=i,r.download=e;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),n.textContent=i,n.disabled=!1}return r.onclick=async o=>{if(n.disabled=!0,r.href)return s();n.textContent="Saving\u2026";try{let a=await(typeof t=="function"?t():t);n.textContent="Download",r.href=URL.createObjectURL(a)}catch{n.textContent=i}if(o.eventPhase)return s();n.disabled=!1},r}var Mh={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xk(t,e){var i=t+="",r=i.indexOf(":"),n;r>=0&&(i=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1));var s=Mh.hasOwnProperty(i)?document.createElementNS(Mh[i],t):document.createElement(t);if(e)for(var o in e)i=o,r=i.indexOf(":"),n=e[o],r>=0&&(i=o.slice(0,r))!=="xmlns"&&(o=o.slice(r+1)),Mh.hasOwnProperty(i)?s.setAttributeNS(Mh[i],o,n):s.setAttribute(o,n);return s}function wk(t){var e=document.createElement("input");return t!=null&&(e.type=t),e}function _k(t,e,i){arguments.length===1&&(e=t,t=null);var r=document.createElement("input");return r.min=t=t==null?0:+t,r.max=e=e==null?1:+e,r.step=i==null?"any":i=+i,r.type="range",r}function Sk(t){var e=document.createElement("select");return Array.prototype.forEach.call(t,function(i){var r=document.createElement("option");r.value=r.textContent=i,e.appendChild(r)}),e}function kk(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("viewBox",[0,0,t,e]),i.setAttribute("width",t),i.setAttribute("height",e),i}function Pk(t){return document.createTextNode(t)}var $L=0;function $h(t){return new Ck("O-"+(t==null?"":t+"-")+ ++$L)}function Ck(t){this.id=t,this.href=new URL(`#${t}`,location)+""}Ck.prototype.toString=function(){return"url("+this.href+")"};var Gg={};hl(Gg,{buffer:()=>Tk,text:()=>Ek,url:()=>Qk});function Tk(t){return new Promise(function(e,i){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=i,r.readAsArrayBuffer(t)})}function Ek(t){return new Promise(function(e,i){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=i,r.readAsText(t)})}function Qk(t){return new Promise(function(e,i){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=i,r.readAsDataURL(t)})}var Kg={};hl(Kg,{disposable:()=>Rh,filter:()=>Ak,input:()=>$k,map:()=>Rk,observe:()=>vr,queue:()=>Ik,range:()=>Dk,valueAt:()=>Lk,worker:()=>Vk});function ho(){return this}function Rh(t,e){let i=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:ho,next:()=>i?{done:!0}:(i=!0,{done:!1,value:t}),return:()=>(i=!0,e(t),{done:!0}),throw:()=>({done:i=!0})}}function*Ak(t,e){for(var i,r=-1;!(i=t.next()).done;)e(i.value,++r)&&(yield i.value)}function vr(t){let e=!1,i,r,n=t(s);if(n!=null&&typeof n!="function")throw new Error(typeof n.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(a){return r?(r(a),r=null):e=!0,i=a}function o(){return{done:!1,value:e?(e=!1,Promise.resolve(i)):new Promise(a=>r=a)}}return{[Symbol.iterator]:ho,throw:()=>({done:!0}),return:()=>(n!=null&&n(),{done:!0}),next:o}}function $k(t){return vr(function(e){var i=RL(t),r=Mk(t);function n(){e(Mk(t))}return t.addEventListener(i,n),r!==void 0&&e(r),function(){t.removeEventListener(i,n)}})}function Mk(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,e=>e.value);default:return t.value}}function RL(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*Rk(t,e){for(var i,r=-1;!(i=t.next()).done;)yield e(i.value,++r)}function Ik(t){let e,i=[],r=t(n);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function n(o){return i.push(o),e&&(e(i.shift()),e=null),o}function s(){return{done:!1,value:i.length?Promise.resolve(i.shift()):new Promise(o=>e=o)}}return{[Symbol.iterator]:ho,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*Dk(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;for(var r=-1,n=Math.max(0,Math.ceil((e-t)/i))|0;++r<n;)yield t+r*i}function Lk(t,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var i,r=-1;!(i=t.next()).done;)if(++r===e)return i.value}}function Vk(t){let e=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),i=new Worker(e);return Rh(i,()=>{i.terminate(),URL.revokeObjectURL(e)})}function fo(t,e){return function(i){var r=i[0],n=[],s,o=null,a,l,u,c,h,f,d,p=-1;for(c=1,h=arguments.length;c<h;++c){if(s=arguments[c],s instanceof Node)n[++p]=s,r+="<!--o:"+p+"-->";else if(Array.isArray(s)){for(f=0,d=s.length;f<d;++f)a=s[f],a instanceof Node?(o===null&&(n[++p]=o=document.createDocumentFragment(),r+="<!--o:"+p+"-->"),o.appendChild(a)):(o=null,r+=a);o=null}else r+=s;r+=i[c]}if(o=t(r),++p>0){for(l=new Array(p),u=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT,null,!1);u.nextNode();)a=u.currentNode,/^o:/.test(a.nodeValue)&&(l[+a.nodeValue.slice(2)]=a);for(c=0;c<p;++c)(a=l[c])&&a.parentNode.replaceChild(n[c],a)}return o.childNodes.length===1?o.removeChild(o.firstChild):o.nodeType===11?((a=e()).appendChild(o),a):o}}var Nk=fo(function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function zk(t){let e=await t(Rg.resolve());if(!e._style){let i=document.createElement("link");i.rel="stylesheet",i.href=await t.resolve(Rg.resolve("dist/leaflet.css")),e._style=document.head.appendChild(i)}return e}function Bk(t){return t(DS.resolve()).then(function(e){return fo(function(i){var r=document.createElement("div");r.innerHTML=e(i,{langPrefix:""}).trim();var n=r.querySelectorAll("pre code[class]");return n.length>0&&t(_h.resolve()).then(function(s){n.forEach(function(o){function a(){s.highlightBlock(o),o.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(o.className)?a():t(_h.resolve("async-languages/index.js")).then(l=>{if(l.has(o.className))return t(_h.resolve("async-languages/"+l.get(o.className))).then(u=>{s.registerLanguage(o.className,u)})}).then(a,a)})}),r},function(){return document.createElement("div")})})}async function qk(t){let e=await t(WS.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){let r=document.createElement("div");return r.innerHTML=e.render($h().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function Zk(t){let e;Object.defineProperties(this,{generator:{value:vr(i=>void(e=i))},value:{get:()=>t,set:i=>e(t=i)}}),t!==void 0&&e(t)}function*Wk(){for(;;)yield Date.now()}var eO={};hl(eO,{delay:()=>jk,tick:()=>Xk,when:()=>Ih});function jk(t,e){return new Promise(function(i){setTimeout(function(){i(e)},t)})}var Jg=new Map;function IL(t,e){var i=new Promise(function(r){Jg.delete(e);var n=e-t;if(!(n>0))throw new Error("invalid time");if(n>2147483647)throw new Error("too long to wait");setTimeout(r,n)});return Jg.set(e,i),i}function Ih(t,e){var i;return(i=Jg.get(t=+t))?i.then(()=>e):(i=Date.now())>=t?Promise.resolve(e):IL(i,t).then(()=>e)}function Xk(t,e){return Ih(Math.ceil((Date.now()+1)/t)*t,e)}function Yk(t,e){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,e==null?location:e).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");return"https://unpkg.com/"+t}var Fk=fo(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var DL=String.raw;function LL(t){return new Promise(function(e,i){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=i,r.onload=e,document.head.appendChild(r)})}function Uk(t){return Promise.all([t(Mg.resolve()),t.resolve(Mg.resolve("dist/katex.min.css")).then(LL)]).then(function(e){var i=e[0],r=n();function n(s){return function(){var o=document.createElement("div");return i.render(DL.apply(String,arguments),o,s),o.removeChild(o.firstChild)}}return r.options=n,r.block=n({displayMode:!0}),r})}async function Hk(t){let[e,i,r]=await Promise.all([LS,VS,NS].map(n=>t(n.resolve())));return r.register(e,i)}function Gk(){return vr(function(t){var e=t(document.body.clientWidth);function i(){var r=document.body.clientWidth;r!==e&&t(e=r)}return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}})}var po=Object.assign(Object.defineProperties(function(e){let i=HS(e);Object.defineProperties(this,VL({FileAttachment:()=>Ok,Mutable:()=>Zk,now:Wk,width:Gk,dot:()=>i(MS.resolve()),htl:()=>i(RS.resolve()),html:()=>Nk,md:()=>Bk(i),svg:()=>Fk,tex:()=>Uk(i),_:()=>i($S.resolve()),aq:()=>i.alias({"apache-arrow":il.resolve()})(BS.resolve()),Arrow:()=>i(il.resolve()),d3:()=>i(ES.resolve()),DuckDBClient:()=>Xn,Inputs:()=>i(QS.resolve()).then(r=>({...r,file:r.fileOf(Yn)})),L:()=>zk(i),mermaid:()=>qk(i),Plot:()=>i(AS.resolve()),__query:()=>jg,require:()=>i,resolve:()=>Yk,SQLite:()=>Ng(i),SQLiteDatabaseClient:()=>Wn,topojson:()=>i(qS.resolve()),vl:()=>Hk(i),aapl:()=>new Qe("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new Qe("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new Qe("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new Qe("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new Qe("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new Qe("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new Qe("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new Qe("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new Qe("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new Qe("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),pizza:()=>new Qe("https://static.observableusercontent.com/files/c653108ab176088cacbb338eaf2344c4f5781681702bd6afb55697a3f91b511c6686ff469f3e3a27c75400001a2334dbd39a4499fe46b50a8b3c278b7d2f7fb5").csv({typed:!0}),weather:()=>new Qe("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:Hg,Files:Gg,Generators:Kg,Promises:eO}))},{resolve:{get:()=>Si.resolve,enumerable:!0,configurable:!0},require:{get:()=>Si,set:US,enumerable:!0,configurable:!0}}),{resolveFrom:Dg,requireFrom:ao});function VL(t){return Object.fromEntries(Object.entries(t).map(NL))}function NL([t,e]){return[t,{value:e,writable:!0,enumerable:!0}]}var St=class extends Error{constructor(e,i){super(e),this.input=i}};St.prototype.name="RuntimeError";function Kk(t){return t&&typeof t.next=="function"&&typeof t.return=="function"}function al(t){return()=>t}function mo(t){return t}function Jk(t){return()=>{throw t}}var eP=Array.prototype,tP=eP.map,JU=eP.forEach;function ki(){}var Dh=1,Un=2,ll=3,Fn=Symbol("no-observer");function Wi(t,e,i,r){i||(i=Fn),Object.defineProperties(this,{_observer:{value:i,writable:!0},_definition:{value:tO,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:ki,writable:!0},_module:{value:e},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:i!==Fn,writable:!0},_rejector:{value:ZL(this)},_shadow:{value:zL(e,r)},_type:{value:t},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(Wi.prototype,{_pending:{value:FL,writable:!0,configurable:!0},_fulfilled:{value:UL,writable:!0,configurable:!0},_rejected:{value:HL,writable:!0,configurable:!0},_resolve:{value:jL,writable:!0,configurable:!0},define:{value:WL,writable:!0,configurable:!0},delete:{value:YL,writable:!0,configurable:!0},import:{value:XL,writable:!0,configurable:!0}});function zL(t,e){return e!=null&&e.shadow?new Map(Object.entries(e.shadow).map(([i,r])=>[i,new Wi(Un,t).define([],r)])):null}function BL(t){t._module._runtime._dirty.add(t),t._outputs.add(this)}function qL(t){t._module._runtime._dirty.add(t),t._outputs.delete(this)}function tO(){throw tO}function Pi(){throw Pi}function ZL(t){return e=>{throw e===Pi?e:e===tO?new St(`${t._name} is not defined`,t._name):e instanceof Error&&e.message?new St(e.message,t._name):new St(`${t._name} could not be resolved`,t._name)}}function iP(t){return()=>{throw new St(`${t} is defined more than once`)}}function WL(t,e,i){switch(arguments.length){case 1:{i=t,t=e=null;break}case 2:{i=e,typeof t=="string"?e=null:(e=t,t=null);break}}return iO.call(this,t==null?null:String(t),e==null?[]:tP.call(e,this._resolve,this),typeof i=="function"?i:al(i))}function jL(t){var e,i;return(i=(e=this._shadow)==null?void 0:e.get(t))!=null?i:this._module._resolve(t)}function iO(t,e,i){let r=this._module._scope,n=this._module._runtime;if(this._inputs.forEach(qL,this),e.forEach(BL,this),this._inputs=e,this._definition=i,this._value=void 0,i===ki?n._variables.delete(this):n._variables.add(this),t!==this._name||r.get(t)!==this){let s,o;if(this._name)if(this._outputs.size)r.delete(this._name),o=this._module._resolve(this._name),o._outputs=this._outputs,this._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(this)]=o},this),o._outputs.forEach(n._updates.add,n._updates),n._dirty.add(o).add(this),r.set(this._name,o);else if((o=r.get(this._name))===this)r.delete(this._name);else if(o._type===ll)o._duplicates.delete(this),this._duplicate=void 0,o._duplicates.size===1&&(o=o._duplicates.keys().next().value,s=r.get(this._name),o._outputs=s._outputs,s._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=o}),o._definition=o._duplicate,o._duplicate=void 0,n._dirty.add(s).add(o),n._updates.add(o),r.set(this._name,o));else throw new Error;if(this._outputs.size)throw new Error;t&&((o=r.get(t))?o._type===ll?(this._definition=iP(t),this._duplicate=i,o._duplicates.add(this)):o._type===Un?(this._outputs=o._outputs,o._outputs=new Set,this._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=this},this),n._dirty.add(o).add(this),r.set(t,this)):(o._duplicate=o._definition,this._duplicate=i,s=new Wi(ll,this._module),s._name=t,s._definition=this._definition=o._definition=iP(t),s._outputs=o._outputs,o._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=s}),s._duplicates=new Set([this,o]),n._dirty.add(o).add(s),n._updates.add(o).add(s),r.set(t,s)):r.set(t,this)),this._name=t}return this._version>0&&++this._version,n._updates.add(this),n._compute(),this}function XL(t,e,i){return arguments.length<3&&(i=e,e=t),iO.call(this,String(e),[i._resolve(String(t))],mo)}function YL(){return iO.call(this,null,[],ki)}function FL(){this._observer.pending&&this._observer.pending()}function UL(t){this._observer.fulfilled&&this._observer.fulfilled(t,this._name)}function HL(t){this._observer.rejected&&this._observer.rejected(t,this._name)}var nO=Symbol("variable"),sO=Symbol("invalidation"),oO=Symbol("visibility");function ul(t,e=[]){Object.defineProperties(this,{_runtime:{value:t},_scope:{value:new Map},_builtins:{value:new Map([["@variable",nO],["invalidation",sO],["visibility",oO],...e])},_source:{value:null,writable:!0}})}Object.defineProperties(ul.prototype,{_resolve:{value:rV,writable:!0,configurable:!0},redefine:{value:GL,writable:!0,configurable:!0},define:{value:KL,writable:!0,configurable:!0},derive:{value:iV,writable:!0,configurable:!0},import:{value:JL,writable:!0,configurable:!0},value:{value:tV,writable:!0,configurable:!0},variable:{value:eV,writable:!0,configurable:!0},builtin:{value:nV,writable:!0,configurable:!0}});function GL(t){let e=this._scope.get(t);if(!e)throw new St(`${t} is not defined`);if(e._type===ll)throw new St(`${t} is defined more than once`);return e.define.apply(e,arguments)}function KL(){let t=new Wi(Dh,this);return t.define.apply(t,arguments)}function JL(){let t=new Wi(Dh,this);return t.import.apply(t,arguments)}function eV(t,e){return new Wi(Dh,this,t,e)}async function tV(t){let e=this._scope.get(t);if(!e)throw new St(`${t} is not defined`);if(e._observer===Fn){e=this.variable(!0).define([t],mo);try{return await rO(this._runtime,e)}finally{e.delete()}}else return rO(this._runtime,e)}async function rO(t,e){await t._compute();try{return await e._promise}catch(i){if(i===Pi)return rO(t,e);throw i}}function iV(t,e){let i=new Map,r=new Set,n=[];function s(a){let l=i.get(a);return l||(l=new ul(a._runtime,a._builtins),l._source=a,i.set(a,l),n.push([l,a]),r.add(a),l)}let o=s(this);for(let a of t){let{alias:l,name:u}=typeof a=="object"?a:{name:a};o.import(u,l==null?u:l,e)}for(let a of r)for(let[l,u]of a._scope)if(u._definition===mo){if(a===this&&o._scope.has(l))continue;let c=u._inputs[0]._module;c._source&&s(c)}for(let[a,l]of n)for(let[u,c]of l._scope){let h=a._scope.get(u);if(!(h&&h._type!==Un))if(c._definition===mo){let f=c._inputs[0],d=f._module;a.import(f._name,u,i.get(d)||d)}else a.define(u,c._inputs.map(sV),c._definition)}return o}function rV(t){let e=this._scope.get(t),i;if(!e)if(e=new Wi(Un,this),this._builtins.has(t))e.define(t,al(this._builtins.get(t)));else if(this._runtime._builtin._scope.has(t))e.import(t,this._runtime._builtin);else{try{i=this._runtime._global(t)}catch(r){return e.define(t,Jk(r))}i===void 0?this._scope.set(e._name=t,e):e.define(t,al(i))}return e}function nV(t,e){this._builtins.set(t,e)}function sV(t){return t._name}var oV=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:t=>setTimeout(t,0);function Lh(t=new po,e=SV){let i=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:i},_global:{value:e}}),t)for(let r in t)new Wi(Un,i).define(r,[],t[r])}Object.defineProperties(Lh.prototype,{_precompute:{value:uV,writable:!0,configurable:!0},_compute:{value:cV,writable:!0,configurable:!0},_computeSoon:{value:hV,writable:!0,configurable:!0},_computeNow:{value:fV,writable:!0,configurable:!0},dispose:{value:aV,writable:!0,configurable:!0},module:{value:lV,writable:!0,configurable:!0},fileAttachments:{value:Ug,writable:!0,configurable:!0}});function aV(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(t=>{t._invalidate(),t._version=NaN})}function lV(t,e=ki){let i;if(t===void 0)return(i=this._init)?(this._init=null,i):new ul(this);if(i=this._modules.get(t),i)return i;this._init=i=new ul(this),this._modules.set(t,i);try{t(this,e)}finally{this._init=null}return i}function uV(t){this._precomputes.push(t),this._compute()}function cV(){return this._computing||(this._computing=this._computeSoon())}function hV(){return new Promise(oV).then(()=>this._disposed?void 0:this._computeNow())}async function fV(){let t=[],e,i,r=this._precomputes;if(r.length){this._precomputes=[];for(let s of r)s();await dV(3)}e=new Set(this._dirty),e.forEach(function(s){s._inputs.forEach(e.add,e);let o=_V(s);o>s._reachable?this._updates.add(s):o<s._reachable&&s._invalidate(),s._reachable=o},this),e=new Set(this._updates),e.forEach(function(s){s._reachable?(s._indegree=0,s._outputs.forEach(e.add,e)):(s._indegree=NaN,e.delete(s))}),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach(function(s){s._outputs.forEach(mV)});do{for(e.forEach(function(s){s._indegree===0&&t.push(s)});i=t.pop();)yV(i),i._outputs.forEach(n),e.delete(i);e.forEach(function(s){pV(s)&&(xV(s,new St("circular definition")),s._outputs.forEach(gV),e.delete(s))})}while(e.size);function n(s){--s._indegree===0&&t.push(s)}}function dV(t=0){let e=Promise.resolve();for(let i=0;i<t;++i)e=e.then(()=>{});return e}function pV(t){let e=new Set(t._inputs);for(let i of e){if(i===t)return!0;i._inputs.forEach(e.add,e)}return!1}function mV(t){++t._indegree}function gV(t){--t._indegree}function OV(t){return t._promise.catch(t._rejector)}function aO(t){return new Promise(function(e){t._invalidate=e})}function bV(t,e){let i=typeof IntersectionObserver=="function"&&e._observer&&e._observer._node,r=!i,n=ki,s=ki,o,a;return i&&(a=new IntersectionObserver(([l])=>(r=l.isIntersecting)&&(o=null,n())),a.observe(i),t.then(()=>(a.disconnect(),a=null,s()))),function(l){return r?Promise.resolve(l):a?(o||(o=new Promise((u,c)=>(n=u,s=c))),o.then(()=>l)):Promise.reject()}}function yV(t){t._invalidate(),t._invalidate=ki,t._pending();let e=t._value,i=++t._version,r=null,n=t._promise=(t._inputs.length?Promise.all(t._inputs.map(OV)).then(s):new Promise(a=>a(t._definition.call(e)))).then(o);function s(a){if(t._version!==i)throw Pi;for(let l=0,u=a.length;l<u;++l)switch(a[l]){case sO:{a[l]=r=aO(t);break}case oO:{r||(r=aO(t)),a[l]=bV(r,t);break}case nO:{a[l]=t;break}}return t._definition.apply(e,a)}function o(a){if(t._version!==i)throw Pi;return Kk(a)?((r||aO(t)).then(wV(a)),vV(t,i,a)):a}n.then(a=>{t._value=a,t._fulfilled(a)},a=>{a===Pi||t._version!==i||(t._value=void 0,t._rejected(a))})}function vV(t,e,i){let r=t._module._runtime,n;function s(l){return new Promise(u=>u(i.next(n))).then(({done:u,value:c})=>u?void 0:Promise.resolve(c).then(l))}function o(){let l=s(u=>{if(t._version!==e)throw Pi;return n=u,a(u,l).then(()=>r._precompute(o)),t._fulfilled(u),u});l.catch(u=>{u===Pi||t._version!==e||(a(void 0,l),t._rejected(u))})}function a(l,u){return t._value=l,t._promise=u,t._outputs.forEach(r._updates.add,r._updates),r._compute()}return s(l=>{if(t._version!==e)throw Pi;return n=l,r._precompute(o),l})}function xV(t,e){t._invalidate(),t._invalidate=ki,t._pending(),++t._version,t._indegree=NaN,(t._promise=Promise.reject(e)).catch(ki),t._value=void 0,t._rejected(e)}function wV(t){return function(){t.return()}}function _V(t){if(t._observer!==Fn)return!0;let e=new Set(t._outputs);for(let i of e){if(i._observer!==Fn)return!0;i._outputs.forEach(e.add,e)}return!1}function SV(t){return globalThis[t]}var kV=Ge`\
<div ${xe("_div")}>
</div>
<slot ${xe("_slot")}></slot>
`,PV=ae`
${He("inline-block")}

:host  {
    width:100%;
    overflow-y: auto;
}

:host > slot {
    display: none;
}

:host > div.hide-values .observablehq--inspect {
    display: none;
}

:host > div .observablehq--error > .observablehq--inspect {
    display: none;
}

:host > div.show-errors .observablehq--error > .observablehq--inspect {
    display: block;
}

`,xr=class extends lt{constructor(){super();this.mode="observablescript";this.show_values=!1;this.show_errors=!1;this.plugins={};this._content="";this.construct(),this._slot.addEventListener("slotchange",()=>this.construct())}construct(){let i=this._slot.assignedNodes().map(r=>r.textContent).join(`
`);this._content=i}enter(){super.enter()}update(i){var r,n;if(super.update(i),(r=this._div)==null||r.classList.toggle("hide-values",!this.show_values),(n=this._div)==null||n.classList.toggle("show-errors",this.show_errors),i._content){this._div.innerHTML="";let s=this.mode==="observablescript"?ro(this._content):Fa(this._content);mh(s).then(o=>{let a=new po,l=new Lh(a);o(l,u=>{let c=document.createElement("div");return this._div.appendChild(c),new Bn(c)})})}}};se([ye],xr.prototype,"mode",2),se([ye({type:"boolean"})],xr.prototype,"show_values",2),se([ye({type:"boolean"})],xr.prototype,"show_errors",2),se([yo],xr.prototype,"plugins",2),se([yo],xr.prototype,"_content",2),xr=se([Ke("hpcc-observable",{template:kV,styles:PV})],xr);var CV=Ge`\
<hpcc-splitpanel orientation="vertical" ${xe("_splitter")} style="width:100%">
    <div ${xe("_iframeDiv")} data-border_width=0 data-padding=0 style="width:100%;height:100%;padding:0px"></div>
    <hpcc-codemirror ${xe("_cm")} data-border_width=0 data-padding=0></hpcc-codemirror>
</hpcc-splitpanel>
<slot ${xe("_slot")}></slot>
`,TV=ae`
${He("inline-block")} 

:host > slot {
    display: none;
}
`,Hn=class extends lt{constructor(){super();this.preview_border="1px solid #ccc";this.content="";this.content_selector="";this._vitepress=!1;this._head="";this._scripts=[]}slotChanged(){let i=this.content_selector?this.querySelectorAll(`${this.content_selector}`):this._slot.assignedElements(),r="";for(let n=0;n<i.length;++n){let s=i[n];r+=this.content_selector?s.innerText:s.outerHTML}this.content=r}enter(){super.enter(),this.slotChanged(),this._slot.addEventListener("slotchange",()=>this.slotChanged()),this._cm.text=this.content}update(i){var r,n,s;super.update(i),i.content&&(this._iframeDiv.innerHTML="",this._iframe=document.createElement("iframe"),this._iframe.style.border=this.preview_border,this._iframe.style.display="inline-block",this._iframe.width="100%",this._iframe.height="100%",this._iframeDiv.append(this._iframe),(r=this._iframe.contentWindow)==null||r.document.open(),(n=this._iframe.contentWindow)==null||n.document.write(this.content),(s=this._iframe.contentWindow)==null||s.document.close(),this._iframe.addEventListener("load",o=>{let a=document.createElement("style");a.textContent="body { margin: 0px }",o.target.contentDocument.head.appendChild(a)})),this._splitter.style.width="100%",this._splitter.style.height=`${this.clientHeight}px`,this._cm.style.width="100%",this._cm.style.height="100%"}exit(){this._slot.removeEventListener("slotchange",()=>this.slotChanged()),super.exit()}};se([ye],Hn.prototype,"preview_border",2),se([ye],Hn.prototype,"content",2),se([ye],Hn.prototype,"content_selector",2),Hn=se([Ke("hpcc-preview",{template:CV,styles:TV})],Hn);var EV={"@hpcc-js/wc-core":"/components/core/src/index.ts","@hpcc-js/wc-editor":"/components/editor/src/index.ts","@hpcc-js/wc-gauge":"/components/gauge/src/index.ts","@hpcc-js/wc-layout":"/components/layout/src/index.ts","@hpcc-js/wc-legacy":"/components/legacy/src/index.ts","@hpcc-js/wc-observable":"/components/observable/src/index.ts","@hpcc-js/wc-pie":"/components/pie/src/index.ts","@hpcc-js/wc-preview":"/components/preview/src/index.ts","@hpcc-js/wc-sankey":"/components/sankey/src/index.ts","@hpcc-js/wc-treemap":"/components/treemap/src/index.ts","@hpcc-js/util":"/packages/util/src/index.ts","@hpcc-js/common":"/packages/common/src/index.ts","@hpcc-js/api":"/packages/api/src/index.ts","@hpcc-js/chart":"/packages/chart/src/index.ts","@hpcc-js/codemirror":"/packages/codemirror/src/index.ts","@hpcc-js/dgrid":"/packages/dgrid/src/index.ts","@hpcc-js/dgrid2":"/packages/dgrid2/src/index.ts","@hpcc-js/graph":"/packages/graph/src/index.ts","@hpcc-js/layout":"/packages/layout/src/index.ts","@hpcc-js/map":"/packages/map/src/index.ts","@hpcc-js/map-deck":"/packages/map-deck/src/index.ts","@hpcc-js/observablehq-compiler":"/packages/observablehq-compiler/src/index.ts","@hpcc-js/observable-md":"/packages/observable-md/src/index.ts","@hpcc-js/react":"/packages/react/src/index.ts","@hpcc-js/timeline":"/packages/timeline/src/index.ts","@hpcc-js/tree":"/packages/tree/src/index.ts"},QV={"@hpcc-js/wc-core":"/Visualization/assets/wc-core.js","@hpcc-js/wc-editor":"/Visualization/assets/wc-editor.js","@hpcc-js/wc-gauge":"/Visualization/assets/wc-gauge.js","@hpcc-js/wc-layout":"/Visualization/assets/wc-layout.js","@hpcc-js/wc-legacy":"/Visualization/assets/wc-legacy.js","@hpcc-js/wc-observable":"/Visualization/assets/wc-observable.js","@hpcc-js/wc-pie":"/Visualization/assets/wc-pie.js","@hpcc-js/wc-preview":"/Visualization/assets/wc-preview.js","@hpcc-js/wc-sankey":"/Visualization/assets/wc-sankey.js","@hpcc-js/wc-treemap":"/Visualization/assets/wc-treemap.js","@hpcc-js/util":"/Visualization/assets/util.js","@hpcc-js/common":"/Visualization/assets/common.js","@hpcc-js/api":"/packages/assets/api.js","@hpcc-js/chart":"/Visualization/assets/chart.js","@hpcc-js/codemirror":"/Visualization/assets/codemirror.js","@hpcc-js/dgrid":"/Visualization/assets/dgrid.js","@hpcc-js/dgrid2":"/Visualization/assets/dgrid2.js","@hpcc-js/graph":"/Visualization/assets/graph.js","@hpcc-js/layout":"/Visualization/assets/layout.js","@hpcc-js/map":"/Visualization/assets/map.js","@hpcc-js/map-deck":"/Visualization/assets/map-deck.js","@hpcc-js/observablehq-compiler":"/Visualization/assets/observablehq-compiler.js","@hpcc-js/observable-md":"/Visualization/assets/observable-md.js","@hpcc-js/react":"/Visualization/assets/react.js","@hpcc-js/timeline":"/Visualization/assets/timeline.js","@hpcc-js/tree":"/Visualization/assets/tree.js"};function AV(t,e){let i=t?EV:QV,r={script:e,css:""};for(let n in i)if(i.hasOwnProperty(n)){let s=r.script.split(`"${n}"`);r.script=s.join(`"${i[n]}"`),!t&&s.length>1&&(r.css+=`<link rel="stylesheet" href="${i[n].split(".js").join(".css")}">
`)}return r}var MV=Ge`\
<div ${xe("_iframeDiv")}>
</div>
<hpcc-codemirror ${xe("_cm")}></hpcc-codemirror>`,$V=ae`
${He("inline-block")} 

:host > div {
    flex-direction: column;
}

:host > div > div {
    padding-bottom: 4px;
}

:host > div > hpcc-codemirror {
    padding-top: 4px;
}
`,rn=class extends lt{constructor(){super(...arguments);this.preview_border="1px solid #ccc";this.head_ext="";this.content="";this.preview_height_ratio=2/3;this._vitepress=!1;this._head="";this._scripts=[]}gatherScripts(i,r){Array.prototype.slice.call(i.children,0).filter(n=>n!==this).filter(n=>n.tagName!=="hpcc-preview".toUpperCase()).forEach(n=>{n.tagName==="SCRIPT"&&(n.src.indexOf("/@fs/")>=0&&(this._vitepress=!0),r.push(n.outerHTML.toString()))})}enter(){var r;super.enter(),this._head=document.head.innerHTML.toString();let i=this.getElementsByTagName("code")[0];this._cm.text=(r=i==null?void 0:i.innerText)!=null?r:""+this.innerHTML,this.gatherScripts(document.body,this._scripts),this._cm.addEventListener("change",()=>{this.content=this._cm.text.trim()})}update(i){var r,n,s;if(super.update(i),i.content){let o=AV(this._vitepress,this._cm.text);this._iframeDiv.innerHTML="",this._iframe=document.createElement("iframe"),this._iframe.style.border=this.preview_border,this._iframe.width="100%",this._iframe.height=`${this.clientHeight*this.preview_height_ratio}`,this._iframeDiv.append(this._iframe),(r=this._iframe.contentWindow)==null||r.document.open(),(n=this._iframe.contentWindow)==null||n.document.write(`<head>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hpcc-js/common@2.65.0/font-awesome/css/font-awesome.min.css">
    ${o.css}
    <style>
        body {
            margin: 0;
        }
    </style>
</head>

<body style="overflow:hidden">

<div id="preview">
${o.script}
</div>

<script type="module">
    customElements.whenDefined("hpcc-preview").then(() => {
        document.getElementById("preview").style.visibility = "visible";
    });  
<\/script>

</body>`),(s=this._iframe.contentWindow)==null||s.document.close()}this._cm.style.width="100%",this._cm.style.height=`${this.clientHeight*(1-this.preview_height_ratio)}px`}};se([ye],rn.prototype,"preview_border",2),se([ye],rn.prototype,"head_ext",2),se([ye],rn.prototype,"content",2),se([ye],rn.prototype,"preview_height_ratio",2),rn=se([Ke("hpcc-vitepress",{template:MV,styles:$V})],rn);export{wn as HPCCCodemirrorElement,yc as HPCCDockPanelElement,jr as HPCCLuminoElement,xr as HPCCObservableElement,vc as HPCCPaneElement,Hn as HPCCPreviewElement,Zs as HPCCSplitPanelElement,Qn as HPCCTabPanelElement,rn as HPCCVitepressElement,fr as HPCCZoomElement,pc as WidgetAdapter,fP as allMeta};
/*! Bundled license information:

@lumino/messaging/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/disposable/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/commands/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/virtualdom/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/widgets/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=index.js.map
