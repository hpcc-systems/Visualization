var hs=Object.create;var rr=Object.defineProperty;var Zr=Object.getOwnPropertyDescriptor;var fs=Object.getOwnPropertyNames;var ps=Object.getPrototypeOf,ms=Object.prototype.hasOwnProperty;var gs=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var vs=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of fs(n))!ms.call(t,i)&&i!==e&&rr(t,i,{get:()=>n[i],enumerable:!(r=Zr(n,i))||r.enumerable});return t};var Jr=(t,n,e)=>(e=t!=null?hs(ps(t)):{},vs(n||!t||!t.__esModule?rr(e,"default",{value:t,enumerable:!0}):e,t));var ne=(t,n,e,r)=>{for(var i=r>1?void 0:r?Zr(n,e):n,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(n,e,i):s(i))||i);return r&&i&&rr(n,e,i),i};var mr=gs((ln,pi)=>{(function(t,n){typeof ln=="object"&&typeof pi!="undefined"?n(ln):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis!="undefined"?globalThis:t||self,n(t.lumino_coreutils={}))})(ln,function(t){"use strict";t.JSONExt=void 0,function(s){s.emptyObject=Object.freeze({}),s.emptyArray=Object.freeze([]);function a(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"}s.isPrimitive=a;function u(g){return Array.isArray(g)}s.isArray=u;function c(g){return!a(g)&&!u(g)}s.isObject=c;function l(g,x){if(g===x)return!0;if(a(g)||a(x))return!1;var M=u(g),w=u(x);return M!==w?!1:M&&w?f(g,x):d(g,x)}s.deepEqual=l;function m(g){return a(g)?g:u(g)?h(g):p(g)}s.deepCopy=m;function f(g,x){if(g===x)return!0;if(g.length!==x.length)return!1;for(var M=0,w=g.length;M<w;++M)if(!l(g[M],x[M]))return!1;return!0}function d(g,x){if(g===x)return!0;for(var M in g)if(g[M]!==void 0&&!(M in x))return!1;for(var M in x)if(x[M]!==void 0&&!(M in g))return!1;for(var M in g){var w=g[M],C=x[M];if(!(w===void 0&&C===void 0)&&(w===void 0||C===void 0||!l(w,C)))return!1}return!0}function h(g){for(var x=new Array(g.length),M=0,w=g.length;M<w;++M)x[M]=m(g[M]);return x}function p(g){var x={};for(var M in g){var w=g[M];w!==void 0&&(x[M]=m(w))}return x}}(t.JSONExt||(t.JSONExt={}));var n=function(){function s(){this._types=[],this._values=[]}return s.prototype.types=function(){return this._types.slice()},s.prototype.hasData=function(a){return this._types.indexOf(a)!==-1},s.prototype.getData=function(a){var u=this._types.indexOf(a);return u!==-1?this._values[u]:void 0},s.prototype.setData=function(a,u){this.clearData(a),this._types.push(a),this._values.push(u)},s.prototype.clearData=function(a){var u=this._types.indexOf(a);u!==-1&&(this._types.splice(u,1),this._values.splice(u,1))},s.prototype.clear=function(){this._types.length=0,this._values.length=0},s}(),e=function(){function s(){var a=this;this.promise=new Promise(function(u,c){a._resolve=u,a._reject=c})}return s.prototype.resolve=function(a){var u=this._resolve;u(a)},s.prototype.reject=function(a){var u=this._reject;u(a)},s}(),r=function(){function s(a){this.name=a,this._tokenStructuralPropertyT=null}return s}();function i(s){for(var a=0,u=0,c=s.length;u<c;++u)u%4===0&&(a=Math.random()*4294967295>>>0),s[u]=a&255,a>>>=8}t.Random=void 0,function(s){s.getRandomValues=function(){var a=typeof window!="undefined"&&(window.crypto||window.msCrypto)||null;return a&&typeof a.getRandomValues=="function"?function(c){return a.getRandomValues(c)}:i}()}(t.Random||(t.Random={}));function o(s){for(var a=new Uint8Array(16),u=new Array(256),c=0;c<16;++c)u[c]="0"+c.toString(16);for(var c=16;c<256;++c)u[c]=c.toString(16);return function(){return s(a),a[6]=64|a[6]&15,a[8]=128|a[8]&63,u[a[0]]+u[a[1]]+u[a[2]]+u[a[3]]+"-"+u[a[4]]+u[a[5]]+"-"+u[a[6]]+u[a[7]]+"-"+u[a[8]]+u[a[9]]+"-"+u[a[10]]+u[a[11]]+u[a[12]]+u[a[13]]+u[a[14]]+u[a[15]]}}t.UUID=void 0,function(s){s.uuid4=o(t.Random.getRandomValues)}(t.UUID||(t.UUID={})),t.MimeData=n,t.PromiseDelegate=e,t.Token=r,Object.defineProperty(t,"__esModule",{value:!0})})});function X(t,...n){let e=t[0];for(let r=0;r<n.length;++r)e+=String(n[r]),e+=t[r+1];return e}function Ae(t){return`:host([hidden]) {
    display: none
}

:host {
    display: ${t}
}`}var wc=Array.isArray;var ir=typeof globalThis!="undefined"?globalThis:window;var or=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,Ec=or&&process.env!=null&&(process.env.TRAVIS!=null||process.env.GITHUB_ACTIONS!=null);var zt=class{constructor(){this.stack=[]}push(n){return this.stack.push(n),n}pop(){return this.stack.pop()}top(){return this.stack.length?this.stack[this.stack.length-1]:void 0}depth(){return this.stack.length}};var nn=(u=>(u[u.debug=0]="debug",u[u.info=1]="info",u[u.notice=2]="notice",u[u.warning=3]="warning",u[u.error=4]="error",u[u.critical=5]="critical",u[u.alert=6]="alert",u[u.emergency=7]="emergency",u))(nn||{}),ys={debug:"cyan",info:"green",notice:"grey",warning:"blue",error:"red",critical:"magenta",alert:"magenta",emergency:"magenta"},sr=class{write(n,e,r,i){or?console.log(`[${n}] ${nn[e].toUpperCase()} ${r}:  ${i}`):console.log(`[${n}] %c${nn[e].toUpperCase()}%c ${r}:  ${i}`,`color:${ys[nn[e]]}`,"")}},ar=class{constructor(){this._levelStack=new zt;this._level=1;this._filter="";this._writer=new sr}static Instance(){return this._instance||(this._instance=new this)}stringify(n){let e=[];return JSON.stringify(n,function(r,i){if(typeof i=="object"&&i!==null){if(e.indexOf(i)!==-1)return;e.push(i)}return i},2)}writer(n){return n===void 0?this._writer:(this._writer=n,this)}log(n,e,r){if(n<this._level||this._filter&&this._filter!==e)return;let i=new Date().toISOString();this._writer.rawWrite?this._writer.rawWrite(i,n,e,r):(typeof r!="string"&&(r=this.stringify(r)),this._writer.write&&this._writer.write(i,n,e,r))}debug(n,e){this.log(0,n,e)}info(n,e){this.log(1,n,e)}notice(n,e){this.log(2,n,e)}warning(n,e){this.log(3,n,e)}error(n,e){this.log(4,n,e)}critical(n,e){this.log(5,n,e)}alert(n,e){this.log(6,n,e)}emergency(n,e){this.log(7,n,e)}level(n){return n===void 0?this._level:(this._level=n,this)}pushLevel(n){return this._levelStack.push(this._level),this._level=n,this}popLevel(){return this._level=this._levelStack.pop(),this}filter(n){return n===void 0?this._filter:(this._filter=n,this)}},Tc=ar.Instance();var ur;(function(){if(ir.requestAnimationFrame)ur=ir.requestAnimationFrame;else{let t=0;ur=function(n){let e=new Date().getTime(),r=Math.max(0,16-(e-t)),i=setTimeout(()=>n(e+r),r);return t=e+r,i}}})();var Lt=class{get canConflate(){return!1}conflate(n){return!1}void(){return!1}};var Ot=class{constructor(){this._observerID=0;this._observers=[];this._messageBuffer=[]}observers(){return this._observers}messages(){let n=[];return this._messageBuffer.forEach(e=>{n.some(r=>r.canConflate&&r.conflate(e))||n.push(e)}),n}dispatchAll(){this.dispatch(this.messages()),this.flush()}dispatch(n){n.length!==0&&this.observers().forEach(e=>{let r=n.filter(i=>!i.void()&&(e.type===void 0||i instanceof e.type));r.length&&e.callback(r)})}hasObserver(){return this._observers.length>0}flush(){this._messageBuffer=[]}send(n){this.dispatch([n])}post(n){this._messageBuffer.push(n),ur(()=>this.dispatchAll())}attach(n,e){let r=this,i=++this._observerID;return this._observers.push({id:i,type:e,callback:n}),{release(){r._observers=r._observers.filter(o=>o.id!==i)},unwatch(){this.release()}}}};var rn=class{},mt=class extends rn{constructor(e){super();this.propertyName=e}};function Pe(t,...n){let e=t[0],r=[];for(let i=0;i<n.length;++i){let o=n[i];if(o instanceof rn)r.push(o),o instanceof mt?e+=`id="${o.propertyName}"`:e+=String(n[i]);else throw new Error("Invalid Directive");e+=t[i+1]}return{html:e,directives:r}}function pe(t){return new mt(t)}var on=class extends Lt{constructor(e,r,i){super();this.changes={};this.changes[e]={oldValue:r,newValue:i}}get canConflate(){return!0}conflate(e){for(let r in e.changes){let i=this.changes[r],o=e.changes[r];i?this.changes[r].newValue=o==null?void 0:o.newValue:this.changes[r]=o}return!0}};var _s={bubbles:!0,composed:!0,cancelable:!0},gt=class extends HTMLElement{constructor(){var e,r;super();this.$meta=ti(this);this.$dispatch=new Ot;this._fire=(e,r=!1,i=!0)=>{this.$dispatch.post(new on(e,r,i))};this.$_initialized=!1;this.$upgradeProperties(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=((e=this.$meta.template)==null?void 0:e.html.trim())||"";for(let i of((r=this.$meta.template)==null?void 0:r.directives)||[])if(i instanceof mt){let o=this.shadowRoot.getElementById(String(i.propertyName));this[i.propertyName]=o,o==null||o.removeAttribute("id")}this.$styles=document.createElement("style"),this.$styles.innerHTML=this.$meta.styles.trim(),this.shadowRoot.insertBefore(this.$styles,this.shadowRoot.firstChild)}static register(){}static get observedAttributes(){return ei(this).observedAttributes}set styles(e){this.$styles.innerHTML=e}get styles(){return this.$styles.innerHTML}$upgradeProperties(){Object.keys(this.$meta.observed).forEach(e=>{let r=`__${e}`;this.hasOwnProperty(e)&&(this[r]=this[e],delete this[e])})}coercedValue(e,r){switch(this.$meta.observed[e].type){case"boolean":return!!r;case"number":let i=Number(r);return isNaN(i)?null:i;case"string":default:return r}}attr(e,r){if(r===void 0)switch(this.$meta.observed[e].type){case"boolean":return this.coercedValue(e,this.hasAttribute(e)?"true":"");case"number":case"string":default:return this.coercedValue(e,this.getAttribute(e))}else switch(this.$meta.observed[e].type){case"boolean":r?this.setAttribute(e,"true"):this.removeAttribute(e);break;case"number":this.setAttribute(e,r.toString());break;case"string":default:this.setAttribute(e,r)}return this}initalizeAttributes(){if(this.$_initialized)return{};this.$_initialized=!0;let e={};return this.$meta.observedAttributes.forEach(r=>{let i=`__${r}`,o=`_${r}`;this[i]!==void 0&&(this[o]=this[i],delete this[i]),this.attr(r,this[o]),e[r]={oldValue:void 0,newValue:this[o]}}),this.$meta.observedProperties.forEach(r=>{let i=`__${r}`,o=`_${r}`;this[i]!==void 0&&(this[o]=this[i],delete this[i]),e[r]={oldValue:void 0,newValue:this[o]}}),e}connectedCallback(){let e=this.initalizeAttributes();this.enter(),this.update(e),this.$dispatch.flush(),this.$dispatchHandle=this.$dispatch.attach(r=>{if(this.isConnected){let i={};if(r.length>1)throw new Error("Conflation issue.");for(let o in r[0].changes){let s=r[0].changes[o];(s==null?void 0:s.oldValue)!==(s==null?void 0:s.newValue)&&(i[o]=s)}Object.keys(i).length&&this.update(i)}})}disconnectedCallback(){this.$dispatchHandle.release(),this.exit()}adoptedCallback(){}attributeChangedCallback(e,r,i){let o=`_${e}`,s=this.coercedValue(e,i);if(this[o]!==s){let a=this[o];this[o]=s,this._fire(e,a,s)}}enter(){if(window.__hpcc_debug)for(let e of this.$meta.observedAttributes)this[e]!==this.attr(e)&&console.error("enter sync error",e,this[e],this.attr(e))}update(e){if(window.__hpcc_debug)for(let r of this.$meta.observedAttributes)this[r]!==this.attr(r)&&console.error("update sync error",r,this[r],this.attr(r))}exit(){}$emit(e,r,i){let o={detail:r,..._s,...i};if(this.isConnected){let s=new CustomEvent(e,o);return s.simulated=!0,this.dispatchEvent(s)}return!!o.cancelable}};globalThis["@hpcc-js/core/meta"]=globalThis["@hpcc-js/core/meta"]||new WeakMap;globalThis["@hpcc-js/core/metaByName"]=globalThis["@hpcc-js/core/metaByName"]||{};var sn=globalThis["@hpcc-js/core/meta"],ni=globalThis["@hpcc-js/core/metaByName"];function an(t){let n;return sn.has(t)?n=sn.get(t):(n={tag:"",template:{html:"",directives:[]},styles:"",properties:[],observedAttributes:[],observedProperties:[],observed:{},events:[]},sn.set(t,n),ni[t.name]=n),n}function ei(t){return typeof t=="string"?ni[t]:sn.get(t)}function ti(t){return an(Object.getPrototypeOf(t).constructor)}function De(t,n){let{template:e={html:"",directives:[]},styles:r="",events:i=[]}=n||{};function o(s){let a=an(s),u=[],c=s;for(;u=u.concat(an(c).properties),c!==gt;)c=Object.getPrototypeOf(c);a.tag=t,a.template=e,a.styles=r,a.observedAttributes=u.filter(l=>l.isAttribute).map(l=>l.name),a.observedProperties=u.filter(l=>!l.isAttribute).map(l=>l.name),a.observed={},a.events=i,u.forEach(l=>a.observed[l.name]=l),customElements==null||customElements.define(t,s)}return o}function xs(t,n){if(n.name!==n.name.toLowerCase())throw new Error(`Attributes must be lowercase: ${t.constructor.name}.${n.name}`);an(t.constructor).properties.push(n);let r=`_${n.name}`;Object.defineProperty(t,n.name,{set:function(i){let o=this[r];this[r]=i,this._fire(n.name,o,i),n.isAttribute&&this.isConnected&&this.attr(n.name,i)},get:function(){return this[r]}})}function ws(t,n,e){let r={name:e!=null?e:"",type:"string",isAttribute:t,...e===void 0?n:{}};function i(o,s){xs(o,{...r,name:s})}if(e===void 0)return i;i(n,e)}function ve(t,n){return ws(!0,t,n)}var $e=class extends gt{constructor(){super(...arguments);this._prevSize={width:0,height:0};this.observer=new ResizeObserver(()=>{let e={width:this.clientWidth,height:this.clientHeight};this._fire("resize",this._prevSize,e),this._prevSize=e})}connectedCallback(){super.connectedCallback(),this.observer.observe(this)}disconnectedCallback(){this.observer.unobserve(this),super.disconnectedCallback()}};var ri=t=>t===!0||t===1||t==="true"||t==="1";var un=class extends $e{constructor(){if(super(),!this._svg)throw new Error("SVG element not found")}enter(){}update(n){super.update(n),"resize"in n&&(this._svg.setAttribute("width",`${this.clientWidth}px`),this._svg.setAttribute("height",`${this.clientHeight}px`),this._svg.setAttribute("viewBox",`0 0 ${this._svg.clientWidth} ${this._svg.clientHeight}`))}};var L;(function(t){function n(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(S===0)return-1;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);var D;y<_?D=y+1+(S-_):D=y-_+1;for(var b=0;b<D;++b){var v=(_+b)%S;if(E[v]===k)return v}return-1}t.firstIndexOf=n;function e(E,k,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var S=E.length;if(S===0)return-1;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);var D;_<y?D=_+1+(S-y):D=_-y+1;for(var b=0;b<D;++b){var v=(_-b+S)%S;if(E[v]===k)return v}return-1}t.lastIndexOf=e;function r(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(S===0)return-1;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);var D;y<_?D=y+1+(S-_):D=y-_+1;for(var b=0;b<D;++b){var v=(_+b)%S;if(k(E[v],v))return v}return-1}t.findFirstIndex=r;function i(E,k,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var S=E.length;if(S===0)return-1;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);var D;_<y?D=_+1+(S-y):D=_-y+1;for(var b=0;b<D;++b){var v=(_-b+S)%S;if(k(E[v],v))return v}return-1}t.findLastIndex=i;function o(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=r(E,k,_,y);return S!==-1?E[S]:void 0}t.findFirstValue=o;function s(E,k,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var S=i(E,k,_,y);return S!==-1?E[S]:void 0}t.findLastValue=s;function a(E,k,_,y,S){y===void 0&&(y=0),S===void 0&&(S=-1);var D=E.length;if(D===0)return 0;y<0?y=Math.max(0,y+D):y=Math.min(y,D-1),S<0?S=Math.max(0,S+D):S=Math.min(S,D-1);for(var b=y,v=S-y+1;v>0;){var T=v>>1,A=b+T;_(E[A],k)<0?(b=A+1,v-=T+1):v=T}return b}t.lowerBound=a;function u(E,k,_,y,S){y===void 0&&(y=0),S===void 0&&(S=-1);var D=E.length;if(D===0)return 0;y<0?y=Math.max(0,y+D):y=Math.min(y,D-1),S<0?S=Math.max(0,S+D):S=Math.min(S,D-1);for(var b=y,v=S-y+1;v>0;){var T=v>>1,A=b+T;_(E[A],k)>0?v=T:(b=A+1,v-=T+1)}return b}t.upperBound=u;function c(E,k,_){if(E===k)return!0;if(E.length!==k.length)return!1;for(var y=0,S=E.length;y<S;++y)if(_?!_(E[y],k[y]):E[y]!==k[y])return!1;return!0}t.shallowEqual=c;function l(E,k){k===void 0&&(k={});var _=k.start,y=k.stop,S=k.step;if(S===void 0&&(S=1),S===0)throw new Error("Slice `step` cannot be zero.");var D=E.length;_===void 0?_=S<0?D-1:0:_<0?_=Math.max(_+D,S<0?-1:0):_>=D&&(_=S<0?D-1:D),y===void 0?y=S<0?-1:D:y<0?y=Math.max(y+D,S<0?-1:0):y>=D&&(y=S<0?D-1:D);var b;S<0&&y>=_||S>0&&_>=y?b=0:S<0?b=Math.floor((y-_+1)/S+1):b=Math.floor((y-_-1)/S+1);for(var v=[],T=0;T<b;++T)v[T]=E[_+T*S];return v}t.slice=l;function m(E,k,_){var y=E.length;if(!(y<=1)&&(k<0?k=Math.max(0,k+y):k=Math.min(k,y-1),_<0?_=Math.max(0,_+y):_=Math.min(_,y-1),k!==_)){for(var S=E[k],D=k<_?1:-1,b=k;b!==_;b+=D)E[b]=E[b+D];E[_]=S}}t.move=m;function f(E,k,_){k===void 0&&(k=0),_===void 0&&(_=-1);var y=E.length;if(!(y<=1))for(k<0?k=Math.max(0,k+y):k=Math.min(k,y-1),_<0?_=Math.max(0,_+y):_=Math.min(_,y-1);k<_;){var S=E[k],D=E[_];E[k++]=D,E[_--]=S}}t.reverse=f;function d(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(!(S<=1)&&(_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1),!(_>=y))){var D=y-_+1;if(k>0?k=k%D:k<0&&(k=(k%D+D)%D),k!==0){var b=_+k;f(E,_,b-1),f(E,b,y),f(E,_,y)}}}t.rotate=d;function h(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(S!==0){_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);var D;y<_?D=y+1+(S-_):D=y-_+1;for(var b=0;b<D;++b)E[(_+b)%S]=k}}t.fill=h;function p(E,k,_){var y=E.length;k<0?k=Math.max(0,k+y):k=Math.min(k,y);for(var S=y;S>k;--S)E[S]=E[S-1];E[k]=_}t.insert=p;function g(E,k){var _=E.length;if(k<0&&(k+=_),!(k<0||k>=_)){for(var y=E[k],S=k+1;S<_;++S)E[S-1]=E[S];return E.length=_-1,y}}t.removeAt=g;function x(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=n(E,k,_,y);return S!==-1&&g(E,S),S}t.removeFirstOf=x;function M(E,k,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var S=e(E,k,_,y);return S!==-1&&g(E,S),S}t.removeLastOf=M;function w(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(S===0)return 0;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);for(var D=0,b=0;b<S;++b)_<=y&&b>=_&&b<=y&&E[b]===k||y<_&&(b<=y||b>=_)&&E[b]===k?D++:D>0&&(E[b-D]=E[b]);return D>0&&(E.length=S-D),D}t.removeAllOf=w;function C(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S,D=r(E,k,_,y);return D!==-1&&(S=g(E,D)),{index:D,value:S}}t.removeFirstWhere=C;function I(E,k,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var S,D=i(E,k,_,y);return D!==-1&&(S=g(E,D)),{index:D,value:S}}t.removeLastWhere=I;function P(E,k,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var S=E.length;if(S===0)return 0;_<0?_=Math.max(0,_+S):_=Math.min(_,S-1),y<0?y=Math.max(0,y+S):y=Math.min(y,S-1);for(var D=0,b=0;b<S;++b)_<=y&&b>=_&&b<=y&&k(E[b],b)||y<_&&(b<=y||b>=_)&&k(E[b],b)?D++:D>0&&(E[b-D]=E[b]);return D>0&&(E.length=S-D),D}t.removeAllWhere=P})(L||(L={}));function be(t){var n;return typeof t.iter=="function"?n=t.iter():n=new Ms(t),n}function N(t,n){for(var e=0,r=be(t),i;(i=r.next())!==void 0;)if(n(i,e++)===!1)return}function ii(t,n){for(var e=0,r=be(t),i;(i=r.next())!==void 0;)if(!n(i,e++))return!1;return!0}function oi(t,n){for(var e=0,r=be(t),i;(i=r.next())!==void 0;)if(n(i,e++))return!0;return!1}function si(t){for(var n=0,e=[],r=be(t),i;(i=r.next())!==void 0;)e[n++]=i;return e}var Ms=function(){function t(n){this._index=0,this._source=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}(),Fl=function(){function t(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?n:this.next()}},t}(),Wl=function(){function t(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?this._source[n]:this.next()}},t}(),jl=function(){function t(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?[n,this._source[n]]:this.next()}},t}(),ql=function(){function t(n){this._fn=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)},t}();function lr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new rt(be(t.map(be)))}var rt=function(){function t(n){this._cloned=!1,this._source=n,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone());return n._active=this._active&&this._active.clone(),n._cloned=!0,this._cloned=!0,n},t.prototype.next=function(){if(this._active===void 0){var n=this._source.next();if(n===void 0)return;this._active=this._cloned?n.clone():n}var e=this._active.next();return e!==void 0?e:(this._active=void 0,this.next())},t}();function ye(){return new Es}var Es=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();var $l=function(){function t(n,e){this._source=n,this._index=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var n=this._source.next();if(n!==void 0)return[this._index++,n]},t}();function ai(t,n){return new Ss(be(t),n)}var Ss=function(){function t(n,e){this._index=0,this._source=n,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone(),this._fn);return n._index=this._index,n},t.prototype.next=function(){for(var n=this._fn,e=this._source,r;(r=e.next())!==void 0;)if(n(r,this._index++))return r},t}();function bt(t,n){for(var e=0,r=be(t),i;(i=r.next())!==void 0;)if(n(i,e++))return i}function ui(t,n){var e=be(t),r=e.next();if(r!==void 0){for(var i=r;(r=e.next())!==void 0;)n(r,i)>0&&(i=r);return i}}function Ke(t,n){return new Cs(be(t),n)}var Cs=function(){function t(n,e){this._index=0,this._source=n,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone(),this._fn);return n._index=this._index,n},t.prototype.next=function(){var n=this._source.next();if(n!==void 0)return this._fn.call(void 0,n,this._index++)},t}();var Kl=function(){function t(n,e,r){this._index=0,this._start=n,this._stop=e,this._step=r,this._length=cr.rangeLength(n,e,r)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._start,this._stop,this._step);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}(),cr;(function(t){function n(e,r,i){return i===0?1/0:e>r&&i>0||e<r&&i<0?0:Math.ceil((r-e)/i)}t.rangeLength=n})(cr||(cr={}));function dr(t,n,e){var r=0,i=be(t),o=i.next();if(o===void 0&&e===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(o===void 0)return e;var s=i.next();if(s===void 0&&e===void 0)return o;if(s===void 0)return n(e,o,r++);var a;e===void 0?a=n(o,s,r++):a=n(n(e,o,r++),s,r++);for(var u;(u=i.next())!==void 0;)a=n(a,u,r++);return a}function Bt(t){return new Is(t,1)}var Is=function(){function t(n,e){this._value=n,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();function ci(t){var n;return typeof t.retro=="function"?n=t.retro():n=new ks(t),n}var ks=function(){function t(n){this._source=n,this._index=n.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();var Ul=function(){function t(n,e){this._source=n,this._step=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var n=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return n},t}(),vt;(function(t){function n(s,a,u){u===void 0&&(u=0);for(var c=new Array(a.length),l=0,m=u,f=a.length;l<f;++l,++m){if(m=s.indexOf(a[l],m),m===-1)return null;c[l]=m}return c}t.findIndices=n;function e(s,a,u){u===void 0&&(u=0);var c=n(s,a,u);if(!c)return null;for(var l=0,m=0,f=c.length;m<f;++m){var d=c[m]-u;l+=d*d}return{score:l,indices:c}}t.matchSumOfSquares=e;function r(s,a,u){u===void 0&&(u=0);var c=n(s,a,u);if(!c)return null;for(var l=0,m=u-1,f=0,d=c.length;f<d;++f){var h=c[f];l+=h-m-1,m=h}return{score:l,indices:c}}t.matchSumOfDeltas=r;function i(s,a,u){for(var c=[],l=0,m=0,f=a.length;l<f;){for(var d=a[l],h=a[l];++l<f&&a[l]===h+1;)h++;m<d&&c.push(s.slice(m,d)),d<h+1&&c.push(u(s.slice(d,h+1))),m=h+1}return m<s.length&&c.push(s.slice(m)),c}t.highlight=i;function o(s,a){return s<a?-1:s>a?1:0}t.cmp=o})(vt||(vt={}));var Xl=function(){function t(n,e){this._source=n,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var n=this._source.next();if(n!==void 0)return this._count--,n}},t}();var Yl=function(){function t(n){this._source=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map(function(n){return n.clone()}))},t.prototype.next=function(){for(var n=new Array(this._source.length),e=0,r=this._source.length;e<r;++e){var i=this._source[e].next();if(i===void 0)return;n[e]=i}return n},t}();var li;(function(t){function n(e){var r=document.body,i=function(o){o.preventDefault(),o.stopPropagation(),o.clipboardData.setData("text",e),r.removeEventListener("copy",i,!0)};r.addEventListener("copy",i,!0),document.execCommand("copy")}t.copyText=n})(li||(li={}));var U;(function(t){function n(o){var s=window.getComputedStyle(o),a=parseFloat(s.borderTopWidth)||0,u=parseFloat(s.borderLeftWidth)||0,c=parseFloat(s.borderRightWidth)||0,l=parseFloat(s.borderBottomWidth)||0,m=parseFloat(s.paddingTop)||0,f=parseFloat(s.paddingLeft)||0,d=parseFloat(s.paddingRight)||0,h=parseFloat(s.paddingBottom)||0,p=u+f+d+c,g=a+m+h+l;return{borderTop:a,borderLeft:u,borderRight:c,borderBottom:l,paddingTop:m,paddingLeft:f,paddingRight:d,paddingBottom:h,horizontalSum:p,verticalSum:g}}t.boxSizing=n;function e(o){var s=window.getComputedStyle(o),a=parseFloat(s.minWidth)||0,u=parseFloat(s.minHeight)||0,c=parseFloat(s.maxWidth)||1/0,l=parseFloat(s.maxHeight)||1/0;return c=Math.max(a,c),l=Math.max(u,l),{minWidth:a,minHeight:u,maxWidth:c,maxHeight:l}}t.sizeLimits=e;function r(o,s,a){var u=o.getBoundingClientRect();return s>=u.left&&s<u.right&&a>=u.top&&a<u.bottom}t.hitTest=r;function i(o,s){var a=o.getBoundingClientRect(),u=s.getBoundingClientRect();if(!(u.top<=a.top&&u.bottom>=a.bottom)){if(u.top<a.top&&u.height<=a.height){o.scrollTop-=a.top-u.top;return}if(u.bottom>a.bottom&&u.height>=a.height){o.scrollTop-=a.top-u.top;return}if(u.top<a.top&&u.height>a.height){o.scrollTop-=a.bottom-u.bottom;return}if(u.bottom>a.bottom&&u.height<a.height){o.scrollTop-=a.bottom-u.bottom;return}}}t.scrollIntoViewIfNeeded=i})(U||(U={}));var se;(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function n(e){return t.IS_MAC?e.metaKey:e.ctrlKey}t.accelKey=n})(se||(se={}));var Ce;(function(t){function n(i){if(i in Se.specificityCache)return Se.specificityCache[i];var o=Se.calculateSingle(i);return Se.specificityCache[i]=o}t.calculateSpecificity=n;function e(i){if(i in Se.validityCache)return Se.validityCache[i];var o=!0;try{Se.testElem.querySelector(i)}catch{o=!1}return Se.validityCache[i]=o}t.isValid=e;function r(i,o){return Se.protoMatchFunc.call(i,o)}t.matches=r})(Ce||(Ce={}));var Se;(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=function(){var l=Element.prototype;return l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector||function(m){var f=this,d=f.ownerDocument?f.ownerDocument.querySelectorAll(m):[];return Array.prototype.indexOf.call(d,f)!==-1}}();function n(l){l=l.split(",",1)[0];var m=0,f=0,d=0;function h(p){var g=l.match(p);return g===null?!1:(l=l.slice(g[0].length),!0)}for(l=l.replace(c," $1 ");l.length>0;){if(h(e)){m++;continue}if(h(r)){f++;continue}if(h(i)){f++;continue}if(h(s)){d++;continue}if(h(a)){f++;continue}if(h(o)){d++;continue}if(!h(u))return 0}return m=Math.min(m,255),f=Math.min(f,255),d=Math.min(d,255),m<<16|f<<8|d}t.calculateSingle=n;var e=/^#[^\s\+>~#\.\[:]+/,r=/^\.[^\s\+>~#\.\[:]+/,i=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,u=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(Se||(Se={}));var di=function(){function t(n){this._root=new ee.LeafNode,this.cmp=n}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._root.size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var n=ee.firstLeaf(this._root);return n.size>0?n.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var n=ee.lastLeaf(this._root);return n.size>0?n.items[n.size-1]:void 0},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return ee.iterItems(this._root)},t.prototype.retro=function(){return ee.retroItems(this._root)},t.prototype.slice=function(n,e){return ee.sliceItems(this._root,n,e)},t.prototype.retroSlice=function(n,e){return ee.retroSliceItems(this._root,n,e)},t.prototype.at=function(n){return ee.itemAt(this._root,n)},t.prototype.has=function(n,e){return ee.hasItem(this._root,n,e)},t.prototype.indexOf=function(n,e){return ee.indexOf(this._root,n,e)},t.prototype.get=function(n,e){return ee.getItem(this._root,n,e)},t.prototype.assign=function(n){this.clear(),this.update(n)},t.prototype.insert=function(n){var e=ee.insertItem(this._root,n,this.cmp);return this._root=ee.maybeSplitRoot(this._root),e},t.prototype.update=function(n){var e=this;N(n,function(r){e.insert(r)})},t.prototype.delete=function(n,e){var r=ee.deleteItem(this._root,n,e);return this._root=ee.maybeExtractRoot(this._root),r},t.prototype.remove=function(n){var e=ee.removeItem(this._root,n);return this._root=ee.maybeExtractRoot(this._root),e},t.prototype.clear=function(){ee.clear(this._root),this._root=new ee.LeafNode},t}();(function(t){function n(e,r){var i=new t(r);return i.assign(e),i}t.from=n})(di||(di={}));var ee;(function(t){var n=function(){function b(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(b.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),b}();t.BranchNode=n;var e=function(){function b(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(b.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),b}();t.LeafNode=e;function r(b){for(;b.type===0;)b=b.children[0];return b}t.firstLeaf=r;function i(b){for(;b.type===0;)b=b.children[b.children.length-1];return b}t.lastLeaf=i;function o(b){var v=r(b);return new I(v,0,-1)}t.iterItems=o;function s(b){var v=i(b);return new P(v,v.size-1,-1)}t.retroItems=s;function a(b,v,T){v===void 0?v=0:v<0?v=Math.max(0,v+b.size):v=Math.min(v,b.size),T===void 0?T=b.size:T<0?T=Math.max(0,T+b.size):T=Math.min(T,b.size);var A=Math.max(0,T-v);if(A===0)return ye();for(;b.type===0;){var z=E(b.sizes,v);z>0&&(v-=b.sizes[z-1]),b=b.children[z]}return new I(b,v,A)}t.sliceItems=a;function u(b,v,T){v===void 0?v=b.size-1:v<0?v=Math.max(-1,v+b.size):v=Math.min(v,b.size-1),T===void 0?T=-1:T<0?T=Math.max(-1,T+b.size):T=Math.min(T,b.size-1);var A=Math.max(0,v-T);if(A===0)return ye();for(;b.type===0;){var z=E(b.sizes,v);z>0&&(v-=b.sizes[z-1]),b=b.children[z]}return new P(b,v,A)}t.retroSliceItems=u;function c(b,v){if(v<0&&(v+=b.size),!(v<0||v>=b.size)){for(;b.type===0;){var T=E(b.sizes,v);T>0&&(v-=b.sizes[T-1]),b=b.children[T]}return b.items[v]}}t.itemAt=c;function l(b,v,T){for(;b.type===0;){var A=k(b.items,v,T);b=b.children[A]}var z=_(b.items,v,T);return z>=0}t.hasItem=l;function m(b,v,T){for(var A=0;b.type===0;){var z=k(b.items,v,T);z>0&&(A+=b.sizes[z-1]),b=b.children[z]}var R=_(b.items,v,T);return R>=0?A+R:-A+R}t.indexOf=m;function f(b,v,T){for(;b.type===0;){var A=k(b.items,v,T);b=b.children[A]}var z=_(b.items,v,T);return z>=0?b.items[z]:void 0}t.getItem=f;function d(b,v,T){if(b.type===1){var A=_(b.items,v,T),z;return A>=0?(z=b.items[A],b.items[A]=v):(z=void 0,L.insert(b.items,-A-1,v)),z}var R=k(b.items,v,T),V=b.children[R],H=V.size,W=d(V,v,T),q=V.size;if(b.items[R]=V.items[0],H===q)return W;if(V.width>w){var G=S(V);L.insert(b.children,R+1,G),L.insert(b.items,R+1,G.items[0])}return y(b,R),W}t.insertItem=d;function h(b,v,T){if(b.type===1){var A=_(b.items,v,T);return A<0?void 0:L.removeAt(b.items,A)}var z=k(b.items,v,T),R=b.children[z],V=R.size,H=h(R,v,T),W=R.size;return V===W||(b.items[z]=R.items[0],R.width<C&&(z=D(b,z)),y(b,z)),H}t.deleteItem=h;function p(b,v){if(v<0&&(v+=b.size),!(v<0||v>=b.size)){if(b.type===1)return L.removeAt(b.items,v);var T=E(b.sizes,v);T>0&&(v-=b.sizes[T]);var A=b.children[T],z=p(A,v);return b.items[T]=A.items[0],A.width<C&&(T=D(b,T)),y(b,T),z}}t.removeItem=p;function g(b){b.type===0?(N(b.children,g),b.children.length=0,b.sizes.length=0,b.items.length=0):(b.items.length=0,b.next=null,b.prev=null)}t.clear=g;function x(b){if(b.width<=w)return b;var v=new n,T=S(b);return v.sizes[0]=b.size,v.sizes[1]=b.size+T.size,v.children[0]=b,v.children[1]=T,v.items[0]=b.items[0],v.items[1]=T.items[0],v}t.maybeSplitRoot=x;function M(b){if(b.type===1||b.children.length>1)return b;var v=b.children.pop();return g(b),v}t.maybeExtractRoot=M;var w=32,C=w>>1,I=function(){function b(v,T,A){this._node=v,this._index=T,this._count=A}return b.prototype.iter=function(){return this},b.prototype.clone=function(){return new b(this._node,this._index,this._count)},b.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},b}(),P=function(){function b(v,T,A){this._node=v,this._index=T,this._count=A}return b.prototype.iter=function(){return this},b.prototype.clone=function(){return new b(this._node,this._index,this._count)},b.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},b}();function E(b,v){for(var T=b.length,A=0;A<T;++A)if(b[A]>v)return A;return T-1}function k(b,v,T){for(var A=b.length,z=1;z<A;++z)if(T(b[z],v)>0)return z-1;return A-1}function _(b,v,T){for(var A=b.length,z=0;z<A;++z){var R=T(b[z],v);if(R===0)return z;if(R>0)return-z-1}return-A-1}function y(b,v){for(var T=b.sizes,A=b.children,z=v>0?T[v-1]:0,R=A.length;v<R;++v)z=T[v]=z+A[v].size;T.length=A.length}function S(b){if(b.type===1){for(var v=new e,T=b.items,A=v.items,z=C,R=T.length;z<R;++z)A.push(T[z]);return T.length=C,b.next&&(b.next.prev=v),v.next=b.next,v.prev=b,b.next=v,v}for(var V=new n,H=b.children,W=V.children,z=C,R=H.length;z<R;++z)W.push(H[z]);H.length=C;for(var q=b.items,G=V.items,z=C,R=q.length;z<R;++z)G.push(q[z]);return q.length=C,y(b,C),y(V,0),V}function D(b,v){var T,A,z,R,V,H,W=b.children[v],q=v===0?b.children[v+1]:b.children[v-1],G=v===0,Y=W.type===1,te=q.width>C;if(Y&&te&&G){var F=W,j=q;return F.items.push(j.items.shift()),b.items[v+1]=j.items[0],v}if(Y&&te&&!G){var F=W,j=q;return F.items.unshift(j.items.pop()),b.items[v]=F.items[0],v-1}if(Y&&!te&&G){var F=W,j=q;return(T=j.items).unshift.apply(T,F.items),L.removeAt(b.children,v),L.removeAt(b.items,v+1),F.prev&&(F.prev.next=j),j.prev=F.prev,g(F),v}if(Y&&!te&&!G){var F=W,j=q;return(A=j.items).push.apply(A,F.items),L.removeAt(b.children,v),L.removeAt(b.items,v),F.next&&(F.next.prev=j),j.next=F.next,g(F),v-1}if(!Y&&te&&G){var F=W,j=q;return F.children.push(j.children.shift()),F.items.push(j.items.shift()),b.items[v+1]=j.items[0],y(F,F.width-1),y(j,0),v}if(!Y&&te&&!G){var F=W,j=q;return F.children.unshift(j.children.pop()),F.items.unshift(j.items.pop()),b.items[v]=F.items[0],y(F,0),y(j,j.width-1),v-1}if(!Y&&!te&&G){var F=W,j=q;return(z=j.children).unshift.apply(z,F.children),(R=j.items).unshift.apply(R,F.items),L.removeAt(b.children,v),L.removeAt(b.items,v+1),y(j,0),F.children.length=0,g(F),v}if(!Y&&!te&&!G){var F=W,j=q;return(V=j.children).push.apply(V,F.children),(H=j.items).push.apply(H,F.items),L.removeAt(b.children,v),L.removeAt(b.items,v),y(j,0),F.children.length=0,g(F),v-1}throw"unreachable"}})(ee||(ee={}));var cn=function(){function t(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.assign=function(n){var e=this;this.clear(),N(n,function(r){e.addLast(r)})},t.prototype.push=function(n){this.addLast(n)},t.prototype.pop=function(){return this.removeLast()},t.prototype.shift=function(n){this.addFirst(n)},t.prototype.unshift=function(){return this.removeFirst()},t.prototype.addFirst=function(n){var e=new Oe.LinkedListNode(this,n);return this._first?(e.next=this._first,this._first.prev=e,this._first=e):(this._first=e,this._last=e),this._size++,e},t.prototype.addLast=function(n){var e=new Oe.LinkedListNode(this,n);return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._first=e,this._last=e),this._size++,e},t.prototype.insertBefore=function(n,e){if(!e||e===this._first)return this.addFirst(n);if(!(e instanceof Oe.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var r=new Oe.LinkedListNode(this,n),i=e,o=i.prev;return r.next=i,r.prev=o,i.prev=r,o.next=r,this._size++,r},t.prototype.insertAfter=function(n,e){if(!e||e===this._last)return this.addLast(n);if(!(e instanceof Oe.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var r=new Oe.LinkedListNode(this,n),i=e,o=i.next;return r.next=o,r.prev=i,i.next=r,o.prev=r,this._size++,r},t.prototype.removeFirst=function(){var n=this._first;if(n)return n===this._last?(this._first=null,this._last=null):(this._first=n.next,this._first.prev=null),n.list=null,n.next=null,n.prev=null,this._size--,n.value},t.prototype.removeLast=function(){var n=this._last;if(n)return n===this._first?(this._first=null,this._last=null):(this._last=n.prev,this._last.next=null),n.list=null,n.next=null,n.prev=null,this._size--,n.value},t.prototype.removeNode=function(n){if(!(n instanceof Oe.LinkedListNode)||n.list!==this)throw new Error("Node is not owned by the list.");var e=n;e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._size--},t.prototype.clear=function(){for(var n=this._first;n;){var e=n.next;n.list=null,n.prev=null,n.next=null,n=e}this._first=null,this._last=null,this._size=0},t}();(function(t){function n(s){var a=new t;return a.assign(s),a}t.from=n;var e=function(){function s(a){this._node=a}return s.prototype.iter=function(){return this},s.prototype.clone=function(){return new s(this._node)},s.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.next,a.value}},s}();t.ForwardValueIterator=e;var r=function(){function s(a){this._node=a}return s.prototype.iter=function(){return this},s.prototype.clone=function(){return new s(this._node)},s.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.prev,a.value}},s}();t.RetroValueIterator=r;var i=function(){function s(a){this._node=a}return s.prototype.iter=function(){return this},s.prototype.clone=function(){return new s(this._node)},s.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.next,a}},s}();t.ForwardNodeIterator=i;var o=function(){function s(a){this._node=a}return s.prototype.iter=function(){return this},s.prototype.clone=function(){return new s(this._node)},s.prototype.next=function(){if(this._node){var a=this._node;return this._node=a.prev,a}},s}();t.RetroNodeIterator=o})(cn||(cn={}));var Oe;(function(t){var n=function(){function e(r,i){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=i}return e}();t.LinkedListNode=n})(Oe||(Oe={}));var hr=function(t,n){return hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},hr(t,n)};function Ts(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");hr(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var _e=function(){function t(n){this.type=n}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(n){return!1},t}(),yt=function(t){Ts(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.conflate=function(e){return!0},n}(_e),O;(function(t){function n(_,y){var S=l.get(_);if(!S||S.length===0){M(_,y);return}var D=ii(ci(S),function(b){return b?x(b,_,y):!0});D&&M(_,y)}t.sendMessage=n;function e(_,y){if(!y.isConflatable){w(_,y);return}var S=oi(c,function(D){return D.handler!==_||!D.msg||D.msg.type!==y.type||!D.msg.isConflatable?!1:D.msg.conflate(y)});S||w(_,y)}t.postMessage=e;function r(_,y){var S=l.get(_);S&&S.indexOf(y)!==-1||(S?S.push(y):l.set(_,[y]))}t.installMessageHook=r;function i(_,y){var S=l.get(_);if(S){var D=S.indexOf(y);D!==-1&&(S[D]=null,I(S))}}t.removeMessageHook=i;function o(_){var y=l.get(_);y&&y.length>0&&(L.fill(y,null),I(y)),N(c,function(S){S.handler===_&&(S.handler=null,S.msg=null)})}t.clearData=o;function s(){h||d===0||(g(d),h=!0,C(),h=!1)}t.flush=s;function a(){return f}t.getExceptionHandler=a;function u(_){var y=f;return f=_,y}t.setExceptionHandler=u;var c=new cn,l=new WeakMap,m=new Set,f=function(_){console.error(_)},d=0,h=!1,p=function(){var _=typeof requestAnimationFrame=="function";return _?requestAnimationFrame:setImmediate}(),g=function(){var _=typeof cancelAnimationFrame=="function";return _?cancelAnimationFrame:clearImmediate}();function x(_,y,S){var D=!0;try{typeof _=="function"?D=_(y,S):D=_.messageHook(y,S)}catch(b){f(b)}return D}function M(_,y){try{_.processMessage(y)}catch(S){f(S)}}function w(_,y){c.addLast({handler:_,msg:y}),d===0&&(d=p(C))}function C(){if(d=0,!c.isEmpty){var _={handler:null,msg:null};for(c.addLast(_);;){var y=c.removeFirst();if(y===_)return;y.handler&&y.msg&&n(y.handler,y.msg)}}}function I(_){m.size===0&&p(P),m.add(_)}function P(){m.forEach(E),m.clear()}function E(_){L.removeAllWhere(_,k)}function k(_){return _===null}})(O||(O={}));var le=function(){function t(n){this._pid=it.nextPID(),this.name=n.name,this._create=n.create,this._coerce=n.coerce||null,this._compare=n.compare||null,this._changed=n.changed||null}return t.prototype.get=function(n){var e,r=it.ensureMap(n);return this._pid in r?e=r[this._pid]:e=r[this._pid]=this._createValue(n),e},t.prototype.set=function(n,e){var r,i=it.ensureMap(n);this._pid in i?r=i[this._pid]:r=i[this._pid]=this._createValue(n);var o=this._coerceValue(n,e);this._maybeNotify(n,r,i[this._pid]=o)},t.prototype.coerce=function(n){var e,r=it.ensureMap(n);this._pid in r?e=r[this._pid]:e=r[this._pid]=this._createValue(n);var i=this._coerceValue(n,e);this._maybeNotify(n,e,r[this._pid]=i)},t.prototype._createValue=function(n){var e=this._create;return e(n)},t.prototype._coerceValue=function(n,e){var r=this._coerce;return r?r(n,e):e},t.prototype._compareValue=function(n,e){var r=this._compare;return r?r(n,e):n===e},t.prototype._maybeNotify=function(n,e,r){var i=this._changed;i&&!this._compareValue(e,r)&&i(n,e,r)},t}();(function(t){function n(e){it.ownerData.delete(e)}t.clearData=n})(le||(le={}));var it;(function(t){t.ownerData=new WeakMap,t.nextPID=function(){var e=0;return function(){var r=Math.random(),i=(""+r).slice(2);return"pid-"+i+"-"+e++}}();function n(e){var r=t.ownerData.get(e);return r||(r=Object.create(null),t.ownerData.set(e,r),r)}t.ensureMap=n})(it||(it={}));var $=function(){function t(n){this._blockedCount=0,this.sender=n}return t.prototype.block=function(n){this._blockedCount++;try{n()}finally{this._blockedCount--}},t.prototype.connect=function(n,e){return me.connect(this,n,e)},t.prototype.disconnect=function(n,e){return me.disconnect(this,n,e)},t.prototype.emit=function(n){this._blockedCount||me.emit(this,n)},t}();(function(t){function n(c,l){var m=me.blockedProperty;m.set(c,m.get(c)+1);try{l()}finally{m.set(c,m.get(c)-1)}}t.blockAll=n;function e(c,l){me.disconnectBetween(c,l)}t.disconnectBetween=e;function r(c){me.disconnectSender(c)}t.disconnectSender=r;function i(c){me.disconnectReceiver(c)}t.disconnectReceiver=i;function o(c){me.disconnectAll(c)}t.disconnectAll=o;function s(c){me.disconnectAll(c)}t.clearData=s;function a(){return me.exceptionHandler}t.getExceptionHandler=a;function u(c){var l=me.exceptionHandler;return me.exceptionHandler=c,l}t.setExceptionHandler=u})($||($={}));var me;(function(t){t.exceptionHandler=function(M){console.error(M)};function n(M,w,C){C=C||void 0;var I=u.get(M.sender);if(I||(I=[],u.set(M.sender,I)),f(I,M,w,C))return!1;var P=C||w,E=c.get(P);E||(E=[],c.set(P,E));var k={signal:M,slot:w,thisArg:C};return I.push(k),E.push(k),!0}t.connect=n;function e(M,w,C){C=C||void 0;var I=u.get(M.sender);if(!I||I.length===0)return!1;var P=f(I,M,w,C);if(!P)return!1;var E=C||w,k=c.get(E);return P.signal=null,h(I),h(k),!0}t.disconnect=e;function r(M,w){var C=u.get(M);if(!(!C||C.length===0)){var I=c.get(w);!I||I.length===0||(N(I,function(P){P.signal&&P.signal.sender===M&&(P.signal=null)}),h(C),h(I))}}t.disconnectBetween=r;function i(M){var w=u.get(M);!w||w.length===0||(N(w,function(C){if(C.signal){var I=C.thisArg||C.slot;C.signal=null,h(c.get(I))}}),h(w))}t.disconnectSender=i;function o(M){var w=c.get(M);!w||w.length===0||(N(w,function(C){if(C.signal){var I=C.signal.sender;C.signal=null,h(u.get(I))}}),h(w))}t.disconnectReceiver=o;function s(M){i(M),o(M)}t.disconnectAll=s;function a(M,w){if(!(t.blockedProperty.get(M.sender)>0)){var C=u.get(M.sender);if(!(!C||C.length===0))for(var I=0,P=C.length;I<P;++I){var E=C[I];E.signal===M&&d(E,w)}}}t.emit=a;var u=new WeakMap,c=new WeakMap,l=new Set,m=function(){var M=typeof requestAnimationFrame=="function";return M?requestAnimationFrame:setImmediate}();function f(M,w,C,I){return bt(M,function(P){return P.signal===w&&P.slot===C&&P.thisArg===I})}function d(M,w){var C=M.signal,I=M.slot,P=M.thisArg;try{I.call(P,C.sender,w)}catch(E){t.exceptionHandler(E)}}function h(M){l.size===0&&m(p),l.add(M)}function p(){l.forEach(g),l.clear()}function g(M){L.removeAllWhere(M,x)}function x(M){return M.signal===null}t.blockedProperty=new le({name:"blocked",create:function(){return 0}})})(me||(me={}));var fr=function(t,n){return fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},fr(t,n)};function fi(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");fr(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Ue=function(){function t(n){this._fn=n}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var n=this._fn;this._fn=null,n()}},t}(),cd=function(t){fi(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._disposed=new $(e),e}return Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),$.clearData(this))},n}(Ue),pr=function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(n){n.dispose()}),this._items.clear())},t.prototype.contains=function(n){return this._items.has(n)},t.prototype.add=function(n){this._items.add(n)},t.prototype.remove=function(n){this._items.delete(n)},t.prototype.clear=function(){this._items.clear()},t}();(function(t){function n(e){var r=new t;return N(e,function(i){r.add(i)}),r}t.from=n})(pr||(pr={}));var hi=function(t){fi(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._disposed=new $(e),e}return Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),$.clearData(this))},n}(pr);(function(t){function n(e){var r=new t;return N(e,function(i){r.add(i)}),r}t.from=n})(hi||(hi={}));var Xe=function(){function t(n){var e=this;this._onScrollFrame=function(){if(e._scrollTarget){var r=e._scrollTarget,i=r.element,o=r.edge,s=r.distance,a=ce.SCROLL_EDGE_SIZE-s,u=Math.pow(a/ce.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(u*ce.SCROLL_EDGE_SIZE));switch(o){case"top":i.scrollTop-=c;break;case"left":i.scrollLeft-=c;break;case"right":i.scrollLeft+=c;break;case"bottom":i.scrollTop+=c;break}requestAnimationFrame(e._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=n.document||document,this.mimeData=n.mimeData,this.dragImage=n.dragImage||null,this.proposedAction=n.proposedAction||"copy",this.supportedActions=n.supportedActions||"all",this.source=n.source||null}return t.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var n=ce.createMouseEvent("pointerup",-1,-1);ce.dispatchDragLeave(this,this._currentTarget,null,n)}this._finalize("none")}},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.start=function(n,e){var r=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(n,e),this._promise=new Promise(function(o,s){r._resolve=o});var i=ce.createMouseEvent("pointermove",n,e);return document.dispatchEvent(i),this._promise},t.prototype.handleEvent=function(n){switch(n.type){case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"pointermove":this._evtMouseMove(n);break;case"pointerup":this._evtMouseUp(n);break;case"keydown":this._evtKeyDown(n);break;default:n.preventDefault(),n.stopPropagation();break}},t.prototype.moveDragImage=function(n,e){if(this.dragImage){var r=this.dragImage.style;r.top=e+"px",r.left=n+"px"}},t.prototype._evtMouseMove=function(n){n.preventDefault(),n.stopPropagation(),this._updateCurrentTarget(n),this._updateDragScroll(n),this.moveDragImage(n.clientX,n.clientY)},t.prototype._evtMouseUp=function(n){if(n.preventDefault(),n.stopPropagation(),n.button===0){if(this._updateCurrentTarget(n),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){ce.dispatchDragLeave(this,this._currentTarget,null,n),this._finalize("none");return}var e=ce.dispatchDrop(this,this._currentTarget,n);this._finalize(e)}},t.prototype._evtKeyDown=function(n){n.preventDefault(),n.stopPropagation(),n.keyCode===27&&this.dispose()},t.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},t.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},t.prototype._updateDragScroll=function(n){var e=ce.findScrollTarget(n);!this._scrollTarget&&!e||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=e)},t.prototype._updateCurrentTarget=function(n){var e=this._currentTarget,r=this._currentTarget,i=this._currentElement,o=this.document.elementFromPoint(n.clientX,n.clientY);this._currentElement=o,o!==i&&o!==r&&ce.dispatchDragExit(this,r,o,n),o!==i&&o!==r&&(r=ce.dispatchDragEnter(this,o,r,n)),r!==e&&(this._currentTarget=r,ce.dispatchDragLeave(this,e,r,n));var s=ce.dispatchDragOver(this,r,n);this._setDropAction(s)},t.prototype._attachDragImage=function(n,e){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.top=e+"px",r.left=n+"px";var i=this.document instanceof Document?this.document.body:this.document.firstElementChild;i.appendChild(this.dragImage)}},t.prototype._detachDragImage=function(){if(this.dragImage){var n=this.dragImage.parentNode;n&&n.removeChild(this.dragImage)}},t.prototype._setDropAction=function(n){if(n=ce.validateAction(n,this.supportedActions),!(this._override&&this._dropAction===n))switch(n){case"none":this._dropAction=n,this._override=t.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=n,this._override=t.overrideCursor("copy",this.document);break;case"link":this._dropAction=n,this._override=t.overrideCursor("alias",this.document);break;case"move":this._dropAction=n,this._override=t.overrideCursor("move",this.document);break}},t.prototype._finalize=function(n){var e=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,e&&e(n)},t}();(function(t){function n(r,i){i===void 0&&(i=document);var o=++e,s=i instanceof Document?i.body:i.firstElementChild;return s.style.cursor=r,s.classList.add("lm-mod-override-cursor"),s.classList.add("p-mod-override-cursor"),new Ue(function(){o===e&&(s.style.cursor="",s.classList.remove("lm-mod-override-cursor"),s.classList.remove("p-mod-override-cursor"))})}t.overrideCursor=n;var e=0})(Xe||(Xe={}));var ce;(function(t){t.SCROLL_EDGE_SIZE=20;function n(f,d){return c[f]&l[d]?f:"none"}t.validateAction=n;function e(f,d,h){var p=document.createEvent("MouseEvent");return p.initMouseEvent(f,!0,!0,window,0,0,0,d,h,!1,!1,!1,!1,0,null),p}t.createMouseEvent=e;function r(f){for(var d=f.clientX,h=f.clientY,p=document.elementFromPoint(d,h);p;p=p.parentElement){var g=p.hasAttribute("data-lm-dragscroll");if(g=g||p.hasAttribute("data-p-dragscroll"),!!g){var x=0,M=0;p===document.body&&(x=window.pageXOffset,M=window.pageYOffset);var w=p.getBoundingClientRect(),C=w.top+M,I=w.left+x,P=I+w.width,E=C+w.height;if(!(d<I||d>=P||h<C||h>=E)){var k=d-I+1,_=h-C+1,y=P-d,S=E-h,D=Math.min(k,_,y,S);if(!(D>t.SCROLL_EDGE_SIZE)){var b=void 0;switch(D){case S:b="bottom";break;case _:b="top";break;case y:b="right";break;case k:b="left";break;default:throw"unreachable"}var v=p.scrollWidth-p.clientWidth,T=p.scrollHeight-p.clientHeight,A=void 0;switch(b){case"top":A=T>0&&p.scrollTop>0;break;case"left":A=v>0&&p.scrollLeft>0;break;case"right":A=v>0&&p.scrollLeft<v;break;case"bottom":A=T>0&&p.scrollTop<T;break;default:throw"unreachable"}if(A)return{element:p,edge:b,distance:D}}}}}return null}t.findScrollTarget=r;function i(f,d,h,p){if(!d)return null;var g=m("lm-dragenter",f,p,h),x=!d.dispatchEvent(g);if(x||(g=m("p-dragenter",f,p,h),x=!d.dispatchEvent(g),x))return d;var M=f.document instanceof Document?f.document.body:f.document.firstElementChild;return d===M?h:(g=m("lm-dragenter",f,p,h),M.dispatchEvent(g),g=m("p-dragenter",f,p,h),M.dispatchEvent(g),M)}t.dispatchDragEnter=i;function o(f,d,h,p){if(d){var g=m("lm-dragexit",f,p,h);d.dispatchEvent(g),g=m("p-dragexit",f,p,h),d.dispatchEvent(g)}}t.dispatchDragExit=o;function s(f,d,h,p){if(d){var g=m("lm-dragleave",f,p,h);d.dispatchEvent(g),g=m("p-dragleave",f,p,h),d.dispatchEvent(g)}}t.dispatchDragLeave=s;function a(f,d,h){if(!d)return"none";var p=m("lm-dragover",f,h,null),g=!d.dispatchEvent(p);return g||(p=m("p-dragover",f,h,null),g=!d.dispatchEvent(p),g)?p.dropAction:"none"}t.dispatchDragOver=a;function u(f,d,h){if(!d)return"none";var p=m("lm-drop",f,h,null),g=!d.dispatchEvent(p);return g||(p=m("p-drop",f,h,null),g=!d.dispatchEvent(p),g)?p.dropAction:"none"}t.dispatchDrop=u;var c={none:0,copy:1,link:2,move:4},l={none:c.none,copy:c.copy,link:c.link,move:c.move,"copy-link":c.copy|c.link,"copy-move":c.copy|c.move,"link-move":c.link|c.move,all:c.copy|c.link|c.move};function m(f,d,h,p){var g=document.createEvent("MouseEvent");return g.initMouseEvent(f,!0,!0,window,0,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,p),g.dropAction="none",g.mimeData=d.mimeData,g.proposedAction=d.proposedAction,g.supportedActions=d.supportedActions,g.source=d.source,g}})(ce||(ce={}));var at=Jr(mr());var de=Jr(mr());function _t(){return vr.keyboardLayout}var gr=function(){function t(n,e,r){r===void 0&&(r=[]),this.name=n,this._codes=e,this._keys=t.extractKeys(e),this._modifierKeys=t.convertToKeySet(r)}return t.prototype.keys=function(){return Object.keys(this._keys)},t.prototype.isValidKey=function(n){return n in this._keys},t.prototype.isModifierKey=function(n){return n in this._modifierKeys},t.prototype.keyForKeydownEvent=function(n){return this._codes[n.keyCode]||""},t}();(function(t){function n(r){var i=Object.create(null);for(var o in r)i[r[o]]=!0;return i}t.extractKeys=n;function e(r){for(var i=Object(null),o=0,s=r.length;o<s;++o)i[r[o]]=!0;return i}t.convertToKeySet=e})(gr||(gr={}));var As=new gr("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]),vr;(function(t){t.keyboardLayout=As})(vr||(vr={}));var br=function(){return br=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},br.apply(this,arguments)},xt=function(){function t(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new $(this),this._commandExecuted=new $(this),this._keyBindingChanged=new $(this)}return Object.defineProperty(t.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),t.prototype.listCommands=function(){return Object.keys(this._commands)},t.prototype.hasCommand=function(n){return n in this._commands},t.prototype.addCommand=function(n,e){var r=this;if(n in this._commands)throw new Error("Command '"+n+"' already registered.");return this._commands[n]=Ye.createCommand(e),this._commandChanged.emit({id:n,type:"added"}),new Ue(function(){delete r._commands[n],r._commandChanged.emit({id:n,type:"removed"})})},t.prototype.notifyCommandChanged=function(n){if(n!==void 0&&!(n in this._commands))throw new Error("Command '"+n+"' is not registered.");this._commandChanged.emit({id:n,type:n?"changed":"many-changed"})},t.prototype.describedBy=function(n){var e=this._commands[n];return e?e.describedBy||{args:null}:{args:null}},t.prototype.label=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.label.call(void 0,e):""},t.prototype.mnemonic=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.mnemonic.call(void 0,e):-1},t.prototype.icon=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.icon.call(void 0,e):""},t.prototype.iconClass=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.iconClass.call(void 0,e):""},t.prototype.iconLabel=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.iconLabel.call(void 0,e):""},t.prototype.caption=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.caption.call(void 0,e):""},t.prototype.usage=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.usage.call(void 0,e):""},t.prototype.className=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.className.call(void 0,e):""},t.prototype.dataset=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.dataset.call(void 0,e):{}},t.prototype.isEnabled=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.isEnabled.call(void 0,e):!1},t.prototype.isToggled=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.isToggled.call(void 0,e):!1},t.prototype.isToggleable=function(n,e){var r=this._commands[n];return r?r.isToggleable:!1},t.prototype.isVisible=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];return r?r.isVisible.call(void 0,e):!1},t.prototype.execute=function(n,e){e===void 0&&(e=de.JSONExt.emptyObject);var r=this._commands[n];if(!r)return Promise.reject(new Error("Command '"+n+"' not registered."));var i;try{i=r.execute.call(void 0,e)}catch(s){i=Promise.reject(s)}var o=Promise.resolve(i);return this._commandExecuted.emit({id:n,args:e,result:o}),o},t.prototype.addKeyBinding=function(n){var e=this,r=Ye.createKeyBinding(n);return this._keyBindings.push(r),this._keyBindingChanged.emit({binding:r,type:"added"}),new Ue(function(){L.removeFirstOf(e._keyBindings,r),e._keyBindingChanged.emit({binding:r,type:"removed"})})},t.prototype.processKeydownEvent=function(n){if(!(this._replaying||t.isModifierKeyPressed(n))){var e=t.keystrokeForKeydownEvent(n);if(!e){this._replayKeydownEvents(),this._clearPendingState();return}this._keystrokes.push(e);var r=Ye.matchKeyBinding(this._keyBindings,this._keystrokes,n),i=r.exact,o=r.partial;if(!i&&!o){this._replayKeydownEvents(),this._clearPendingState();return}if(n.preventDefault(),n.stopPropagation(),i&&!o){this._executeKeyBinding(i),this._clearPendingState();return}i&&(this._exactKeyMatch=i),this._keydownEvents.push(n),this._startTimer()}},t.prototype._startTimer=function(){var n=this;this._clearTimer(),this._timerID=window.setTimeout(function(){n._onPendingTimeout()},Ye.CHORD_TIMEOUT)},t.prototype._clearTimer=function(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)},t.prototype._replayKeydownEvents=function(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(Ye.replayKeyEvent),this._replaying=!1)},t.prototype._executeKeyBinding=function(n){var e=n.command,r=n.args;if(!this.hasCommand(e)||!this.isEnabled(e,r)){var i=this.hasCommand(e)?"enabled":"registered",o=n.keys.join(", "),s="Cannot execute key binding '"+o+"':",a="command '"+e+"' is not "+i+".";console.warn(s+" "+a);return}this.execute(e,r)},t.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},t.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},t}();(function(t){function n(a){for(var u="",c=!1,l=!1,m=!1,f=!1,d=0,h=a.split(/\s+/);d<h.length;d++){var p=h[d];p==="Accel"?se.IS_MAC?l=!0:m=!0:p==="Alt"?c=!0:p==="Cmd"?l=!0:p==="Ctrl"?m=!0:p==="Shift"?f=!0:p.length>0&&(u=p)}return{cmd:l,ctrl:m,alt:c,shift:f,key:u}}t.parseKeystroke=n;function e(a){var u="",c=n(a);return c.ctrl&&(u+="Ctrl "),c.alt&&(u+="Alt "),c.shift&&(u+="Shift "),c.cmd&&se.IS_MAC&&(u+="Cmd "),u+c.key}t.normalizeKeystroke=e;function r(a){var u;return se.IS_WIN?u=a.winKeys||a.keys:se.IS_MAC?u=a.macKeys||a.keys:u=a.linuxKeys||a.keys,u.map(e)}t.normalizeKeys=r;function i(a){return typeof a=="string"?u(a):a.map(u).join(", ");function u(c){var l=[],m=se.IS_MAC?" ":"+",f=n(c);return f.ctrl&&l.push("Ctrl"),f.alt&&l.push("Alt"),f.shift&&l.push("Shift"),se.IS_MAC&&f.cmd&&l.push("Cmd"),l.push(f.key),l.map(Ye.formatKey).join(m)}}t.formatKeystroke=i;function o(a){var u=_t(),c=u.keyForKeydownEvent(a);return u.isModifierKey(c)}t.isModifierKeyPressed=o;function s(a){var u=_t(),c=u.keyForKeydownEvent(a);if(!c||u.isModifierKey(c))return"";var l=[];return a.ctrlKey&&l.push("Ctrl"),a.altKey&&l.push("Alt"),a.shiftKey&&l.push("Shift"),a.metaKey&&se.IS_MAC&&l.push("Cmd"),l.push(c),l.join(" ")}t.keystrokeForKeydownEvent=s})(xt||(xt={}));var Ye;(function(t){t.CHORD_TIMEOUT=1e3;function n(w){var C,I;return!w.icon||typeof w.icon=="string"?(I=h(w.iconClass||w.icon,u),C=I):(I=h(w.iconClass,u),C=h(w.icon,d)),{execute:w.execute,describedBy:br({args:null},w.describedBy),label:h(w.label,u),mnemonic:h(w.mnemonic,c),icon:C,iconClass:I,iconLabel:h(w.iconLabel,u),caption:h(w.caption,u),usage:h(w.usage,u),className:h(w.className,u),dataset:h(w.dataset,f),isEnabled:w.isEnabled||l,isToggled:w.isToggled||m,isToggleable:w.isToggleable||!!w.isToggled,isVisible:w.isVisible||l}}t.createCommand=n;function e(w){return{keys:xt.normalizeKeys(w),selector:p(w),command:w.command,args:w.args||de.JSONExt.emptyObject}}t.createKeyBinding=e;function r(w,C,I){for(var P=null,E=!1,k=1/0,_=0,y=0,S=w.length;y<S;++y){var D=w[y],b=g(D.keys,C);if(b!==0){if(b===2){!E&&x(D.selector,I)!==-1&&(E=!0);continue}var v=x(D.selector,I);if(!(v===-1||v>k)){var T=Ce.calculateSpecificity(D.selector);(!P||v<k||T>=_)&&(P=D,k=v,_=T)}}}return{exact:P,partial:E}}t.matchKeyBinding=r;function i(w){w.target.dispatchEvent(M(w))}t.replayKeyEvent=i;function o(w){return se.IS_MAC?s.hasOwnProperty(w)?s[w]:w:a.hasOwnProperty(w)?a[w]:w}t.formatKey=o;var s={Backspace:"\u232B",Tab:"\u21E5",Enter:"\u21A9",Shift:"\u21E7",Ctrl:"\u2303",Alt:"\u2325",Escape:"\u238B",PageUp:"\u21DE",PageDown:"\u21DF",End:"\u2198",Home:"\u2196",ArrowLeft:"\u2190",ArrowUp:"\u2191",ArrowRight:"\u2192",ArrowDown:"\u2193",Delete:"\u2326",Cmd:"\u2318"},a={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},u=function(){return""},c=function(){return-1},l=function(){return!0},m=function(){return!1},f=function(){return{}},d=function(){};function h(w,C){return w===void 0?C:typeof w=="function"?w:function(){return w}}function p(w){if(w.selector.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+w.selector);if(!Ce.isValid(w.selector))throw new Error("Invalid selector: "+w.selector);return w.selector}function g(w,C){if(w.length<C.length)return 0;for(var I=0,P=C.length;I<P;++I)if(w[I]!==C[I])return 0;return w.length>C.length?2:1}function x(w,C){for(var I=C.target,P=C.currentTarget,E=0;I!==null;I=I.parentElement,++E){if(I.hasAttribute("data-lm-suppress-shortcuts")||I.hasAttribute("data-p-suppress-shortcuts"))return-1;if(Ce.matches(I,w))return E;if(I===P)return-1}return-1}function M(w){var C=document.createEvent("Event"),I=w.bubbles||!0,P=w.cancelable||!0;return C.initEvent(w.type||"keydown",I,P),C.key=w.key||"",C.keyCode=w.keyCode||0,C.which=w.keyCode||0,C.ctrlKey=w.ctrlKey||!1,C.altKey=w.altKey||!1,C.shiftKey=w.shiftKey||!1,C.metaKey=w.metaKey||!1,C.view=w.view||window,C}})(Ye||(Ye={}));var yr=function(t,n){return yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},yr(t,n)};function Ps(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");yr(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var dn=function(){function t(n){this.type="text",this.content=n}return t}(),hn=function(){function t(n,e,r,i){this.type="element",this.tag=n,this.attrs=e,this.children=r,this.renderer=i}return t}(),xd=function(t){Ps(n,t);function n(e,r,i){return t.call(this,e,r,[],i||void 0)||this}return n}(hn);function K(t){for(var n={},e,r=[],i=1,o=arguments.length;i<o;++i){var s=arguments[i];typeof s=="string"?r.push(new dn(s)):s instanceof dn||s instanceof hn?r.push(s):s instanceof Array?a(r,s):(i===1||i===2)&&s&&typeof s=="object"&&("render"in s?e=s:n=s)}return new hn(t,n,r,e);function a(u,c){for(var l=0,m=c;l<m.length;l++){var f=m[l];typeof f=="string"?u.push(new dn(f)):(f instanceof dn||f instanceof hn)&&u.push(f)}}}(function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")})(K||(K={}));var Be;(function(t){function n(r){return ot.createDOMNode(r)}t.realize=n;function e(r,i){var o=ot.hostMap.get(i)||[],s=ot.asContentArray(r);ot.hostMap.set(i,s),ot.updateContent(i,o,s)}t.render=e})(Be||(Be={}));var ot;(function(t){t.hostMap=new WeakMap;function n(d){return d?d instanceof Array?d:[d]:[]}t.asContentArray=n;function e(d){var h=arguments[1]||null,p=arguments[2]||null;if(h)h.insertBefore(e(d),p);else{if(d.type==="text")return document.createTextNode(d.content);if(h=document.createElement(d.tag),s(h,d.attrs),d.renderer)return d.renderer.render(h,{attrs:d.attrs,children:d.children}),h;for(var g=0,x=d.children.length;g<x;++g)e(d.children[g],h)}return h}t.createDOMNode=e;function r(d,h,p){if(h!==p){for(var g=f(d,h),x=h.slice(),M=d.firstChild,w=p.length,C=0;C<w;++C){if(C>=x.length){e(p[C],d);continue}var I=x[C],P=p[C];if(I===P){M=M.nextSibling;continue}if(I.type==="text"&&P.type==="text"){M.textContent!==P.content&&(M.textContent=P.content),M=M.nextSibling;continue}if(I.type==="text"||P.type==="text"){L.insert(x,C,P),e(P,d,M);continue}if(!I.renderer!=!P.renderer){L.insert(x,C,P),e(P,d,M);continue}var E=P.attrs.key;if(E&&E in g){var k=g[E];k.vNode!==I&&(L.move(x,x.indexOf(k.vNode,C+1),C),d.insertBefore(k.element,M),I=k.vNode,M=k.element)}if(I===P){M=M.nextSibling;continue}var _=I.attrs.key;if(_&&_!==E){L.insert(x,C,P),e(P,d,M);continue}if(I.tag!==P.tag){L.insert(x,C,P),e(P,d,M);continue}a(M,I.attrs,P.attrs),P.renderer?P.renderer.render(M,{attrs:P.attrs,children:P.children}):r(M,I.children,P.children),M=M.nextSibling}i(d,x,w,!0)}}t.updateContent=r;function i(d,h,p,g){for(var x=h.length-1;x>=p;--x){var M=h[x],w=g?d.lastChild:d.childNodes[x];M.type==="text"||(M.renderer&&M.renderer.unrender?M.renderer.unrender(w,{attrs:M.attrs,children:M.children}):i(w,M.children,0,!1)),g&&d.removeChild(w)}}var o={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function s(d,h){for(var p in h)p in o||(p.substr(0,2)==="on"?d[p]=h[p]:d.setAttribute(p,h[p]));h.className!==void 0&&d.setAttribute("class",h.className),h.htmlFor!==void 0&&d.setAttribute("for",h.htmlFor),h.dataset&&u(d,h.dataset),h.style&&l(d,h.style)}function a(d,h,p){if(h!==p){var g;for(g in h)g in o||g in p||(g.substr(0,2)==="on"?d[g]=null:d.removeAttribute(g));for(g in p)g in o||h[g]===p[g]||(g.substr(0,2)==="on"?d[g]=p[g]:d.setAttribute(g,p[g]));h.className!==p.className&&(p.className!==void 0?d.setAttribute("class",p.className):d.removeAttribute("class")),h.htmlFor!==p.htmlFor&&(p.htmlFor!==void 0?d.setAttribute("for",p.htmlFor):d.removeAttribute("for")),h.dataset!==p.dataset&&c(d,h.dataset||{},p.dataset||{}),h.style!==p.style&&m(d,h.style||{},p.style||{})}}function u(d,h){for(var p in h)d.setAttribute("data-"+p,h[p])}function c(d,h,p){for(var g in h)g in p||d.removeAttribute("data-"+g);for(var x in p)h[x]!==p[x]&&d.setAttribute("data-"+x,p[x])}function l(d,h){var p=d.style,g;for(g in h)p[g]=h[g]}function m(d,h,p){var g=d.style,x;for(x in h)x in p||(g[x]="");for(x in p)h[x]!==p[x]&&(g[x]=p[x])}function f(d,h){for(var p=d.firstChild,g=Object.create(null),x=0,M=h;x<M.length;x++){var w=M[x];w.type==="element"&&w.attrs.key&&(g[w.attrs.key]={vNode:w,element:p}),p=p.nextSibling}return g}})(ot||(ot={}));var _r=function(t,n){return _r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},_r(t,n)};function Q(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");_r(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ae=function(){return ae=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ae.apply(this,arguments)};function Ds(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function zs(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Ge=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return t}(),xe;(function(t){function n(o,s){var a=o.length;if(a===0)return s;for(var u=0,c=0,l=0,m=0,f=0,d=0;d<a;++d){var h=o[d],p=h.minSize,g=h.maxSize,x=h.sizeHint;h.done=!1,h.size=Math.max(p,Math.min(x,g)),l+=h.size,u+=p,c+=g,h.stretch>0&&(m+=h.stretch,f++)}if(s===l)return 0;if(s<=u){for(var d=0;d<a;++d){var h=o[d];h.size=h.minSize}return s-u}if(s>=c){for(var d=0;d<a;++d){var h=o[d];h.size=h.maxSize}return s-c}var M=.01,w=a;if(s<l){for(var C=l-s;f>0&&C>M;)for(var I=C,P=m,d=0;d<a;++d){var h=o[d];if(!(h.done||h.stretch===0)){var E=h.stretch*I/P;h.size-E<=h.minSize?(C-=h.size-h.minSize,m-=h.stretch,h.size=h.minSize,h.done=!0,w--,f--):(C-=E,h.size-=E)}}for(;w>0&&C>M;)for(var E=C/w,d=0;d<a;++d){var h=o[d];h.done||(h.size-E<=h.minSize?(C-=h.size-h.minSize,h.size=h.minSize,h.done=!0,w--):(C-=E,h.size-=E))}}else{for(var C=s-l;f>0&&C>M;)for(var I=C,P=m,d=0;d<a;++d){var h=o[d];if(!(h.done||h.stretch===0)){var E=h.stretch*I/P;h.size+E>=h.maxSize?(C-=h.maxSize-h.size,m-=h.stretch,h.size=h.maxSize,h.done=!0,w--,f--):(C-=E,h.size+=E)}}for(;w>0&&C>M;)for(var E=C/w,d=0;d<a;++d){var h=o[d];h.done||(h.size+E>=h.maxSize?(C-=h.maxSize-h.size,h.size=h.maxSize,h.done=!0,w--):(C-=E,h.size+=E))}}return 0}t.calc=n;function e(o,s,a){o.length===0||a===0||(a>0?r(o,s,a):i(o,s,-a))}t.adjust=e;function r(o,s,a){for(var u=0,c=0;c<=s;++c){var l=o[c];u+=l.maxSize-l.size}for(var m=0,c=s+1,f=o.length;c<f;++c){var l=o[c];m+=l.size-l.minSize}a=Math.min(a,u,m);for(var d=a,c=s;c>=0&&d>0;--c){var l=o[c],h=l.maxSize-l.size;h>=d?(l.sizeHint=l.size+d,d=0):(l.sizeHint=l.size+h,d-=h)}for(var p=a,c=s+1,f=o.length;c<f&&p>0;++c){var l=o[c],h=l.size-l.minSize;h>=p?(l.sizeHint=l.size-p,p=0):(l.sizeHint=l.size-h,p-=h)}}function i(o,s,a){for(var u=0,c=s+1,l=o.length;c<l;++c){var m=o[c];u+=m.maxSize-m.size}for(var f=0,c=0;c<=s;++c){var m=o[c];f+=m.size-m.minSize}a=Math.min(a,u,f);for(var d=a,c=s+1,l=o.length;c<l&&d>0;++c){var m=o[c],h=m.maxSize-m.size;h>=d?(m.sizeHint=m.size+d,d=0):(m.sizeHint=m.size+h,d-=h)}for(var p=a,c=s;c>=0&&p>0;--c){var m=o[c],h=m.size-m.minSize;h>=p?(m.sizeHint=m.size-p,p=0):(m.sizeHint=m.size-h,p-=h)}}})(xe||(xe={}));var xr=function(){function t(n){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new $(this),this._isDisposed=!1,this.owner=n.owner,n.label!==void 0&&(this._label=n.label),n.mnemonic!==void 0&&(this._mnemonic=n.mnemonic),n.icon!==void 0?typeof n.icon=="string"?(this._icon=null,this._iconClass=n.icon):this._icon=n.icon:this._icon=null,n.iconClass!==void 0&&(this._iconClass=n.iconClass),n.iconLabel!==void 0&&(this._iconLabel=n.iconLabel),n.iconRenderer!==void 0&&(this._icon=n.iconRenderer),n.caption!==void 0&&(this._caption=n.caption),n.className!==void 0&&(this._className=n.className),n.closable!==void 0&&(this._closable=n.closable),this._dataset=n.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(n){this._label!==n&&(this._label=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(n){this._mnemonic!==n&&(this._mnemonic=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon===null?this.iconClass:this._icon},set:function(n){if(typeof n=="string")this._icon=null,this.iconClass=n;else{if(this._icon===n)return;this._icon=n,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(n){this._iconClass!==n&&(this._iconClass=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(n){this._iconLabel!==n&&(this._iconLabel=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(n){this.icon=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(n){this._caption!==n&&(this._caption=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(n){this._className!==n&&(this._className=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(n){this._closable!==n&&(this._closable=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(n){this._dataset!==n&&(this._dataset=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,$.clearData(this))},t}(),B=function(){function t(n){n===void 0&&(n={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new $(this),this._hiddenMode=t.HiddenMode.Display,this.node=fn.createNode(n),this.addClass("lm-Widget"),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),$.clearData(this),O.clearData(this),le.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return fn.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(n){this.node.id=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(n){this._hiddenMode!==n&&(this.isHidden&&this._toggleHidden(!1),n==t.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=n,this.isHidden&&this._toggleHidden(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(n){if(this._parent!==n){if(n&&this.contains(n))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var e=new t.ChildMessage("child-removed",this);O.sendMessage(this._parent,e)}if(this._parent=n,this._parent&&!this._parent.isDisposed){var e=new t.ChildMessage("child-added",this);O.sendMessage(this._parent,e)}this.isDisposed||O.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(n){if(this._layout!==n){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(n.parent)throw new Error("Cannot change layout parent.");this._layout=n,n.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():ye()},t.prototype.contains=function(n){for(var e=n;e;e=e._parent)if(e===this)return!0;return!1},t.prototype.hasClass=function(n){return this.node.classList.contains(n)},t.prototype.addClass=function(n){this.node.classList.add(n)},t.prototype.removeClass=function(n){this.node.classList.remove(n)},t.prototype.toggleClass=function(n,e){return e===!0?(this.node.classList.add(n),!0):e===!1?(this.node.classList.remove(n),!1):this.node.classList.toggle(n)},t.prototype.update=function(){O.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){O.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){O.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){O.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&O.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&O.sendMessage(this,t.Msg.AfterShow),this.parent)){var n=new t.ChildMessage("child-shown",this);O.sendMessage(this.parent,n)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&O.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&O.sendMessage(this,t.Msg.AfterHide),this.parent)){var n=new t.ChildMessage("child-hidden",this);O.sendMessage(this.parent,n)}},t.prototype.setHidden=function(n){n?this.hide():this.show()},t.prototype.testFlag=function(n){return(this._flags&n)!==0},t.prototype.setFlag=function(n){this._flags|=n},t.prototype.clearFlag=function(n){this._flags&=~n},t.prototype.processMessage=function(n){switch(n.type){case"resize":this.notifyLayout(n),this.onResize(n);break;case"update-request":this.notifyLayout(n),this.onUpdateRequest(n);break;case"fit-request":this.notifyLayout(n),this.onFitRequest(n);break;case"before-show":this.notifyLayout(n),this.onBeforeShow(n);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(n),this.onAfterShow(n);break;case"before-hide":this.notifyLayout(n),this.onBeforeHide(n);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(n),this.onAfterHide(n);break;case"before-attach":this.notifyLayout(n),this.onBeforeAttach(n);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(n),this.onAfterAttach(n);break;case"before-detach":this.notifyLayout(n),this.onBeforeDetach(n);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(n),this.onAfterDetach(n);break;case"activate-request":this.notifyLayout(n),this.onActivateRequest(n);break;case"close-request":this.notifyLayout(n),this.onCloseRequest(n);break;case"child-added":this.notifyLayout(n),this.onChildAdded(n);break;case"child-removed":this.notifyLayout(n),this.onChildRemoved(n);break;default:this.notifyLayout(n);break}},t.prototype.notifyLayout=function(n){this._layout&&this._layout.processParentMessage(n)},t.prototype.onCloseRequest=function(n){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(n){},t.prototype.onUpdateRequest=function(n){},t.prototype.onFitRequest=function(n){},t.prototype.onActivateRequest=function(n){},t.prototype.onBeforeShow=function(n){},t.prototype.onAfterShow=function(n){},t.prototype.onBeforeHide=function(n){},t.prototype.onAfterHide=function(n){},t.prototype.onBeforeAttach=function(n){},t.prototype.onAfterAttach=function(n){},t.prototype.onBeforeDetach=function(n){},t.prototype.onAfterDetach=function(n){},t.prototype.onChildAdded=function(n){},t.prototype.onChildRemoved=function(n){},t.prototype._toggleHidden=function(n){if(n)switch(this._hiddenMode){case t.HiddenMode.Display:this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="scale(0)";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case t.HiddenMode.Display:this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}},t}();(function(t){(function(o){o[o.Display=0]="Display",o[o.Scale=1]="Scale",o[o.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(o){o[o.IsDisposed=1]="IsDisposed",o[o.IsAttached=2]="IsAttached",o[o.IsHidden=4]="IsHidden",o[o.IsVisible=8]="IsVisible",o[o.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(o){o.BeforeShow=new _e("before-show"),o.AfterShow=new _e("after-show"),o.BeforeHide=new _e("before-hide"),o.AfterHide=new _e("after-hide"),o.BeforeAttach=new _e("before-attach"),o.AfterAttach=new _e("after-attach"),o.BeforeDetach=new _e("before-detach"),o.AfterDetach=new _e("after-detach"),o.ParentChanged=new _e("parent-changed"),o.UpdateRequest=new yt("update-request"),o.FitRequest=new yt("fit-request"),o.ActivateRequest=new yt("activate-request"),o.CloseRequest=new yt("close-request")}(t.Msg||(t.Msg={}));var n=function(o){Q(s,o);function s(a,u){var c=o.call(this,a)||this;return c.child=u,c}return s}(_e);t.ChildMessage=n;var e=function(o){Q(s,o);function s(a,u){var c=o.call(this,"resize")||this;return c.width=a,c.height=u,c}return s}(_e);t.ResizeMessage=e,function(o){o.UnknownSize=new o(-1,-1)}(e=t.ResizeMessage||(t.ResizeMessage={}));function r(o,s,a){if(a===void 0&&(a=null),o.parent)throw new Error("Cannot attach a child widget.");if(o.isAttached||o.node.isConnected)throw new Error("Widget is already attached.");if(!s.isConnected)throw new Error("Host is not attached.");O.sendMessage(o,t.Msg.BeforeAttach),s.insertBefore(o.node,a),O.sendMessage(o,t.Msg.AfterAttach)}t.attach=r;function i(o){if(o.parent)throw new Error("Cannot detach a child widget.");if(!o.isAttached||!o.node.isConnected)throw new Error("Widget is not attached.");O.sendMessage(o,t.Msg.BeforeDetach),o.node.parentNode.removeChild(o.node),O.sendMessage(o,t.Msg.AfterDetach)}t.detach=i})(B||(B={}));var fn;(function(t){t.titleProperty=new le({name:"title",create:function(e){return new xr({owner:e})}});function n(e){return e.node||document.createElement(e.tag||"div")}t.createNode=n})(fn||(fn={}));var Qe=function(){function t(n){n===void 0&&(n={}),this._disposed=!1,this._parent=null,this._fitPolicy=n.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,$.clearData(this),le.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(n){if(this._parent!==n){if(this._parent)throw new Error("Cannot change parent widget.");if(n.layout!==this)throw new Error("Invalid parent widget.");this._parent=n,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(n){if(this._fitPolicy!==n&&(this._fitPolicy=n,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(n){switch(n.type){case"resize":this.onResize(n);break;case"update-request":this.onUpdateRequest(n);break;case"fit-request":this.onFitRequest(n);break;case"before-show":this.onBeforeShow(n);break;case"after-show":this.onAfterShow(n);break;case"before-hide":this.onBeforeHide(n);break;case"after-hide":this.onAfterHide(n);break;case"before-attach":this.onBeforeAttach(n);break;case"after-attach":this.onAfterAttach(n);break;case"before-detach":this.onBeforeDetach(n);break;case"after-detach":this.onAfterDetach(n);break;case"child-removed":this.onChildRemoved(n);break;case"child-shown":this.onChildShown(n);break;case"child-hidden":this.onChildHidden(n);break}},t.prototype.init=function(){var n=this;N(this,function(e){e.parent=n.parent})},t.prototype.onResize=function(n){N(this,function(e){O.sendMessage(e,B.ResizeMessage.UnknownSize)})},t.prototype.onUpdateRequest=function(n){N(this,function(e){O.sendMessage(e,B.ResizeMessage.UnknownSize)})},t.prototype.onBeforeAttach=function(n){N(this,function(e){O.sendMessage(e,n)})},t.prototype.onAfterAttach=function(n){N(this,function(e){O.sendMessage(e,n)})},t.prototype.onBeforeDetach=function(n){N(this,function(e){O.sendMessage(e,n)})},t.prototype.onAfterDetach=function(n){N(this,function(e){O.sendMessage(e,n)})},t.prototype.onBeforeShow=function(n){N(this,function(e){e.isHidden||O.sendMessage(e,n)})},t.prototype.onAfterShow=function(n){N(this,function(e){e.isHidden||O.sendMessage(e,n)})},t.prototype.onBeforeHide=function(n){N(this,function(e){e.isHidden||O.sendMessage(e,n)})},t.prototype.onAfterHide=function(n){N(this,function(e){e.isHidden||O.sendMessage(e,n)})},t.prototype.onChildRemoved=function(n){this.removeWidget(n.child)},t.prototype.onFitRequest=function(n){},t.prototype.onChildShown=function(n){},t.prototype.onChildHidden=function(n){},t}();(function(t){function n(o){return wt.horizontalAlignmentProperty.get(o)}t.getHorizontalAlignment=n;function e(o,s){wt.horizontalAlignmentProperty.set(o,s)}t.setHorizontalAlignment=e;function r(o){return wt.verticalAlignmentProperty.get(o)}t.getVerticalAlignment=r;function i(o,s){wt.verticalAlignmentProperty.set(o,s)}t.setVerticalAlignment=i})(Qe||(Qe={}));var Vt=function(){function t(n){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=n,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var n=this.widget.node.style;n.position="",n.top="",n.left="",n.width="",n.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var n=U.sizeLimits(this.widget.node);this._minWidth=n.minWidth,this._minHeight=n.minHeight,this._maxWidth=n.maxWidth,this._maxHeight=n.maxHeight},t.prototype.update=function(n,e,r,i){var o=Math.max(this._minWidth,Math.min(r,this._maxWidth)),s=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(o<r)switch(Qe.getHorizontalAlignment(this.widget)){case"left":break;case"center":n+=(r-o)/2;break;case"right":n+=r-o;break;default:throw"unreachable"}if(s<i)switch(Qe.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(i-s)/2;break;case"bottom":e+=i-s;break;default:throw"unreachable"}var a=!1,u=this.widget.node.style;if(this._top!==e&&(this._top=e,u.top=e+"px"),this._left!==n&&(this._left=n,u.left=n+"px"),this._width!==o&&(a=!0,this._width=o,u.width=o+"px"),this._height!==s&&(a=!0,this._height=s,u.height=s+"px"),a){var c=new B.ResizeMessage(o,s);O.sendMessage(this.widget,c)}},t}(),wt;(function(t){t.horizontalAlignmentProperty=new le({name:"horizontalAlignment",create:function(){return"center"},changed:n}),t.verticalAlignmentProperty=new le({name:"verticalAlignment",create:function(){return"top"},changed:n});function n(e){e.parent&&e.parent.layout&&e.parent.update()}})(wt||(wt={}));var yn=function(t){Q(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._widgets=[],e}return n.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return be(this._widgets)},n.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},n.prototype.insertWidget=function(e,r){r.parent=this.parent;var i=this._widgets.indexOf(r),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){L.insert(this._widgets,o,r),this.parent&&this.attachWidget(o,r);return}o===this._widgets.length&&o--,i!==o&&(L.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,r))},n.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},n.prototype.removeWidgetAt=function(e){var r=L.removeAt(this._widgets,e);r&&this.parent&&this.detachWidget(e,r)},n.prototype.init=function(){var e=this;t.prototype.init.call(this),N(this,function(r,i){e.attachWidget(i,r)})},n.prototype.attachWidget=function(e,r){var i=this.parent.node.children[e];this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,i),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterAttach)},n.prototype.moveWidget=function(e,r,i){this.parent.isAttached&&O.sendMessage(i,B.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&O.sendMessage(i,B.Msg.AfterDetach);var o=this.parent.node.children[r];this.parent.isAttached&&O.sendMessage(i,B.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&O.sendMessage(i,B.Msg.AfterAttach)},n.prototype.detachWidget=function(e,r){this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterDetach)},n}(Qe),Rt;(function(t){function n(e){return Math.max(0,Math.floor(e))}t.clampDimension=n})(Rt||(Rt={}));var Nt=Rt,ut=function(t){Q(n,t);function n(e){var r=t.call(this)||this;return r.widgetOffset=0,r._fixed=0,r._spacing=4,r._dirty=!1,r._hasNormedSizes=!1,r._sizers=[],r._items=[],r._handles=[],r._box=null,r._alignment="start",r._orientation="horizontal",r.renderer=e.renderer,e.orientation!==void 0&&(r._orientation=e.orientation),e.alignment!==void 0&&(r._alignment=e.alignment),e.spacing!==void 0&&(r._spacing=Rt.clampDimension(e.spacing)),r}return n.prototype.dispose=function(){N(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Rt.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),n.prototype.absoluteSizes=function(){return this._sizers.map(function(e){return e.size})},n.prototype.relativeSizes=function(){return Ne.normalize(this._sizers.map(function(e){return e.size}))},n.prototype.setRelativeSizes=function(e,r){r===void 0&&(r=!0);for(var i=this._sizers.length,o=e.slice(0,i);o.length<i;)o.push(0);for(var s=Ne.normalize(o),a=0;a<i;++a){var u=this._sizers[a];u.sizeHint=s[a],u.size=s[a]}this._hasNormedSizes=!0,r&&this.parent&&this.parent.update()},n.prototype.moveHandle=function(e,r){var i=this._handles[e];if(!(!i||i.classList.contains("lm-mod-hidden"))){var o;if(this._orientation==="horizontal"?o=r-i.offsetLeft:o=r-i.offsetTop,o!==0){for(var s=0,a=this._sizers;s<a.length;s++){var u=a[s];u.size>0&&(u.sizeHint=u.size)}xe.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}},n.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},n.prototype.attachWidget=function(e,r){var i=new Vt(r),o=Ne.createHandle(this.renderer),s=Ne.averageSize(this._sizers),a=Ne.createSizer(s);L.insert(this._items,e,i),L.insert(this._sizers,e,a),L.insert(this._handles,e,o),this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.node.appendChild(o),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,r,i){L.move(this._items,e,r),L.move(this._sizers,e,r),L.move(this._handles,e,r),this.parent.fit()},n.prototype.detachWidget=function(e,r){var i=L.removeAt(this._items,e),o=L.removeAt(this._handles,e);L.removeAt(this._sizers,e),this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.node.removeChild(o),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterDetach),i.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype.updateItemPosition=function(e,r,i,o,s,a,u){var c=this._items[e];if(!c.isHidden){var l=this._handles[e].style;r?(i+=this.widgetOffset,c.update(i,o,u,s),i+=u,l.top=o+"px",l.left=i+"px",l.width=this._spacing+"px",l.height=s+"px"):(o+=this.widgetOffset,c.update(i,o,a,u),o+=u,l.top=o+"px",l.left=i+"px",l.width=a+"px",l.height=this._spacing+"px")}},n.prototype._fit=function(){for(var e=0,r=-1,i=0,o=this._items.length;i<o;++i)this._items[i].isHidden?(this._handles[i].classList.add("lm-mod-hidden"),this._handles[i].classList.add("p-mod-hidden")):(this._handles[i].classList.remove("lm-mod-hidden"),this._handles[i].classList.remove("p-mod-hidden"),r=i,e++);r!==-1&&(this._handles[r].classList.add("lm-mod-hidden"),this._handles[r].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;for(var s=this._orientation==="horizontal",a=s?this._fixed:0,u=s?0:this._fixed,i=0,o=this._items.length;i<o;++i){var c=this._items[i],l=this._sizers[i];if(l.size>0&&(l.sizeHint=l.size),c.isHidden){l.minSize=0,l.maxSize=0;continue}c.fit(),l.stretch=n.getStretch(c.widget),s?(l.minSize=c.minWidth,l.maxSize=c.maxWidth,a+=c.minWidth,u=Math.max(u,c.minHeight)):(l.minSize=c.minHeight,l.maxSize=c.maxHeight,u+=c.minHeight,a=Math.max(a,c.minWidth))}var m=this._box=U.boxSizing(this.parent.node);a+=m.horizontalSum,u+=m.verticalSum;var f=this.parent.node.style;f.minWidth=a+"px",f.minHeight=u+"px",this._dirty=!0,this.parent.parent&&O.sendMessage(this.parent.parent,B.Msg.FitRequest),this._dirty&&O.sendMessage(this.parent,B.Msg.UpdateRequest)},n.prototype._update=function(e,r){this._dirty=!1;for(var i=0,o=0,s=this._items.length;o<s;++o)i+=+!this._items[o].isHidden;if(!(i===0&&this.widgetOffset===0)){e<0&&(e=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=U.boxSizing(this.parent.node));var a=this._box.paddingTop,u=this._box.paddingLeft,c=e-this._box.horizontalSum,l=r-this._box.verticalSum,m=0,f=0,d=this._orientation==="horizontal";if(i>0){var h=void 0;if(d?h=Math.max(0,c-this._fixed):h=Math.max(0,l-this._fixed),this._hasNormedSizes){for(var p=0,g=this._sizers;p<g.length;p++){var x=g[p];x.sizeHint*=h}this._hasNormedSizes=!1}var M=xe.calc(this._sizers,h);if(M>0)switch(this._alignment){case"start":break;case"center":m=0,f=M/2;break;case"end":m=0,f=M;break;case"justify":m=M/i,f=0;break;default:throw"unreachable"}}for(var o=0,s=this._items.length;o<s;++o){var w=this._items[o],C=w.isHidden?0:this._sizers[o].size+m;this.updateItemPosition(o,d,d?u+f:u,d?a:a+f,l,c,C);var I=this.widgetOffset+(this._handles[o].classList.contains("lm-mod-hidden")?0:this._spacing);d?u+=C+I:a+=C+I}}},n}(yn);(function(t){function n(r){return Ne.stretchProperty.get(r)}t.getStretch=n;function e(r,i){Ne.stretchProperty.set(r,i)}t.setStretch=e})(ut||(ut={}));var Ne;(function(t){t.stretchProperty=new le({name:"stretch",create:function(){return 0},coerce:function(s,a){return Math.max(0,Math.floor(a))},changed:o});function n(s){var a=new Ge;return a.sizeHint=Math.floor(s),a}t.createSizer=n;function e(s){var a=s.createHandle();return a.style.position="absolute",a}t.createHandle=e;function r(s){return s.reduce(function(a,u){return a+u.size},0)/s.length||0}t.averageSize=r;function i(s){var a=s.length;if(a===0)return[];var u=s.reduce(function(c,l){return c+Math.abs(l)},0);return u===0?s.map(function(c){return 1/a}):s.map(function(c){return c/u})}t.normalize=i;function o(s){s.parent&&s.parent.layout instanceof ut&&s.parent.fit()}})(Ne||(Ne={}));var Ls=function(t){Q(n,t);function n(e){var r=t.call(this,ae(ae({},e),{orientation:e.orientation||"vertical"}))||this;return r._titles=[],r.titleSpace=e.titleSpace||22,r}return Object.defineProperty(n.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(e){e=Nt.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,t.prototype.dispose.call(this))},n.prototype.updateTitle=function(e,r){var i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),s=pn.createTitle(this.renderer,r.title,o);this._titles[e]=s,this.parent.node.replaceChild(s,i)},n.prototype.attachWidget=function(e,r){var i=pn.createTitle(this.renderer,r.title);L.insert(this._titles,e,i),this.parent.node.appendChild(i),r.node.setAttribute("role","region"),r.node.setAttribute("aria-labelledby",i.id),t.prototype.attachWidget.call(this,e,r)},n.prototype.moveWidget=function(e,r,i){L.move(this._titles,e,r),t.prototype.moveWidget.call(this,e,r,i)},n.prototype.detachWidget=function(e,r){var i=L.removeAt(this._titles,e);this.parent.node.removeChild(i),t.prototype.detachWidget.call(this,e,r)},n.prototype.updateItemPosition=function(e,r,i,o,s,a,u){var c=this._titles[e].style;c.top=o+"px",c.left=i+"px",c.height=this.widgetOffset+"px",r?c.width=s+"px":c.width=a+"px",t.prototype.updateItemPosition.call(this,e,r,i,o,s,a,u)},n}(ut),pn;(function(t){function n(e,r,i){i===void 0&&(i=!0);var o=e.createSectionTitle(r);return o.style.position="absolute",o.setAttribute("aria-label",r.label+" Section"),o.setAttribute("aria-expanded",i?"true":"false"),o.setAttribute("aria-controls",r.owner.id),i&&o.classList.add("lm-mod-expanded"),o}t.createTitle=n})(pn||(pn={}));var Tr=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this)||this;return r.addClass("lm-Panel"),r.addClass("p-Panel"),r.layout=wr.createLayout(e),r}return Object.defineProperty(n.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){this.layout.addWidget(e)},n.prototype.insertWidget=function(e,r){this.layout.insertWidget(e,r)},n}(B),wr;(function(t){function n(e){return e.layout||new yn}t.createLayout=n})(wr||(wr={}));var ct=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{layout:Mr.createLayout(e)})||this;return r._handleMoved=new $(r),r._pressData=null,r.addClass("lm-SplitPanel"),r.addClass("p-SplitPanel"),r}return n.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),n.prototype.relativeSizes=function(){return this.layout.relativeSizes()},n.prototype.setRelativeSizes=function(e,r){r===void 0&&(r=!0),this.layout.setRelativeSizes(e,r)},n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},n.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child"),e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child"),e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},n.prototype._evtKeyDown=function(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()},n.prototype._evtMouseDown=function(e){if(e.button===0){var r=this.layout,i=L.findFirstIndex(r.handles,function(l){return l.contains(e.target)});if(i!==-1){e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var o,s=r.handles[i],a=s.getBoundingClientRect();r.orientation==="horizontal"?o=e.clientX-a.left:o=e.clientY-a.top;var u=window.getComputedStyle(s),c=Xe.overrideCursor(u.cursor);this._pressData={index:i,delta:o,override:c}}}},n.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation();var r,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?r=e.clientX-o.left-this._pressData.delta:r=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,r)},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},n.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},n}(Tr);(function(t){var n=function(){function i(){}return i.prototype.createHandle=function(){var o=document.createElement("div");return o.className="lm-SplitPanel-handle",o.classList.add("p-SplitPanel-handle"),o},i}();t.Renderer=n,t.defaultRenderer=new n;function e(i){return ut.getStretch(i)}t.getStretch=e;function r(i,o){ut.setStretch(i,o)}t.setStretch=r})(ct||(ct={}));var Mr;(function(t){function n(e){return e.layout||new ut({renderer:e.renderer||ct.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}t.createLayout=n})(Mr||(Mr={}));var Er=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,ae(ae({},e),{layout:Sr.createLayout(e)}))||this;return r._widgetSizesCache=new WeakMap,r.addClass("lm-AccordionPanel"),r}return Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(e){this.layout.titleSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){t.prototype.addWidget.call(this,e),e.title.changed.connect(this._onTitleChanged,this)},n.prototype.collapse=function(e){var r=this.layout.widgets[e];r&&!r.isHidden&&this._toggleExpansion(e)},n.prototype.expand=function(e){var r=this.layout.widgets[e];r&&r.isHidden&&this._toggleExpansion(e)},n.prototype.insertWidget=function(e,r){t.prototype.insertWidget.call(this,e,r),r.title.changed.connect(this._onTitleChanged,this)},n.prototype.handleEvent=function(e){switch(t.prototype.handleEvent.call(this,e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),t.prototype.onBeforeAttach.call(this,e)},n.prototype.onAfterDetach=function(e){t.prototype.onAfterDetach.call(this,e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},n.prototype._onTitleChanged=function(e){var r=L.findFirstIndex(this.widgets,function(i){return i.contains(e.owner)});r>=0&&(this.layout.updateTitle(r,e.owner),this.update())},n.prototype._computeWidgetSize=function(e){var r=this.layout,i=r.widgets[e];if(i){var o=i.isHidden,s=r.absoluteSizes(),a=(o?-1:1)*this.spacing,u=s.reduce(function(d,h){return d+h}),c=zs(s);if(o){var f=this._widgetSizesCache.get(i);if(!f)return;c[e]+=f;var m=c.map(function(h){return h-f>0}).lastIndexOf(!0);m===-1?c.forEach(function(h,p){p!==e&&(c[p]-=s[p]/u*(f-a))}):c[m]-=f-a}else{var l=s[e];this._widgetSizesCache.set(i,l),c[e]=0;var m=c.map(function(d){return d>0}).lastIndexOf(!0);if(m===-1)return;c[m]=s[m]+l+a}return c.map(function(d){return d/(u+a)})}},n.prototype._evtClick=function(e){var r=e.target;if(r){var i=L.findFirstIndex(this.titles,function(o){return o.contains(r)});i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}},n.prototype._eventKeyDown=function(e){if(!e.defaultPrevented){var r=e.target,i=!1;if(r){var o=L.findFirstIndex(this.titles,function(l){return l.contains(r)});if(o>=0){var s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))r.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){var a=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,u=this.titles.length,c=(o+u+a)%u;this.titles[c].focus(),i=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}},n.prototype._toggleExpansion=function(e){var r=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(r.classList.add("lm-mod-expanded"),r.setAttribute("aria-expanded","true"),i.show()):(r.classList.remove("lm-mod-expanded"),r.setAttribute("aria-expanded","false"),i.hide())},n}(ct);(function(t){var n=function(e){Q(r,e);function r(){var i=e.call(this)||this;return i.titleClassName="lm-AccordionPanel-title",i._titleID=0,i._titleKeys=new WeakMap,i._uuid=++r._nInstance,i}return r.prototype.createCollapseIcon=function(i){return document.createElement("span")},r.prototype.createSectionTitle=function(i){var o=document.createElement("h3");o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(var s in i.dataset)o.dataset[s]=i.dataset[s];var a=o.appendChild(this.createCollapseIcon(i));a.className="lm-AccordionPanel-titleCollapser";var u=o.appendChild(document.createElement("span"));return u.className="lm-AccordionPanel-titleLabel",u.textContent=i.label,u.title=i.caption||i.label,o},r.prototype.createTitleKey=function(i){var o=this._titleKeys.get(i);return o===void 0&&(o="title-key-"+this._uuid+"-"+this._titleID++,this._titleKeys.set(i,o)),o},r._nInstance=0,r}(ct.Renderer);t.Renderer=n,t.defaultRenderer=new n})(Er||(Er={}));var Sr;(function(t){function n(e){return e.layout||new Ls({renderer:e.renderer||Er.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing,titleSpace:e.titleSpace})}t.createLayout=n})(Sr||(Sr={}));var Ie=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this)||this;return r._fixed=0,r._spacing=4,r._dirty=!1,r._sizers=[],r._items=[],r._box=null,r._alignment="start",r._direction="top-to-bottom",e.direction!==void 0&&(r._direction=e.direction),e.alignment!==void 0&&(r._alignment=e.alignment),e.spacing!==void 0&&(r._spacing=Nt.clampDimension(e.spacing)),r}return n.prototype.dispose=function(){N(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Nt.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},n.prototype.attachWidget=function(e,r){L.insert(this._items,e,new Vt(r)),L.insert(this._sizers,e,new Ge),this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,r,i){L.move(this._items,e,r),L.move(this._sizers,e,r),this.parent.update()},n.prototype.detachWidget=function(e,r){var i=L.removeAt(this._items,e);L.removeAt(this._sizers,e),this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterDetach),i.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,r=0,i=this._items.length;r<i;++r)e+=+!this._items[r].isHidden;this._fixed=this._spacing*Math.max(0,e-1);for(var o=st.isHorizontal(this._direction),s=o?this._fixed:0,a=o?0:this._fixed,r=0,i=this._items.length;r<i;++r){var u=this._items[r],c=this._sizers[r];if(u.isHidden){c.minSize=0,c.maxSize=0;continue}u.fit(),c.sizeHint=n.getSizeBasis(u.widget),c.stretch=n.getStretch(u.widget),o?(c.minSize=u.minWidth,c.maxSize=u.maxWidth,s+=u.minWidth,a=Math.max(a,u.minHeight)):(c.minSize=u.minHeight,c.maxSize=u.maxHeight,a+=u.minHeight,s=Math.max(s,u.minWidth))}var l=this._box=U.boxSizing(this.parent.node);s+=l.horizontalSum,a+=l.verticalSum;var m=this.parent.node.style;m.minWidth=s+"px",m.minHeight=a+"px",this._dirty=!0,this.parent.parent&&O.sendMessage(this.parent.parent,B.Msg.FitRequest),this._dirty&&O.sendMessage(this.parent,B.Msg.UpdateRequest)},n.prototype._update=function(e,r){this._dirty=!1;for(var i=0,o=0,s=this._items.length;o<s;++o)i+=+!this._items[o].isHidden;if(i!==0){e<0&&(e=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=U.boxSizing(this.parent.node));var a=this._box.paddingTop,u=this._box.paddingLeft,c=e-this._box.horizontalSum,l=r-this._box.verticalSum,m;switch(this._direction){case"left-to-right":m=xe.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":m=xe.calc(this._sizers,Math.max(0,l-this._fixed));break;case"right-to-left":m=xe.calc(this._sizers,Math.max(0,c-this._fixed)),u+=c;break;case"bottom-to-top":m=xe.calc(this._sizers,Math.max(0,l-this._fixed)),a+=l;break;default:throw"unreachable"}var f=0,d=0;if(m>0)switch(this._alignment){case"start":break;case"center":f=0,d=m/2;break;case"end":f=0,d=m;break;case"justify":f=m/i,d=0;break;default:throw"unreachable"}for(var o=0,s=this._items.length;o<s;++o){var h=this._items[o];if(!h.isHidden){var p=this._sizers[o].size;switch(this._direction){case"left-to-right":h.update(u+d,a,p+f,l),u+=p+f+this._spacing;break;case"top-to-bottom":h.update(u,a+d,c,p+f),a+=p+f+this._spacing;break;case"right-to-left":h.update(u-d-p-f,a,p+f,l),u-=p+f+this._spacing;break;case"bottom-to-top":h.update(u,a-d-p-f,c,p+f),a-=p+f+this._spacing;break;default:throw"unreachable"}}}}},n}(yn);(function(t){function n(o){return st.stretchProperty.get(o)}t.getStretch=n;function e(o,s){st.stretchProperty.set(o,s)}t.setStretch=e;function r(o){return st.sizeBasisProperty.get(o)}t.getSizeBasis=r;function i(o,s){st.sizeBasisProperty.set(o,s)}t.setSizeBasis=i})(Ie||(Ie={}));var st;(function(t){t.stretchProperty=new le({name:"stretch",create:function(){return 0},coerce:function(i,o){return Math.max(0,Math.floor(o))},changed:r}),t.sizeBasisProperty=new le({name:"sizeBasis",create:function(){return 0},coerce:function(i,o){return Math.max(0,Math.floor(o))},changed:r});function n(i){return i==="left-to-right"||i==="right-to-left"}t.isHorizontal=n;function e(i){return Math.max(0,Math.floor(i))}t.clampSpacing=e;function r(i){i.parent&&i.parent.layout instanceof Ie&&i.parent.fit()}})(st||(st={}));var mi=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{layout:Cr.createLayout(e)})||this;return r.addClass("lm-BoxPanel"),r.addClass("p-BoxPanel"),r}return Object.defineProperty(n.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),n.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child"),e.child.addClass("p-BoxPanel-child")},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child"),e.child.removeClass("p-BoxPanel-child")},n}(Tr);(function(t){function n(o){return Ie.getStretch(o)}t.getStretch=n;function e(o,s){Ie.setStretch(o,s)}t.setStretch=e;function r(o){return Ie.getSizeBasis(o)}t.getSizeBasis=r;function i(o,s){Ie.setSizeBasis(o,s)}t.setSizeBasis=i})(mi||(mi={}));var Cr;(function(t){function n(e){return e.layout||new Ie(e)}t.createLayout=n})(Cr||(Cr={}));var gi=function(t){Q(n,t);function n(e){var r=t.call(this,{node:Re.createNode()})||this;return r._activeIndex=-1,r._items=[],r._results=null,r.addClass("lm-CommandPalette"),r.addClass("p-CommandPalette"),r.setFlag(B.Flag.DisallowLayout),r.commands=e.commands,r.renderer=e.renderer||n.defaultRenderer,r.commands.commandChanged.connect(r._onGenericChange,r),r.commands.keyBindingChanged.connect(r._onGenericChange,r),r}return n.prototype.dispose=function(){this._items.length=0,this._results=null,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),n.prototype.addItem=function(e){var r=Re.createItem(this.commands,e);return this._items.push(r),this.refresh(),r},n.prototype.addItems=function(e){var r=this,i=e.map(function(o){return Re.createItem(r.commands,o)});return i.forEach(function(o){return r._items.push(o)}),this.refresh(),i},n.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},n.prototype.removeItemAt=function(e){var r=L.removeAt(this._items,e);r&&this.refresh()},n.prototype.clearItems=function(){this._items.length!==0&&(this._items.length=0,this.refresh())},n.prototype.refresh=function(){if(this._results=null,this.inputNode.value!==""){var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()},n.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},n.prototype.onActivateRequest=function(e){if(this.isAttached){var r=this.inputNode;r.focus(),r.select()}},n.prototype.onUpdateRequest=function(e){var r=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Re.search(this._items,r),this._activeIndex=r?L.findFirstIndex(o,Re.canActivate):-1),!r&&o.length===0){Be.render(null,i);return}if(r&&o.length===0){var s=this.renderer.renderEmptyMessage({query:r});Be.render(s,i);return}for(var a=this.renderer,u=this._activeIndex,c=new Array(o.length),l=0,m=o.length;l<m;++l){var f=o[l];if(f.type==="header"){var d=f.indices,h=f.category;c[l]=a.renderHeader({category:h,indices:d})}else{var p=f.item,d=f.indices,g=l===u;c[l]=a.renderItem({item:p,indices:d,active:g})}}if(Be.render(c,i),u<0||u>=o.length)i.scrollTop=0;else{var x=i.children[u];U.scrollIntoViewIfNeeded(i,x)}},n.prototype._evtClick=function(e){if(e.button===0){if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}var r=L.findFirstIndex(this.contentNode.children,function(i){return i.contains(e.target)});r!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(r))}},n.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}},n.prototype._activateNextItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,r=this._results.length,i=e<r-1?e+1:0,o=i===0?r-1:i-1;this._activeIndex=L.findFirstIndex(this._results,Re.canActivate,i,o),this.update()}},n.prototype._activatePreviousItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,r=this._results.length,i=e<=0?r-1:e-1,o=i===r-1?0:i+1;this._activeIndex=L.findLastIndex(this._results,Re.canActivate,i,o),this.update()}},n.prototype._execute=function(e){if(this._results){var r=this._results[e];if(r){if(r.type==="header"){var i=this.inputNode;i.value=r.category.toLowerCase()+" ",i.focus(),this.refresh();return}r.item.isEnabled&&(this.commands.execute(r.item.command,r.item.args),this.inputNode.value="",this.refresh())}}},n.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e),this.toggleClass("p-mod-focused",e)},n.prototype._onGenericChange=function(){this.refresh()},n}(B);(function(t){var n=function(){function e(){}return e.prototype.renderHeader=function(r){var i=this.formatHeader(r);return K.li({className:"lm-CommandPalette-header p-CommandPalette-header"},i)},e.prototype.renderItem=function(r){var i=this.createItemClass(r),o=this.createItemDataset(r);return r.item.isToggleable?K.li({className:i,dataset:o,role:"checkbox","aria-checked":""+r.item.isToggled},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):K.li({className:i,dataset:o},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))},e.prototype.renderEmptyMessage=function(r){var i=this.formatEmptyMessage(r);return K.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},i)},e.prototype.renderItemIcon=function(r){var i=this.createIconClass(r);return typeof r.item.icon=="string"?K.div({className:i},r.item.iconLabel):K.div({className:i},r.item.icon,r.item.iconLabel)},e.prototype.renderItemContent=function(r){return K.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))},e.prototype.renderItemLabel=function(r){var i=this.formatItemLabel(r);return K.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},i)},e.prototype.renderItemCaption=function(r){var i=this.formatItemCaption(r);return K.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},i)},e.prototype.renderItemShortcut=function(r){var i=this.formatItemShortcut(r);return K.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},i)},e.prototype.createItemClass=function(r){var i="lm-CommandPalette-item";i+=" p-CommandPalette-item",r.item.isEnabled||(i+=" lm-mod-disabled",i+=" p-mod-disabled"),r.item.isToggled&&(i+=" lm-mod-toggled",i+=" p-mod-toggled"),r.active&&(i+=" lm-mod-active",i+=" p-mod-active");var o=r.item.className;return o&&(i+=" "+o),i},e.prototype.createItemDataset=function(r){return ae(ae({},r.item.dataset),{command:r.item.command})},e.prototype.createIconClass=function(r){var i="lm-CommandPalette-itemIcon";i+=" p-CommandPalette-itemIcon";var o=r.item.iconClass;return o?i+" "+o:i},e.prototype.formatHeader=function(r){return!r.indices||r.indices.length===0?r.category:vt.highlight(r.category,r.indices,K.mark)},e.prototype.formatEmptyMessage=function(r){return"No commands found that match '"+r.query+"'"},e.prototype.formatItemShortcut=function(r){var i=r.item.keyBinding;return i?xt.formatKeystroke(i.keys):null},e.prototype.formatItemLabel=function(r){return!r.indices||r.indices.length===0?r.item.label:vt.highlight(r.item.label,r.indices,K.mark)},e.prototype.formatItemCaption=function(r){return r.item.caption},e}();t.Renderer=n,t.defaultRenderer=new n})(gi||(gi={}));var Re;(function(t){function n(){var f=document.createElement("div"),d=document.createElement("div"),h=document.createElement("div"),p=document.createElement("input"),g=document.createElement("ul"),x=document.createElement("button");return d.className="lm-CommandPalette-search",h.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",g.className="lm-CommandPalette-content",d.classList.add("p-CommandPalette-search"),h.classList.add("p-CommandPalette-wrapper"),p.classList.add("p-CommandPalette-input"),g.classList.add("p-CommandPalette-content"),p.spellcheck=!1,h.appendChild(p),h.appendChild(x),d.appendChild(h),f.appendChild(d),f.appendChild(g),f}t.createNode=n;function e(f,d){return new m(f,d)}t.createItem=e;function r(f,d){var h=a(f,d);return h.sort(c),l(h)}t.search=r;function i(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=i;function o(f){return f.trim().replace(/\s+/g," ")}function s(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,d){d=s(d);for(var h=[],p=0,g=f.length;p<g;++p){var x=f[p];if(x.isVisible){if(!d){h.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}var M=u(x,d);M&&(x.isEnabled||(M.score+=1e3),h.push(M))}}return h}function u(f,d){for(var h=f.category.toLowerCase(),p=f.label.toLowerCase(),g=h+" "+p,x=1/0,M=null,w=/\b\w/g;;){var C=w.exec(g);if(!C)break;var I=vt.matchSumOfDeltas(g,d,C.index);if(!I)break;I&&I.score<=x&&(x=I.score,M=I.indices)}if(!M||x===1/0)return null;for(var P=h.length+1,E=L.lowerBound(M,P,function(D,b){return D-b}),k=M.slice(0,E),_=M.slice(E),y=0,S=_.length;y<S;++y)_[y]-=P;return k.length===0?{matchType:0,categoryIndices:null,labelIndices:_,score:x,item:f}:_.length===0?{matchType:1,categoryIndices:k,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:k,labelIndices:_,score:x,item:f}}function c(f,d){var h=f.matchType-d.matchType;if(h!==0)return h;var p=f.score-d.score;if(p!==0)return p;var g=0,x=0;switch(f.matchType){case 0:g=f.labelIndices[0],x=d.labelIndices[0];break;case 1:case 2:g=f.categoryIndices[0],x=d.categoryIndices[0];break}if(g!==x)return g-x;var M=f.item.category.localeCompare(d.item.category);if(M!==0)return M;var w=f.item.rank,C=d.item.rank;return w!==C?w<C?-1:1:f.item.label.localeCompare(d.item.label)}function l(f){var d=new Array(f.length);L.fill(d,!1);for(var h=[],p=0,g=f.length;p<g;++p)if(!d[p]){var x=f[p],M=x.item,w=x.categoryIndices,C=M.category;h.push({type:"header",category:C,indices:w});for(var I=p;I<g;++I)if(!d[I]){var P=f[I],E=P.item,k=P.labelIndices;E.category===C&&(h.push({type:"item",item:E,indices:k}),d[I]=!0)}}return h}var m=function(){function f(d,h){this._commands=d,this.category=o(h.category),this.command=h.command,this.args=h.args||at.JSONExt.emptyObject,this.rank=h.rank!==void 0?h.rank:1/0}return Object.defineProperty(f.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"keyBinding",{get:function(){var d=this,h=d.command,p=d.args;return L.findLastValue(this._commands.keyBindings,function(g){return g.command===h&&at.JSONExt.deepEqual(g.args,p)})||null},enumerable:!0,configurable:!0}),f}()})(Re||(Re={}));var Et=function(t){Q(n,t);function n(e){var r=t.call(this,{node:he.createNode()})||this;return r._childIndex=-1,r._activeIndex=-1,r._openTimerID=0,r._closeTimerID=0,r._items=[],r._childMenu=null,r._parentMenu=null,r._aboutToClose=new $(r),r._menuRequested=new $(r),r.addClass("lm-Menu"),r.addClass("p-Menu"),r.setFlag(B.Flag.DisallowLayout),r.commands=e.commands,r.renderer=e.renderer||n.defaultRenderer,r}return n.prototype.dispose=function(){this.close(),this._items.length=0,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!he.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),n.prototype.activateNextItem=function(){var e=this._items.length,r=this._activeIndex,i=r<e-1?r+1:0,o=i===0?e-1:i-1;this.activeIndex=L.findFirstIndex(this._items,he.canActivate,i,o)},n.prototype.activatePreviousItem=function(){var e=this._items.length,r=this._activeIndex,i=r<=0?e-1:r-1,o=i===e-1?0:i+1;this.activeIndex=L.findLastIndex(this._items,he.canActivate,i,o)},n.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e){if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();var r=e.command,i=e.args;this.commands.isEnabled(r,i)?this.commands.execute(r,i):console.log("Command '"+r+"' is disabled.")}}},n.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},n.prototype.insertItem=function(e,r){this.isAttached&&this.close(),this.activeIndex=-1;var i=Math.max(0,Math.min(e,this._items.length)),o=he.createItem(this,r);return L.insert(this._items,i,o),this.update(),o},n.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},n.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1;var r=L.removeAt(this._items,e);r&&this.update()},n.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())},n.prototype.open=function(e,r,i){if(i===void 0&&(i={}),!this.isAttached){var o=i.forceX||!1,s=i.forceY||!1;he.openRootMenu(this,e,r,o,s),this.activate()}},n.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},n.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},n.prototype.onUpdateRequest=function(e){for(var r=this,i=this._items,o=this.renderer,s=this._activeIndex,a=he.computeCollapsed(i),u=new Array(i.length),c=function(f,d){var h=i[f],p=f===s,g=a[f];u[f]=o.renderItem({item:h,active:p,collapsed:g,onfocus:function(){r.activeIndex=f}})},l=0,m=i.length;l<m;++l)c(l);Be.render(u,this.contentNode)},n.prototype.onCloseRequest=function(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var r=this._childMenu;r&&(this._childIndex=-1,this._childMenu=null,r._parentMenu=null,r.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),t.prototype.onCloseRequest.call(this,e)},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var r=e.keyCode;if(r===13){this.triggerActiveItem();return}if(r===27){this.close();return}if(r===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(r===38){this.activatePreviousItem();return}if(r===39){var i=this.activeItem;i&&i.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(r===40){this.activateNextItem();return}var o=_t().keyForKeydownEvent(e);if(o){var s=this._activeIndex+1,a=he.findMnemonic(this._items,o,s);a.index!==-1&&!a.multiple?(this.activeIndex=a.index,this.triggerActiveItem()):a.index!==-1?this.activeIndex=a.index:a.auto!==-1&&(this.activeIndex=a.auto)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},n.prototype._evtMouseMove=function(e){var r=L.findFirstIndex(this.contentNode.children,function(o){return U.hitTest(o,e.clientX,e.clientY)});if(r!==this._activeIndex){if(this.activeIndex=r,r=this.activeIndex,r===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();var i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}},n.prototype._evtMouseEnter=function(e){for(var r=this._parentMenu;r;r=r._parentMenu)r._cancelOpenTimer(),r._cancelCloseTimer(),r.activeIndex=r._childIndex},n.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}var r=e.clientX,i=e.clientY;if(U.hitTest(this._childMenu.node,r,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()},n.prototype._evtMouseDown=function(e){this._parentMenu||(he.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},n.prototype._openChildMenu=function(e){e===void 0&&(e=!1);var r=this.activeItem;if(!r||r.type!=="submenu"||!r.submenu){this._closeChildMenu();return}var i=r.submenu;if(i!==this._childMenu){n.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,O.sendMessage(this,B.Msg.UpdateRequest);var o=this.contentNode.children[this._activeIndex];he.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}},n.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},n.prototype._startOpenTimer=function(){var e=this;this._openTimerID===0&&(this._openTimerID=window.setTimeout(function(){e._openTimerID=0,e._openChildMenu()},he.TIMER_DELAY))},n.prototype._startCloseTimer=function(){var e=this;this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(function(){e._closeTimerID=0,e._closeChildMenu()},he.TIMER_DELAY))},n.prototype._cancelOpenTimer=function(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)},n.prototype._cancelCloseTimer=function(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},n.saveWindowData=function(){he.saveWindowData()},n}(B);(function(t){var n=function(){function e(){}return e.prototype.renderItem=function(r){var i=this.createItemClass(r),o=this.createItemDataset(r),s=this.createItemARIA(r);return K.li(ae({className:i,dataset:o,tabindex:"0",onfocus:r.onfocus},s),this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))},e.prototype.renderIcon=function(r){var i=this.createIconClass(r);return typeof r.item.icon=="string"?K.div({className:i},r.item.iconLabel):K.div({className:i},r.item.icon,r.item.iconLabel)},e.prototype.renderLabel=function(r){var i=this.formatLabel(r);return K.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},i)},e.prototype.renderShortcut=function(r){var i=this.formatShortcut(r);return K.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},i)},e.prototype.renderSubmenu=function(r){return K.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(r){var i="lm-Menu-item";i+=" p-Menu-item",r.item.isEnabled||(i+=" lm-mod-disabled",i+=" p-mod-disabled"),r.item.isToggled&&(i+=" lm-mod-toggled",i+=" p-mod-toggled"),r.item.isVisible||(i+=" lm-mod-hidden",i+=" p-mod-hidden"),r.active&&(i+=" lm-mod-active",i+=" p-mod-active"),r.collapsed&&(i+=" lm-mod-collapsed",i+=" p-mod-collapsed");var o=r.item.className;return o&&(i+=" "+o),i},e.prototype.createItemDataset=function(r){var i,o=r.item,s=o.type,a=o.command,u=o.dataset;return s==="command"?i=ae(ae({},u),{type:s,command:a}):i=ae(ae({},u),{type:s}),i},e.prototype.createIconClass=function(r){var i="lm-Menu-itemIcon";i+=" p-Menu-itemIcon";var o=r.item.iconClass;return o?i+" "+o:i},e.prototype.createItemARIA=function(r){var i={};switch(r.item.type){case"separator":i.role="presentation";break;case"submenu":i["aria-haspopup"]="true",r.item.isEnabled||(i["aria-disabled"]="true");break;default:r.item.isEnabled||(i["aria-disabled"]="true"),i.role="menuitem"}return i},e.prototype.formatLabel=function(r){var i=r.item,o=i.label,s=i.mnemonic;if(s<0||s>=o.length)return o;var a=o.slice(0,s),u=o.slice(s+1),c=o[s],l=K.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},c);return[a,l,u]},e.prototype.formatShortcut=function(r){var i=r.item.keyBinding;return i?xt.formatKeystroke(i.keys):null},e}();t.Renderer=n,t.defaultRenderer=new n})(Et||(Et={}));var he;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;var n=null,e=0;function r(){return e>0?(e--,n):l()}function i(){n=l(),e++}t.saveWindowData=i;function o(){var p=document.createElement("div"),g=document.createElement("ul");return g.className="lm-Menu-content",g.classList.add("p-Menu-content"),p.appendChild(g),g.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=o;function s(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=s;function a(p,g){return new h(p.commands,g)}t.createItem=a;function u(p,g,x){for(var M=p;M;M=M.childMenu)if(U.hitTest(M.node,g,x))return!0;return!1}t.hitTestMenus=u;function c(p){var g=new Array(p.length);L.fill(g,!1);for(var x=0,M=p.length;x<M;++x){var w=p[x];if(w.isVisible){if(w.type!=="separator")break;g[x]=!0}}for(var C=M-1;C>=0;--C){var w=p[C];if(w.isVisible){if(w.type!=="separator")break;g[C]=!0}}for(var I=!1;++x<C;){var w=p[x];w.isVisible&&(w.type!=="separator"?I=!1:I?g[x]=!0:I=!0)}return g}t.computeCollapsed=c;function l(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function m(p,g,x,M,w){var C=r(),I=C.pageXOffset,P=C.pageYOffset,E=C.clientWidth,k=C.clientHeight;O.sendMessage(p,B.Msg.UpdateRequest);var _=k-(w?x:0),y=p.node,S=y.style;S.opacity="0",S.maxHeight=_+"px",B.attach(p,document.body);var D=y.getBoundingClientRect(),b=D.width,v=D.height;!M&&g+b>I+E&&(g=I+E-b),!w&&x+v>P+k&&(x>P+k?x=P+k-v:x=x-v),S.transform="translate("+Math.max(0,g)+"px, "+Math.max(0,x)+"px",S.opacity="1"}t.openRootMenu=m;function f(p,g){var x=r(),M=x.pageXOffset,w=x.pageYOffset,C=x.clientWidth,I=x.clientHeight;O.sendMessage(p,B.Msg.UpdateRequest);var P=I,E=p.node,k=E.style;k.opacity="0",k.maxHeight=P+"px",B.attach(p,document.body);var _=E.getBoundingClientRect(),y=_.width,S=_.height,D=U.boxSizing(p.node),b=g.getBoundingClientRect(),v=b.right-t.SUBMENU_OVERLAP;v+y>M+C&&(v=b.left+t.SUBMENU_OVERLAP-y);var T=b.top-D.borderTop-D.paddingTop;T+S>w+I&&(T=b.bottom+D.borderBottom+D.paddingBottom-S),k.transform="translate("+Math.max(0,v)+"px, "+Math.max(0,T)+"px",k.opacity="1"}t.openSubmenu=f;function d(p,g,x){for(var M=-1,w=-1,C=!1,I=g.toUpperCase(),P=0,E=p.length;P<E;++P){var k=(P+x)%E,_=p[k];if(s(_)){var y=_.label;if(y.length!==0){var S=_.mnemonic;if(S>=0&&S<y.length){y[S].toUpperCase()===I&&(M===-1?M=k:C=!0);continue}w===-1&&y[0].toUpperCase()===I&&(w=k)}}}return{index:M,multiple:C,auto:w}}t.findMnemonic=d;var h=function(){function p(g,x){this._commands=g,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||at.JSONExt.emptyObject,this.submenu=x.submenu||null}return Object.defineProperty(p.prototype,"label",{get:function(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"mnemonic",{get:function(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"icon",{get:function(){return this.type==="command"?this._commands.icon(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"iconClass",{get:function(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"iconLabel",{get:function(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"caption",{get:function(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"className",{get:function(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dataset",{get:function(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isEnabled",{get:function(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isToggled",{get:function(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isVisible",{get:function(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"keyBinding",{get:function(){if(this.type==="command"){var g=this,x=g.command,M=g.args;return L.findLastValue(this._commands.keyBindings,function(w){return w.command===x&&at.JSONExt.deepEqual(w.args,M)})||null}return null},enumerable:!0,configurable:!0}),p}()})(he||(he={}));var zd=function(){function t(n){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var e=n.groupByTarget,r=n.sortBySelector,i=Ds(n,["groupByTarget","sortBySelector"]);this.menu=new Et(i),this._groupByTarget=e!==!1,this._sortBySelector=r!==!1}return t.prototype.addItem=function(n){var e=this,r=mn.createItem(n,this._idTick++);return this._items.push(r),new Ue(function(){L.removeFirstOf(e._items,r)})},t.prototype.open=function(n){var e=this;if(Et.saveWindowData(),this.menu.clearItems(),this._items.length===0)return!1;var r=mn.matchItems(this._items,n,this._groupByTarget,this._sortBySelector);return!r||r.length===0?!1:(N(r,function(i){e.menu.addItem(i)}),this.menu.open(n.clientX,n.clientY),!0)},t}(),mn;(function(t){function n(s,a){var u=r(s.selector),c=s.rank!==void 0?s.rank:1/0;return ae(ae({},s),{selector:u,rank:c,id:a})}t.createItem=n;function e(s,a,u,c){var l=a.target;if(!l)return null;var m=a.currentTarget;if(!m||!m.contains(l)&&(l=document.elementFromPoint(a.clientX,a.clientY),!l||!m.contains(l)))return null;for(var f=[],d=s.slice();l!==null;){for(var h=[],p=0,g=d.length;p<g;++p){var x=d[p];x&&Ce.matches(l,x.selector)&&(h.push(x),d[p]=null)}if(h.length!==0&&(u&&h.sort(c?o:i),f.push.apply(f,h)),l===m)break;l=l.parentElement}return u||f.sort(c?o:i),f}t.matchItems=e;function r(s){if(s.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+s);if(!Ce.isValid(s))throw new Error("Invalid selector: "+s);return s}function i(s,a){var u=s.rank,c=a.rank;return u!==c?u<c?-1:1:s.id-a.id}function o(s,a){var u=Ce.calculateSpecificity(s.selector),c=Ce.calculateSpecificity(a.selector);return u!==c?c-u:i(s,a)}})(mn||(mn={}));var St=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{node:we.createNode()})||this;return r._currentIndex=-1,r._titles=[],r._titlesEditable=!1,r._previousTitle=null,r._dragData=null,r._addButtonEnabled=!1,r._tabMoved=new $(r),r._currentChanged=new $(r),r._addRequested=new $(r),r._tabCloseRequested=new $(r),r._tabDetachRequested=new $(r),r._tabActivateRequested=new $(r),r.addClass("lm-TabBar"),r.addClass("p-TabBar"),r.contentNode.setAttribute("role","tablist"),r.setFlag(B.Flag.DisallowLayout),r._document=e.document||document,r.tabsMovable=e.tabsMovable||!1,r.titlesEditable=e.titlesEditable||!1,r.allowDeselect=e.allowDeselect||!1,r.addButtonEnabled=e.addButtonEnabled||!1,r.insertBehavior=e.insertBehavior||"select-tab-if-needed",r.name=e.name||"",r.orientation=e.orientation||"horizontal",r.removeBehavior=e.removeBehavior||"select-tab-after",r.renderer=e.renderer||n.defaultRenderer,r}return n.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var r=this._currentIndex,i=this._titles[r]||null,o=e,s=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:r,previousTitle:i,currentIndex:o,currentTitle:s})}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),n.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},n.prototype.insertTab=function(e,r){this._releaseMouse();var i=we.asTitle(r),o=this._titles.indexOf(i),s=Math.max(0,Math.min(e,this._titles.length));return o===-1?(L.insert(this._titles,s,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,i),i):(s===this._titles.length&&s--,o===s||(L.move(this._titles,o,s),this.update(),this._adjustCurrentForMove(o,s)),i)},n.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},n.prototype.removeTabAt=function(e){this._releaseMouse();var r=L.removeAt(this._titles,e);r&&(r.changed.disconnect(this._onTitleChanged,this),r===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,r))},n.prototype.clearTabs=function(){if(this._titles.length!==0){this._releaseMouse();for(var e=0,r=this._titles;e<r.length;e++){var i=r[e];i.changed.disconnect(this._onTitleChanged,this)}var o=this.currentIndex,s=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),o!==-1&&this._currentChanged.emit({previousIndex:o,previousTitle:s,currentIndex:-1,currentTitle:null})}},n.prototype.releaseMouse=function(){this._releaseMouse()},n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},n.prototype.onUpdateRequest=function(e){for(var r=this._titles,i=this.renderer,o=this.currentTitle,s=new Array(r.length),a=0,u=r.length;a<u;++a){var c=r[a],l=c===o,m=l?u:u-a-1;s[a]=i.renderTab({title:c,current:l,zIndex:m})}Be.render(s,this.contentNode)},n.prototype._evtDblClick=function(e){if(this.titlesEditable){var r=this.contentNode.children,i=L.findFirstIndex(r,function(m){return U.hitTest(m,e.clientX,e.clientY)});if(i!==-1){var o=this.titles[i],s=r[i].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){var a=o.label||"",u=s.innerHTML;s.innerHTML="";var c=document.createElement("input");c.classList.add("lm-TabBar-tabInput"),c.value=a,s.appendChild(c);var l=function(){c.removeEventListener("blur",l),s.innerHTML=u};c.addEventListener("dblclick",function(m){return m.stopPropagation()}),c.addEventListener("blur",l),c.addEventListener("keydown",function(m){m.key==="Enter"?(c.value!==""&&(o.label=o.caption=c.value),l()):m.key==="Escape"&&l()}),c.select(),c.focus(),s.children.length>0&&s.children[0].focus()}}}},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this._releaseMouse()},n.prototype._evtMouseDown=function(e){if(!(e.button!==0&&e.button!==1)&&!this._dragData){var r=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=L.findFirstIndex(i,function(a){return U.hitTest(a,e.clientX,e.clientY)});if(!(o===-1&&!r)&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),!(e.button===1||r))){var s=i[o].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},n.prototype._evtMouseMove=function(e){var r=this._dragData;if(r){e.preventDefault(),e.stopPropagation();var i=this.contentNode.children;if(!(!r.dragActive&&!we.dragExceeded(r,e))){if(!r.dragActive){var o=r.tab.getBoundingClientRect();this._orientation==="horizontal"?(r.tabPos=r.tab.offsetLeft,r.tabSize=o.width,r.tabPressPos=r.pressX-o.left):(r.tabPos=r.tab.offsetTop,r.tabSize=o.height,r.tabPressPos=r.pressY-o.top),r.tabLayout=we.snapTabLayout(i,this._orientation),r.contentRect=this.contentNode.getBoundingClientRect(),r.override=Xe.overrideCursor("default"),r.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),r.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),r.dragActive=!0}if(!r.detachRequested&&we.detachExceeded(r,e)){r.detachRequested=!0;var s=r.index,a=e.clientX,u=e.clientY,c=i[s],l=this._titles[s];if(this._tabDetachRequested.emit({index:s,title:l,tab:c,clientX:a,clientY:u}),r.dragAborted)return}we.layoutTabs(i,r,e,this._orientation)}}},n.prototype._evtMouseUp=function(e){var r=this;if(!(e.button!==0&&e.button!==1)){var i=this._dragData;if(i){if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){this._dragData=null;var o=this.addButtonEnabled&&this.addButtonNode.contains(e.target);if(o){this._addRequested.emit(void 0);return}var s=this.contentNode.children,a=L.findFirstIndex(s,function(m){return U.hitTest(m,e.clientX,e.clientY)});if(a!==i.index)return;var u=this._titles[a];if(!u.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:a,title:u});return}var c=s[a].querySelector(this.renderer.closeIconSelector);if(c&&c.contains(e.target)){this._tabCloseRequested.emit({index:a,title:u});return}return}if(e.button===0){we.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging"),i.tab.classList.remove("p-mod-dragging");var l=we.parseTransitionDuration(i.tab);setTimeout(function(){if(!i.dragAborted){r._dragData=null,we.resetTabPositions(r.contentNode.children,r._orientation),i.override.dispose(),r.removeClass("lm-mod-dragging"),r.removeClass("p-mod-dragging");var m=i.index,f=i.targetIndex;f===-1||m===f||(L.move(r._titles,m,f),r._adjustCurrentForMove(m,f),r._tabMoved.emit({fromIndex:m,toIndex:f,title:r._titles[f]}),O.sendMessage(r,B.Msg.UpdateRequest))}},l)}}}},n.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(we.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},n.prototype._adjustCurrentForInsert=function(e,r){var i=this.currentTitle,o=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:r});return}o>=e&&this._currentIndex++},n.prototype._adjustCurrentForMove=function(e,r){this._currentIndex===e?this._currentIndex=r:this._currentIndex<e&&this._currentIndex>=r?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=r&&this._currentIndex--},n.prototype._adjustCurrentForRemove=function(e,r){var i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:r,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:r,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:r,currentIndex:-1,currentTitle:null})},n.prototype._onTitleChanged=function(e){this.update()},n}(B);(function(t){var n=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}return e.prototype.renderTab=function(r){var i=r.title.caption,o=this.createTabKey(r),s=o,a=this.createTabStyle(r),u=this.createTabClass(r),c=this.createTabDataset(r),l=this.createTabARIA(r);return r.title.closable?K.li(ae({id:s,key:o,className:u,title:i,style:a,dataset:c},l),this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):K.li(ae({id:s,key:o,className:u,title:i,style:a,dataset:c},l),this.renderIcon(r),this.renderLabel(r))},e.prototype.renderIcon=function(r){var i=r.title,o=this.createIconClass(r);return typeof i.icon=="string"?K.div({className:o},i.iconLabel):K.div({className:o},i.icon,i.iconLabel)},e.prototype.renderLabel=function(r){return K.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},r.title.label)},e.prototype.renderCloseIcon=function(r){return K.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(r){var i=this._tabKeys.get(r.title);return i===void 0&&(i="tab-key-"+this._uuid+"-"+this._tabID++,this._tabKeys.set(r.title,i)),i},e.prototype.createTabStyle=function(r){return{zIndex:""+r.zIndex}},e.prototype.createTabClass=function(r){var i="lm-TabBar-tab";return i+=" p-TabBar-tab",r.title.className&&(i+=" "+r.title.className),r.title.closable&&(i+=" lm-mod-closable",i+=" p-mod-closable"),r.current&&(i+=" lm-mod-current",i+=" p-mod-current"),i},e.prototype.createTabDataset=function(r){return r.title.dataset},e.prototype.createTabARIA=function(r){return{role:"tab","aria-selected":r.current.toString()}},e.prototype.createIconClass=function(r){var i="lm-TabBar-tabIcon";i+=" p-TabBar-tabIcon";var o=r.title.iconClass;return o?i+" "+o:i},e._nInstance=0,e}();t.Renderer=n,t.defaultRenderer=new n,t.addButtonSelector=".lm-TabBar-addButton"})(St||(St={}));var we;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function n(){var l=document.createElement("div"),m=document.createElement("ul");m.setAttribute("role","tablist"),m.className="lm-TabBar-content",m.classList.add("p-TabBar-content"),l.appendChild(m);var f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",l.appendChild(f),l}t.createNode=n;function e(l){return l instanceof xr?l:new xr(l)}t.asTitle=e;function r(l){var m=window.getComputedStyle(l);return 1e3*(parseFloat(m.transitionDuration)||0)}t.parseTransitionDuration=r;function i(l,m){for(var f=new Array(l.length),d=0,h=l.length;d<h;++d){var p=l[d],g=window.getComputedStyle(p);m==="horizontal"?f[d]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(g.marginLeft)||0}:f[d]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(g.marginTop)||0}}return f}t.snapTabLayout=i;function o(l,m){var f=Math.abs(m.clientX-l.pressX),d=Math.abs(m.clientY-l.pressY);return f>=t.DRAG_THRESHOLD||d>=t.DRAG_THRESHOLD}t.dragExceeded=o;function s(l,m){var f=l.contentRect;return m.clientX<f.left-t.DETACH_THRESHOLD||m.clientX>=f.right+t.DETACH_THRESHOLD||m.clientY<f.top-t.DETACH_THRESHOLD||m.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=s;function a(l,m,f,d){var h,p,g,x;d==="horizontal"?(h=m.pressX,p=f.clientX-m.contentRect.left,g=f.clientX,x=m.contentRect.width):(h=m.pressY,p=f.clientY-m.contentRect.top,g=f.clientY,x=m.contentRect.height);for(var M=m.index,w=p-m.tabPressPos,C=w+m.tabSize,I=0,P=l.length;I<P;++I){var E=void 0,k=m.tabLayout[I],_=k.pos+(k.size>>1);if(I<m.index&&w<_)E=m.tabSize+m.tabLayout[I+1].margin+"px",M=Math.min(M,I);else if(I>m.index&&C>_)E=-m.tabSize-k.margin+"px",M=Math.max(M,I);else if(I===m.index){var y=g-h,S=x-(m.tabPos+m.tabSize);E=Math.max(-m.tabPos,Math.min(y,S))+"px"}else E="";d==="horizontal"?l[I].style.left=E:l[I].style.top=E}m.targetIndex=M}t.layoutTabs=a;function u(l,m){var f;m==="horizontal"?f=l.contentRect.width:f=l.contentRect.height;var d;if(l.targetIndex===l.index)d=0;else if(l.targetIndex>l.index){var h=l.tabLayout[l.targetIndex];d=h.pos+h.size-l.tabSize-l.tabPos}else{var h=l.tabLayout[l.targetIndex];d=h.pos-l.tabPos}var p=f-(l.tabPos+l.tabSize),g=Math.max(-l.tabPos,Math.min(d,p));m==="horizontal"?l.tab.style.left=g+"px":l.tab.style.top=g+"px"}t.finalizeTabPosition=u;function c(l,m){N(l,function(f){m==="horizontal"?f.style.left="":f.style.top=""})}t.resetTabPositions=c})(we||(we={}));var Os=function(t){Q(n,t);function n(e){var r=t.call(this)||this;return r._spacing=4,r._dirty=!1,r._root=null,r._box=null,r._items=new Map,r.renderer=e.renderer,e.spacing!==void 0&&(r._spacing=Nt.clampDimension(e.spacing)),r._document=e.document||document,r._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:B.HiddenMode.Display,r}return n.prototype.dispose=function(){var e=this.iter();this._items.forEach(function(r){r.dispose()}),this._box=null,this._root=null,this._items.clear(),N(e,function(r){r.dispose()}),t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var r=this;this._hiddenMode!==e&&(this._hiddenMode=e,N(this.tabBars(),function(i){i.titles.length>1&&i.titles.forEach(function(o){o.owner.hiddenMode=r._hiddenMode})}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Nt.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return this._root?this._root.iterAllWidgets():ye()},n.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():ye()},n.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():ye()},n.prototype.tabBars=function(){return this._root?this._root.iterTabBars():ye()},n.prototype.handles=function(){return this._root?this._root.iterHandles():ye()},n.prototype.moveHandle=function(e,r,i){var o=e.classList.contains("lm-mod-hidden");if(o=o||e.classList.contains("p-mod-hidden"),!(!this._root||o)){var s=this._root.findSplitNode(e);if(s){var a;s.node.orientation==="horizontal"?a=r-e.offsetLeft:a=i-e.offsetTop,a!==0&&(s.node.holdSizes(),xe.adjust(s.node.sizers,s.index,a),this.parent&&this.parent.update())}}},n.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},n.prototype.restoreLayout=function(e){var r=this,i=new Set,o;e.main?o=re.normalizeAreaConfig(e.main,i):o=null;var s=this.widgets(),a=this.tabBars(),u=this.handles();this._root=null,N(s,function(c){i.has(c)||(c.parent=null)}),N(a,function(c){c.dispose()}),N(u,function(c){c.parentNode&&c.parentNode.removeChild(c)}),i.forEach(function(c){c.parent=r.parent}),o?this._root=re.realizeAreaConfig(o,{createTabBar:function(c){return r._createTabBar()},createHandle:function(){return r._createHandle()}},this._document):this._root=null,this.parent&&(i.forEach(function(c){r.attachWidget(c)}),this.parent.fit())},n.prototype.addWidget=function(e,r){r===void 0&&(r={});var i=r.ref||null,o=r.mode||"tab-after",s=null;if(this._root&&i&&(s=this._root.findTabNode(i)),i&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,s,!0);break;case"tab-before":this._insertTab(e,i,s,!1);break;case"split-top":this._insertSplit(e,i,s,"vertical",!1);break;case"split-left":this._insertSplit(e,i,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,s,"vertical",!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())},n.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},n.prototype.hitTestTabAreas=function(e,r){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=U.boxSizing(this.parent.node));var i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,s=r-i.top-this._box.borderTop,a=this._root.hitTestTabNodes(o,s);if(!a)return null;var u=a.tabBar,c=a.top,l=a.left,m=a.width,f=a.height,d=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,p=i.width-d-(l+m),g=i.height-h-(c+f);return{tabBar:u,x:o,y:s,top:c,left:l,right:p,bottom:g,width:m,height:f}},n.prototype.init=function(){var e=this;t.prototype.init.call(this),N(this,function(r){e.attachWidget(r)}),N(this.handles(),function(r){e.parent.node.appendChild(r)}),this.parent.fit()},n.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Vt(e)),this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterAttach))},n.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterDetach);var r=this._items.get(e);r&&(this._items.delete(e),r.dispose())}},n.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._removeWidget=function(e){if(this._root){var r=this._root.findTabNode(e);if(r){if(re.removeAria(e),r.tabBar.titles.length>1){if(r.tabBar.removeTab(e.title),this._hiddenMode===B.HiddenMode.Scale&&r.tabBar.titles.length==1){var i=r.tabBar.titles[0].owner;i.hiddenMode=B.HiddenMode.Display}return}if(r.tabBar.dispose(),this._root===r){this._root=null;return}this._root.holdAllSizes();var o=r.parent;r.parent=null;var s=L.removeFirstOf(o.children,r),a=L.removeAt(o.handles,s);if(L.removeAt(o.sizers,s),a.parentNode&&a.parentNode.removeChild(a),o.children.length>1){o.syncHandles();return}var u=o.parent;o.parent=null;var c=o.children[0],l=o.handles[0];if(o.children.length=0,o.handles.length=0,o.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===o){c.parent=null,this._root=c;return}var m=u,f=m.children.indexOf(o);if(c instanceof re.TabLayoutNode){c.parent=m,m.children[f]=c;return}var d=L.removeAt(m.handles,f);L.removeAt(m.children,f),L.removeAt(m.sizers,f),d.parentNode&&d.parentNode.removeChild(d);for(var h=0,p=c.children.length;h<p;++h){var g=c.children[h],x=c.handles[h],M=c.sizers[h];L.insert(m.children,f+h,g),L.insert(m.handles,f+h,x),L.insert(m.sizers,f+h,M),g.parent=m}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,m.syncHandles()}}},n.prototype._insertTab=function(e,r,i,o){if(e!==r){if(!this._root){var s=new re.TabLayoutNode(this._createTabBar());s.tabBar.addTab(e.title),this._root=s,re.addAria(e,s.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());var a;if(r?a=i.tabBar.titles.indexOf(r.title):a=i.tabBar.currentIndex,this._hiddenMode===B.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=B.HiddenMode.Display;else if(i.tabBar.titles.length==1){var u=i.tabBar.titles[0].owner;u.hiddenMode=B.HiddenMode.Scale}else e.hiddenMode=B.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(a+(o?1:0),e.title),re.addAria(e,i.tabBar)}},n.prototype._insertSplit=function(e,r,i,o,s){if(!(e===r&&i&&i.tabBar.titles.length===1)){this._removeWidget(e);var a=new re.TabLayoutNode(this._createTabBar());if(a.tabBar.addTab(e.title),re.addAria(e,a.tabBar),!this._root){this._root=a;return}if(!i||!i.parent){var u=this._splitRoot(o),c=s?u.children.length:0;u.normalizeSizes();var l=re.createSizer(i?1:re.GOLDEN_RATIO);L.insert(u.children,c,a),L.insert(u.sizers,c,l),L.insert(u.handles,c,this._createHandle()),a.parent=u,u.normalizeSizes(),u.syncHandles();return}var m=i.parent;if(m.orientation===o){var f=m.children.indexOf(i);m.normalizeSizes();var d=m.sizers[f].sizeHint/=2,h=f+(s?1:0);L.insert(m.children,h,a),L.insert(m.sizers,h,re.createSizer(d)),L.insert(m.handles,h,this._createHandle()),a.parent=m,m.syncHandles();return}var p=L.removeFirstOf(m.children,i),g=new re.SplitLayoutNode(o);g.normalized=!0,g.children.push(i),g.sizers.push(re.createSizer(.5)),g.handles.push(this._createHandle()),i.parent=g;var x=s?1:0;L.insert(g.children,x,a),L.insert(g.sizers,x,re.createSizer(.5)),L.insert(g.handles,x,this._createHandle()),a.parent=g,g.syncHandles(),L.insert(m.children,p,g),g.parent=m}},n.prototype._splitRoot=function(e){var r=this._root;if(r instanceof re.SplitLayoutNode&&r.orientation===e)return r;var i=this._root=new re.SplitLayoutNode(e);return r&&(i.children.push(r),i.sizers.push(re.createSizer(0)),i.handles.push(this._createHandle()),r.parent=i),i},n.prototype._fit=function(){var e=0,r=0;if(this._root){var i=this._root.fit(this._spacing,this._items);e=i.minWidth,r=i.minHeight}var o=this._box=U.boxSizing(this.parent.node);e+=o.horizontalSum,r+=o.verticalSum;var s=this.parent.node.style;s.minWidth=e+"px",s.minHeight=r+"px",this._dirty=!0,this.parent.parent&&O.sendMessage(this.parent.parent,B.Msg.FitRequest),this._dirty&&O.sendMessage(this.parent,B.Msg.UpdateRequest)},n.prototype._update=function(e,r){if(this._dirty=!1,!!this._root){e<0&&(e=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=U.boxSizing(this.parent.node));var i=this._box.paddingTop,o=this._box.paddingLeft,s=e-this._box.horizontalSum,a=r-this._box.verticalSum;this._root.update(i,o,s,a,this._spacing,this._items)}},n.prototype._createTabBar=function(){var e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},n.prototype._createHandle=function(){var e=this.renderer.createHandle(),r=e.style;return r.position="absolute",r.top="0",r.left="0",r.width="0",r.height="0",this.parent&&this.parent.node.appendChild(e),e},n}(Qe),re;(function(t){t.GOLDEN_RATIO=.618;function n(f){var d=new Ge;return d.sizeHint=f,d.size=f,d}t.createSizer=n;function e(f,d){var h;return f.type==="tab-area"?h=u(f,d):h=c(f,d),h}t.normalizeAreaConfig=e;function r(f,d,h){var p;return f.type==="tab-area"?p=l(f,d,h):p=m(f,d,h),p}t.realizeAreaConfig=r;var i=function(){function f(d){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var h=new Ge,p=new Ge;h.stretch=0,p.stretch=1,this.tabBar=d,this.sizers=[h,p]}return Object.defineProperty(f.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),f.prototype.iterAllWidgets=function(){return lr(Bt(this.tabBar),this.iterUserWidgets())},f.prototype.iterUserWidgets=function(){return Ke(this.tabBar.titles,function(d){return d.owner})},f.prototype.iterSelectedWidgets=function(){var d=this.tabBar.currentTitle;return d?Bt(d.owner):ye()},f.prototype.iterTabBars=function(){return Bt(this.tabBar)},f.prototype.iterHandles=function(){return ye()},f.prototype.findTabNode=function(d){return this.tabBar.titles.indexOf(d.title)!==-1?this:null},f.prototype.findSplitNode=function(d){return null},f.prototype.findFirstTabNode=function(){return this},f.prototype.hitTestTabNodes=function(d,h){return d<this._left||d>=this._left+this._width||h<this._top||h>=this._top+this._height?null:this},f.prototype.createConfig=function(){var d=this.tabBar.titles.map(function(p){return p.owner}),h=this.tabBar.currentIndex;return{type:"tab-area",widgets:d,currentIndex:h}},f.prototype.holdAllSizes=function(){},f.prototype.fit=function(d,h){var p=0,g=0,x=1/0,M=1/0,w=h.get(this.tabBar),C=this.tabBar.currentTitle,I=C?h.get(C.owner):void 0,P=this.sizers,E=P[0],k=P[1];return w&&w.fit(),I&&I.fit(),w&&!w.isHidden?(p=Math.max(p,w.minWidth),g+=w.minHeight,E.minSize=w.minHeight,E.maxSize=w.maxHeight):(E.minSize=0,E.maxSize=0),I&&!I.isHidden?(p=Math.max(p,I.minWidth),g+=I.minHeight,k.minSize=I.minHeight,k.maxSize=1/0):(k.minSize=0,k.maxSize=1/0),{minWidth:p,minHeight:g,maxWidth:x,maxHeight:M}},f.prototype.update=function(d,h,p,g,x,M){this._top=h,this._left=d,this._width=p,this._height=g;var w=M.get(this.tabBar),C=this.tabBar.currentTitle,I=C?M.get(C.owner):void 0;if(xe.calc(this.sizers,g),w&&!w.isHidden){var P=this.sizers[0].size;w.update(d,h,p,P),h+=P}if(I&&!I.isHidden){var P=this.sizers[1].size;I.update(d,h,p,P)}},f}();t.TabLayoutNode=i;var o=function(){function f(d){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=d}return f.prototype.iterAllWidgets=function(){var d=Ke(this.children,function(h){return h.iterAllWidgets()});return new rt(d)},f.prototype.iterUserWidgets=function(){var d=Ke(this.children,function(h){return h.iterUserWidgets()});return new rt(d)},f.prototype.iterSelectedWidgets=function(){var d=Ke(this.children,function(h){return h.iterSelectedWidgets()});return new rt(d)},f.prototype.iterTabBars=function(){var d=Ke(this.children,function(h){return h.iterTabBars()});return new rt(d)},f.prototype.iterHandles=function(){var d=Ke(this.children,function(h){return h.iterHandles()});return lr(this.handles,new rt(d))},f.prototype.findTabNode=function(d){for(var h=0,p=this.children.length;h<p;++h){var g=this.children[h].findTabNode(d);if(g)return g}return null},f.prototype.findSplitNode=function(d){var h=this.handles.indexOf(d);if(h!==-1)return{index:h,node:this};for(var p=0,g=this.children.length;p<g;++p){var x=this.children[p].findSplitNode(d);if(x)return x}return null},f.prototype.findFirstTabNode=function(){return this.children.length===0?null:this.children[0].findFirstTabNode()},f.prototype.hitTestTabNodes=function(d,h){for(var p=0,g=this.children.length;p<g;++p){var x=this.children[p].hitTestTabNodes(d,h);if(x)return x}return null},f.prototype.createConfig=function(){var d=this.orientation,h=this.createNormalizedSizes(),p=this.children.map(function(g){return g.createConfig()});return{type:"split-area",orientation:d,children:p,sizes:h}},f.prototype.syncHandles=function(){var d=this;N(this.handles,function(h,p){h.setAttribute("data-orientation",d.orientation),p===d.handles.length-1?(h.classList.add("lm-mod-hidden"),h.classList.add("p-mod-hidden")):(h.classList.remove("lm-mod-hidden"),h.classList.remove("p-mod-hidden"))})},f.prototype.holdSizes=function(){N(this.sizers,function(d){d.sizeHint=d.size})},f.prototype.holdAllSizes=function(){N(this.children,function(d){return d.holdAllSizes()}),this.holdSizes()},f.prototype.normalizeSizes=function(){var d=this.sizers.length;if(d!==0){this.holdSizes();var h=dr(this.sizers,function(p,g){return p+g.sizeHint},0);h===0?N(this.sizers,function(p){p.size=p.sizeHint=1/d}):N(this.sizers,function(p){p.size=p.sizeHint/=h}),this.normalized=!0}},f.prototype.createNormalizedSizes=function(){var d=this.sizers.length;if(d===0)return[];var h=this.sizers.map(function(g){return g.size}),p=dr(h,function(g,x){return g+x},0);return p===0?N(h,function(g,x){h[x]=1/d}):N(h,function(g,x){h[x]=g/p}),h},f.prototype.fit=function(d,h){for(var p=this.orientation==="horizontal",g=Math.max(0,this.children.length-1)*d,x=p?g:0,M=p?0:g,w=1/0,C=1/0,I=0,P=this.children.length;I<P;++I){var E=this.children[I].fit(d,h);p?(M=Math.max(M,E.minHeight),x+=E.minWidth,this.sizers[I].minSize=E.minWidth):(x=Math.max(x,E.minWidth),M+=E.minHeight,this.sizers[I].minSize=E.minHeight)}return{minWidth:x,minHeight:M,maxWidth:w,maxHeight:C}},f.prototype.update=function(d,h,p,g,x,M){var w=this.orientation==="horizontal",C=Math.max(0,this.children.length-1)*x,I=Math.max(0,(w?p:g)-C);this.normalized&&(N(this.sizers,function(S){S.sizeHint*=I}),this.normalized=!1),xe.calc(this.sizers,I);for(var P=0,E=this.children.length;P<E;++P){var k=this.children[P],_=this.sizers[P].size,y=this.handles[P].style;w?(k.update(d,h,_,g,x,M),d+=_,y.top=h+"px",y.left=d+"px",y.width=x+"px",y.height=g+"px",d+=x):(k.update(d,h,p,_,x,M),h+=_,y.top=h+"px",y.left=d+"px",y.width=p+"px",y.height=x+"px",h+=x)}},f}();t.SplitLayoutNode=o;function s(f,d){f.node.setAttribute("role","tabpanel");var h=d.renderer;if(h instanceof St.Renderer){var p=h.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=s;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function u(f,d){if(f.widgets.length===0)return null;var h=[];if(N(f.widgets,function(g){d.has(g)||(d.add(g),h.push(g))}),h.length===0)return null;var p=f.currentIndex;return p!==-1&&(p<0||p>=h.length)&&(p=0),{type:"tab-area",widgets:h,currentIndex:p}}function c(f,d){for(var h=f.orientation,p=[],g=[],x=0,M=f.children.length;x<M;++x){var w=e(f.children[x],d);w&&(w.type==="tab-area"||w.orientation!==h?(p.push(w),g.push(Math.abs(f.sizes[x]||0))):(p.push.apply(p,w.children),g.push.apply(g,w.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:h,children:p,sizes:g}}function l(f,d,h){var p=d.createTabBar(h);return N(f.widgets,function(g){g.hide(),p.addTab(g.title),t.addAria(g,p)}),p.currentIndex=f.currentIndex,new i(p)}function m(f,d,h){var p=new o(f.orientation);return N(f.children,function(g,x){var M=r(g,d,h),w=n(f.sizes[x]),C=d.createHandle();p.children.push(M),p.handles.push(C),p.sizers.push(w),M.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(re||(re={}));var gn=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this)||this;r._drag=null,r._tabsMovable=!0,r._tabsConstrained=!1,r._addButtonEnabled=!1,r._pressData=null,r._layoutModified=new $(r),r._addRequested=new $(r),r.addClass("lm-DockPanel"),r.addClass("p-DockPanel"),r._document=e.document||document,r._mode=e.mode||"multiple-document",r._renderer=e.renderer||n.defaultRenderer,r._edges=e.edges||Z.DEFAULT_EDGES,e.tabsMovable!==void 0&&(r._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(r._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(r._addButtonEnabled=e.addButtonEnabled),r.dataset.mode=r._mode;var i={createTabBar:function(){return r._createTabBar()},createHandle:function(){return r._createHandle()}};return r.layout=new Os({document:r._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),r.overlay=e.overlay||new n.Overlay,r.node.appendChild(r.overlay.node),r}return n.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var r=this.layout;switch(e){case"multiple-document":N(r.tabBars(),function(i){i.show()});break;case"single-document":r.restoreLayout(Z.createSingleDocumentConfig(this));break;default:throw"unreachable"}O.postMessage(this,Z.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e,N(this.tabBars(),function(r){r.tabsMovable=e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled=e,N(this.tabBars(),function(r){r.addButtonEnabled=e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),n.prototype.widgets=function(){return this.layout.widgets()},n.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},n.prototype.tabBars=function(){return this.layout.tabBars()},n.prototype.handles=function(){return this.layout.handles()},n.prototype.selectWidget=function(e){var r=bt(this.tabBars(),function(i){return i.titles.indexOf(e.title)!==-1});if(!r)throw new Error("Widget is not contained in the dock panel.");r.currentTitle=e.title},n.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},n.prototype.saveLayout=function(){return this.layout.saveLayout()},n.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(se.IS_EDGE||se.IS_IE)&&O.flush(),O.postMessage(this,Z.LayoutModified)},n.prototype.addWidget=function(e,r){r===void 0&&(r={}),this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,r),O.postMessage(this,Z.LayoutModified)},n.prototype.processMessage=function(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):t.prototype.processMessage.call(this,e)},n.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},n.prototype.onChildAdded=function(e){Z.isGeneratedTabBarProperty.get(e.child)||(e.child.addClass("lm-DockPanel-widget"),e.child.addClass("p-DockPanel-widget"))},n.prototype.onChildRemoved=function(e){Z.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),e.child.removeClass("p-DockPanel-widget"),O.postMessage(this,Z.LayoutModified))},n.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())},n.prototype._evtDragLeave=function(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))},n.prototype._evtDragOver=function(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)},n.prototype._evtDrop=function(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}var r=e.clientX,i=e.clientY,o=Z.findDropTarget(this,r,i,this._edges),s=o.zone,a=o.target;if(this._tabsConstrained&&e.source!==this||s==="invalid"){e.dropAction="none";return}var u=e.mimeData,c=u.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}var l=c();if(!(l instanceof B)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}var m=a?Z.getDropRef(a.tabBar):null;switch(s){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:m});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:m});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:m});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:m});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:m});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:m});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),O.postMessage(this,Z.LayoutModified))},n.prototype._evtMouseDown=function(e){if(e.button===0){var r=this.layout,i=e.target,o=bt(r.handles(),function(m){return m.contains(i)});if(o){e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var s=o.getBoundingClientRect(),a=e.clientX-s.left,u=e.clientY-s.top,c=window.getComputedStyle(o),l=Xe.overrideCursor(c.cursor,this._document);this._pressData={handle:o,deltaX:a,deltaY:u,override:l}}}},n.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var r=this.node.getBoundingClientRect(),i=e.clientX-r.left-this._pressData.deltaX,o=e.clientY-r.top-this._pressData.deltaY,s=this.layout;s.moveHandle(this._pressData.handle,i,o)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),O.postMessage(this,Z.LayoutModified))},n.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},n.prototype._showOverlay=function(e,r){var i=Z.findDropTarget(this,e,r,this._edges),o=i.zone,s=i.target;if(o==="invalid")return this.overlay.hide(100),o;var a,u,c,l,m=U.boxSizing(this.node),f=this.node.getBoundingClientRect();switch(o){case"root-all":a=m.paddingTop,u=m.paddingLeft,c=m.paddingRight,l=m.paddingBottom;break;case"root-top":a=m.paddingTop,u=m.paddingLeft,c=m.paddingRight,l=f.height*Z.GOLDEN_RATIO;break;case"root-left":a=m.paddingTop,u=m.paddingLeft,c=f.width*Z.GOLDEN_RATIO,l=m.paddingBottom;break;case"root-right":a=m.paddingTop,u=f.width*Z.GOLDEN_RATIO,c=m.paddingRight,l=m.paddingBottom;break;case"root-bottom":a=f.height*Z.GOLDEN_RATIO,u=m.paddingLeft,c=m.paddingRight,l=m.paddingBottom;break;case"widget-all":a=s.top,u=s.left,c=s.right,l=s.bottom;break;case"widget-top":a=s.top,u=s.left,c=s.right,l=s.bottom+s.height/2;break;case"widget-left":a=s.top,u=s.left,c=s.right+s.width/2,l=s.bottom;break;case"widget-right":a=s.top,u=s.left+s.width/2,c=s.right,l=s.bottom;break;case"widget-bottom":a=s.top+s.height/2,u=s.left,c=s.right,l=s.bottom;break;case"widget-tab":var d=s.tabBar.node.getBoundingClientRect().height;a=s.top,u=s.left,c=s.right,l=s.bottom+s.height-d;break;default:throw"unreachable"}return this.overlay.show({top:a,left:u,right:c,bottom:l}),o},n.prototype._createTabBar=function(){var e=this._renderer.createTabBar(this._document);return Z.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e},n.prototype._createHandle=function(){return this._renderer.createHandle()},n.prototype._onTabMoved=function(){O.postMessage(this,Z.LayoutModified)},n.prototype._onCurrentChanged=function(e,r){var i=r.previousTitle,o=r.currentTitle;i&&i.owner.hide(),o&&o.owner.show(),(se.IS_EDGE||se.IS_IE)&&O.flush(),O.postMessage(this,Z.LayoutModified)},n.prototype._onTabAddRequested=function(e){this._addRequested.emit(e)},n.prototype._onTabActivateRequested=function(e,r){r.title.owner.activate()},n.prototype._onTabCloseRequested=function(e,r){r.title.owner.close()},n.prototype._onTabDetachRequested=function(e,r){var i=this;if(!this._drag){e.releaseMouse();var o=r.title,s=r.tab,a=r.clientX,u=r.clientY,c=new at.MimeData,l=function(){return o.owner};c.setData("application/vnd.lumino.widget-factory",l);var m=s.cloneNode(!0);this._drag=new Xe({document:this._document,mimeData:c,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),s.classList.add("lm-mod-hidden"),s.classList.add("p-mod-hidden");var f=function(){i._drag=null,s.classList.remove("lm-mod-hidden"),s.classList.remove("p-mod-hidden")};this._drag.start(a,u).then(f)}},n}(B);(function(t){var n=function(){function r(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return r.prototype.show=function(i){var o=this.node.style;o.top=i.top+"px",o.left=i.left+"px",o.right=i.right+"px",o.bottom=i.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},r.prototype.hide=function(i){var o=this;if(!this._hidden){if(i<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(function(){o._timer=-1,o._hidden=!0,o.node.classList.add("lm-mod-hidden"),o.node.classList.add("p-mod-hidden")},i))}},r}();t.Overlay=n;var e=function(){function r(){}return r.prototype.createTabBar=function(i){var o=new St({document:i});return o.addClass("lm-DockPanel-tabBar"),o.addClass("p-DockPanel-tabBar"),o},r.prototype.createHandle=function(){var i=document.createElement("div");return i.className="lm-DockPanel-handle",i.classList.add("p-DockPanel-handle"),i},r}();t.Renderer=e,t.defaultRenderer=new e})(gn||(gn={}));var Z;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new yt("layout-modified"),t.isGeneratedTabBarProperty=new le({name:"isGeneratedTabBar",create:function(){return!1}});function n(i){if(i.isEmpty)return{main:null};var o=si(i.widgets()),s=i.selectedWidgets().next(),a=s?o.indexOf(s):-1;return{main:{type:"tab-area",widgets:o,currentIndex:a}}}t.createSingleDocumentConfig=n;function e(i,o,s,a){if(!U.hitTest(i.node,o,s))return{zone:"invalid",target:null};var u=i.layout;if(u.isEmpty)return{zone:"root-all",target:null};if(i.mode==="multiple-document"){var c=i.node.getBoundingClientRect(),l=o-c.left+1,m=s-c.top+1,f=c.right-o,d=c.bottom-s,h=Math.min(m,f,d,l);switch(h){case m:if(m<a.top)return{zone:"root-top",target:null};break;case f:if(f<a.right)return{zone:"root-right",target:null};break;case d:if(d<a.bottom)return{zone:"root-bottom",target:null};break;case l:if(l<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var p=u.hitTestTabAreas(o,s);if(!p)return{zone:"invalid",target:null};if(i.mode==="single-document")return{zone:"widget-all",target:p};var g=p.x-p.left+1,x=p.y-p.top+1,M=p.left+p.width-p.x,w=p.top+p.height-p.y,C=p.tabBar.node.getBoundingClientRect().height;if(x<C)return{zone:"widget-tab",target:p};var I=Math.round(p.width/3),P=Math.round(p.height/3);if(g>I&&M>I&&x>P&&w>P)return{zone:"widget-all",target:p};g/=I,x/=P,M/=I,w/=P;var E=Math.min(g,x,M,w),k;switch(E){case g:k="widget-left";break;case x:k="widget-top";break;case M:k="widget-right";break;case w:k="widget-bottom";break;default:throw"unreachable"}return{zone:k,target:p}}t.findDropTarget=e;function r(i){return i.titles.length===0?null:i.currentTitle?i.currentTitle.owner:i.titles[i.titles.length-1].owner}t.getDropRef=r})(Z||(Z={}));var Ld=function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new $(this),this._currentChanged=new $(this)}return t.prototype.dispose=function(){var n=this;this._counter<0||(this._counter=-1,$.clearData(this),N(this._widgets,function(e){e.node.removeEventListener("focus",n,!0),e.node.removeEventListener("blur",n,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(n){var e=this._numbers.get(n);return e===void 0?-1:e},t.prototype.has=function(n){return this._numbers.has(n)},t.prototype.add=function(n){if(!this._numbers.has(n)){var e=n.node.contains(document.activeElement),r=e?this._counter++:-1;this._widgets.push(n),this._numbers.set(n,r),this._nodes.set(n.node,n),n.node.addEventListener("focus",this,!0),n.node.addEventListener("blur",this,!0),n.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(n,n)}},t.prototype.remove=function(n){var e=this;if(this._numbers.has(n)&&(n.disposed.disconnect(this._onWidgetDisposed,this),n.node.removeEventListener("focus",this,!0),n.node.removeEventListener("blur",this,!0),L.removeFirstOf(this._widgets,n),this._nodes.delete(n.node),this._numbers.delete(n),this._currentWidget===n)){var r=ai(this._widgets,function(o){return e._numbers.get(o)!==-1}),i=ui(r,function(o,s){var a=e._numbers.get(o),u=e._numbers.get(s);return a-u})||null;this._setWidgets(i,null)}},t.prototype.handleEvent=function(n){switch(n.type){case"focus":this._evtFocus(n);break;case"blur":this._evtBlur(n);break}},t.prototype._setWidgets=function(n,e){var r=this._currentWidget;this._currentWidget=n;var i=this._activeWidget;this._activeWidget=e,r!==n&&this._currentChanged.emit({oldValue:r,newValue:n}),i!==e&&this._activeChanged.emit({oldValue:i,newValue:e})},t.prototype._evtFocus=function(n){var e=this._nodes.get(n.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},t.prototype._evtBlur=function(n){var e=this._nodes.get(n.currentTarget),r=n.relatedTarget;if(!r){this._setWidgets(this._currentWidget,null);return}if(!e.node.contains(r)&&!bt(this._widgets,function(i){return i.node.contains(r)})){this._setWidgets(this._currentWidget,null);return}},t.prototype._onWidgetDisposed=function(n){this.remove(n)},t}(),Ir=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,e)||this;return r._dirty=!1,r._rowSpacing=4,r._columnSpacing=4,r._items=[],r._rowStarts=[],r._columnStarts=[],r._rowSizers=[new Ge],r._columnSizers=[new Ge],r._box=null,e.rowCount!==void 0&&ie.reallocSizers(r._rowSizers,e.rowCount),e.columnCount!==void 0&&ie.reallocSizers(r._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(r._rowSpacing=ie.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(r._columnSpacing=ie.clampValue(e.columnSpacing)),r}return n.prototype.dispose=function(){N(this._items,function(e){var r=e.widget;e.dispose(),r.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(ie.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(ie.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=ie.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=ie.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),n.prototype.rowStretch=function(e){var r=this._rowSizers[e];return r?r.stretch:-1},n.prototype.setRowStretch=function(e,r){var i=this._rowSizers[e];i&&(r=ie.clampValue(r),i.stretch!==r&&(i.stretch=r,this.parent&&this.parent.update()))},n.prototype.columnStretch=function(e){var r=this._columnSizers[e];return r?r.stretch:-1},n.prototype.setColumnStretch=function(e,r){var i=this._columnSizers[e];i&&(r=ie.clampValue(r),i.stretch!==r&&(i.stretch=r,this.parent&&this.parent.update()))},n.prototype.iter=function(){return Ke(this._items,function(e){return e.widget})},n.prototype.addWidget=function(e){var r=L.findFirstIndex(this._items,function(i){return i.widget===e});r===-1&&(this._items.push(new Vt(e)),this.parent&&this.attachWidget(e))},n.prototype.removeWidget=function(e){var r=L.findFirstIndex(this._items,function(o){return o.widget===e});if(r!==-1){var i=L.removeAt(this._items,r);this.parent&&this.detachWidget(e),i.dispose()}},n.prototype.init=function(){var e=this;t.prototype.init.call(this),N(this,function(r){e.attachWidget(r)})},n.prototype.attachWidget=function(e){this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterAttach),this.parent.fit()},n.prototype.detachWidget=function(e){this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterDetach),this.parent.fit()},n.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,r=this.rowCount;e<r;++e)this._rowSizers[e].minSize=0;for(var e=0,r=this.columnCount;e<r;++e)this._columnSizers[e].minSize=0;for(var i=this._items.filter(function(x){return!x.isHidden}),e=0,r=i.length;e<r;++e)i[e].fit();var o=this.rowCount-1,s=this.columnCount-1;i.sort(ie.rowSpanCmp);for(var e=0,r=i.length;e<r;++e){var a=i[e],u=n.getCellConfig(a.widget),c=Math.min(u.row,o),l=Math.min(u.row+u.rowSpan-1,o);ie.distributeMin(this._rowSizers,c,l,a.minHeight)}i.sort(ie.columnSpanCmp);for(var e=0,r=i.length;e<r;++e){var a=i[e],u=n.getCellConfig(a.widget),m=Math.min(u.column,s),f=Math.min(u.column+u.columnSpan-1,s);ie.distributeMin(this._columnSizers,m,f,a.minWidth)}if(this.fitPolicy==="set-no-constraint"){O.sendMessage(this.parent,B.Msg.UpdateRequest);return}for(var d=o*this._rowSpacing,h=s*this._columnSpacing,e=0,r=this.rowCount;e<r;++e)d+=this._rowSizers[e].minSize;for(var e=0,r=this.columnCount;e<r;++e)h+=this._columnSizers[e].minSize;var p=this._box=U.boxSizing(this.parent.node);h+=p.horizontalSum,d+=p.verticalSum;var g=this.parent.node.style;g.minWidth=h+"px",g.minHeight=d+"px",this._dirty=!0,this.parent.parent&&O.sendMessage(this.parent.parent,B.Msg.FitRequest),this._dirty&&O.sendMessage(this.parent,B.Msg.UpdateRequest)},n.prototype._update=function(e,r){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=U.boxSizing(this.parent.node));var i=this._box.paddingTop,o=this._box.paddingLeft,s=e-this._box.horizontalSum,a=r-this._box.verticalSum,u=this.rowCount-1,c=this.columnCount-1,l=u*this._rowSpacing,m=c*this._columnSpacing;xe.calc(this._rowSizers,Math.max(0,a-l)),xe.calc(this._columnSizers,Math.max(0,s-m));for(var f=0,d=i,h=this.rowCount;f<h;++f)this._rowStarts[f]=d,d+=this._rowSizers[f].size+this._rowSpacing;for(var f=0,d=o,h=this.columnCount;f<h;++f)this._columnStarts[f]=d,d+=this._columnSizers[f].size+this._columnSpacing;for(var f=0,h=this._items.length;f<h;++f){var p=this._items[f];if(!p.isHidden){var g=n.getCellConfig(p.widget),x=Math.min(g.row,u),M=Math.min(g.column,c),w=Math.min(g.row+g.rowSpan-1,u),C=Math.min(g.column+g.columnSpan-1,c),I=this._columnStarts[M],P=this._rowStarts[x],E=this._columnStarts[C]+this._columnSizers[C].size-I,k=this._rowStarts[w]+this._rowSizers[w].size-P;p.update(I,P,E,k)}}},n}(Qe);(function(t){function n(r){return ie.cellConfigProperty.get(r)}t.getCellConfig=n;function e(r,i){ie.cellConfigProperty.set(r,ie.normalizeConfig(i))}t.setCellConfig=e})(Ir||(Ir={}));var ie;(function(t){t.cellConfigProperty=new le({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:a});function n(u){var c=Math.max(0,Math.floor(u.row||0)),l=Math.max(0,Math.floor(u.column||0)),m=Math.max(1,Math.floor(u.rowSpan||0)),f=Math.max(1,Math.floor(u.columnSpan||0));return{row:c,column:l,rowSpan:m,columnSpan:f}}t.normalizeConfig=n;function e(u){return Math.max(0,Math.floor(u))}t.clampValue=e;function r(u,c){var l=t.cellConfigProperty.get(u.widget),m=t.cellConfigProperty.get(c.widget);return l.rowSpan-m.rowSpan}t.rowSpanCmp=r;function i(u,c){var l=t.cellConfigProperty.get(u.widget),m=t.cellConfigProperty.get(c.widget);return l.columnSpan-m.columnSpan}t.columnSpanCmp=i;function o(u,c){for(c=Math.max(1,Math.floor(c));u.length<c;)u.push(new Ge);u.length>c&&(u.length=c)}t.reallocSizers=o;function s(u,c,l,m){if(!(l<c)){if(c===l){var f=u[c];f.minSize=Math.max(f.minSize,m);return}for(var d=0,h=c;h<=l;++h)d+=u[h].minSize;if(!(d>=m))for(var p=(m-d)/(l-c+1),h=c;h<=l;++h)u[h].minSize+=p}}t.distributeMin=s;function a(u){u.parent&&u.parent.layout instanceof Ir&&u.parent.fit()}})(ie||(ie={}));var vi=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{node:vn.createNode()})||this;return r._activeIndex=-1,r._tabFocusIndex=0,r._menus=[],r._childMenu=null,r.addClass("lm-MenuBar"),r.addClass("p-MenuBar"),r.setFlag(B.Flag.DisallowLayout),r.renderer=e.renderer||n.defaultRenderer,r._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},r}return n.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,e!==-1&&(this._tabFocusIndex=e),this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),n.prototype.openActiveMenu=function(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},n.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},n.prototype.insertMenu=function(e,r){this._closeChildMenu();var i=this._menus.indexOf(r),o=Math.max(0,Math.min(e,this._menus.length));if(i===-1){L.insert(this._menus,o,r),r.addClass("lm-MenuBar-menu"),r.addClass("p-MenuBar-menu"),r.aboutToClose.connect(this._onMenuAboutToClose,this),r.menuRequested.connect(this._onMenuMenuRequested,this),r.title.changed.connect(this._onTitleChanged,this),this.update();return}o===this._menus.length&&o--,i!==o&&(L.move(this._menus,i,o),this.update())},n.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},n.prototype.removeMenuAt=function(e){this._closeChildMenu();var r=L.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),r.removeClass("p-MenuBar-menu"),this.update())},n.prototype.clearMenus=function(){if(this._menus.length!==0){this._closeChildMenu();for(var e=0,r=this._menus;e<r.length;e++){var i=r[e];i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),i.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},n.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},n.prototype.onActivateRequest=function(e){this.isAttached&&(this.activeIndex=0)},n.prototype.onUpdateRequest=function(e){for(var r=this,i=this._menus,o=this.renderer,s=this._activeIndex,a=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,u=new Array(i.length),c=function(f,d){var h=i[f].title,p=f===s;p&&i[f].items.length==0&&(p=!1),u[f]=o.renderItem({title:h,active:p,tabbable:f===a,onfocus:function(){r.activeIndex=f}})},l=0,m=i.length;l<m;++l)c(l);Be.render(u,this.contentNode)},n.prototype._evtKeyDown=function(e){var r=e.keyCode;if(r===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),r===13||r===32||r===38||r===40){this.openActiveMenu();return}if(r===27){this._closeChildMenu(),this.activeIndex=-1,this.node.blur();return}if(r===37){var i=this._activeIndex,o=this._menus.length;this.activeIndex=i===0?o-1:i-1;return}if(r===39){var i=this._activeIndex,o=this._menus.length;this.activeIndex=i===o-1?0:i+1;return}var s=_t().keyForKeydownEvent(e);if(s){var a=this._activeIndex+1,u=vn.findMnemonic(this._menus,s,a);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}},n.prototype._evtMouseDown=function(e){if(U.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var r=L.findFirstIndex(this.contentNode.children,function(o){return U.hitTest(o,e.clientX,e.clientY)});if(r===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=r;else{var i=this._positionForMenu(r);Et.saveWindowData(),this.activeIndex=r,this._openChildMenu(i)}}},n.prototype._evtMouseMove=function(e){var r=L.findFirstIndex(this.contentNode.children,function(o){return U.hitTest(o,e.clientX,e.clientY)});if(r!==this._activeIndex&&!(r===-1&&this._childMenu)){var i=this._positionForMenu(r);Et.saveWindowData(),this.activeIndex=r,this._childMenu&&this._openChildMenu(i)}},n.prototype._positionForMenu=function(e){var r=this.contentNode.children[e],i=r.getBoundingClientRect(),o=i.left,s=i.bottom;return{top:s,left:o}},n.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},n.prototype._openChildMenu=function(e){var r;e===void 0&&(e={});var i=this.activeMenu;if(!i){this._closeChildMenu();return}var o=this._childMenu;if(o!==i){this._childMenu=i,o?o.close():document.addEventListener("mousedown",this,!0),O.sendMessage(this,B.Msg.UpdateRequest);var s=e.left,a=e.top;(typeof s=="undefined"||typeof a=="undefined")&&(r=this._positionForMenu(this._activeIndex),s=r.left,a=r.top),o||(this.addClass("lm-mod-active"),this.addClass("p-mod-active")),i.items.length>0&&i.open(s,a,this._forceItemsPosition)}},n.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},n.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},n.prototype._onMenuMenuRequested=function(e,r){if(e===this._childMenu){var i=this._activeIndex,o=this._menus.length;switch(r){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}},n.prototype._onTitleChanged=function(){this.update()},n}(B);(function(t){var n=function(){function e(){}return e.prototype.renderItem=function(r){var i=this.createItemClass(r),o=this.createItemDataset(r),s=this.createItemARIA(r);return K.li(ae({className:i,dataset:o,tabindex:r.tabbable?"0":"-1",onfocus:r.onfocus},s),this.renderIcon(r),this.renderLabel(r))},e.prototype.renderIcon=function(r){var i=this.createIconClass(r);return typeof r.title.icon=="string"?K.div({className:i},r.title.iconLabel):K.div({className:i},r.title.icon,r.title.iconLabel)},e.prototype.renderLabel=function(r){var i=this.formatLabel(r);return K.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},i)},e.prototype.createItemClass=function(r){var i="lm-MenuBar-item";return i+=" p-MenuBar-item",r.title.className&&(i+=" "+r.title.className),r.active&&(i+=" lm-mod-active",i+=" p-mod-active"),i},e.prototype.createItemDataset=function(r){return r.title.dataset},e.prototype.createItemARIA=function(r){return{role:"menuitem","aria-haspopup":"true"}},e.prototype.createIconClass=function(r){var i="lm-MenuBar-itemIcon";i+=" p-MenuBar-itemIcon";var o=r.title.iconClass;return o?i+" "+o:i},e.prototype.formatLabel=function(r){var i=r.title,o=i.label,s=i.mnemonic;if(s<0||s>=o.length)return o;var a=o.slice(0,s),u=o.slice(s+1),c=o[s],l=K.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},c);return[a,l,u]},e}();t.Renderer=n,t.defaultRenderer=new n})(vi||(vi={}));var vn;(function(t){function n(){var r=document.createElement("div"),i=document.createElement("ul");return i.className="lm-MenuBar-content",i.classList.add("p-MenuBar-content"),r.appendChild(i),i.setAttribute("role","menubar"),r}t.createNode=n;function e(r,i,o){for(var s=-1,a=-1,u=!1,c=i.toUpperCase(),l=0,m=r.length;l<m;++l){var f=(l+o)%m,d=r[f].title;if(d.label.length!==0){var h=d.mnemonic;if(h>=0&&h<d.label.length){d.label[h].toUpperCase()===c&&(s===-1?s=f:u=!0);continue}a===-1&&d.label[0].toUpperCase()===c&&(a=f)}}return{index:s,multiple:u,auto:a}}t.findMnemonic=e})(vn||(vn={}));var Od=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{node:bn.createNode()})||this;return r._onRepeat=function(){if(r._repeatTimer=-1,!!r._pressData){var i=r._pressData.part;if(i!=="thumb"){r._repeatTimer=window.setTimeout(r._onRepeat,20);var o=r._pressData.mouseX,s=r._pressData.mouseY;if(i==="decrement"){if(!U.hitTest(r.decrementNode,o,s))return;r._stepRequested.emit("decrement");return}if(i==="increment"){if(!U.hitTest(r.incrementNode,o,s))return;r._stepRequested.emit("increment");return}if(i==="track"){if(!U.hitTest(r.trackNode,o,s))return;var a=r.thumbNode;if(U.hitTest(a,o,s))return;var u=a.getBoundingClientRect(),c=void 0;r._orientation==="horizontal"?c=o<u.left?"decrement":"increment":c=s<u.top?"decrement":"increment",r._pageRequested.emit(c);return}}}},r._value=0,r._page=10,r._maximum=100,r._repeatTimer=-1,r._pressData=null,r._thumbMoved=new $(r),r._stepRequested=new $(r),r._pageRequested=new $(r),r.addClass("lm-ScrollBar"),r.addClass("p-ScrollBar"),r.setFlag(B.Flag.DisallowLayout),r._orientation=e.orientation||"vertical",r.dataset.orientation=r._orientation,e.maximum!==void 0&&(r._maximum=Math.max(0,e.maximum)),e.page!==void 0&&(r._page=Math.max(0,e.page)),e.value!==void 0&&(r._value=Math.max(0,Math.min(e.value,r._maximum))),r}return Object.defineProperty(n.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},n.prototype.onUpdateRequest=function(e){var r=this._value*100/this._maximum,i=this._page*100/(this._page+this._maximum);r=Math.max(0,Math.min(r,100)),i=Math.max(0,Math.min(i,100));var o=this.thumbNode.style;this._orientation==="horizontal"?(o.top="",o.height="",o.left=r+"%",o.width=i+"%",o.transform="translate("+-r+"%, 0%)"):(o.left="",o.width="",o.top=r+"%",o.height=i+"%",o.transform="translate(0%, "+-r+"%)")},n.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),e.keyCode===27){var r=this._pressData?this._pressData.value:-1;this._releaseMouse(),r!==-1&&this._moveThumb(r)}},n.prototype._evtMouseDown=function(e){if(e.button===0&&(this.activate(),!this._pressData)){var r=bn.findPart(this,e.target);if(r){e.preventDefault(),e.stopPropagation();var i=Xe.overrideCursor("default");if(this._pressData={part:r,override:i,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),r==="thumb"){var o=this.thumbNode,s=o.getBoundingClientRect();this._orientation==="horizontal"?this._pressData.delta=e.clientX-s.left:this._pressData.delta=e.clientY-s.top,o.classList.add("lm-mod-active"),o.classList.add("p-mod-active"),this._pressData.value=this._value;return}if(r==="track"){var s=this.thumbNode.getBoundingClientRect(),a=void 0;this._orientation==="horizontal"?a=e.clientX<s.left?"decrement":"increment":a=e.clientY<s.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),this._pageRequested.emit(a);return}if(r==="decrement"){this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("decrement");return}if(r==="increment"){this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("increment");return}}}},n.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,this._pressData.part==="thumb")){var r=this.thumbNode.getBoundingClientRect(),i=this.trackNode.getBoundingClientRect(),o,s;this._orientation==="horizontal"?(o=e.clientX-i.left-this._pressData.delta,s=i.width-r.width):(o=e.clientY-i.top-this._pressData.delta,s=i.height-r.height);var a=s===0?0:o*this._maximum/s;this._moveThumb(a)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},n.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},n.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))},n}(B),bn;(function(t){function n(){var r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");return i.className="lm-ScrollBar-button",o.className="lm-ScrollBar-button",i.dataset.action="decrement",o.dataset.action="increment",s.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",i.classList.add("p-ScrollBar-button"),o.classList.add("p-ScrollBar-button"),s.classList.add("p-ScrollBar-track"),a.classList.add("p-ScrollBar-thumb"),s.appendChild(a),r.appendChild(i),r.appendChild(s),r.appendChild(o),r}t.createNode=n;function e(r,i){return r.thumbNode.contains(i)?"thumb":r.trackNode.contains(i)?"track":r.decrementNode.contains(i)?"decrement":r.incrementNode.contains(i)?"increment":null}t.findPart=e})(bn||(bn={}));var Bd=function(t){Q(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._widget=null,e}return n.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"widget",{get:function(){return this._widget},set:function(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return this._widget?Bt(this._widget):ye()},n.prototype.removeWidget=function(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))},n.prototype.init=function(){var e=this;t.prototype.init.call(this),N(this,function(r){e.attachWidget(r)})},n.prototype.attachWidget=function(e){this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterAttach)},n.prototype.detachWidget=function(e){this.parent.isAttached&&O.sendMessage(e,B.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&O.sendMessage(e,B.Msg.AfterDetach)},n}(Qe),Bs=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,e)||this;return r._dirty=!1,r._items=[],r._box=null,r._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:B.HiddenMode.Display,r}return Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var r=this;this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(function(i){i.hiddenMode=r._hiddenMode}))},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){N(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,t.prototype.dispose.call(this)},n.prototype.attachWidget=function(e,r){this._hiddenMode===B.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=B.HiddenMode.Scale),r.hiddenMode=B.HiddenMode.Scale):r.hiddenMode=B.HiddenMode.Display,L.insert(this._items,e,new Vt(r)),this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeAttach),this.parent.node.appendChild(r.node),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,r,i){L.move(this._items,e,r),this.parent.update()},n.prototype.detachWidget=function(e,r){var i=L.removeAt(this._items,e);this.parent.isAttached&&O.sendMessage(r,B.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&O.sendMessage(r,B.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===B.HiddenMode.Scale&&(r.hiddenMode=B.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=B.HiddenMode.Display)),i.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,r=0,i=0,o=this._items.length;i<o;++i){var s=this._items[i];s.isHidden||(s.fit(),e=Math.max(e,s.minWidth),r=Math.max(r,s.minHeight))}var a=this._box=U.boxSizing(this.parent.node);e+=a.horizontalSum,r+=a.verticalSum;var u=this.parent.node.style;u.minWidth=e+"px",u.minHeight=r+"px",this._dirty=!0,this.parent.parent&&O.sendMessage(this.parent.parent,B.Msg.FitRequest),this._dirty&&O.sendMessage(this.parent,B.Msg.UpdateRequest)},n.prototype._update=function(e,r){this._dirty=!1;for(var i=0,o=0,s=this._items.length;o<s;++o)i+=+!this._items[o].isHidden;if(i!==0){e<0&&(e=this.parent.node.offsetWidth),r<0&&(r=this.parent.node.offsetHeight),this._box||(this._box=U.boxSizing(this.parent.node));for(var a=this._box.paddingTop,u=this._box.paddingLeft,c=e-this._box.horizontalSum,l=r-this._box.verticalSum,o=0,s=this._items.length;o<s;++o){var m=this._items[o];m.isHidden||(m.widget.node.style.zIndex=""+o,m.update(u,a,c,l))}}},n}(yn),Rs=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,{layout:kr.createLayout(e)})||this;return r._widgetRemoved=new $(r),r.addClass("lm-StackedPanel"),r.addClass("p-StackedPanel"),r}return Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),n.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child"),e.child.addClass("p-StackedPanel-child")},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child"),e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},n}(Tr),kr;(function(t){function n(e){return e.layout||new Bs}t.createLayout=n})(kr||(kr={}));var bi=function(t){Q(n,t);function n(e){e===void 0&&(e={});var r=t.call(this)||this;r._currentChanged=new $(r),r._addRequested=new $(r),r.addClass("lm-TabPanel"),r.addClass("p-TabPanel"),r.tabBar=new St(e),r.tabBar.addClass("lm-TabPanel-tabBar"),r.stackedPanel=new Rs,r.stackedPanel.addClass("lm-TabPanel-stackedPanel"),r.tabBar.addClass("p-TabPanel-tabBar"),r.stackedPanel.addClass("p-TabPanel-stackedPanel"),r.tabBar.tabMoved.connect(r._onTabMoved,r),r.tabBar.currentChanged.connect(r._onCurrentChanged,r),r.tabBar.tabCloseRequested.connect(r._onTabCloseRequested,r),r.tabBar.tabActivateRequested.connect(r._onTabActivateRequested,r),r.tabBar.addRequested.connect(r._onTabAddRequested,r),r.stackedPanel.widgetRemoved.connect(r._onWidgetRemoved,r),r._tabPlacement=e.tabPlacement||"top";var i=Mt.directionFromPlacement(r._tabPlacement),o=Mt.orientationFromPlacement(r._tabPlacement);r.tabBar.orientation=o,r.tabBar.dataset.placement=r._tabPlacement;var s=new Ie({direction:i,spacing:0});return Ie.setStretch(r.tabBar,0),Ie.setStretch(r.stackedPanel,1),s.addWidget(r.tabBar),s.addWidget(r.stackedPanel),r.layout=s,r}return Object.defineProperty(n.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(e){this.tabBar.addButtonEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var r=Mt.directionFromPlacement(e),i=Mt.orientationFromPlacement(e);this.tabBar.orientation=i,this.tabBar.dataset.placement=e,this.layout.direction=r}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},n.prototype.insertWidget=function(e,r){r!==this.currentWidget&&r.hide(),this.stackedPanel.insertWidget(e,r),this.tabBar.insertTab(e,r.title),r.node.setAttribute("role","tabpanel");var i=this.tabBar.renderer;if(i instanceof St.Renderer){var o=i.createTabKey({title:r.title,current:!1,zIndex:0});r.node.setAttribute("aria-labelledby",o)}},n.prototype._onCurrentChanged=function(e,r){var i=r.previousIndex,o=r.previousTitle,s=r.currentIndex,a=r.currentTitle,u=o?o.owner:null,c=a?a.owner:null;u&&u.hide(),c&&c.show(),this._currentChanged.emit({previousIndex:i,previousWidget:u,currentIndex:s,currentWidget:c}),(se.IS_EDGE||se.IS_IE)&&O.flush()},n.prototype._onTabAddRequested=function(e,r){this._addRequested.emit(e)},n.prototype._onTabActivateRequested=function(e,r){r.title.owner.activate()},n.prototype._onTabCloseRequested=function(e,r){r.title.owner.close()},n.prototype._onTabMoved=function(e,r){this.stackedPanel.insertWidget(r.toIndex,r.title.owner)},n.prototype._onWidgetRemoved=function(e,r){r.node.removeAttribute("role"),r.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(r.title)},n}(B),Mt;(function(t){function n(o){return r[o]}t.orientationFromPlacement=n;function e(o){return i[o]}t.directionFromPlacement=e;var r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},i={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Mt||(Mt={}));var _n=class extends B{constructor(e,r){super({node:r});this._host=e;this.addClass("hpcc-LuminoAdapter")}onCloseRequest(e){!this._host.$emit("closeRequest",this.node)||super.onCloseRequest(e)}};var yi=0,Ze=class extends $e{constructor(){super();this._childCount=0;this.createPanel(),this.slotChanged(),this._slot.addEventListener("slotchange",()=>this.slotChanged())}slotChanged(){let e=this._slot.assignedElements(),r={};for(let i=0;i<e.length;++i){++this._childCount;let o=e[i],s=document.createElement("slot");s.setAttribute("name",`slot_${++yi}`),s.style.cssText=o.style.cssText,s.style.display="inline-block";let a=new _n(this,s);r[o.id]=a,a.title.label=o.dataset.label||o.id&&`#${o.id}`||`${o.tagName} ${this._childCount}`,a.title.closable=ri(o.dataset.closable),a.title.caption=o.dataset.caption||a.title.label,a.title.className=o.dataset.className||"",a.title.iconClass=o.dataset.iconClass||"",a.title.iconLabel=o.dataset.iconLabel||"",this.addWidget(a,o,o.dataset.ref?r[o.dataset.ref]:void 0),o.setAttribute("slot",`slot_${yi}`)}}destruct(){for(let e=0;e<this.childElementCount;++e)--this._childCount,this.children[e].setAttribute("slot","")}exit(){this.destruct(),super.exit()}};var Ct=X`
.lm-Widget {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  cursor: default;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}
`,qd=X`
.lm-AccordionPanel[data-orientation='horizontal'] > .lm-AccordionPanel-title {
    display: block;
    transform-origin: top left;
    transform: rotate(-90deg) translate(-100%);
  }
`,$d=X`
.lm-CommandPalette {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-CommandPalette-search {
  flex: 0 0 auto;
}

.lm-CommandPalette-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  min-height: 0;
  overflow: auto;
  list-style-type: none;
}

.lm-CommandPalette-header {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-CommandPalette-item {
  display: flex;
  flex-direction: row;
}

.lm-CommandPalette-itemIcon {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemContent {
  flex: 1 1 auto;
  overflow: hidden;
}

.lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemLabel {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-close-icon {
  border: 1px solid transparent;
  background-color: transparent;
  position: absolute;
  z-index: 1;
  right: 3%;
  top: 0;
  bottom: 0;
  margin: auto;
  padding: 7px 0;
  display: none;
  vertical-align: middle;
  outline: 0;
  cursor: pointer;
}
.lm-close-icon:after {
  content: 'X';
  display: block;
  width: 15px;
  height: 15px;
  text-align: center;
  color: #000;
  font-weight: normal;
  font-size: 12px;
  cursor: pointer;
}
`,_i=X`
.lm-DockPanel {
  z-index: 0;
}

.lm-DockPanel-widget {
  z-index: 0;
}

.lm-DockPanel-tabBar {
  z-index: 1;
}

.lm-DockPanel-handle {
  z-index: 2;
}

.lm-DockPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-DockPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-DockPanel-handle[data-orientation='horizontal'] {
  cursor: ew-resize;
}

.lm-DockPanel-handle[data-orientation='vertical'] {
  cursor: ns-resize;
}

.lm-DockPanel-handle[data-orientation='horizontal']:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-DockPanel-handle[data-orientation='vertical']:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

.lm-DockPanel-overlay {
  z-index: 3;
  box-sizing: border-box;
  pointer-events: none;
}

.lm-DockPanel-overlay.lm-mod-hidden {
  display: none !important;
}
`,Kd=X`
.lm-Menu {
  z-index: 10000;
  position: absolute;
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-Menu-content {
  margin: 0;
  padding: 0;
  display: table;
  list-style-type: none;
}

.lm-Menu-item {
  display: table-row;
}

.lm-Menu-item.lm-mod-hidden,
.lm-Menu-item.lm-mod-collapsed {
  display: none !important;
}

.lm-Menu-itemIcon,
.lm-Menu-itemSubmenuIcon {
  display: table-cell;
  text-align: center;
}

.lm-Menu-itemLabel {
  display: table-cell;
  text-align: left;
}

.lm-Menu-itemShortcut {
  display: table-cell;
  text-align: right;
}
`,Ud=X`
.lm-MenuBar {
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-MenuBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  list-style-type: none;
}

.lm-MenuBar-item {
  box-sizing: border-box;
}

.lm-MenuBar-itemIcon,
.lm-MenuBar-itemLabel {
  display: inline-block;
}
`,Xd=X`
.lm-ScrollBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-ScrollBar[data-orientation='horizontal'] {
  flex-direction: row;
}

.lm-ScrollBar[data-orientation='vertical'] {
  flex-direction: column;
}

.lm-ScrollBar-button {
  box-sizing: border-box;
  flex: 0 0 auto;
}

.lm-ScrollBar-track {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  flex: 1 1 auto;
}

.lm-ScrollBar-thumb {
  box-sizing: border-box;
  position: absolute;
}
`,xn=X`
.lm-SplitPanel-child {
  z-index: 0;
}

.lm-SplitPanel-handle {
  z-index: 1;
}

.lm-SplitPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-SplitPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {
  cursor: ew-resize;
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {
  cursor: ns-resize;
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}
`,wn=X`
.lm-TabBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-TabBar[data-orientation='horizontal'] {
  flex-direction: row;
  align-items: flex-end;
}

.lm-TabBar[data-orientation='vertical'] {
  flex-direction: column;
  align-items: flex-end;
}

.lm-TabBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
}

.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {
  flex-direction: row;
}

.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {
  flex-direction: column;
}

.lm-TabBar-tab {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  overflow: hidden;
  touch-action: none;
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabCloseIcon {
  flex: 0 0 auto;
}

.lm-TabBar-tabLabel {
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
}

.lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
}

.lm-TabBar-tab.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar-addButton.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {
  position: relative;
}

.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {
  left: 0;
  transition: left 150ms ease;
}

.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {
  top: 0;
  transition: top 150ms ease;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {
  transition: none;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
  background: inherit;
}
`,Mn=X`
.lm-TabPanel-tabBar {
  z-index: 1;
}

.lm-TabPanel-stackedPanel {
  z-index: 0;
}
`,xi=X`
body.lm-mod-override-cursor * {
  cursor: inherit !important;
}

host:.lm-mod-override-cursor * {
  cursor: inherit !important;
}

host: > div.lm-mod-override-cursor * {
  cursor: inherit !important;
}
`;var Qd=X`
.lm-AccordionPanel .lm-AccordionPanel-title {
    box-sizing: border-box;
    padding: 0px 10px;
    background: #e5e5e5;
    border: 1px solid #c0c0c0;
    border-bottom: none;
    font: 12px Helvetica, Arial, sans-serif;
    min-height: 22px;
    max-height: 22px;
    min-width: 35px;
    line-height: 20px;
    margin: 0px;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:focus,
  .lm-AccordionPanel .lm-AccordionPanel-title:hover {
    background: #dbdbdb;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:focus,
  .lm-AccordionPanel
    .lm-AccordionPanel-title:last-of-type:focus:not(.lm-mod-expanded) {
    border: 1px solid lightskyblue;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-title:last-of-type:not(.lm-mod-expanded) {
    border-bottom: 1px solid #c0c0c0;
  }
  
  .lm-AccordionPanel
    .lm-AccordionPanel-title.lm-mod-expanded
    .lm-AccordionPanel-titleCollapser:before {
    content: '\\f0d8'; /* fa-caret-up */
    font-family: FontAwesome;
  }
  
  .lm-AccordionPanel
    .lm-AccordionPanel-title
    .lm-AccordionPanel-titleCollapser:before {
    content: '\\f0d7'; /* fa-caret-down */
    font-family: FontAwesome;
    position: absolute;
    right: 10px;
  }
  
  .lm-AccordionPanel .lm-AccordionPanel-titleLabel {
    padding: 0px 5px;
  }
  `,Zd=X`
.lm-CommandPalette {
  font-family: sans-serif;
  background: #f5f5f5;
}

.lm-CommandPalette-search {
  padding: 8px;
}

.lm-CommandPalette-wrapper {
  padding: 4px 6px;
  background: white;
  border: 1px solid #e0e0e0;
  position: relative;
}

.lm-CommandPalette-input {
  width: 92%;
  border: none;
  outline: none;
  font-size: 16px;
}

.lm-CommandPalette-header {
  padding: 4px;
  color: #757575;
  font-size: 12px;
  font-weight: 600;
  background: #e1e1e1;
  cursor: pointer;
}

.lm-CommandPalette-header:hover::before {
  content: '\\2026';
  float: right;
  margin-right: 4px;
}

.lm-CommandPalette-header > mark {
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item {
  padding: 4px 8px;
  color: #757575;
  font-size: 13px;
  font-weight: 500;
}

.lm-CommandPalette-emptyMessage {
  padding: 4px;
  color: #757575;
  font-size: 12px;
  font-weight: 600;
  text-align: center;
}

.lm-CommandPalette-item.lm-mod-disabled {
  color: rgba(0, 0, 0, 0.25);
}

.lm-CommandPalette-item.lm-mod-active {
  background: #7fdbff;
}

.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {
  background: #e5e5e5;
}

.lm-CommandPalette-itemIcon {
  display: none;
}

.lm-CommandPalette-itemLabel > mark {
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item.lm-mod-disabled mark {
  color: rgba(0, 0, 0, 0.4);
}

.lm-CommandPalette-itemCaption {
  color: #9e9e9e;
  font-size: 11px;
  font-weight: 400;
}
`,Jd=X`
.lm-DataGrid {
  min-width: 64px;
  min-height: 64px;
  border: 1px solid #a0a0a0;
}

.lm-DataGrid-scrollCorner {
  background-color: #f0f0f0;
}

.lm-DataGrid-scrollCorner::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
  background-color: #a0a0a0;
}

.lm-DataGrid-cellEditorOccluder {
  pointer-events: none;
  position: absolute;
  overflow: hidden;
}

.lm-DataGrid-cellEditorContainer {
  pointer-events: auto;
  position: absolute;
  background-color: #ffffff;
  box-sizing: border-box;
  box-shadow: 0px 0px 6px #006bf7;
  border: 2px solid #006bf7;
}

.lm-DataGrid-cellEditorContainer.lm-mod-invalid {
  box-shadow: 0px 0px 6px red;
  border: 2px solid red;
}

.lm-DataGrid-cellEditorContainer > form {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.lm-DataGrid-cellEditorWidget {
  width: 100%;
  height: 100%;
  outline: none;
  box-sizing: border-box;
}

.lm-DataGrid-cellEditorInput {
  background-color: #ffffff;
  border: 0;
}

.lm-DataGrid-cellEditorCheckbox {
  margin: 0;
}

.lm-DataGrid-notification {
  position: absolute;
  display: flex;
  overflow: visible;
  animation: fade-in 300ms ease-out;
}

.lm-DataGrid-notificationContainer {
  box-shadow: 0px 2px 5px #999999;
  border-radius: 3px;
  background-color: white;
  color: black;
  border: 1px solid black;
  font-family: sans-serif;
  font-size: 13px;
  padding: 4px;
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
}
`,wi=X`
.lm-DockPanel-overlay {
  background: rgba(255, 255, 255, 0.6);
  border: 1px dashed black;
  transition-property: top, left, right, bottom;
  transition-duration: 150ms;
  transition-timing-function: ease;
}
`,eh=X`
.lm-Menu {
  padding: 3px 0px;
  background: white;
  color: rgba(0, 0, 0, 0.87);
  border: 1px solid #c0c0c0;
  font: 12px Helvetica, Arial, sans-serif;
  box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.2);
}

.lm-Menu-item.lm-mod-active {
  background: #e5e5e5;
}

.lm-Menu-item.lm-mod-disabled {
  color: rgba(0, 0, 0, 0.25);
}

.lm-Menu-itemIcon {
  width: 21px;
  padding: 4px 2px;
}

.lm-Menu-itemLabel {
  padding: 4px 35px 4px 2px;
}

.lm-Menu-itemMnemonic {
  text-decoration: underline;
}

.lm-Menu-itemShortcut {
  padding: 4px 0px;
}

.lm-Menu-itemSubmenuIcon {
  width: 16px;
  padding: 4px 0px;
}

.lm-Menu-item[data-type='separator'] > div {
  padding: 0;
  height: 9px;
}

.lm-Menu-item[data-type='separator'] > div::after {
  content: '';
  display: block;
  position: relative;
  top: 4px;
  border-top: 1px solid #dddddd;
}

.lm-Menu-itemIcon::before,
.lm-Menu-itemSubmenuIcon::before {
  font-family: FontAwesome;
}

.lm-Menu-item.lm-mod-toggled > .lm-Menu-itemIcon::before {
  content: '\\f00c';
}

.lm-Menu-item[data-type='submenu'] > .lm-Menu-itemSubmenuIcon::before {
  content: '\\f0da';
}
`,th=X`
.lm-MenuBar {
  padding-left: 5px;
  background: #fafafa;
  color: rgba(0, 0, 0, 0.87);
  border-bottom: 1px solid #dddddd;
  font: 13px Helvetica, Arial, sans-serif;
}

.lm-MenuBar-menu {
  transform: translateY(-1px);
}

.lm-MenuBar-item {
  padding: 4px 8px;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
}

.lm-MenuBar-item.lm-mod-active {
  background: #e5e5e5;
}

.lm-MenuBar.lm-mod-active .lm-MenuBar-item.lm-mod-active {
  z-index: 10001;
  background: white;
  border-left: 1px solid #c0c0c0;
  border-right: 1px solid #c0c0c0;
  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2);
}
`,nh=X`
.lm-ScrollBar[data-orientation='horizontal'] {
  min-height: 16px;
  max-height: 16px;
  min-width: 45px;
  border-top: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] {
  min-width: 16px;
  max-width: 16px;
  min-height: 45px;
  border-left: 1px solid #a0a0a0;
}

.lm-ScrollBar-button {
  background-color: #f0f0f0;
  background-position: center center;
  min-height: 15px;
  max-height: 15px;
  min-width: 15px;
  max-width: 15px;
}

.lm-ScrollBar-button:hover {
  background-color: #dadada;
}

.lm-ScrollBar-button.lm-mod-active {
  background-color: #cdcdcd;
}

.lm-ScrollBar-track {
  background: #f0f0f0;
}

.lm-ScrollBar-thumb {
  background: #cdcdcd;
}

.lm-ScrollBar-thumb:hover {
  background: #bababa;
}

.lm-ScrollBar-thumb.lm-mod-active {
  background: #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-thumb {
  height: 100%;
  min-width: 15px;
  border-left: 1px solid #a0a0a0;
  border-right: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-thumb {
  width: 100%;
  min-height: 15px;
  border-top: 1px solid #a0a0a0;
  border-bottom: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-button[data-action='decrement']:before {
  content: '\\f0d9';  /* fa-caret-left */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-button[data-action='increment']:before {
  content: '\\f0da';  /* fa-caret-right */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-button[data-action='decrement']:before {
  content: '\\f0d8';  /* fa-caret-up */
  font-family: FontAwesome;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-button[data-action='increment']:before {
  content: '\\f0d7';  /* fa-caret-down */
  font-family: FontAwesome;
}
`,En=X`
.lm-TabBar {
  min-height: 24px;
  max-height: 24px;
}

.lm-TabBar-content {
  min-width: 0;
  min-height: 0;
  align-items: flex-end;
  border-bottom: 1px solid #c0c0c0;
}

.lm-TabBar-tab {
  padding: 0px 10px;
  background: #e5e5e5;
  border: 1px solid #c0c0c0;
  border-bottom: none;
  font: 12px Helvetica, Arial, sans-serif;
  flex: 0 1 125px;
  min-height: 20px;
  max-height: 20px;
  min-width: 35px;
  margin-left: -1px;
  line-height: 20px;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  padding: 0px;
  border: 0px;
  font: 12px Helvetica, Arial, sans-serif;
}

.lm-TabBar-tab.lm-mod-current {
  background: white;
}

.lm-TabBar-tab:hover:not(.lm-mod-current) {
  background: #f0f0f0;
}

.lm-TabBar-tab:first-child {
  margin-left: 0;
}

.lm-TabBar-tab.lm-mod-current {
  min-height: 23px;
  max-height: 23px;
  transform: translateY(1px);
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabLabel,
.lm-TabBar-tabCloseIcon {
  display: inline-block;
}

.lm-TabBar-tab.lm-mod-closable > .lm-TabBar-tabCloseIcon {
  margin-left: 4px;
}

.lm-TabBar .lm-TabBar-addButton {
  padding: 0px 6px;
  border-bottom: 1px solid #c0c0c0;
}

.lm-TabBar-tab.lm-mod-closable > .lm-TabBar-tabCloseIcon:before {
  content: '\\f00d'; /* fa-close */
  font-family: FontAwesome;
}

.lm-TabBar .lm-TabBar-addButton:before {
  content: '\\f067'; /* fa-plus */
  font-family: FontAwesome;
}

.lm-TabBar-tab.lm-mod-drag-image {
  min-height: 23px;
  max-height: 23px;
  min-width: 125px;
  border: none;
  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  transform: translateX(-40%) translateY(-58%);
}
`;var Ns=Pe`\
<div ${pe("_div")}>
</div>
<slot ${pe("_slot")}></slot>`,Vs=X`
${Ae("inline-block")} 

:host > slot {
    visibility: hidden;
}

${xi}
${Ct}
${xn}
${wn}
${Mn}
${_i}

${wi}
${En}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
    border-top: none;
}
`,Sn=class extends Ze{constructor(){super()}createPanel(){this._dockPanel=new gn({document:this.shadowRoot})}addWidget(n,e,r){this._dockPanel.addWidget(n,{mode:e.dataset.mode,ref:r})}enter(){super.enter(),B.attach(this._dockPanel,this._div),O.installMessageHook(this._dockPanel,this)}update(n){super.update(n),this._dockPanel.node.style.width=`${this.clientWidth}px`,this._dockPanel.node.style.height=`${this.clientHeight}px`,this._dockPanel.update()}exit(){O.removeMessageHook(this._dockPanel,this),B.detach(this._dockPanel),super.exit()}messageHook(n,e){if(n===this._dockPanel){switch(e.type){case"child-added":case"child-hidden":case"child-removed":case"child-shown":case"closeRequest":case"fit-request":case"layout-modified":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${e.type}`)}this.$emit(e.type,e)}return!0}};Sn=ne([De("hpcc-dockpanel",{template:Ns,styles:Vs})],Sn);var Hs=Pe`\
<div ${pe("_div")}>
</div>
<slot ${pe("_slot")}></slot>`,Fs=X`
${Ae("inline-block")} 

${Ct}
${xn}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
}`,It=class extends Ze{constructor(){super();this.orientation="horizontal";this.spacing=4}createPanel(){this._splitPanel=new ct({orientation:this.orientation,spacing:this.spacing})}addWidget(e,r,i){this._splitPanel.addWidget(e),r.dataset.border_width!==void 0&&(e.node.style.borderWidth=`${r.dataset.border_width}px`),r.dataset.padding!==void 0&&(e.node.style.padding=`${r.dataset.padding}px`)}enter(){super.enter(),B.attach(this._splitPanel,this._div),O.installMessageHook(this._splitPanel,this)}update(e){super.update(e),this._splitPanel.orientation=this.orientation,this._splitPanel.spacing=this.spacing,this._splitPanel.node.style.width=`${this.clientWidth}px`,this._splitPanel.node.style.height=`${this.clientHeight}px`,this._splitPanel.update(),this.$emit("update-request",this)}exit(){O.removeMessageHook(this._splitPanel,this),B.detach(this._splitPanel),super.exit()}messageHook(e,r){if(e===this._splitPanel){switch(r.type){case"fit-request":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${r.type}`)}this.$emit(r.type,r)}return!0}};ne([ve],It.prototype,"orientation",2),ne([ve({type:"number"})],It.prototype,"spacing",2),It=ne([De("hpcc-splitpanel",{template:Hs,styles:Fs})],It);var Ws=Pe`\
<div ${pe("_div")}>
</div>
<slot ${pe("_slot")}></slot>`,js=X`
${Ae("inline-block")} 

:host > slot {
    visibility: hidden;
}

${Ct}
${wn}
${Mn}

${En}

.hpcc-LuminoAdapter {
    padding: 8px;
    border: 1px solid #c0c0c0;
}

:host-context([tab_placement="top"]) .hpcc-LuminoAdapter  {
    border-top: none;
}

:host-context([tab_placement="bottom"]) .hpcc-LuminoAdapter  {
    border-bottom: none;
}
`,lt=class extends Ze{constructor(){super();this.tabs_movable=!1;this.add_button_enabled=!1;this.tab_placement="top"}createPanel(){this._tabPanel=new bi({document:this.shadowRoot,tabsMovable:this.tabs_movable,addButtonEnabled:this.add_button_enabled,tabPlacement:this.tab_placement})}addWidget(e,r,i){this._tabPanel.addWidget(e)}enter(){super.enter(),B.attach(this._tabPanel,this._div),O.installMessageHook(this._tabPanel,this)}update(e){super.update(e),this._tabPanel.tabsMovable=this.tabs_movable,this._tabPanel.addButtonEnabled=this.add_button_enabled,this._tabPanel.tabPlacement=this.tab_placement,this._tabPanel.node.style.width=`${this.clientWidth}px`,this._tabPanel.node.style.height=`${this.clientHeight}px`,this._tabPanel.update()}exit(){O.removeMessageHook(this._tabPanel,this),B.detach(this._tabPanel),super.exit()}messageHook(e,r){if(e===this._tabPanel){switch(r.type){case"fit-request":case"update-request":break;default:console.warn(`${this.constructor.name} undocumented message type: ${r.type}`)}this.$emit(r.type,r)}return!0}};ne([ve({type:"boolean"})],lt.prototype,"tabs_movable",2),ne([ve({type:"boolean"})],lt.prototype,"add_button_enabled",2),ne([ve],lt.prototype,"tab_placement",2),lt=ne([De("hpcc-tabpanel",{template:Ws,styles:js})],lt);var qs=Pe`\
<div ${pe("_div")}>
    <slot></slot>
</div>`,$s=X`
${Ae("inline-block")} 
`,Cn=class extends $e{constructor(){super()}enter(){super.enter()}update(n){super.update(n),this._div.style.width=`${this.clientWidth}px`,this._div.style.height=`${this.clientHeight}px`}};Cn=ne([De("hpcc-pane",{template:qs,styles:$s})],Cn);var Ks={value:()=>{}};function Ei(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new In(e)}function In(t){this._=t}function Us(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}In.prototype=Ei.prototype={constructor:In,on:function(t,n){var e=this._,r=Us(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Xs(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Mi(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Mi(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new In(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Xs(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Mi(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ks,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Ht=Ei;var kn="http://www.w3.org/1999/xhtml",Ar={svg:"http://www.w3.org/2000/svg",xhtml:kn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ve(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ar.hasOwnProperty(n)?{space:Ar[n],local:t}:t}function Ys(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===kn&&n.documentElement.namespaceURI===kn?n.createElement(t):n.createElementNS(e,t)}}function Gs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tn(t){var n=Ve(t);return(n.local?Gs:Ys)(n)}function Qs(){}function dt(t){return t==null?Qs:function(){return this.querySelector(t)}}function Si(t){typeof t!="function"&&(t=dt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,c,l=0;l<s;++l)(u=o[l])&&(c=t.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),a[l]=c);return new J(r,this._parents)}function Pr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zs(){return[]}function Ft(t){return t==null?Zs:function(){return this.querySelectorAll(t)}}function Js(t){return function(){return Pr(t.apply(this,arguments))}}function Ci(t){typeof t=="function"?t=Js(t):t=Ft(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new J(r,i)}function Wt(t){return function(){return this.matches(t)}}function An(t){return function(n){return n.matches(t)}}var ea=Array.prototype.find;function ta(t){return function(){return ea.call(this.children,t)}}function na(){return this.firstElementChild}function Ii(t){return this.select(t==null?na:ta(typeof t=="function"?t:An(t)))}var ra=Array.prototype.filter;function ia(){return Array.from(this.children)}function oa(t){return function(){return ra.call(this.children,t)}}function ki(t){return this.selectAll(t==null?ia:oa(typeof t=="function"?t:An(t)))}function Ti(t){typeof t!="function"&&(t=Wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new J(r,this._parents)}function Pn(t){return new Array(t.length)}function Ai(){return new J(this._enter||this._groups.map(Pn),this._parents)}function jt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}jt.prototype={constructor:jt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Pi(t){return function(){return t}}function sa(t,n,e,r,i,o){for(var s=0,a,u=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new jt(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function aa(t,n,e,r,i,o,s){var a,u,c=new Map,l=n.length,m=o.length,f=new Array(l),d;for(a=0;a<l;++a)(u=n[a])&&(f[a]=d=s.call(u,u.__data__,a,n)+"",c.has(d)?i[a]=u:c.set(d,u));for(a=0;a<m;++a)d=s.call(t,o[a],a,o)+"",(u=c.get(d))?(r[a]=u,u.__data__=o[a],c.delete(d)):e[a]=new jt(t,o[a]);for(a=0;a<l;++a)(u=n[a])&&c.get(f[a])===u&&(i[a]=u)}function ua(t){return t.__data__}function Di(t,n){if(!arguments.length)return Array.from(this,ua);var e=n?aa:sa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Pi(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],m=i[c],f=m.length,d=ca(t.call(l,l&&l.__data__,c,r)),h=d.length,p=a[c]=new Array(h),g=s[c]=new Array(h),x=u[c]=new Array(f);e(l,m,p,g,x,d,n);for(var M=0,w=0,C,I;M<h;++M)if(C=p[M]){for(M>=w&&(w=M+1);!(I=g[w])&&++w<h;);C._next=I||null}}return s=new J(s,r),s._enter=a,s._exit=u,s}function ca(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zi(){return new J(this._exit||this._groups.map(Pn),this._parents)}function Li(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Oi(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=e[u],l=r[u],m=c.length,f=a[u]=new Array(m),d,h=0;h<m;++h)(d=c[h]||l[h])&&(f[h]=d);for(;u<i;++u)a[u]=e[u];return new J(a,this._parents)}function Bi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Ri(t){t||(t=la);function n(m,f){return m&&f?t(m.__data__,f.__data__):!m-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),c,l=0;l<a;++l)(c=s[l])&&(u[l]=c);u.sort(n)}return new J(i,this._parents).order()}function la(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ni(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Vi(){return Array.from(this)}function Hi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Fi(){let t=0;for(let n of this)++t;return t}function Wi(){return!this.node()}function ji(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function da(t){return function(){this.removeAttribute(t)}}function ha(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fa(t,n){return function(){this.setAttribute(t,n)}}function pa(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ma(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function ga(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function qi(t,n){var e=Ve(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ha:da:typeof n=="function"?e.local?ga:ma:e.local?pa:fa)(e,n))}function Dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function va(t){return function(){this.style.removeProperty(t)}}function ba(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ya(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function $i(t,n,e){return arguments.length>1?this.each((n==null?va:typeof n=="function"?ya:ba)(t,n,e==null?"":e)):Je(this.node(),t)}function Je(t,n){return t.style.getPropertyValue(n)||Dn(t).getComputedStyle(t,null).getPropertyValue(n)}function _a(t){return function(){delete this[t]}}function xa(t,n){return function(){this[t]=n}}function wa(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ki(t,n){return arguments.length>1?this.each((n==null?_a:typeof n=="function"?wa:xa)(t,n)):this.node()[t]}function Ui(t){return t.trim().split(/^|\s+/)}function Dr(t){return t.classList||new Xi(t)}function Xi(t){this._node=t,this._names=Ui(t.getAttribute("class")||"")}Xi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yi(t,n){for(var e=Dr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Gi(t,n){for(var e=Dr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ma(t){return function(){Yi(this,t)}}function Ea(t){return function(){Gi(this,t)}}function Sa(t,n){return function(){(n.apply(this,arguments)?Yi:Gi)(this,t)}}function Qi(t,n){var e=Ui(t+"");if(arguments.length<2){for(var r=Dr(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Sa:n?Ma:Ea)(e,n))}function Ca(){this.textContent=""}function Ia(t){return function(){this.textContent=t}}function ka(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Zi(t){return arguments.length?this.each(t==null?Ca:(typeof t=="function"?ka:Ia)(t)):this.node().textContent}function Ta(){this.innerHTML=""}function Aa(t){return function(){this.innerHTML=t}}function Pa(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Ji(t){return arguments.length?this.each(t==null?Ta:(typeof t=="function"?Pa:Aa)(t)):this.node().innerHTML}function Da(){this.nextSibling&&this.parentNode.appendChild(this)}function eo(){return this.each(Da)}function za(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function to(){return this.each(za)}function no(t){var n=typeof t=="function"?t:Tn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function La(){return null}function ro(t,n){var e=typeof t=="function"?t:Tn(t),r=n==null?La:typeof n=="function"?n:dt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Oa(){var t=this.parentNode;t&&t.removeChild(this)}function io(){return this.each(Oa)}function Ba(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ra(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oo(t){return this.select(t?Ra:Ba)}function so(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Na(t){return function(n){t.call(this,n,this.__data__)}}function Va(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ha(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Fa(t,n,e){return function(){var r=this.__on,i,o=Na(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function ao(t,n,e){var r=Va(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,l;u<c;++u)for(i=0,l=a[u];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=n?Fa:Ha,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function uo(t,n,e){var r=Dn(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Wa(t,n){return function(){return uo(this,t,n)}}function ja(t,n){return function(){return uo(this,t,n.apply(this,arguments))}}function co(t,n){return this.each((typeof n=="function"?ja:Wa)(t,n))}function*lo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var zr=[null];function J(t,n){this._groups=t,this._parents=n}function ho(){return new J([[document.documentElement]],zr)}function qa(){return this}J.prototype=ho.prototype={constructor:J,select:Si,selectAll:Ci,selectChild:Ii,selectChildren:ki,filter:Ti,data:Di,enter:Ai,exit:zi,join:Li,merge:Oi,selection:qa,order:Bi,sort:Ri,call:Ni,nodes:Vi,node:Hi,size:Fi,empty:Wi,each:ji,attr:qi,style:$i,property:Ki,classed:Qi,text:Zi,html:Ji,raise:eo,lower:to,append:no,insert:ro,remove:io,clone:oo,datum:so,on:ao,dispatch:co,[Symbol.iterator]:lo};var He=ho;function Me(t){return typeof t=="string"?new J([[document.querySelector(t)]],[document.documentElement]):new J([[t]],zr)}function fo(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Fe(t,n){if(t=fo(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}var zn={capture:!0,passive:!1};function Ln(t){t.preventDefault(),t.stopImmediatePropagation()}function Lr(t){var n=t.document.documentElement,e=Me(t).on("dragstart.drag",Ln,zn);"onselectstart"in n?e.on("selectstart.drag",Ln,zn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Or(t,n){var e=t.document.documentElement,r=Me(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ln,zn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function On(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Br(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Kt(){}var qt=.7,Nn=1/qt,kt="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$a=/^#([0-9a-f]{3,8})$/,Ka=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Ua=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),Xa=new RegExp(`^rgba\\(${kt},${kt},${kt},${$t}\\)$`),Ya=new RegExp(`^rgba\\(${ze},${ze},${ze},${$t}\\)$`),Ga=new RegExp(`^hsl\\(${$t},${ze},${ze}\\)$`),Qa=new RegExp(`^hsla\\(${$t},${ze},${ze},${$t}\\)$`),po={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};On(Kt,et,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mo,formatHex:mo,formatHex8:Za,formatHsl:Ja,formatRgb:go,toString:go});function mo(){return this.rgb().formatHex()}function Za(){return this.rgb().formatHex8()}function Ja(){return wo(this).formatHsl()}function go(){return this.rgb().formatRgb()}function et(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=$a.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?vo(n):e===3?new ge(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Bn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Bn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ka.exec(t))?new ge(n[1],n[2],n[3],1):(n=Ua.exec(t))?new ge(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Xa.exec(t))?Bn(n[1],n[2],n[3],n[4]):(n=Ya.exec(t))?Bn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ga.exec(t))?_o(n[1],n[2]/100,n[3]/100,1):(n=Qa.exec(t))?_o(n[1],n[2]/100,n[3]/100,n[4]):po.hasOwnProperty(t)?vo(po[t]):t==="transparent"?new ge(NaN,NaN,NaN,0):null}function vo(t){return new ge(t>>16&255,t>>8&255,t&255,1)}function Bn(t,n,e,r){return r<=0&&(t=n=e=NaN),new ge(t,n,e,r)}function eu(t){return t instanceof Kt||(t=et(t)),t?(t=t.rgb(),new ge(t.r,t.g,t.b,t.opacity)):new ge}function Tt(t,n,e,r){return arguments.length===1?eu(t):new ge(t,n,e,r==null?1:r)}function ge(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}On(ge,Tt,Br(Kt,{brighter(t){return t=t==null?Nn:Math.pow(Nn,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ge(ft(this.r),ft(this.g),ft(this.b),Vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bo,formatHex:bo,formatHex8:tu,formatRgb:yo,toString:yo}));function bo(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}`}function tu(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}${ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function yo(){let t=Vn(this.opacity);return`${t===1?"rgb(":"rgba("}${ft(this.r)}, ${ft(this.g)}, ${ft(this.b)}${t===1?")":`, ${t})`}`}function Vn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ft(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ht(t){return t=ft(t),(t<16?"0":"")+t.toString(16)}function _o(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ke(t,n,e,r)}function wo(t){if(t instanceof ke)return new ke(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=et(t)),!t)return new ke;if(t instanceof ke)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new ke(s,a,u,t.opacity)}function Mo(t,n,e,r){return arguments.length===1?wo(t):new ke(t,n,e,r==null?1:r)}function ke(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}On(ke,Mo,Br(Kt,{brighter(t){return t=t==null?Nn:Math.pow(Nn,t),new ke(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new ke(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ge(Rr(t>=240?t-240:t+120,i,r),Rr(t,i,r),Rr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ke(xo(this.h),Rn(this.s),Rn(this.l),Vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Vn(this.opacity);return`${t===1?"hsl(":"hsla("}${xo(this.h)}, ${Rn(this.s)*100}%, ${Rn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xo(t){return t=(t||0)%360,t<0?t+360:t}function Rn(t){return Math.max(0,Math.min(1,t||0))}function Rr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function Nr(t,n,e,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*n+(4-6*o+3*s)*e+(1+3*t+3*o-3*s)*r+s*i)/6}function Eo(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Nr((e-r/n)*n,s,i,o,a)}}function So(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],s=t[(r+1)%n],a=t[(r+2)%n];return Nr((e-r/n)*n,i,o,s,a)}}var Vr=t=>()=>t;function nu(t,n){return function(e){return t+e*n}}function ru(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Co(t){return(t=+t)==1?Hn:function(n,e){return e-n?ru(n,e,t):Vr(isNaN(n)?e:n)}}function Hn(t,n){var e=n-t;return e?nu(t,e):Vr(isNaN(t)?n:t)}var Fn=function t(n){var e=Co(n);function r(i,o){var s=e((i=Tt(i)).r,(o=Tt(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),c=Hn(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function Io(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),s,a;for(s=0;s<e;++s)a=Tt(n[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}var iu=Io(Eo),ou=Io(So);function Ee(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(Fr.source,"g");function su(t){return function(){return t}}function au(t){return function(n){return t(n)+""}}function Wr(t,n){var e=Fr.lastIndex=Hr.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=Fr.exec(t))&&(i=Hr.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Ee(r,i)})),e=Hr.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?au(u[0].x):su(n):(n=u.length,function(c){for(var l=0,m;l<n;++l)a[(m=u[l]).i]=m.x(c);return a.join("")})}var ko=180/Math.PI,Wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jr(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ko,skewX:Math.atan(u)*ko,scaleX:s,scaleY:a}}var jn;function To(t){let n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Wn:jr(n.a,n.b,n.c,n.d,n.e,n.f)}function Ao(t){return t==null?Wn:(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",t),(t=jn.transform.baseVal.consolidate())?(t=t.matrix,jr(t.a,t.b,t.c,t.d,t.e,t.f)):Wn)}function Po(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,m,f,d,h){if(c!==m||l!==f){var p=d.push("translate(",null,n,null,e);h.push({i:p-4,x:Ee(c,m)},{i:p-2,x:Ee(l,f)})}else(m||f)&&d.push("translate("+m+n+f+e)}function s(c,l,m,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Ee(c,l)})):l&&m.push(i(m)+"rotate("+l+r)}function a(c,l,m,f){c!==l?f.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Ee(c,l)}):l&&m.push(i(m)+"skewX("+l+r)}function u(c,l,m,f,d,h){if(c!==m||l!==f){var p=d.push(i(d)+"scale(",null,",",null,")");h.push({i:p-4,x:Ee(c,m)},{i:p-2,x:Ee(l,f)})}else(m!==1||f!==1)&&d.push(i(d)+"scale("+m+","+f+")")}return function(c,l){var m=[],f=[];return c=t(c),l=t(l),o(c.translateX,c.translateY,l.translateX,l.translateY,m,f),s(c.rotate,l.rotate,m,f),a(c.skewX,l.skewX,m,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,m,f),c=l=null,function(d){for(var h=-1,p=f.length,g;++h<p;)m[(g=f[h]).i]=g.x(d);return m.join("")}}}var qr=Po(To,"px, ","px)","deg)"),$r=Po(Ao,", ",")",")");var uu=1e-12;function Do(t){return((t=Math.exp(t))+1/t)/2}function cu(t){return((t=Math.exp(t))-1/t)/2}function lu(t){return((t=Math.exp(2*t))-1)/(t+1)}var Kr=function t(n,e,r){function i(o,s){var a=o[0],u=o[1],c=o[2],l=s[0],m=s[1],f=s[2],d=l-a,h=m-u,p=d*d+h*h,g,x;if(p<uu)x=Math.log(f/c)/n,g=function(E){return[a+E*d,u+E*h,c*Math.exp(n*E*x)]};else{var M=Math.sqrt(p),w=(f*f-c*c+r*p)/(2*c*e*M),C=(f*f-c*c-r*p)/(2*f*e*M),I=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(C*C+1)-C);x=(P-I)/n,g=function(E){var k=E*x,_=Do(I),y=c/(e*M)*(_*lu(n*k+I)-cu(I));return[a+y*d,u+y*h,c*_/Do(n*k+I)]}}return g.duration=x*1e3*n/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);var At=0,Xt=0,Ut=0,Lo=1e3,qn,Yt,$n=0,pt=0,Kn=0,Gt=typeof performance=="object"&&performance.now?performance:Date,Oo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zt(){return pt||(Oo(du),pt=Gt.now()+Kn)}function du(){pt=0}function Qt(){this._call=this._time=this._next=null}Qt.prototype=Un.prototype={constructor:Qt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Zt():+e)+(n==null?0:+n),!this._next&&Yt!==this&&(Yt?Yt._next=this:qn=this,Yt=this),this._call=t,this._time=e,Ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ur())}};function Un(t,n,e){var r=new Qt;return r.restart(t,n,e),r}function Bo(){Zt(),++At;for(var t=qn,n;t;)(n=pt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--At}function zo(){pt=($n=Gt.now())+Kn,At=Xt=0;try{Bo()}finally{At=0,fu(),pt=0}}function hu(){var t=Gt.now(),n=t-$n;n>Lo&&(Kn-=n,$n=t)}function fu(){for(var t,n=qn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qn=e);Yt=t,Ur(r)}function Ur(t){if(!At){Xt&&(Xt=clearTimeout(Xt));var n=t-pt;n>24?(t<1/0&&(Xt=setTimeout(zo,t-Gt.now()-Kn)),Ut&&(Ut=clearInterval(Ut))):(Ut||($n=Gt.now(),Ut=setInterval(hu,Lo)),At=1,Oo(zo))}}function Xn(t,n,e){var r=new Qt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var pu=Ht("start","end","cancel","interrupt"),mu=[],Vo=0,Ro=1,Gn=2,Yn=3,No=4,Qn=5,Jt=6;function tt(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;gu(t,e,{name:n,index:r,group:i,on:pu,tween:mu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vo})}function en(t,n){var e=oe(t,n);if(e.state>Vo)throw new Error("too late; already scheduled");return e}function ue(t,n){var e=oe(t,n);if(e.state>Yn)throw new Error("too late; already running");return e}function oe(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function gu(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Un(o,0,e.time);function o(c){e.state=Ro,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var l,m,f,d;if(e.state!==Ro)return u();for(l in r)if(d=r[l],d.name===e.name){if(d.state===Yn)return Xn(s);d.state===No?(d.state=Jt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<n&&(d.state=Jt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(Xn(function(){e.state===Yn&&(e.state=No,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=Gn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Gn){for(e.state=Yn,i=new Array(f=e.tween.length),l=0,m=-1;l<f;++l)(d=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++m]=d);i.length=m+1}}function a(c){for(var l=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=Qn,1),m=-1,f=i.length;++m<f;)i[m].call(t,l);e.state===Qn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Jt,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function nt(t,n){var e=t.__transition,r,i,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>Gn&&r.state<Qn,r.state=Jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function Ho(t){return this.each(function(){nt(this,t)})}function vu(t,n){var e,r;return function(){var i=ue(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function bu(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=ue(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Fo(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=oe(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?vu:bu)(e,t,n))}function Pt(t,n,e){var r=t._id;return t.each(function(){var i=ue(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return oe(i,r).value[n]}}function Zn(t,n){var e;return(typeof n=="number"?Ee:n instanceof et?Fn:(e=et(n))?(n=e,Fn):Wr)(t,n)}function yu(t){return function(){this.removeAttribute(t)}}function _u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xu(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function wu(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function Mu(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function Eu(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function Wo(t,n){var e=Ve(t),r=e==="transform"?$r:Zn;return this.attrTween(t,typeof n=="function"?(e.local?Eu:Mu)(e,r,Pt(this,"attr."+t,n)):n==null?(e.local?_u:yu)(e):(e.local?wu:xu)(e,r,n))}function Su(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Cu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Iu(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Cu(t,o)),e}return i._value=n,i}function ku(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Su(t,o)),e}return i._value=n,i}function jo(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Ve(t);return this.tween(e,(r.local?Iu:ku)(r,n))}function Tu(t,n){return function(){en(this,t).delay=+n.apply(this,arguments)}}function Au(t,n){return n=+n,function(){en(this,t).delay=n}}function qo(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Tu:Au)(n,t)):oe(this.node(),n).delay}function Pu(t,n){return function(){ue(this,t).duration=+n.apply(this,arguments)}}function Du(t,n){return n=+n,function(){ue(this,t).duration=n}}function $o(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Pu:Du)(n,t)):oe(this.node(),n).duration}function zu(t,n){if(typeof n!="function")throw new Error;return function(){ue(this,t).ease=n}}function Ko(t){var n=this._id;return arguments.length?this.each(zu(n,t)):oe(this.node(),n).ease}function Lu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ue(this,t).ease=e}}function Uo(t){if(typeof t!="function")throw new Error;return this.each(Lu(this._id,t))}function Xo(t){typeof t!="function"&&(t=Wt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new fe(r,this._parents,this._name,this._id)}function Yo(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],c=e[a],l=u.length,m=s[a]=new Array(l),f,d=0;d<l;++d)(f=u[d]||c[d])&&(m[d]=f);for(;a<r;++a)s[a]=n[a];return new fe(s,this._parents,this._name,this._id)}function Ou(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Bu(t,n,e){var r,i,o=Ou(n)?en:ue;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function Go(t,n){var e=this._id;return arguments.length<2?oe(this.node(),e).on.on(t):this.each(Bu(e,t,n))}function Ru(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Qo(){return this.on("end.remove",Ru(this._id))}function Zo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=dt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),l,m,f=0;f<u;++f)(l=a[f])&&(m=t.call(l,l.__data__,f,a))&&("__data__"in l&&(m.__data__=l.__data__),c[f]=m,tt(c[f],n,e,f,c,oe(l,e)));return new fe(o,this._parents,n,e)}function Jo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ft(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,l,m=0;m<c;++m)if(l=u[m]){for(var f=t.call(l,l.__data__,m,u),d,h=oe(l,e),p=0,g=f.length;p<g;++p)(d=f[p])&&tt(d,n,e,p,f,h);o.push(f),s.push(l)}return new fe(o,s,n,e)}var Nu=He.prototype.constructor;function es(){return new Nu(this._groups,this._parents)}function Vu(t,n){var e,r,i;return function(){var o=Je(this,t),s=(this.style.removeProperty(t),Je(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function ts(t){return function(){this.style.removeProperty(t)}}function Hu(t,n,e){var r,i=e+"",o;return function(){var s=Je(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function Fu(t,n,e){var r,i,o;return function(){var s=Je(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Je(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Wu(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=ue(this,t),c=u.on,l=u.value[o]==null?a||(a=ts(n)):void 0;(c!==e||i!==l)&&(r=(e=c).copy()).on(s,i=l),u.on=r}}function ns(t,n,e){var r=(t+="")=="transform"?qr:Zn;return n==null?this.styleTween(t,Vu(t,r)).on("end.style."+t,ts(t)):typeof n=="function"?this.styleTween(t,Fu(t,r,Pt(this,"style."+t,n))).each(Wu(this._id,t)):this.styleTween(t,Hu(t,r,n),e).on("end.style."+t,null)}function ju(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function qu(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&ju(t,s,e)),r}return o._value=n,o}function rs(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,qu(t,n,e==null?"":e))}function $u(t){return function(){this.textContent=t}}function Ku(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function is(t){return this.tween("text",typeof t=="function"?Ku(Pt(this,"text",t)):$u(t==null?"":t+""))}function Uu(t){return function(n){this.textContent=t.call(this,n)}}function Xu(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Uu(i)),n}return r._value=t,r}function os(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Xu(t))}function ss(){for(var t=this._name,n=this._id,e=Jn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var l=oe(u,n);tt(u,t,e,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new fe(r,this._parents,t,e)}function as(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var c=ue(this,r),l=c.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),c.on=n}),i===0&&o()})}var Yu=0;function fe(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function us(t){return He().transition(t)}function Jn(){return++Yu}var We=He.prototype;fe.prototype=us.prototype={constructor:fe,select:Zo,selectAll:Jo,selectChild:We.selectChild,selectChildren:We.selectChildren,filter:Xo,merge:Yo,selection:es,transition:ss,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:Go,attr:Wo,attrTween:jo,style:ns,styleTween:rs,text:is,textTween:os,remove:Qo,tween:Fo,delay:qo,duration:$o,ease:Ko,easeVarying:Uo,end:as,[Symbol.iterator]:We[Symbol.iterator]};function er(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Gu={time:null,delay:0,duration:250,ease:er};function Qu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function cs(t){var n,e;t instanceof fe?(n=t._id,t=t._name):(n=Jn(),(e=Gu).time=Zt(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&tt(u,t,n,c,s,e||Qu(u,n));return new fe(r,this._parents,t,n)}He.prototype.interrupt=Ho;He.prototype.transition=cs;var{abs:Zv,max:Jv,min:eb}=Math;function ls(t){return[+t[0],+t[1]]}function Zu(t){return[ls(t[0]),ls(t[1])]}var tb={name:"x",handles:["w","e"].map(Xr),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},nb={name:"y",handles:["n","s"].map(Xr),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},rb={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xr),input:function(t){return t==null?null:Zu(t)},output:function(t){return t}};function Xr(t){return{type:t}}var tn=t=>()=>t;function Yr(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Te(t,n,e){this.k=t,this.x=n,this.y=e}Te.prototype={constructor:Te,scale:function(t){return t===1?this:new Te(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Te(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var je=new Te(1,0,0);Gr.prototype=Te.prototype;function Gr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return je;return t.__zoom}function tr(t){t.stopImmediatePropagation()}function Dt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ju(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ec(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ds(){return this.__zoom||je}function tc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nc(){return navigator.maxTouchPoints||"ontouchstart"in this}function rc(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],s=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Qr(){var t=Ju,n=ec,e=rc,r=tc,i=nc,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Kr,c=Ht("start","zoom","end"),l,m,f,d=500,h=150,p=0,g=10;function x(v){v.property("__zoom",ds).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",y).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",b).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(v,T,A,z){var R=v.selection?v.selection():v;R.property("__zoom",ds),v!==R?I(v,T,A,z):R.interrupt().each(function(){P(this,arguments).event(z).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},x.scaleBy=function(v,T,A,z){x.scaleTo(v,function(){var R=this.__zoom.k,V=typeof T=="function"?T.apply(this,arguments):T;return R*V},A,z)},x.scaleTo=function(v,T,A,z){x.transform(v,function(){var R=n.apply(this,arguments),V=this.__zoom,H=A==null?C(R):typeof A=="function"?A.apply(this,arguments):A,W=V.invert(H),q=typeof T=="function"?T.apply(this,arguments):T;return e(w(M(V,q),H,W),R,s)},A,z)},x.translateBy=function(v,T,A,z){x.transform(v,function(){return e(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof A=="function"?A.apply(this,arguments):A),n.apply(this,arguments),s)},null,z)},x.translateTo=function(v,T,A,z,R){x.transform(v,function(){var V=n.apply(this,arguments),H=this.__zoom,W=z==null?C(V):typeof z=="function"?z.apply(this,arguments):z;return e(je.translate(W[0],W[1]).scale(H.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof A=="function"?-A.apply(this,arguments):-A),V,s)},z,R)};function M(v,T){return T=Math.max(o[0],Math.min(o[1],T)),T===v.k?v:new Te(T,v.x,v.y)}function w(v,T,A){var z=T[0]-A[0]*v.k,R=T[1]-A[1]*v.k;return z===v.x&&R===v.y?v:new Te(v.k,z,R)}function C(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function I(v,T,A,z){v.on("start.zoom",function(){P(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(z).end()}).tween("zoom",function(){var R=this,V=arguments,H=P(R,V).event(z),W=n.apply(R,V),q=A==null?C(W):typeof A=="function"?A.apply(R,V):A,G=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),Y=R.__zoom,te=typeof T=="function"?T.apply(R,V):T,F=u(Y.invert(q).concat(G/Y.k),te.invert(q).concat(G/te.k));return function(j){if(j===1)j=te;else{var Le=F(j),nr=G/Le[2];j=new Te(nr,q[0]-Le[0]*nr,q[1]-Le[1]*nr)}H.zoom(null,j)}})}function P(v,T,A){return!A&&v.__zooming||new E(v,T)}function E(v,T){this.that=v,this.args=T,this.active=0,this.sourceEvent=null,this.extent=n.apply(v,T),this.taps=0}E.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,T){return this.mouse&&v!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var T=Me(this.that).datum();c.call(v,this.that,new Yr(v,{sourceEvent:this.sourceEvent,target:x,type:v,transform:this.that.__zoom,dispatch:c}),T)}};function k(v,...T){if(!t.apply(this,arguments))return;var A=P(this,T).event(v),z=this.__zoom,R=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),V=Fe(v);if(A.wheel)(A.mouse[0][0]!==V[0]||A.mouse[0][1]!==V[1])&&(A.mouse[1]=z.invert(A.mouse[0]=V)),clearTimeout(A.wheel);else{if(z.k===R)return;A.mouse=[V,z.invert(V)],nt(this),A.start()}Dt(v),A.wheel=setTimeout(H,h),A.zoom("mouse",e(w(M(z,R),A.mouse[0],A.mouse[1]),A.extent,s));function H(){A.wheel=null,A.end()}}function _(v,...T){if(f||!t.apply(this,arguments))return;var A=v.currentTarget,z=P(this,T,!0).event(v),R=Me(v.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",G,!0),V=Fe(v,A),H=v.clientX,W=v.clientY;Lr(v.view),tr(v),z.mouse=[V,this.__zoom.invert(V)],nt(this),z.start();function q(Y){if(Dt(Y),!z.moved){var te=Y.clientX-H,F=Y.clientY-W;z.moved=te*te+F*F>p}z.event(Y).zoom("mouse",e(w(z.that.__zoom,z.mouse[0]=Fe(Y,A),z.mouse[1]),z.extent,s))}function G(Y){R.on("mousemove.zoom mouseup.zoom",null),Or(Y.view,z.moved),Dt(Y),z.event(Y).end()}}function y(v,...T){if(t.apply(this,arguments)){var A=this.__zoom,z=Fe(v.changedTouches?v.changedTouches[0]:v,this),R=A.invert(z),V=A.k*(v.shiftKey?.5:2),H=e(w(M(A,V),z,R),n.apply(this,T),s);Dt(v),a>0?Me(this).transition().duration(a).call(I,H,z,v):Me(this).call(x.transform,H,z,v)}}function S(v,...T){if(t.apply(this,arguments)){var A=v.touches,z=A.length,R=P(this,T,v.changedTouches.length===z).event(v),V,H,W,q;for(tr(v),H=0;H<z;++H)W=A[H],q=Fe(W,this),q=[q,this.__zoom.invert(q),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==q[2]&&(R.touch1=q,R.taps=0):(R.touch0=q,V=!0,R.taps=1+!!l);l&&(l=clearTimeout(l)),V&&(R.taps<2&&(m=q[0],l=setTimeout(function(){l=null},d)),nt(this),R.start())}}function D(v,...T){if(this.__zooming){var A=P(this,T).event(v),z=v.changedTouches,R=z.length,V,H,W,q;for(Dt(v),V=0;V<R;++V)H=z[V],W=Fe(H,this),A.touch0&&A.touch0[2]===H.identifier?A.touch0[0]=W:A.touch1&&A.touch1[2]===H.identifier&&(A.touch1[0]=W);if(H=A.that.__zoom,A.touch1){var G=A.touch0[0],Y=A.touch0[1],te=A.touch1[0],F=A.touch1[1],j=(j=te[0]-G[0])*j+(j=te[1]-G[1])*j,Le=(Le=F[0]-Y[0])*Le+(Le=F[1]-Y[1])*Le;H=M(H,Math.sqrt(j/Le)),W=[(G[0]+te[0])/2,(G[1]+te[1])/2],q=[(Y[0]+F[0])/2,(Y[1]+F[1])/2]}else if(A.touch0)W=A.touch0[0],q=A.touch0[1];else return;A.zoom("touch",e(w(H,W,q),A.extent,s))}}function b(v,...T){if(this.__zooming){var A=P(this,T).event(v),z=v.changedTouches,R=z.length,V,H;for(tr(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),V=0;V<R;++V)H=z[V],A.touch0&&A.touch0[2]===H.identifier?delete A.touch0:A.touch1&&A.touch1[2]===H.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(H=Fe(H,this),Math.hypot(m[0]-H[0],m[1]-H[1])<g)){var W=Me(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return x.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:tn(+v),x):r},x.filter=function(v){return arguments.length?(t=typeof v=="function"?v:tn(!!v),x):t},x.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:tn(!!v),x):i},x.extent=function(v){return arguments.length?(n=typeof v=="function"?v:tn([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),x):n},x.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],x):[o[0],o[1]]},x.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(v){return arguments.length?(e=v,x):e},x.duration=function(v){return arguments.length?(a=+v,x):a},x.interpolate=function(v){return arguments.length?(u=v,x):u},x.on=function(){var v=c.on.apply(c,arguments);return v===c?x:v},x.clickDistance=function(v){return arguments.length?(p=(v=+v)*v,x):Math.sqrt(p)},x.tapDistance=function(v){return arguments.length?(g=+v,x):g},x}var oc=Pe`\
<svg ${pe("_svg")}>
    <foreignObject ${pe("_content")} x="0" y="0" width="100%" height="100%" style="overflow:visible">
        <slot></slot>
    </foreignObject>
</svg>`,sc=X`
${Ae("inline-block")} 
`,qe=class extends un{constructor(){super();this.scale_min=.5;this.scale_max=1.5;this.x=0;this.y=0;this.scale=1;this._zoom=Qr().duration(0).on("zoom",({transform:e})=>{this.x=e.x,this.y=e.y,this.scale=e.k,this.$emit("change")})}enter(){super.enter(),this.svg=Me(this.shadowRoot).select("svg"),this.content=this.svg.select("foreignObject"),this.svg.call(this._zoom,je.translate(this.x,this.y).scale(this.scale))}update(e){super.update(e),this.content.attr("width",`${this.clientWidth}`).attr("height",`${this.clientHeight}`),this._zoom.extent([[0,0],[this.clientWidth,this.clientHeight]]).scaleExtent([this.scale_min,this.scale_max]),(e.x!==void 0||e.y!==void 0||e.scale!==void 0)&&this.content.attr("transform",je.translate(this.x,this.y).scale(this.scale).toString()),this._zoom.transform(this.svg,je.translate(this.x,this.y).scale(this.scale))}};ne([ve({type:"number"})],qe.prototype,"scale_min",2),ne([ve({type:"number"})],qe.prototype,"scale_max",2),ne([ve({type:"number"})],qe.prototype,"x",2),ne([ve({type:"number"})],qe.prototype,"y",2),ne([ve({type:"number"})],qe.prototype,"scale",2),qe=ne([De("hpcc-zoom",{template:oc,styles:sc})],qe);export{Sn as HPCCDockPanelElement,Ze as HPCCLuminoElement,Cn as HPCCPaneElement,It as HPCCSplitPanelElement,lt as HPCCTabPanelElement,qe as HPCCZoomElement,_n as WidgetAdapter};
/*! Bundled license information:

@lumino/messaging/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/disposable/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/commands/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/virtualdom/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/widgets/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=wc-layout.js.map
