<!DOCTYPE html>
<html>
    <head>
        <?php include('basic_includes.php'); ?>
    </head>
    <body>
        <script>
            require(["src/graph/Graph","src/common/Icon","src/graph/Vertex","src/graph/Edge","src/common/TextBox"], function (Graph,Icon,Vertex,Edge,TextBox) {
                function createEdge(source, target, label) {
                    return new Edge()
                    .sourceVertex(source)
                    .targetVertex(target)
                    .sourceMarker("circleFoot")
                    .targetMarker("arrowHead")
                    .text(label || "")
                    ;
                }
                var vertices = [
                    new TextBox().text("c3/Pie.js"),          // 0
                    new TextBox().text("c3/Common2D.js"),     // 1
                    new TextBox().text("chart/I2DChart.js"),  // 2
                    new TextBox().text("c3/Common.js"),       // 3
                    new TextBox().text("common/Widget.js"),   // 4
                    new Icon()
                        .size({ width: 25, height:25 }) 
                        .shape("circle")
                        .faChar("\uf080"),
                    new Vertex()
                        .size({ width: 100, height:100 }) 
                        .text("Graph\nVertex")
                        .faChar("\uf080")
                ];
                var edges = [
                    createEdge(vertices[0], vertices[1]), 
                    createEdge(vertices[1], vertices[2]),
                    createEdge(vertices[1], vertices[3]),
                    createEdge(vertices[3], vertices[4]),
                    createEdge(vertices[0], vertices[5]),
                    createEdge(vertices[0], vertices[6])
                ];
                new Graph()
                    .size({width:400,height:400})
                    .target("widget-wrapper")
                    .hierarchyOptions({ rankSep: 18 })
                    .data({ vertices: vertices, edges: edges })
                    .layout("Hierarchy")
                    .render()
                ;
            });
        </script>
        <div id="widget-wrapper"></div>
    </body>
</html>