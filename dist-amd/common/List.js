(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/SVGWidget","./IList","../common/TextBox","css!./List"],t):e.common_List=t(e.d3,e.common_SVGWidget,e.common_IList,e.common_TextBox)})(this,function(e,t,n,r){function i(e){t.call(this),n.call(this),this._listWidgets={}}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" common_List",i.prototype.implements(n.prototype),i.prototype.publish("anchor","start","set","Anchor Position",["","start","middle","end"],{tags:["Private"]}),i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var i=this,s=n.selectAll(".line").data(this.data(),function(e){return e});s.enter().append("g").attr("class","line").each(function(e){var t=(new r).target(this).paddingTop(0).paddingBottom(0).paddingLeft(8).paddingRight(8).text(e).render();t.element().on("click",function(e){i.click(e.text())}),i._listWidgets[e]=t});var o=0,u=0,a=0;for(var f in this._listWidgets){if(!this._listWidgets.hasOwnProperty(f))continue;var l=this._listWidgets[f].getBBox();o+=l.height,u<l.width&&(u=l.width),++a}var c=-o/2;s.each(function(e){var t=i._listWidgets[e],n=t.getBBox();t.pos({x:0,y:c+n.height/2}).anchor(i.anchor()).fixedSize({width:u,height:n.height}).render(),c+=n.height}),s.exit().remove().each(function(e){delete i._listWidgets[e]})},i});