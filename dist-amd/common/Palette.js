(function(e,t){typeof define=="function"&&define.amd?define(["d3","colorbrewer"],t):e.common_Palette=t(e.d3)})(this,function(e){function s(e,t){if(!e)return o();var n=i[e];return n||(n=o(e,t),i[e]=n),n}function o(u,a){function p(e){return f(e)}if(!u)return["default"].concat(t.concat(n).concat(r));var f=null;if(a)f=e.scale.ordinal().range(a);else{if(t.indexOf(u)>=0)f=new e.scale[u];else if(r.indexOf(u)>=0){var l=[];switch(u){case"hpcc10":var c=o("default").colors();l=c.filter(function(e,t){return t%2?!0:!1});break;case"hpcc20":l=o("category10").colors().concat(o("hpcc10").colors())}f=e.scale.ordinal().range(l)}else if(n.indexOf(u)>0){var h=12;while(h>0){if(colorbrewer[u][h]){f=e.scale.ordinal().range(colorbrewer[u][h]);break}--h}}f||(f=e.scale.category20()),a=f.range()}return p.id=function(e){return arguments.length?(u=e,p):u},p.colors=function(e){return arguments.length?(a=e,p):a},p.clone=function(e){return i[e]=o(e,this.colors()),i[e]},p.switch=function(e,t){return u===e?this:arguments.length?s(e,t):s()},p}function a(e,t,n){if(!e)return f();var r=u[e];return r||(r=f(e,t),u[e]=r),r}function f(t,r,i){function d(e,t,n){return l.domain([t,n])(e)}if(!arguments.length){var s=["default"];for(var o in colorbrewer)n.indexOf(o)===-1&&s.push(o);return s}var l=null,c=r,h=function(t,n){n=n||32;var r=Math.ceil(n/(t.length-1)),i=[],s=null;return t.forEach(function(t){if(s){var n=e.scale.linear().domain([0,r]).range([s,t]).interpolate(e.interpolateLab);for(var o=0;o<r;++o)i.push(n(o))}s=t}),l=e.scale.quantize().domain([0,100]).range(i),l};if(r)l=h(r,i);else{if(colorbrewer[t]){var p=12;while(p>0){if(colorbrewer[t][p]){l=h(colorbrewer[t][p]);break}--p}}l||(l=h(colorbrewer.RdYlGn[11])),c=l.range()}return d.id=function(e){return arguments.length?(t=e,d):t},d.colors=function(e){return arguments.length?(c=e,d):c},d.clone=function(e){return u[e]=f(e,this.color()),u[e]},d.switch=function(e,n){return t===e?this:arguments.length?a(e,n):a()},d}var t=["category10","category20","category20b","category20c"],n=["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"],r=["hpcc10","hpcc20"],i={},u={},l=function(t,n,r,i,s){e.select(t).selectAll(".palette").data(o(),function(e){return e}).enter().append("span").attr("class","palette").attr("title",function(e){return e}).on("click",function(t){console.log(e.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch").data(function(e){return o(e).colors()}).enter().append("span").attr("class","swatch").style("background-color",function(e){return e}),e.select(n).selectAll(".palette").data(f(),function(e){return e}).enter().append("span").attr("class","palette").attr("title",function(e){return e}).on("click",function(t){console.log(e.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(e){return f(e).colors()}).enter().append("span").attr("class","swatch2").style("height","8px").style("background-color",function(e){return e});var u={id:i.join("_")+s,scale:f("custom",i,s)};e.select(r).selectAll(".palette").data([u],function(e){return e.id}).enter().append("span").attr("class","palette").attr("title",function(e){return"aaa"}).on("click",function(t){console.log(e.values(t.value).map(JSON.stringify).join("\n"))}).selectAll(".swatch2").data(function(e){var t=[];for(var n=0;n<=255;++n)t.push(u.scale(n,0,255));return t}).enter().append("span").attr("class","swatch2").style("background-color",function(e){return e})};return{ordinal:s,rainbow:a,test:l}});