(function(){var e;window.AmCharts?e=window.AmCharts:(e={},window.AmCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=60,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[]),e.Class=function(t){var n=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(n.prototype=new t.inherits(e.inheriting),n.base=t.inherits.prototype,delete t.inherits):(n.prototype.createEvents=function(){for(var e=0,t=arguments.length;e<t;e++)this.events[arguments[e]]=[]},n.prototype.listenTo=function(e,t,n){this.removeListener(e,t,n),e.events[t].push({handler:n,scope:this})},n.prototype.addListener=function(e,t,n){this.removeListener(this,e,t),e&&this.events[e]&&this.events[e].push({handler:t,scope:n})},n.prototype.removeListener=function(e,t,n){if(e&&e.events&&(e=e.events[t]))for(t=e.length-1;0<=t;t--)e[t].handler===n&&e.splice(t,1)},n.prototype.fire=function(e){for(var t=this.events[e.type],n=0,r=t.length;n<r;n++){var i=t[n];i.handler.call(i.scope,e)}});for(var r in t)n.prototype[r]=t[r];return n},e.addChart=function(t){window.requestAnimationFrame?e.animationRequested||(e.animationRequested=!0,window.requestAnimationFrame(e.update)):e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1e3/e.updateRate))),e.charts.push(t)},e.removeChart=function(t){for(var n=e.charts,r=n.length-1;0<=r;r--)n[r]==t&&n.splice(r,1);0===n.length&&e.updateInt&&(clearInterval(e.updateInt),e.updateInt=NaN)},e.isModern=!0,e.getIEVersion=function(){var e=0,t,n;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,n=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==n.exec(t)&&(e=parseFloat(RegExp.$1))),e},e.applyLang=function(t,n){var r=e.translations;n.dayNames=e.extend({},e.dayNames),n.shortDayNames=e.extend({},e.shortDayNames),n.monthNames=e.extend({},e.monthNames),n.shortMonthNames=e.extend({},e.shortMonthNames),n.amString="am",n.pmString="pm",r&&(r=r[t])&&(e.lang=r,r.monthNames&&(n.dayNames=e.extend({},r.dayNames),n.shortDayNames=e.extend({},r.shortDayNames),n.monthNames=e.extend({},r.monthNames),n.shortMonthNames=e.extend({},r.shortMonthNames)),r.am&&(n.amString=r.am),r.pm&&(n.pmString=r.pm))},e.IEversion=e.getIEVersion(),9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0),e.dx=0,e.dy=0;if(document.addEventListener||window.opera)e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5;document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0)),window.chrome&&(e.chrome=!0),e.handleMouseUp=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleReleaseOutside&&i.handleReleaseOutside(t)}},e.handleMouseMove=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleMouseMove&&i.handleMouseMove(t)}},e.handleWheel=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];if(i&&i.mouseIsOver){i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled?i.handleWheel&&i.handleWheel(t):t.stopPropagation&&t.stopPropagation();break}}},e.resetMouseOver=function(){for(var t=e.charts,n=0;n<t.length;n++){var r=t[n];r&&(r.mouseIsOver=!1)}},e.ready=function(t){e.onReadyArray.push(t)},e.handleLoad=function(){e.isReady=!0;for(var t=e.onReadyArray,n=0;n<t.length;n++){var r=t[n];isNaN(e.processDelay)?r():setTimeout(r,e.processDelay*n)}},e.addInitHandler=function(t,n){e.initHandlers.push({method:t,types:n})},e.callInitHandler=function(t){var n=e.initHandlers;if(e.initHandlers)for(var r=0;r<n.length;r++){var i=n[r];i.types?e.isInArray(i.types,t.type)&&i.method(t):i.method(t)}},e.getUniqueId=function(){return e.uid++,"AmChartsEl-"+e.uid},e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,!0),window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad),document.attachEvent("onmousewheel",e.handleWheel)),e.clear=function(){var t=e.charts;if(t)for(var n=t.length-1;0<=n;n--)t[n].clear();e.updateInt&&clearInterval(e.updateInt),e.charts=[],e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))},e.makeChart=function(t,n,r){var i=n.type,s=n.theme;e.isString(s)&&(s=e.themes[s],n.theme=s);var o;switch(i){case"serial":o=new e.AmSerialChart(s);break;case"xy":o=new e.AmXYChart(s);break;case"pie":o=new e.AmPieChart(s);break;case"radar":o=new e.AmRadarChart(s);break;case"gauge":o=new e.AmAngularGauge(s);break;case"funnel":o=new e.AmFunnelChart(s);break;case"map":o=new e.AmMap(s);break;case"stock":o=new e.AmStockChart(s);break;case"gantt":o=new e.AmGanttChart(s)}return e.extend(o,n),e.isReady?isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r):e.ready(function(){isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r)}),o},e.realWrite=function(e,t){e.write(t)},e.updateCount=0,e.validateAt=Math.round(e.updateRate/10),e.update=function(){var t=e.charts;e.updateCount++;var n=!1;e.updateCount==e.validateAt&&(n=!0,e.updateCount=0);if(t)for(var r=t.length-1;0<=r;r--)t[r].update&&t[r].update(),n&&(t[r].autoResize?t[r].validateSize&&t[r].validateSize():t[r].premeasure&&t[r].premeasure());window.requestAnimationFrame&&window.requestAnimationFrame(e.update)},e.bezierX=3,e.bezierY=6,"complete"==document.readyState&&e.handleLoad()})(),function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}},e.removeFromArray=function(e,t){var n;if(void 0!==t&&void 0!==e)for(n=e.length-1;0<=n;n--)e[n]==t&&e.splice(n,1)},e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var n=e[t].src;if(-1!==n.search(/\/(amcharts|ammap)\.js/))return n.replace(/\/(amcharts|ammap)\.js.*/,"/")}},e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},e.isInArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},e.getDecimals=function(e){var t=0;return isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length)),t},e.wordwrap=function(t,n,r,i){var s,o,u,a;t+="";if(1>n)return t;s=-1;for(t=(a=t.split(/\r\n|\n|\r/)).length;++s<t;a[s]+=u){u=a[s];for(a[s]="";u.length>n;a[s]+=e.trim(u.slice(0,o))+((u=u.slice(o)).length?r:""))o=2==i||(o=u.slice(0,n+1).match(/\S*(\s)?$/))[1]?n:o.input.length-o[0].length||1==i&&n||o.input.length+(o=u.slice(n).match(/^\S*/))[0].length;u=e.trim(u)}return a.join(r)},e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.wrappedText=function(t,n,r,i,s,o,u,a){var f=e.text(t,n,r,i,s,o,u);if(f){var l=f.getBBox();if(l.width>a){var c="\n";e.isModern||(c="<br>"),a=Math.floor(a/(l.width/n.length)),2<a&&(a-=2),n=e.wordwrap(n,a,c,!0),f.remove(),f=e.text(t,n,r,i,s,o,u)}}return f},e.getStyle=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n},e.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},e.getURL=function(t,n){if(t)if("_self"!=n&&n)if("_top"==n&&window.top)window.top.location.href=t;else if("_parent"==n&&window.parent)window.parent.location.href=t;else if("_blank"==n)window.open(t);else{var r=document.getElementsByName(n)[0];r?r.src=t:(r=e.windows[n])?r.opener&&!r.opener.closed?r.location.href=t:e.windows[n]=window.open(t):e.windows[n]=window.open(t)}else window.location.href=t},e.ifArray=function(e){return e&&"object"==typeof e&&0<e.length?!0:!1},e.callMethod=function(e,t){var n;for(n=0;n<t.length;n++){var r=t[n];if(r){r[e]&&r[e]();var i=r.length;if(0<i){var s;for(s=0;s<i;s++){var o=r[s];o&&o[e]&&o[e]()}}}}},e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var n=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+n}}else e=e.substring(e.length-6,e.length),e="#"+e;return e},e.toCoordinate=function(e,t,n){var r;return void 0!==e&&(e=String(e),n&&n<t&&(t=n),r=Number(e),-1!=e.indexOf("!")&&(r=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(r=t*Number(e.substr(0,e.length-1))/100)),r},e.fitToBounds=function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e},e.isDefined=function(e){return void 0===e?!1:!0},e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},e.roundTo=function(e,t){if(0>t)return e;var n=Math.pow(10,t);return Math.round(e*n)/n},e.toFixed=function(e,t){var n=String(Math.round(e*Math.pow(10,t)));if(0<t){var r=n.length;if(r<t){var i;for(i=0;i<t-r;i++)n="0"+n}return r=n.substring(0,n.length-t),""===r&&(r=0),r+"."+n.substring(n.length-t,n.length)}return String(n)},e.formatDuration=function(t,n,r,i,s,o){var u=e.intervals,a=o.decimalSeparator;if(t>=u[n].contains){var f=t-Math.floor(t/u[n].contains)*u[n].contains;return"ss"==n?(f=e.formatNumber(f,o),1==f.split(a)[0].length&&(f="0"+f)):f=e.roundTo(f,o.precision),("mm"==n||"hh"==n)&&10>f&&(f="0"+f),r=f+""+i[n]+""+r,t=Math.floor(t/u[n].contains),n=u[n].nextInterval,e.formatDuration(t,n,r,i,s,o)}"ss"==n&&(t=e.formatNumber(t,o),1==t.split(a)[0].length&&(t="0"+t)),("mm"==n||"hh"==n)&&10>t&&(t="0"+t),r=t+""+i[n]+""+r;if(u[s].count>u[n].count)for(t=u[n].count;t<u[s].count;t++)n=u[n].nextInterval,"ss"==n||"mm"==n||"hh"==n?r="00"+i[n]+""+r:"DD"==n&&(r="0"+i[n]+""+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r},e.formatNumber=function(t,n,r,i,s){t=e.roundTo(t,n.precision),isNaN(r)&&(r=n.precision);var o=n.decimalSeparator;n=n.thousandsSeparator;var u;u=0>t?"-":"",t=Math.abs(t);var a=String(t),f=!1;-1!=a.indexOf("e")&&(f=!0),0<=r&&!f&&(a=e.toFixed(t,r));var l="";if(f)l=a;else{var a=a.split("."),f=String(a[0]),c;for(c=f.length;0<=c;c-=3)l=c!=f.length?0!==c?f.substring(c-3,c)+n+l:f.substring(c-3,c)+l:f.substring(c-3,c);void 0!==a[1]&&(l=l+o+a[1]),void 0!==r&&0<r&&"0"!=l&&(l=e.addZeroes(l,o,r))}return l=u+l,""===u&&!0===i&&0!==t&&(l="+"+l),!0===s&&(l+="%"),l},e.addZeroes=function(t,n,r){return t=t.split(n),void 0===t[1]&&0<r&&(t[1]="0"),t[1].length<r?(t[1]+="0",e.addZeroes(t[0]+n+t[1],n,r)):void 0!==t[1]?t[0]+n+t[1]:t[0]},e.scientificToNormal=function(e){var t;e=String(e).split("e");var n;if("-"==e[1].substr(0,1)){t="0.";for(n=0;n<Math.abs(Number(e[1]))-1;n++)t+="0";t+=e[0].split(".").join("")}else{var r=0;t=e[0].split("."),t[1]&&(r=t[1].length),t=e[0].split(".").join("");for(n=0;n<Math.abs(Number(e[1]))-r;n++)t+="0"}return t},e.toScientific=function(e,t){if(0===e)return"0";var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r=String(r).split(".").join(t);return String(r)+"e"+n},e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},e.hitTest=function(t,n,r){var i=!1,s=t.x,o=t.x+t.width,u=t.y,a=t.y+t.height,f=e.isInRectangle;return i||(i=f(s,u,n)),i||(i=f(s,a,n)),i||(i=f(o,u,n)),i||(i=f(o,a,n)),i||!0===r||(i=e.hitTest(n,t,!0)),i},e.isInRectangle=function(e,t,n){return e>=n.x-5&&e<=n.x+n.width+5&&t>=n.y-5&&t<=n.y+n.height+5?!0:!1},e.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},e.formatValue=function(t,n,r,i,s,o,u,a){if(n){void 0===s&&(s="");var f;for(f=0;f<r.length;f++){var l=r[f],c=n[l];void 0!==c&&(c=o?e.addPrefix(c,a,u,i):e.formatNumber(c,i),t=t.replace(new RegExp("\\[\\["+s+""+l+"\\]\\]","g"),c))}}return t},e.formatDataContextValue=function(e,t){if(e){var n=e.match(/\[\[.*?\]\]/g),r;for(r=0;r<n.length;r++){var i=n[r],i=i.substr(2,i.length-4);void 0!==t[i]&&(e=e.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]))}}return e},e.massReplace=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];void 0===r&&(r=""),e=e.replace(n,r)}return e},e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},e.addPrefix=function(t,n,r,i,s){var o=e.formatNumber(t,i),u="",a,f,l;if(0===t)return"0";0>t&&(u="-"),t=Math.abs(t);if(1<t){for(a=n.length-1;-1<a;a--)if(t>=n[a].number&&(f=t/n[a].number,l=Number(i.precision),1>l&&(l=1),r=e.roundTo(f,l),l=e.formatNumber(r,{precision:-1,decimalSeparator:i.decimalSeparator,thousandsSeparator:i.thousandsSeparator}),!s||f==r)){o=u+""+l+""+n[a].prefix;break}}else for(a=0;a<r.length;a++)if(t<=r[a].number){f=t/r[a].number,l=Math.abs(Math.floor(Math.log(f)*Math.LOG10E)),f=e.roundTo(f,l),o=u+""+f+""+r[a].prefix;break}return o},e.remove=function(e){e&&e.remove()},e.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},e.getObjById=function(e,t){var n,r;for(r=0;r<e.length;r++){var i=e[r];if(i.id==t){n=i;break}}return n},e.applyTheme=function(t,n,r){n||(n=e.theme),n&&n[r]&&e.extend(t,n[r])},e.isString=function(e){return"string"==typeof e?!0:!1},e.extend=function(e,t,n){var r;e||(e={});for(r in t)n?e.hasOwnProperty(r)||(e[r]=t[r]):e[r]=t[r];return e},e.copyProperties=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"events"!=n&&void 0!==e[n]&&"function"!=typeof e[n]&&"cname"!=n&&(t[n]=e[n])},e.processObject=function(t,n,r,i){if(0==t instanceof n&&(t=i?e.extend(new n(r),t):e.extend(t,new n(r),!0),t.listeners))for(var s in t.listeners)n=t.listeners[s],t.addListener(n.event,n.method);return t},e.fixNewLines=function(e){var t=RegExp("\\n","g");return e&&(e=e.replace(t,"<br />")),e},e.fixBrakes=function(t){if(e.isModern){var n=RegExp("<br>","g");t&&(t=t.replace(n,"\n"))}else t=e.fixNewLines(t);return t},e.deleteObject=function(t,n){if(t){if(void 0===n||null===n)n=20;if(0!==n)if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.deleteObject(t[r],n-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t)t[r]&&("object"==typeof t[r]&&e.deleteObject(t[r],n-1),"function"!=typeof t[r]&&(t[r]=null))}catch(i){}}},e.bounce=function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},e.easeInOutQuad=function(e,t,n,r,i){return t/=i/2,1>t?r/2*t*t+n:(t--,-r/2*(t*(t-2)-1)+n)},e.easeInSine=function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},e.easeOutSine=function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},e.easeOutElastic=function(e,t,n,r,i){e=1.70158;var s=0,o=r;return 0===t?n:1==(t/=i)?n+r:(s||(s=.3*i),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/s)+r+n)},e.fixStepE=function(t){t=t.toExponential(0).split("e");var n=Number(t[1]);return 9==Number(t[0])&&n++,e.generateNumber(1,n)},e.generateNumber=function(e,t){var n="",r;r=0>t?Math.abs(t)-1:Math.abs(t);var i;for(i=0;i<r;i++)n+="0";return 0>t?Number("0."+n+String(e)):Number(String(e)+n)},e.setCN=function(e,t,n,r){if(e.addClassNames&&t&&(t=t.node)&&n){var i=t.getAttribute("class");e=e.classNamePrefix+"-",r&&(e=""),i?t.setAttribute("class",i+" "+e+n):t.setAttribute("class",e+n)}},e.parseDefs=function(t,n){for(var r in t){var i=typeof t[r];if(0<t[r].length&&"object"==i)for(var s=0;s<t[r].length;s++)i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r][s],i);else"object"==i?(i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r],i)):n.setAttribute(r,t[r])}}}(),function(){var e=window.AmCharts;e.AxisBase=e.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},e.applyTheme(this,t,"AxisBase")},zoom:function(e,t){this.start=e,this.end=t,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},init:function(){this.createBalloon()},draw:function(){var e=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var t=e.container,n=t.set();e.gridSet.push(n),this.set=n,t=t.set(),e.axesLabelsSet.push(t),this.labelsSet=t,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(e=this.height/this.minVerticalGap,3>e&&(e=3)):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var t=this.title;this.titleLabel=null;if(t){var n=this.chart,r=this.titleColor;void 0===r&&(r=n.color);var i=this.titleFontSize;isNaN(i)&&(i=n.fontSize+1),t=e.text(n.container,t,r,n.fontFamily,i,this.titleAlign,this.titleBold),e.setCN(n,t,this.bcn+"title"),this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var n,r,i=this.labelsSet,s={};0<i.length()?s=i.getBBox():(s.x=0,s.y=0,s.width=this.width,s.height=this.height,e.VML&&(s.y+=this.y,s.x+=this.x)),i.push(t);var i=s.x,o=s.y;e.VML&&(this.rotate?i-=this.x:o-=this.y);var u=s.width,s=s.height,a=this.width,f=this.height,l=0,c=t.getBBox().height/2,h=this.inside,p=this.titleAlign;switch(this.position){case"top":n="left"==p?-1:"right"==p?a:a/2,r=o-10-c;break;case"bottom":n="left"==p?-1:"right"==p?a:a/2,r=o+s+10+c;break;case"left":n=i-10-c,h&&(n-=5),l=-90,r=("left"==p?f+1:"right"==p?-1:f/2)+this.titleDY;break;case"right":n=i+u+10+c,h&&(n+=7),r=("left"==p?f+2:"right"==p?-2:f/2)+this.titleDY,l=-90}this.marginsChanged?(t.translate(n,r),this.tx=n,this.ty=r):t.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(l=this.titleRotation),0!==l&&t.rotate(l)}},pushAxisItem:function(e,t){var n=this,r=e.graphics();0<r.length()&&(t?n.labelsSet.push(r):n.set.push(r));if(r=e.getLabel())this.labelsSet.push(r),r.click(function(t){n.handleMouse(t,e,"clickItem")}).mouseover(function(t){n.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){n.handleMouse(t,e,"rollOutItem")})},handleMouse:function(e,t,n){this.fire({type:n,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(t){for(var n=this.guides,r=!1,i=n.length,s=0;s<n.length;s++)n[s]==t&&(r=!0,i=s);t=e.processObject(t,e.Guide,this.theme),t.id||(t.id="guideAuto"+i+"_"+(new Date).getTime()),r||n.push(t)},removeGuide:function(e){var t=this.guides,n;for(n=0;n<t.length;n++)t[n]==e&&t.splice(n,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t=e.graphics.getBBox(),n=this.x+t.x+t.width/2,t=this.y+t.y+t.height/2,r=e.fillColor;void 0===r&&(r=e.lineColor),this.chart.showBalloon(e.balloonText,r,!0,n,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(e,t){var n=this;e.mouseover(function(){n.handleGuideOver(t)}),e.touchstart(function(){n.handleGuideOver(t)}),e.mouseout(function(){n.handleGuideOut(t)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?e.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){e.remove(this.set),e.remove(this.labelsSet);var t=this.axisLine;t&&e.remove(t.axisSet),e.remove(this.grid0)},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},parseDatesDraw:function(){var t,n=this.chart,r=this.showFirstLabel,i=this.showLastLabel,s,o="",u=e.extractPeriod(this.minPeriod),a=e.getPeriodDuration(u.period,u.count),f,l,c,h,p,v=this.firstDayOfWeek,m=this.boldPeriodBeginning;t=this.minorGridEnabled;var g,y=this.gridAlpha,b,w=this.choosePeriod(0),E=w.period,w=w.count,S=e.getPeriodDuration(E,w);S<a&&(E=u.period,w=u.count,S=a),u=E,"WW"==u&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var x=Math.ceil(this.timeDifference/S)+5,T=f=e.resetDateToMin(new Date(this.startTime-S),E,w,v).getTime();if(u==E&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)c=S*this.stepWidth,this.autoWrap&&!this.centerLabels&&(c=-c);this.cellWidth=a*this.stepWidth,h=Math.round(f/S),a=-1,h/2==Math.round(h/2)&&(a=-2,f-=S),h=this.firstTime;var N=0,C=0;t&&1<w&&(g=this.chooseMinorFrequency(w),b=e.getPeriodDuration(E,g),"DD"==E&&(b+=e.getPeriodDuration("hh")));if(0<this.gridCountR)for(x-5-a>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=a;t<=x;t++){p=h+S*(t+Math.floor((T-h)/S))-N,"DD"==E&&(p+=36e5),p=e.resetDateToMin(new Date(p),E,w,v).getTime(),"MM"==E&&(s=(p-f)/S,1.5<=(p-f)/S&&(p=p-(s-1)*S+e.getPeriodDuration("DD",3),p=e.resetDateToMin(new Date(p),E,1).getTime(),N+=S)),s=(p-this.startTime)*this.stepWidth;if("radar"==n.type){if(s=this.axisWidth-s,0>s||s>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(C=-S*this.stepWidth/2):"date"==this.type&&(s=this.axisWidth-s);o=!1,this.nextPeriod[u]&&(o=this.checkPeriodChange(this.nextPeriod[u],1,p,f,u)),f=!1,o&&this.markPeriodChange?(o=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(o=this.dateFormatsObject[u]+"\n"+o,o=e.fixBrakes(o)),f=!0):o=this.dateFormatsObject[u],m||(f=!1),this.currentDateFormat=o,o=e.formatDate(new Date(p),o,n);if(t==a&&!r||t==x&&!i)o=" ";this.labelFunction&&(o=this.labelFunction(o,new Date(p),this,E,w,l).toString()),this.boldLabels&&(f=!0),l=new this.axisItemRenderer(this,s,o,!1,c,C,!1,f),this.pushAxisItem(l),l=f=p;if(!isNaN(g))for(s=1;s<w;s+=g)this.gridAlpha=this.minorGridAlpha,o=p+b*s,o=e.resetDateToMin(new Date(o),E,g,v).getTime(),o=new this.axisItemRenderer(this,(o-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(o);this.gridAlpha=y}},choosePeriod:function(t){var n=e.getPeriodDuration(this.periods[t].period,this.periods[t].count),r=this.periods;return this.timeDifference<n&&0<t?r[t-1]:Math.ceil(this.timeDifference/n)<=this.gridCountR?r[t]:t+1<r.length?this.choosePeriod(t+1):r[t]},getStepWidth:function(e){var t;return this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e,t},timeZoom:function(e,t){this.startTime=e,this.endTime=t},minDuration:function(){var t=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,n,r,i,s){r=new Date(r);var o=new Date(i),u=this.firstDayOfWeek;return i=n,"DD"==t&&(n=1),r=e.resetDateToMin(r,t,n,u).getTime(),n=e.resetDateToMin(o,t,n,u).getTime(),"DD"==t&&"hh"!=s&&r-n<e.getPeriodDuration(t,i)?!1:r!=n?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var e;for(e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(e){return e},showBalloon:function(e,t,n,r){var i=this.offset;switch(this.position){case"bottom":t=this.height+i;break;case"top":t=-i;break;case"left":e=-i;break;case"right":e=this.width+i}n||(n=this.currentDateFormat);if("V"==this.orientation){if(0>t||t>this.height)return;if(isNaN(t)){this.hideBalloon();return}t=this.adjustBalloonCoordinate(t,r),r=this.coordinateToValue(t)}else{if(0>e||e>this.width)return;if(isNaN(e)){this.hideBalloon();return}e=this.adjustBalloonCoordinate(e,r),r=this.coordinateToValue(e)}var s;if(i=this.chart.chartCursor)s=i.index;this.balloon&&void 0!==r&&this.balloon.enabled&&(this.balloonTextFunction?r=this.balloonTextFunction(r):this.balloonText?r=this.formatBalloonText(this.balloonText,s,n):isNaN(r)||(r=this.formatValue(r,n)),e!=this.prevBX||t!=this.prevBY)&&(this.balloon.setPosition(e,t),this.prevBX=e,this.prevBY=t,r&&this.balloon.showBalloon(r))},adjustBalloonCoordinate:function(e){return e},createBalloon:function(){var t=this.chart,n=t.chartCursor;n&&(n=n.cursorPosition,"mouse"!=n&&(this.stickBalloonToCategory=!0),"start"==n&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),e.extend(this.balloon,t.balloon,!0))},setBalloonBounds:function(){var e=this.balloon;if(e){var t=this.chart;e.cornerRadius=0,e.shadowAlpha=0,e.borderThickness=1,e.borderAlpha=1,e.adjustBorderColor=!1,e.showBullet=!1,this.balloon=e,e.chart=t,e.mainSet=t.plotBalloonsSet,e.pointerWidth=this.tickLength;if(this.parseDates||"date"==this.type)e.pointerWidth=0;t="V","V"==this.orientation&&(t="H"),this.stickBalloonToCategory||(e.animationDuration=0);var n,r,i,s,o=this.inside,u=this.width,a=this.height;switch(this.position){case"bottom":n=0,r=u,o?(i=0,s=a):(i=a,s=a+1e3);break;case"top":n=0,r=u,o?(i=0,s=a):(i=-1e3,s=0);break;case"left":i=0,s=a,o?(n=0,r=u):(n=-1e3,r=0);break;case"right":i=0,s=a,o?(n=0,r=u):(n=u,r=u+1e3)}e.drop||(e.pointerOrientation=t),e.setBounds(n,i,r,s)}}})}(),function(){var e=window.AmCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed"),e.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,e.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR))))},draw:function(){e.ValueAxis.base.draw.call(this);var t=this.chart,n=this.set;this.labelRotationR=this.labelRotation,e.setCN(t,this.set,"value-axis value-axis-"+this.id),e.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id),e.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var r=this.type;"duration"==r&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==r&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax());if(this.logarithmic){var i=this.treatZeroAs,s=this.getExtremes(0,this.data.length-1).min;this.logMin=s,this.minReal<s&&(this.minReal=s),isNaN(this.minReal)&&(this.minReal=s),0<i&&0===s&&(this.minReal=s=i);if(0>=s||0>=this.minimum){this.fire({type:"logarithmicAxisFailed",chart:t});return}}this.grid0=null;var o,u,a=t.dx,f=t.dy,i=!1,s=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)i=!0;else{var l=this.labelFrequency,c=this.showFirstLabel,h=this.showLastLabel,p=1;o=0,this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum)),isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom);if(this.logarithmic){var v=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E,m=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E;this.relativeStart=(Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/v,this.relativeEnd=m/v}else this.relativeStart=e.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),this.relativeEnd=e.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1);var v=Math.round((this.maxCalc-this.minCalc)/this.step)+1,g;!0===s?(g=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/g,g>this.logGridLimit&&(v=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,o=Math.round(Math.log(this.minReal)*Math.LOG10E),v>this.gridCountR&&(p=Math.ceil(v/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var y=0;1>this.step&&-1<this.step&&(y=e.getDecimals(this.step)),this.integersOnly&&(y=0),y>this.maxDecCount&&(y=this.maxDecCount),m=this.precision,isNaN(m)||(y=m),isNaN(this.maxZoom)&&(this.max=e.roundTo(this.max,this.maxDecCount),this.min=e.roundTo(this.min,this.maxDecCount)),u={},u.precision=y,u.decimalSeparator=t.nf.decimalSeparator,u.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=u;var b,w=this.guides,E=w.length;if(0<E){var S=this.fillAlpha;for(u=this.fillAlpha=0;u<E;u++){var x=w[u],T=NaN,N=x.above;isNaN(x.toValue)||(T=this.getCoordinate(x.toValue),b=new this.axisItemRenderer(this,T,"",!0,NaN,NaN,x),this.pushAxisItem(b,N));var C=NaN;isNaN(x.value)||(C=this.getCoordinate(x.value),b=new this.axisItemRenderer(this,C,x.label,!0,NaN,(T-C)/2,x),this.pushAxisItem(b,N)),isNaN(T)&&(C-=3,T=C+3),isNaN(T-C)||(b=new this.guideFillRenderer(this,C,T,x),this.pushAxisItem(b,N),b=b.graphics(),x.graphics=b,x.balloonText&&this.addEventListeners(b,x))}this.fillAlpha=S}this.exponential=!1;for(u=o;u<v;u+=p)w=e.roundTo(this.step*u+this.min,y),-1!=String(w).indexOf("e")&&(this.exponential=!0);this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var y=this.step,k,w=this.minorGridAlpha;this.minorGridEnabled&&(k=this.getMinorGridStep(y,this.stepWidth*y));if(this.autoGridCount||0!==this.gridCount)if("date"==r)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(v>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),s&&v++,u=o;u<v;u+=p)if(r=y*u+this.minCalc,r=e.roundTo(r,this.maxDecCount+1),!this.integersOnly||Math.round(r)==r)if(isNaN(m)||Number(e.toFixed(r,m))==r){!0===s&&(0===r&&(r=this.minReal),g>this.logGridLimit&&(r=Math.pow(10,u))),b=this.formatValue(r,!1,u),Math.round(u/l)!=u/l&&(b=void 0);if(0===u&&!c||u==v-1&&!h)b=" ";o=this.getCoordinate(r);var L;this.rotate&&this.autoWrap&&(L=this.stepWidth*y-10),b=new this.axisItemRenderer(this,o,b,void 0,L,void 0,void 0,this.boldLabels),this.pushAxisItem(b);if(r==this.baseValue&&"radar"!=t.type){var A,O;b=this.width,E=this.height,"H"==this.orientation?0<=o&&o<=b+1&&(A=[o,o,o+a],O=[E,0,f]):0<=o&&o<=E+1&&(A=[0,b,b+a],O=[o,o,o+f]),A&&(o=e.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(o=this.zeroGridAlpha),o=e.line(t.container,A,O,this.gridColor,o,1,this.dashLength),o.translate(this.x,this.y),this.grid0=o,t.axesSet.push(o),o.toBack(),e.setCN(t,o,this.bcn+"zero-grid-"+this.id),e.setCN(t,o,this.bcn+"zero-grid"))}if(!isNaN(k)&&0<w&&u<v-1){o=y/k,s&&(k=y*(u+p)+this.minCalc,k=e.roundTo(k,this.maxDecCount+1),g>this.logGridLimit&&(k=Math.pow(10,u+p)),o=10,k=(k-r)/o),b=this.gridAlpha,this.gridAlpha=this.minorGridAlpha;for(E=1;E<o;E++)S=this.getCoordinate(r+k*E),S=new this.axisItemRenderer(this,S,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(S);this.gridAlpha=b}}g=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(g=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(g=this.max),s&&g<this.minReal&&(g=this.minReal),this.baseCoord=this.getCoordinate(g,!0),g={type:"axisChanged",target:this,chart:t},g.min=s?this.minReal:this.min,g.max=this.max,this.fire(g),this.axisCreated=!0}s=this.axisLine.set,g=this.labelsSet,n.translate(this.x,this.y),g.translate(this.x,this.y),this.positionTitle(),"radar"!=t.type&&s.toFront(),!this.visible||i?(n.hide(),s.hide(),g.hide()):(n.show(),s.show(),g.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=e.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=e.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,n,r){var i=this.exponential,s=this.logarithmic,o=this.numberFormatter,u=this.chart;if(o)return!0===this.logarithmic&&(i=-1!=String(t).indexOf("e")?!0:!1),this.useScientificNotation&&(i=!0),this.usePrefixes&&(i=!1),i?(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t),i=r.split("e"),r=Number(i[0]),i=Number(i[1]),r=e.roundTo(r,14),10==r&&(r=1,i+=1),r=r+"e"+i,0===t&&(r="0"),1==t&&(r="1")):(s&&(i=String(t).split("."),i[1]?(o.precision=i[1].length,0>r&&(o.precision=Math.abs(r)),n&&1<t&&(o.precision=0)):o.precision=-1),r=this.usePrefixes?e.addPrefix(t,u.prefixesOfBigNumbers,u.prefixesOfSmallNumbers,o,!n):e.formatNumber(t,o,o.precision)),this.duration&&(n&&(o.precision=0),r=e.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,o)),"date"==this.type&&(r=e.formatDate(new Date(t),this.currentDateFormat,u)),this.recalculateToPercents?r+="%":(n=this.unit)&&(r="left"==this.unitPosition?n+r:r+n),this.labelFunction&&(r="date"==this.type?this.labelFunction(r,new Date(t),this).toString():this.labelFunction(t,r,this).toString()),r},getMinorGridStep:function(e,t){var n=[5,4,2];60>t&&n.shift();for(var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i=0;i<n.length;i++){var s=e/n[i],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(r-o)))if(1>e){if(o=Math.pow(10,-o)*s,o==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(t){var n=this.stackType;"stacked"==n&&(n="regular"),"line"==n&&(n="none"),"100% stacked"==n&&(n="100%"),this.stackType=n;var r=[],i=[],s=[],o=[],u,a=this.chart.graphs,f,l,c,h,p,v=this.baseValue,m=!1;if("line"==t||"step"==t||"smoothedLine"==t)m=!0;if(m&&("regular"==n||"100%"==n))for(h=0;h<a.length;h++)c=a[h],c.stackGraph=null,c.hidden||(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(f&&(c.stackGraph=f),f=c));c=this.start-10,f=this.end+10,h=this.data.length-1,c=e.fitToBounds(c,0,h),f=e.fitToBounds(f,0,h);for(p=c;p<=f;p++){var g=0;for(h=0;h<a.length;h++)if(c=a[h],c.hidden)c.newStack&&(s[p]=NaN,i[p]=NaN);else if(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable)if(l=this.data[p].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u))c.newStack&&(s[p]=NaN,i[p]=NaN);else{var y=e.getDecimals(u);g<y&&(g=y),isNaN(o[p])?o[p]=Math.abs(u):o[p]+=Math.abs(u),o[p]=e.roundTo(o[p],g),y=c.fillToGraph,m&&y&&(y=this.data[p].axes[this.id].graphs[y.id])&&(l.values.open=y.values.value),"regular"==n&&(m&&(isNaN(r[p])?(r[p]=u,l.values.close=u,l.values.open=this.baseValue):(isNaN(u)?l.values.close=r[p]:l.values.close=u+r[p],l.values.open=r[p],r[p]=l.values.close)),"column"==t&&(c.newStack&&(s[p]=NaN,i[p]=NaN),l.values.close=u,0>u?(l.values.close=u,isNaN(i[p])?l.values.open=v:(l.values.close+=i[p],l.values.open=i[p]),i[p]=l.values.close):(l.values.close=u,isNaN(s[p])?l.values.open=v:(l.values.close+=s[p],l.values.open=s[p]),s[p]=l.values.close)))}}for(p=this.start;p<=this.end;p++)for(h=0;h<a.length;h++)(c=a[h],c.hidden)?c.newStack&&(s[p]=NaN,i[p]=NaN):(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(l=this.data[p].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u)||(r=u/o[p]*100,l.values.percents=r,l.values.total=o[p],c.newStack&&(s[p]=NaN,i[p]=NaN),"100%"==n&&(isNaN(i[p])&&(i[p]=0),isNaN(s[p])&&(s[p]=0),0>r?(l.values.close=e.fitToBounds(r+i[p],-100,100),l.values.open=i[p],i[p]=l.values.close):(l.values.close=e.fitToBounds(r+s[p],-100,100),l.values.open=s[p],s[p]=l.values.close)))))},recalculate:function(){var t=this.chart,n=t.graphs,r;for(r=0;r<n.length;r++){var i=n[r];if(i.valueAxis==this){var s="value";if("candlestick"==i.type||"ohlc"==i.type)s="open";var o,u,a=this.end+2,a=e.fitToBounds(this.end+1,0,this.data.length-1),f=this.start;0<f&&f--;var l;u=this.start,i.compareFromStart&&(u=0);if(!isNaN(t.startTime)&&(l=t.categoryAxis)){var c=l.minDuration(),c=new Date(t.startTime+c/2),h=e.resetDateToMin(new Date(t.startTime),l.minPeriod).getTime();e.resetDateToMin(new Date(c),l.minPeriod).getTime()>h&&u++}if(l=t.recalculateFromDate)l=e.getDate(l,t.dataDateFormat,"fff"),u=t.getClosestIndex(t.chartData,"time",l.getTime(),!0,0,t.chartData.length),a=t.chartData.length-1;for(l=u;l<=a&&(u=this.data[l].axes[this.id].graphs[i.id],o=u.values[s],i.recalculateValue&&(o=u.dataContext[i.valueField+i.recalculateValue]),isNaN(o));l++);this.recBaseValue=o;for(s=f;s<=a;s++){u=this.data[s].axes[this.id].graphs[i.id],u.percents={};var f=u.values,p;for(p in f)u.percents[p]="percents"!=p?f[p]/o*100-100:f[p]}}}},getMinMax:function(){var t=!1,n=this.chart,r=n.graphs,i;for(i=0;i<r.length;i++){var s=r[i].type;("line"==s||"step"==s||"smoothedLine"==s)&&this.expandMinMax&&(t=!0)}t&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==n.type&&(!0!==n.categoryAxis.parseDates||t||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),t=this.minMaxMultiplier,n=this.getExtremes(this.start,this.end),this.min=n.min,this.max=n.max,this.minRR=this.min,this.maxRR=this.max,t=(this.max-this.min)*(t-1),this.min-=t,this.max+=t,t=this.guides.length;if(this.includeGuidesInMinMax&&0<t)for(n=0;n<t;n++)r=this.guides[n],r.toValue<this.min&&(this.min=r.toValue),r.value<this.min&&(this.min=r.value),r.toValue>this.max&&(this.max=r.toValue),r.value>this.max&&(this.max=r.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(t=this.max,this.max=this.min,this.min=t),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),t=this.min,n=this.max,r=this.max-this.min,i=0===r?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/i)*i+i),isNaN(this.minimum)&&(this.min=Math.floor(this.min/i)*i-i),0>this.min&&0<=t&&(this.min=0),0<this.max&&0>=n&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),r=this.max-this.min,i=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,this.step=Math.ceil(r/this.gridCountR/i)*i,r=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),r=e.fixStepE(r),i=Math.ceil(this.step/r),5<i&&(i=10),5>=i&&2<i&&(i=5),this.step=Math.ceil(this.step/(r*i))*r*i,1>r?(this.maxDecCount=Math.abs(Math.log(Math.abs(r))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=t&&(this.min=0),0<this.max&&0>=n&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),r=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=r),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(n)*Math.LOG10E-Math.log(t)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(n))*Math.LOG10E))):(t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<t&&(this.minReal=this.min=10*t)))},getExtremes:function(e,t){var n,r,i;for(i=e;i<=t;i++){var s=this.data[i].axes[this.id].graphs,o;for(o in s)if(s.hasOwnProperty(o)){var u=this.chart.graphsById[o];if(u.includeInMinMax&&(!u.hidden||this.includeHidden)){isNaN(n)&&(n=Infinity),isNaN(r)&&(r=-Infinity),this.foundGraphs=!0,u=s[o].values,this.recalculateToPercents&&(u=s[o].percents);var a;if(this.minMaxField)a=u[this.minMaxField],a<n&&(n=a),a>r&&(r=a);else for(var f in u)u.hasOwnProperty(f)&&"percents"!=f&&"total"!=f&&(a=u[f],a<n&&(n=a),a>r&&(r=a))}}}return{min:n,max:r}},zoomOut:function(){this.zoomToRelativeValues(0,1),this.maxZoom=this.minZoom=NaN},zoomToRelativeValues:function(e,t,n){if(this.reversed){var r=e;e=1-t,t=1-r}var i=this.fullMax,r=this.fullMin,s=r+(i-r)*e,o=r+(i-r)*t;return this.logarithmic&&(i=Math.log(i)*Math.LOG10E-Math.log(r)*Math.LOG10E,s=Math.pow(10,i*e+Math.log(r)*Math.LOG10E),o=Math.pow(10,i*t+Math.log(r)*Math.LOG10E)),this.zoomToValues(s,o,n)},zoomToValues:function(e,t,n){if(t<e){var r=t;t=e,e=r}var i=this.fullMax,r=this.fullMin;this.relativeStart=(e-r)/(i-r),this.relativeEnd=(t-r)/(i-r);if(this.logarithmic){var i=Math.log(i)*Math.LOG10E-Math.log(r)*Math.LOG10E,s=Math.log(t)/Math.LN10-Math.log(r)*Math.LOG10E;this.relativeStart=(Math.log(e)/Math.LN10-Math.log(r)*Math.LOG10E)/i,this.relativeEnd=s/i}if(this.minZoom!=e||this.maxZoom!=t)return this.minZoom=e,this.maxZoom=t,n||(n={type:"axisZoomed"},n.chart=this.chart,n.valueAxis=this,n.startValue=e,n.endValue=t,n.relativeStart=this.relativeStart,n.relativeEnd=this.relativeEnd,this.fire(n)),!0},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,n=this.stepWidth,r=this.reversed,i=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===r?(t-e)/n:e/n:!0===r?e/n:(t-e)/n)+Math.log(o)*Math.LOG10E):!0===r?i?s-(e-t)/n:e/n+s:i?e/n+s:s-(e-t)/n},getCoordinate:function(e,t){if(isNaN(e))return NaN;var n=this.rotate,r=this.reversed,i=this.axisWidth,s=this.stepWidth,o=this.min,u=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),o=Math.log(e)*Math.LOG10E-Math.log(u)*Math.LOG10E,n=n?!0===r?i-s*o:s*o:!0===r?s*o:i-s*o):n=!0===r?n?i-s*(e-o):s*(e-o):n?s*(e-o):i-s*(e-o),1e7<Math.abs(n)&&(n=n/Math.abs(n)*1e7),t||(n=Math.round(n)),n},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,n=t.min,r=t.max,t=t.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=t*i,n=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}}})}(),function(){var e=window.AmCharts;e.RecAxis=e.Class({construct:function(t){var n=t.chart,r=t.axisThickness,i=t.axisColor,s=t.axisAlpha,o=t.offset,u=t.dx,a=t.dy,f=t.x,l=t.y,c=t.height,h=t.width,p=n.container;"H"==t.orientation?(i=e.line(p,[0,h],[0,0],i,s,r),this.axisWidth=t.width,"bottom"==t.position?(a=r/2+o+c+l-1,r=f):(a=-r/2-o+l+a,r=u+f)):(this.axisWidth=t.height,"right"==t.position?(i=e.line(p,[0,0,-u],[0,c,c-a],i,s,r),a=l+a,r=r/2+o+u+h+f-1):(i=e.line(p,[0,0],[0,c],i,s,r),a=l,r=-r/2-o+f)),i.translate(r,a),r=n.container.set(),r.push(i),n.axesSet.push(r),e.setCN(n,i,t.bcn+"line"),this.axisSet=r,this.set=i}})}(),function(){var e=window.AmCharts;e.RecItem=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l,c,h){n=Math.round(n);var p=t.chart;this.value=r,void 0==r&&(r=""),f||(f=0),void 0==i&&(i=!0);var v=p.fontFamily,m=t.fontSize;void 0==m&&(m=p.fontSize);var g=t.color;void 0==g&&(g=p.color),void 0!==c&&(g=c);var y=t.chart.container,b=y.set();this.set=b;var w=t.axisThickness,E=t.axisColor,S=t.axisAlpha,x=t.tickLength,T=t.gridAlpha,N=t.gridThickness,C=t.gridColor,k=t.dashLength,L=t.fillColor,A=t.fillAlpha,O=t.labelsEnabled;c=t.labelRotationR;var M=t.counter,_=t.inside,D=t.labelOffset,P=t.dx,H=t.dy,B=t.orientation,j=t.position,F=t.previousCoord,I=t.height,q=t.width,R=t.offset,U,z;u?(void 0!==u.id&&(h=p.classNamePrefix+"-guide-"+u.id),O=!0,isNaN(u.tickLength)||(x=u.tickLength),void 0!=u.lineColor&&(C=u.lineColor),void 0!=u.color&&(g=u.color),isNaN(u.lineAlpha)||(T=u.lineAlpha),isNaN(u.dashLength)||(k=u.dashLength),isNaN(u.lineThickness)||(N=u.lineThickness),!0===u.inside&&(_=!0,0<R&&(R=0)),isNaN(u.labelRotation)||(c=u.labelRotation),isNaN(u.fontSize)||(m=u.fontSize),u.position&&(j=u.position),void 0!==u.boldLabel&&(a=u.boldLabel),isNaN(u.labelOffset)||(D=u.labelOffset)):""===r&&(x=0),l&&!isNaN(t.minorTickLength)&&(x=t.minorTickLength);var W="start";0<s&&(W="middle"),t.centerLabels&&(W="middle");var X=c*Math.PI/180,V,$,J=0,K=0,Q=0,G=V=0,Y=0;"V"==B&&(c=0);var Z;O&&""!==r&&(Z=t.autoWrap&&0===c?e.wrappedText(y,r,g,v,m,W,a,Math.abs(s),0):e.text(y,r,g,v,m,W,a),W=Z.getBBox(),G=W.width,Y=W.height);if("H"==B){if(0<=n&&n<=q+1&&(0<x&&0<S&&n+f<=q+1&&(U=e.line(y,[n+f,n+f],[0,x],E,S,N),b.push(U)),0<T&&(z=e.line(y,[n,n+P,n+P],[I,I+H,H],C,T,N,k),b.push(z))),K=0,J=n,u&&90==c&&_&&(J-=m),!1===i?(W="start",K="bottom"==j?_?K+x:K-x:_?K-x:K+x,J+=3,0<s&&(J+=s/2-3,W="middle"),0<c&&(W="middle")):W="middle",1==M&&0<A&&!u&&!l&&F<q&&(i=e.fitToBounds(n,0,q),F=e.fitToBounds(F,0,q),V=i-F,0<V&&($=e.rect(y,V,t.height,L,A),$.translate(i-V+P,H),b.push($))),"bottom"==j?(K+=I+m/2+R,_?(0<c?(K=I-G/2*Math.sin(X)-x-3,J+=G/2*Math.cos(X)-4+2):0>c?(K=I+G*Math.sin(X)-x-3+2,J+=-G*Math.cos(X)-Y*Math.sin(X)-4):K-=x+m+3+3,K-=D):(0<c?(K=I+G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):0>c?(K=I+x+3-G/2*Math.sin(X)+2,J+=G/2*Math.cos(X)):K+=x+w+3+3,K+=D)):(K+=H+m/2-R,J+=P,_?(0<c?(K=G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):K+=x+3,K+=D):(0<c?(K=-(G/2)*Math.sin(X)-x-6,J+=G/2*Math.cos(X)):K-=x+m+3+w+3,K-=D)),"bottom"==j?V=(_?I-x-1:I+w-1)+R:(Q=P,V=(_?H:H-x-w+1)-R),o&&(J+=o),o=J,0<c&&(o+=G/2*Math.cos(X)),Z&&(m=0,_&&(m=G/2*Math.cos(X)),o+m>q+2||0>o))Z.remove(),Z=null}else{0<=n&&n<=I+1&&(0<x&&0<S&&n+f<=I+1&&(U=e.line(y,[0,x+1],[n+f,n+f],E,S,N),b.push(U)),0<T&&(z=e.line(y,[0,P,q+P],[n,n+H,n+H],C,T,N,k),b.push(z))),W="end";if(!0===_&&"left"==j||!1===_&&"right"==j)W="start";K=n-Y/2+2,1==M&&0<A&&!u&&!l&&(i=e.fitToBounds(n,0,I),F=e.fitToBounds(F,0,I),X=i-F,$=e.polygon(y,[0,t.width,t.width,0],[0,0,X,X],L,A),$.translate(P,i-X+H),b.push($)),K+=m/2,"right"==j?(J+=P+q+R,K+=H,_?(o||(K-=m/2+3),J=J-(x+4)-D):(J+=x+4+w,K-=2,J+=D)):_?(J+=x+4-R,o||(K-=m/2+3),u&&(J+=P,K+=H),J+=D):(J+=-x-w-4-2-R,K-=2,J-=D),U&&("right"==j?(Q+=P+R+q-1,V+=H,Q=_?Q-w:Q+w):(Q-=R,_||(Q-=x+w))),o&&(K+=o),_=-3,"right"==j&&(_+=H),Z&&(K>I+1||K<_)&&(Z.remove(),Z=null)}U&&(U.translate(Q,V),e.setCN(p,U,t.bcn+"tick"),e.setCN(p,U,h,!0),u&&e.setCN(p,U,"guide")),!1===t.visible&&(U&&U.remove(),Z&&(Z.remove(),Z=null)),Z&&(Z.attr({"text-anchor":W}),Z.translate(J,K,NaN,!0),0!==c&&Z.rotate(-c,t.chart.backgroundColor),t.allLabels.push(Z),this.label=Z,e.setCN(p,Z,t.bcn+"label"),e.setCN(p,Z,h,!0),u&&e.setCN(p,Z,"guide")),z&&(e.setCN(p,z,t.bcn+"grid"),e.setCN(p,z,h,!0),u&&e.setCN(p,z,"guide")),$&&(e.setCN(p,$,t.bcn+"fill"),e.setCN(p,$,h,!0)),l?z&&e.setCN(p,z,t.bcn+"grid-minor"):(t.counter=0===M?1:0,t.previousCoord=n),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RecFill=e.Class({construct:function(t,n,r,i){var s=t.dx,o=t.dy,u=t.orientation,a=0;if(r<n){var f=n;n=r,r=f}var l=i.fillAlpha;isNaN(l)&&(l=0);var f=t.chart.container,c=i.fillColor;"V"==u?(n=e.fitToBounds(n,0,t.height),r=e.fitToBounds(r,0,t.height)):(n=e.fitToBounds(n,0,t.width),r=e.fitToBounds(r,0,t.width)),r-=n,isNaN(r)&&(r=4,a=2,l=0),0>r&&"object"==typeof c&&(c=c.join(",").split(",").reverse()),"V"==u?(u=e.rect(f,t.width,r,c,l),u.translate(s,n-a+o)):(u=e.rect(f,r,t.height,c,l),u.translate(n-a+s,o)),e.setCN(t.chart,u,"guide-fill"),i.id&&e.setCN(t.chart,u,"guide-fill-"+i.id),this.set=f.set([u])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0,this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.18.6",e.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=!0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var n=document.createElement("div"),r=n.style;r.overflow="hidden",r.position="relative",r.textAlign="left",this.chartDiv=n,n=document.createElement("div"),r=n.style,r.overflow="hidden",r.position="relative",r.textAlign="left",this.legendDiv=n,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.handDrawThickness=1,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:""},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new e.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},drawBackground:function(){e.remove(this.background);var t=this.container,n=this.backgroundColor,r=this.backgroundAlpha,i=this.set;e.isModern||0!==r||(r=.001);var s=this.updateWidth();this.realWidth=s;var o=this.updateHeight();this.realHeight=o,n=e.polygon(t,[0,s-1,s-1,0],[0,0,o-1,o-1],n,r,1,this.borderColor,this.borderAlpha),e.setCN(this,n,"bg"),this.background=n,i.push(n);if(n=this.backgroundImage)t=t.image(n,0,0,s,o),e.setCN(this,n,"bg-image"),this.bgImg=t,i.push(t)},drawTitles:function(t){var n=this.titles;this.titleHeight=0;if(e.ifArray(n)){var r=20,i;for(i=0;i<n.length;i++){var s=n[i],s=e.processObject(s,e.Title,this.theme);if(!1!==s.enabled){var o=s.color;void 0===o&&(o=this.color);var u=s.size;isNaN(u)&&(u=this.fontSize+2),isNaN(s.alpha);var a=this.marginLeft,f=!0;void 0!==s.bold&&(f=s.bold),o=e.wrappedText(this.container,s.text,o,this.fontFamily,u,"middle",f,this.realWidth-35),o.translate(a+(this.realWidth-this.marginRight-a)/2,r),o.node.style.pointerEvents="none",s.sprite=o,e.setCN(this,o,"title"),s.id&&e.setCN(this,o,"title-"+s.id),o.attr({opacity:s.alpha}),r+=o.getBBox().height+5,t?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=r-10}},write:function(e){var t=this;if(t.listeners)for(var n=0;n<t.listeners.length;n++){var r=t.listeners[n];t.addListener(r.event,r.method)}t.fire({type:"buildStarted",chart:t}),t.afterWriteTO&&clearTimeout(t.afterWriteTO),0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,e)},t.processTimeout):t.afterWrite(e)},afterWrite:function(t){if(t="object"!=typeof t?document.getElementById(t):t){for(;t.firstChild;)t.removeChild(t.firstChild);this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var n=this.chartDiv,r=this.legendDiv,i=this.legend,s=r.style,o=n.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var u,a=document.createElement("div");u=a.style,u.position="relative",this.containerDiv=a,a.className=this.classNamePrefix+"-main-div",n.className=this.classNamePrefix+"-chart-div",t.appendChild(a);var f=this.exportConfig;f&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,f)),this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init();if(i)if(i=this.addLegend(i,i.divId),i.enabled)switch(i.position){case"bottom":a.appendChild(n),a.appendChild(r);break;case"top":a.appendChild(r),a.appendChild(n);break;case"absolute":u.width=t.style.width,u.height=t.style.height,s.position="absolute",o.position="absolute",void 0!==i.left&&(s.left=i.left+"px"),void 0!==i.right&&(s.right=i.right+"px"),void 0!==i.top&&(s.top=i.top+"px"),void 0!==i.bottom&&(s.bottom=i.bottom+"px"),i.marginLeft=0,i.marginRight=0,a.appendChild(n),a.appendChild(r);break;case"right":u.width=t.style.width,u.height=t.style.height,s.position="relative",o.position="absolute",a.appendChild(n),a.appendChild(r);break;case"left":u.width=t.style.width,u.height=t.style.height,s.position="absolute",o.position="relative",a.appendChild(n),a.appendChild(r);break;case"outside":a.appendChild(n)}else a.appendChild(n);else a.appendChild(n);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=e.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=e.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(e.callInitHandler(this),this.initHC=!0),e.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.extension=".png",this.svgIcons&&e.SVG&&(this.extension=".svg"),this.checkDisplay(),t.chart=this,e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,e.remove(this.set),this.set=t.set(),e.remove(this.gridSet),this.gridSet=t.set(),e.remove(this.cursorLineSet),this.cursorLineSet=t.set(),e.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),e.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),e.remove(this.columnSet),this.columnSet=t.set(),e.remove(this.graphsSet),this.graphsSet=t.set(),e.remove(this.trendLinesSet),this.trendLinesSet=t.set(),e.remove(this.axesSet),this.axesSet=t.set(),e.remove(this.cursorSet),this.cursorSet=t.set(),e.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),e.remove(this.bulletSet),this.bulletSet=t.set(),e.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),e.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),e.remove(this.balloonsSet),this.balloonsSet=t.set(),e.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),e.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),e.remove(this.zbSet),this.zbSet=null,e.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){this.boundingRect=this.chartDiv.getBoundingClientRect();var t=e.offsetWidth,n=e.offsetHeight;e.clientHeight&&(t=e.clientWidth,n=e.clientHeight);if(t!=this.mw||n!=this.mh)this.mw=t,this.mh=n,this.measure()}},measure:function(){var t=this.div;if(t){var n=this.chartDiv,r=t.offsetWidth,i=t.offsetHeight,s=this.container;t.clientHeight&&(r=t.clientWidth,i=t.clientHeight);var o=e.removePx(e.getStyle(t,"padding-left")),u=e.removePx(e.getStyle(t,"padding-right")),a=e.removePx(e.getStyle(t,"padding-top")),f=e.removePx(e.getStyle(t,"padding-bottom"));isNaN(o)||(r-=o),isNaN(u)||(r-=u),isNaN(a)||(i-=a),isNaN(f)||(i-=f),o=t.style,t=o.width,o=o.height,-1!=t.indexOf("px")&&(r=e.removePx(t)),-1!=o.indexOf("px")&&(i=e.removePx(o)),i=Math.round(i),r=Math.round(r),t=Math.round(e.toCoordinate(this.width,r)),o=Math.round(e.toCoordinate(this.height,i)),(r!=this.previousWidth||i!=this.previousHeight)&&0<t&&0<o&&(n.style.width=t+"px",n.style.height=o+"px",n.style.padding=0,s&&s.setSize(t,o),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),this.balloon.setBounds(2,2,t-2,o)),this.balloon.chart=this,this.realWidth=t,this.realHeight=o,this.divRealWidth=r,this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=e.rect(this.container,10,10),n=t.getBBox();0===n.width&&0===n.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(t){e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||e.removeChart(this);if(t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){if(this.container&&!1!==t.enabled){t=e.processObject(t,e.Label,this.theme);var n=t.y,r=t.text,i=t.align,s=t.size,o=t.color,u=t.rotation,a=t.alpha,f=t.bold,l=e.toCoordinate(t.x,this.realWidth),n=e.toCoordinate(n,this.realHeight);l||(l=0),n||(n=0),void 0===o&&(o=this.color),isNaN(s)&&(s=this.fontSize),i||(i="start"),"left"==i&&(i="start"),"right"==i&&(i="end"),"center"==i&&(i="middle",u?n=this.realHeight-n+n/2:l=this.realWidth/2-l),void 0===a&&(a=1),void 0===u&&(u=0),n+=s/2,r=e.text(this.container,r,o,this.fontFamily,s,i,f,a),r.translate(l,n),e.setCN(this,r,"label"),t.id&&e.setCN(this,r,"label-"+t.id),0!==u&&r.rotate(u),t.url?(r.setAttr("cursor","pointer"),r.click(function(){e.getURL(t.url)})):r.node.style.pointerEvents="none",this.labelsSet.push(r),this.labels.push(r)}},addLabel:function(e,t,n,r,i,s,o,u,a,f){e={x:e,y:t,text:n,align:r,size:i,color:s,alpha:u,rotation:o,bold:a,url:f,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var e=this.labels,t;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var n=this.legendDiv.offsetHeight,t=t.position;if("top"==t||"bottom"==t){e-=n;if(0>e||isNaN(e))e=0;this.chartDiv.style.height=e+"px"}}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,n=this.legend;if(n){var r=this.legendDiv,i=r.offsetWidth;isNaN(n.width)||(i=n.width),n.ieW&&(i=n.ieW);var s=r.offsetHeight,r=r.style,o=this.chartDiv.style,n=n.position;if("right"==n||"left"==n){e-=i;if(0>e||isNaN(e))e=0;o.width=e+"px",this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==n?(o.left=i+"px",r.left="0px"):(o.left="0px",r.left=e+"px"),t>s&&(r.top=(t-s)/2+"px")}}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,t,n,r,i){return isNaN(t)&&(t=this.fontSize+2),e={text:e,size:t,color:n,alpha:r,bold:i,enabled:!0},this.titles.push(e),e},handleWheel:function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&this.handleWheelReal(t,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.hideBalloonReal(),this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY},handleDocTouchEnd:function(){-0.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)&&(this.tapped=!0)):this.tapped=!1},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?(e.panEventsEnabled&&(t.style.msTouchAction="none",t.style.touchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),document.addEventListener("touchstart",function(t){e.handleDocTouchStart.call(e,t)}),document.addEventListener("touchend",function(t){e.handleDocTouchEnd.call(e,t)})),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;e.premeasure(),e.checkDisplay();if(e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){e.sizeChanged=!0;if(t){e.legendInitTO&&clearTimeout(e.legendInitTO);var n=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(n),e.legendInitTO=n}e.marginsUpdated="xy"!=e.type?!1:!0,clearTimeout(e.initTO),n=setTimeout(function(){e.initChart()},10),e.timeOuts.push(n),e.initTO=n}e.renderFix(),t&&t.renderFix&&t.renderFix(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t),e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=t,this.chartRendered=!1,this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide()},showBalloon:function(e,t,n,r,i){var s=this;clearTimeout(s.balloonTO),clearTimeout(s.hoverInt),s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,e,t,n,r,i)},1)},showBalloonReal:function(e,t,n,r,i){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(t),!n||s.fixedPosition?(s.setPosition(r,i),isNaN(r)||isNaN(i)?s.followCursor(!0):s.followCursor(!1)):s.followCursor(!0),e&&s.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),e.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var t=this;e.resetMouseOver(),t.outTO&&clearTimeout(t.outTO),t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){e||(e=window.event),this.mouse2Y=this.mouse2X=NaN;var t,n,r,i;if(e){if(e.touches){var s=e.touches.item(1);s&&this.panEventsEnabled&&this.boundingRect&&(r=s.clientX-this.boundingRect.left,i=s.clientY-this.boundingRect.top),e=e.touches.item(0);if(!e)return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(t=e.clientX-this.boundingRect.left,n=e.clientY-this.boundingRect.top),isNaN(r)?this.mouseX=t:(this.mouseX=Math.min(t,r),this.mouse2X=Math.max(t,r)),isNaN(i)?this.mouseY=n:(this.mouseY=Math.min(n,i),this.mouse2Y=Math.max(n,i))}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(t){this.wasTouched=!0,this.handleMouseMove(t),e.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){e.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,n){t=e.processObject(t,e.AmLegend,this.theme),t.divId=n,t.ieW=0;var r;return r="object"!=typeof n&&n?document.getElementById(n):n,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(e.hasSVG)return this.container},animate:function(t,n,r,i,s,o,u){return t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]),r={obj:t,frame:0,attribute:n,from:r,to:i,time:s,effect:o,suffix:u},t["an_"+n]=r,this.animations.push(r),r},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;this.container&&this.container.update();if(this.animations)for(t=this.animations.length-1;0<=t;t--){var n=this.animations[t],r=e.updateRate*n.time,i=n.frame+1,s=n.obj,o=n.attribute;if(i<=r){n.frame++;var u=Number(n.from),a=Number(n.to)-u,r=e[n.effect](0,i,u,a,r);0===a?(this.animations.splice(t,1),s.node.style[o]=Number(n.to)+n.suffix):s.node.style[o]=r+n.suffix}else s.node.style[o]=Number(n.to)+n.suffix,s.animationFinished=!0,this.animations.splice(t,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var t=!0,n=e.length-1;0<=n;n--){var r=e[n];r&&(r.animationFinished?e.splice(n,1):t=!1)}t&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){if(!this.hideCredits){var e="amcharts.com",t=window.location.hostname.split("."),n;2<=t.length&&(n=t[t.length-2]+"."+t[t.length-1]),this.amLink&&(t=this.amLink.parentNode)&&t.removeChild(this.amLink),t=this.creditsPosition;if(n!=e||!0===this.inIframe()){var e="http://www."+e,r=n=0,i=this.realWidth,s=this.realHeight,o=this.type;if("serial"==o||"xy"==o||"gantt"==o)n=this.marginLeftReal,r=this.marginTopReal,i=n+this.plotAreaWidth,s=r+this.plotAreaHeight;var o=e+"/javascript-charts/",u="JavaScript charts",a="JS chart by amCharts";"ammap"==this.product&&(o=e+"/javascript-maps/",u="Interactive JavaScript maps",a="JS map by amCharts"),e=document.createElement("a"),a=document.createTextNode(a),e.setAttribute("href",o),e.setAttribute("title",u),e.appendChild(a),this.chartDiv.appendChild(e),this.amLink=e,o=e.style,o.position="absolute",o.textDecoration="none",o.color=this.color,o.fontFamily=this.fontFamily,o.fontSize=this.fontSize+"px",o.opacity=.7,o.display="block";var u=e.offsetWidth,e=e.offsetHeight,a=5+n,f=r+5;"bottom-left"==t&&(a=5+n,f=s-e-3),"bottom-right"==t&&(a=i-u-5,f=s-e-3),"top-right"==t&&(a=i-u-5,f=r+5),o.left=a+"px",o.top=f+"px"}}}}),e.Slice=e.Class({construct:function(){}}),e.SerialDataItem=e.Class({construct:function(){}}),e.GraphDataItem=e.Class({construct:function(){}}),e.Guide=e.Class({construct:function(t){this.cname="Guide",e.applyTheme(this,t,this.cname)}}),e.Title=e.Class({construct:function(t){this.cname="Title",e.applyTheme(this,t,this.cname)}}),e.Label=e.Class({construct:function(t){this.cname="Label",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.AmGraph=e.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,e.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart,n=t.type;if(t.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var r=t.container;this.container=r,this.destroy();var i=r.set();this.set=i,i.translate(this.x,this.y);var s=r.set();this.bulletSet=s,s.translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(s)):(t.graphsSet.push(i),t.bulletSet.push(s));var o=this.bulletAxis;e.isString(o)&&(this.bulletAxis=t.getValueAxisById(o)),r=r.set(),e.remove(this.columnsSet),this.columnsSet=r,e.setCN(t,i,"graph-"+this.type),e.setCN(t,i,"graph-"+this.id),e.setCN(t,s,"graph-"+this.type),e.setCN(t,s,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],s=this.labelPosition,s||(o=this.valueAxis.stackType,s="top","column"==this.type&&(t.rotate&&(s="right"),"100%"==o||"regular"==o)&&(s="middle"),this.labelPosition=s),e.ifArray(this.data)&&(t=!1,"xy"==n?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),i.push(r)}},createGraph:function(){var t=this,n=t.chart;t.startAlpha=n.startAlpha,t.seqAn=n.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha);if("step"==r||e.VML)t.noRounding=!1;var r=n.type;"gantt"==r&&(r="serial"),clearTimeout(t.playedTO);if(!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(r){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph(),t.positiveClip(t.set)}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e=[],t=[],n=this.xAxis,r=this.yAxis;this.pmh=r.height,this.pmw=n.width,this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var s=this.data[i].axes[n.id].graphs[this.id],o=s.values,u=o.x,a=o.y,o=n.getCoordinate(u,this.noRounding),f=r.getCoordinate(a,this.noRounding);if(!isNaN(u)&&!isNaN(a)&&(e.push(o),t.push(f),s.x=o,s.y=f,u=this.createBullet(s,o,f,i),a=this.labelText)){var a=this.createLabel(s,a),l=0;u&&(l=u.size),this.positionLabel(s,o,f,a,l)}}this.drawLineGraph(e,t),this.launchAnimation()},createRadarGraph:function(){var e=this.valueAxis.stackType,t=[],n=[],r=[],i=[],s,o,u,a,f;for(f=this.start;f<=this.end;f++){var l=this.data[f].axes[this.valueAxis.id].graphs[this.id],c,h;"none"==e||"3d"==e?c=l.values.value:(c=l.values.close,h=l.values.open);if(isNaN(c))this.connect||(this.drawLineGraph(t,n,r,i),t=[],n=[],r=[],i=[]);else{var p=this.valueAxis.getCoordinate(c,this.noRounding)-this.height,p=p*this.valueAxis.rMultiplier,d=-360/(this.end-this.start+1)*f;"middle"==this.valueAxis.pointPosition&&(d-=180/(this.end-this.start+1)),c=p*Math.sin(d/180*Math.PI),p*=Math.cos(d/180*Math.PI),t.push(c),n.push(p);if(!isNaN(h)){var v=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,v=v*this.valueAxis.rMultiplier,m=v*Math.sin(d/180*Math.PI),d=v*Math.cos(d/180*Math.PI);r.push(m),i.push(d),isNaN(u)&&(u=m),isNaN(a)&&(a=d)}d=this.createBullet(l,c,p,f),l.x=c,l.y=p;if(m=this.labelText)m=this.createLabel(l,m),v=0,d&&(v=d.size),this.positionLabel(l,c,p,m,v);isNaN(s)&&(s=c),isNaN(o)&&(o=p)}}t.push(s),n.push(o),isNaN(u)||(r.push(u),i.push(a)),this.drawLineGraph(t,n,r,i),this.launchAnimation()},positionLabel:function(e,t,n,r,i){if(r){var s=this.chart,o=this.valueAxis,u="middle",a=!1,f=this.labelPosition,l=r.getBBox(),c=this.chart.rotate,h=e.isNegative;n-=l.height/4/2,void 0!==e.labelIsNegative&&(h=e.labelIsNegative);switch(f){case"right":f=c?h?"left":"right":"right";break;case"top":f=c?"top":h?"bottom":"top";break;case"bottom":f=c?"bottom":h?"top":"bottom";break;case"left":f=c?h?"right":"left":"left"}var p=e.columnGraphics,d=0,v=0;p&&(d=p.x,v=p.y);var m=this.labelOffset;switch(f){case"right":u="start",t+=i/2+m;break;case"top":n=o.reversed?n+(i/2+l.height/2+m):n-(i/2+l.height/2+m);break;case"bottom":n=o.reversed?n-(i/2+l.height/2+m):n+(i/2+l.height/2+m);break;case"left":u="end",t-=i/2+m;break;case"inside":"column"==this.type&&(a=!0,c?h?(u="end",t=d-3-m):(u="start",t=d+3+m):n=h?v+7+m:v-10-m);break;case"middle":"column"==this.type&&(a=!0,c?t-=(t-d)/2+m-3:n-=(n-v)/2+m-3)}"auto"!=this.labelAnchor&&(u=this.labelAnchor),r.attr({"text-anchor":u}),this.labelRotation&&r.rotate(this.labelRotation),r.translate(t,n),!this.showAllValueLabels&&p&&a&&(l=r.getBBox(),l.height>e.columnHeight||l.width>e.columnWidth)&&(r.remove(),r=null),r&&(0>t||t>this.width||0>n||n>this.height)&&(r.remove(),r=null);if(r&&("serial"==s.type||"gantt"==s.type))if(c){if(0>n||n>this.height)r.remove(),r=null}else if(0>t||t>this.width)r.remove(),r=null;return r&&this.allBullets.push(r),r}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,n=this.id,r=this.index,i=this.data,s=this.chart.container,o=this.valueAxis,u=this.type,a=this.columnWidthReal,f=this.showBulletsAt;isNaN(this.columnWidth)||(a=this.columnWidth),isNaN(a)&&(a=.8);var l=this.useNegativeColorIfDown,c=this.width,h=this.height,p=this.y,v=this.rotate,m=this.columnCount,g=e.toCoordinate(this.cornerRadiusTop,a/2),y=this.connect,b=[],w=[],E,S,x,T,N=this.chart.graphs.length,C,k=this.dx/this.tcc,L=this.dy/this.tcc,A=o.stackType,O=this.start,M=this.end,_=this.scrollbar,D="graph-column-";_&&(D="scrollbar-graph-column-");var P=this.categoryAxis,H=this.baseCoord,B=this.negativeBase,j=this.columnIndex,F=this.lineThickness,I=this.lineAlpha,q=this.lineColorR,R=this.dashLength,U=this.set,z,W=this.getGradRotation(),X=this.chart.columnSpacing,V=P.cellWidth,$=(V*a-m)/m;X>$&&(X=$);var J,K,Q,G=h,Y=c,Z=0,et=0,tt,nt,rt,it,st=this.fillColorsR,ot=this.negativeFillColors,ut=this.negativeLineColor,at=this.fillAlphas,ft=this.negativeFillAlphas;"object"==typeof at&&(at=at[0]),"object"==typeof ft&&(ft=ft[0]);var lt=this.noRounding;"step"==u&&(lt=!1);var ct=o.getCoordinate(o.min);o.logarithmic&&(ct=o.getCoordinate(o.minReal)),this.minCoord=ct,this.resetBullet&&(this.bullet="none");if(!(_||"line"!=u&&"smoothedLine"!=u&&"step"!=u||(1==i.length&&"step"!=u&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ot&&void 0==ut||l))){var ht=B;ht>o.max&&(ht=o.max),ht<o.min&&(ht=o.min),o.logarithmic&&(ht=o.minReal);var pt=o.getCoordinate(ht),dt=o.getCoordinate(o.max);v?(G=h,Y=Math.abs(dt-pt),tt=h,nt=Math.abs(ct-pt),it=et=0,o.reversed?(Z=0,rt=pt):(Z=pt,rt=0)):(Y=c,G=Math.abs(dt-pt),nt=c,tt=Math.abs(ct-pt),rt=Z=0,o.reversed?(it=p,et=pt):it=pt)}var vt=Math.round;this.pmx=vt(Z),this.pmy=vt(et),this.pmh=vt(G),this.pmw=vt(Y),this.nmx=vt(rt),this.nmy=vt(it),this.nmh=vt(tt),this.nmw=vt(nt),e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(m=1),a="column"==u?(V*a-X*(m-1))/m:V*a,1>a&&(a=1);var mt=this.fixedColumnWidth;isNaN(mt)||(a=mt);var gt;if("line"==u||"step"==u||"smoothedLine"==u){if(0<O){for(gt=O-1;-1<gt;gt--)if(J=i[gt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){O=gt;break}if(this.lineColorField)for(gt=O;-1<gt;gt--)if(J=i[gt],K=J.axes[o.id].graphs[n],K.lineColor){this.bulletColorSwitched=this.lineColorSwitched=K.lineColor;break}if(this.fillColorsField)for(gt=O;-1<gt;gt--)if(J=i[gt],K=J.axes[o.id].graphs[n],K.fillColors){this.fillColorsSwitched=K.fillColors;break}if(this.dashLengthField)for(gt=O;-1<gt;gt--)if(J=i[gt],K=J.axes[o.id].graphs[n],!isNaN(K.dashLength)){this.dashLengthSwitched=K.dashLength;break}}if(M<i.length-1)for(gt=M+1;gt<i.length;gt++)if(J=i[gt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){M=gt;break}}M<i.length-1&&M++;var yt=[],bt=[],wt=!1;if("line"==u||"step"==u||"smoothedLine"==u)if(this.stackable&&"regular"==A||"100%"==A||this.fillToGraph)wt=!0;var Et=this.noStepRisers,St=-1e3,xt=-1e3,Tt=this.minDistance,Nt=!0,Ct=!1,kt=0,Lt=0;for(gt=O;gt<=M;gt++){J=i[gt],K=J.axes[o.id].graphs[n],K.index=gt;var At,Ot=NaN;if(l&&void 0==this.openField)for(var Mt=gt+1;Mt<i.length&&(!i[Mt]||!(At=i[gt+1].axes[o.id].graphs[n])||!At.values||(Ot=At.values.value,isNaN(Ot)));Mt++);var _t,Dt,Pt,Ht,Bt=NaN,jt=NaN,Ft=NaN,It=NaN,qt=NaN,Rt=NaN,Ut=NaN,zt=NaN,Wt=NaN,Xt=NaN,Vt=NaN,$t=NaN,Jt=NaN,Kt=NaN,Qt=NaN,Gt=NaN,Yt=NaN,Zt=void 0,en=st,tn=at,nn=q,rn,sn,on=this.proCandlesticks,un=this.topRadius,an=h-1,fn=c-1,ln=this.pattern;void 0!=K.pattern&&(ln=K.pattern),isNaN(K.alpha)||(tn=K.alpha),isNaN(K.dashLength)||(R=K.dashLength);var cn=K.values;o.recalculateToPercents&&(cn=K.percents);if(cn){Kt=this.stackable&&"none"!=A&&"3d"!=A?cn.close:cn.value;if("candlestick"==u||"ohlc"==u)Kt=cn.close,Gt=cn.low,Ut=o.getCoordinate(Gt),Qt=cn.high,Wt=o.getCoordinate(Qt);Yt=cn.open,Ft=o.getCoordinate(Kt,lt),isNaN(Yt)||(qt=o.getCoordinate(Yt,lt),l&&"regular"!=A&&"100%"!=A&&(Ot=Yt,Yt=qt=NaN)),l&&(void 0==this.openField?At&&(At.isNegative=Ot<Kt?!0:!1,isNaN(Ot)&&(K.isNegative=!Nt)):K.isNegative=Ot>Kt?!0:!1);if(!_)switch(this.showBalloonAt){case"close":K.y=Ft;break;case"open":K.y=qt;break;case"high":K.y=Wt;break;case"low":K.y=Ut}var Bt=J.x[P.id],hn=this.periodSpan-1;"step"!=u||isNaN(J.cellWidth)||(V=J.cellWidth);var pn=Math.floor(V/2)+Math.floor(hn*V/2),dn=pn,vn=0;"left"==this.stepDirection&&(vn=(2*V+hn*V)/2,Bt-=vn),"center"==this.stepDirection&&(vn=V/2,Bt-=vn),"start"==this.pointPosition&&(Bt-=V/2+Math.floor(hn*V/2),pn=0,dn=Math.floor(V)+Math.floor(hn*V)),"end"==this.pointPosition&&(Bt+=V/2+Math.floor(hn*V/2),pn=Math.floor(V)+Math.floor(hn*V),dn=0);if(Et){var mn=this.columnWidth;isNaN(mn)||(pn*=mn,dn*=mn)}_||(K.x=Bt),-1e5>Bt&&(Bt=-1e5),Bt>c+1e5&&(Bt=c+1e5),v?(jt=Ft,It=qt,qt=Ft=Bt,isNaN(Yt)&&!this.fillToGraph&&(It=H),Rt=Ut,zt=Wt):(It=jt=Bt,isNaN(Yt)&&!this.fillToGraph&&(qt=H));if(!on&&Kt<Yt||on&&Kt<z)K.isNegative=!0,ot&&(en=ot),ft&&(tn=ft),void 0!=ut&&(nn=ut);Ct=!1,isNaN(Kt)||(l?Kt>Ot?(Nt&&(Ct=!0),Nt=!1):(Nt||(Ct=!0),Nt=!0):K.isNegative=Kt<B?!0:!1,z=Kt);var gn=!1;_&&t.chartScrollbar.ignoreCustomColors&&(gn=!0),gn||(void 0!=K.color&&(en=K.color),K.fillColors&&(en=K.fillColors));switch(u){case"line":if(isNaN(Kt))y||(this.drawLineGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[]);else{if(Math.abs(jt-St)>=Tt||Math.abs(Ft-xt)>=Tt)b.push(jt),w.push(Ft),St=jt,xt=Ft;Xt=jt,Vt=Ft,$t=jt,Jt=Ft,!wt||isNaN(qt)||isNaN(It)||(yt.push(It),bt.push(qt));if(Ct||void 0!=K.lineColor&&K.lineColor!=this.lineColorSwitched||void 0!=K.fillColors&&K.fillColors!=this.fillColorsSwitched||!isNaN(K.dashLength))this.drawLineGraph(b,w,yt,bt),b=[jt],w=[Ft],yt=[],bt=[],!wt||isNaN(qt)||isNaN(It)||(yt.push(It),bt.push(qt)),l?Nt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot):(this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors),this.dashLengthSwitched=K.dashLength;K.gap&&(this.drawLineGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[])}break;case"smoothedLine":if(isNaN(Kt))y||(this.drawSmoothedGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[]);else{if(Math.abs(jt-St)>=Tt||Math.abs(Ft-xt)>=Tt)b.push(jt),w.push(Ft),St=jt,xt=Ft;Xt=jt,Vt=Ft,$t=jt,Jt=Ft,!wt||isNaN(qt)||isNaN(It)||(yt.push(It),bt.push(qt)),void 0==K.lineColor&&void 0==K.fillColors&&isNaN(K.dashLength)||(this.drawSmoothedGraph(b,w,yt,bt),b=[jt],w=[Ft],yt=[],bt=[],!wt||isNaN(qt)||isNaN(It)||(yt.push(It),bt.push(qt)),this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors,this.dashLengthSwitched=K.dashLength),K.gap&&(this.drawSmoothedGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[])}break;case"step":if(!isNaN(Kt)){v?(isNaN(E)||(b.push(E),w.push(Ft-pn)),w.push(Ft-pn),b.push(jt),w.push(Ft+dn),b.push(jt),!wt||isNaN(qt)||isNaN(It)||(isNaN(x)||(yt.push(x),bt.push(qt-pn)),yt.push(It),bt.push(qt-pn),yt.push(It),bt.push(qt+dn))):(isNaN(S)||(w.push(S),b.push(jt-pn)),b.push(jt-pn),w.push(Ft),b.push(jt+dn),w.push(Ft),!wt||isNaN(qt)||isNaN(It)||(isNaN(T)||(yt.push(It-pn),bt.push(T)),yt.push(It-pn),bt.push(qt),yt.push(It+dn),bt.push(qt))),E=jt,S=Ft,x=It,T=qt,Xt=jt,Vt=Ft,$t=jt,Jt=Ft;if(Ct||void 0!=K.lineColor||void 0!=K.fillColors||!isNaN(K.dashLength)){var yn=b[b.length-2],bn=w[w.length-2];b.pop(),w.pop(),this.drawLineGraph(b,w,yt,bt),b=[yn],w=[bn],v?(w.push(Ft+dn),b.push(jt)):(b.push(jt+dn),w.push(Ft)),yt=[],bt=[],this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors,this.dashLengthSwitched=K.dashLength,l&&(Nt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot))}if(Et||K.gap)E=S=NaN,this.drawLineGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[]}else if(!y){if(1>=this.periodSpan||1<this.periodSpan&&jt-E>pn+dn)E=S=NaN;this.drawLineGraph(b,w,yt,bt),b=[],w=[],yt=[],bt=[]}break;case"column":rn=nn,void 0!=K.lineColor&&(rn=K.lineColor);if(!isNaN(Kt)){l||(K.isNegative=Kt<B?!0:!1),K.isNegative&&(ot&&(en=ot),void 0!=ut&&(rn=ut));var wn=o.min,En=o.max,Sn=Yt;isNaN(Sn)&&(Sn=B);if(!(Kt<wn&&Sn<wn||Kt>En&&Sn>En)){var xn;if(v){"3d"==A?(Dt=Ft-(m/2-this.depthCount+1)*(a+X)+X/2+L*j,_t=It+k*j,xn=j):(Dt=Math.floor(Ft-(m/2-j)*(a+X)+X/2),_t=It,xn=0),Pt=a,Xt=jt,Vt=Dt+a/2,$t=jt,Jt=Dt+a/2,Dt+Pt>h+xn*L&&(Pt=h-Dt+xn*L),Dt<xn*L&&(Pt+=Dt,Dt=xn*L),Ht=jt-It;var Tn=_t;_t=e.fitToBounds(_t,0,c),Ht+=Tn-_t,Ht=e.fitToBounds(Ht,-_t,c-_t+k*j),K.labelIsNegative=0>Ht?!0:!1,0===Ht&&1/Kt===1/0&&(K.labelIsNegative=!0),isNaN(J.percentWidthValue)||(Pt=this.height*J.percentWidthValue/100,Dt=Lt,Lt+=Pt,Vt=Dt+Pt/2),Pt=e.roundTo(Pt,2),Ht=e.roundTo(Ht,2),Dt<h&&0<Pt&&(Zt=new e.Cuboid(s,Ht,Pt,k-t.d3x,L-t.d3y,en,tn,F,rn,I,W,g,v,R,ln,un,D),K.columnWidth=Math.abs(Ht),K.columnHeight=Math.abs(Pt))}else{"3d"==A?(_t=jt-(m/2-this.depthCount+1)*(a+X)+X/2+k*j,Dt=qt+L*j,xn=j):(_t=jt-(m/2-j)*(a+X)+X/2,Dt=qt,xn=0),Pt=a,Xt=_t+a/2,Vt=Ft,$t=_t+a/2,Jt=Ft,_t+Pt>c+xn*k&&(Pt=c-_t+xn*k),_t<xn*k&&(Pt+=_t-xn*k,_t=xn*k),Ht=Ft-qt,K.labelIsNegative=0<Ht?!0:!1,0===Ht&&0===Kt&&(K.labelIsNegative=!0);var Nn=Dt;Dt=e.fitToBounds(Dt,this.dy,h),Ht+=Nn-Dt,Ht=e.fitToBounds(Ht,-Dt+L*j,h-Dt),isNaN(J.percentWidthValue)||(Pt=this.width*J.percentWidthValue/100,_t=kt,kt+=Pt,Xt=_t+Pt/2),Pt=e.roundTo(Pt,2),Ht=e.roundTo(Ht,2),_t<c+j*k&&0<Pt&&(this.showOnAxis&&(Dt-=L/2),Zt=new e.Cuboid(s,Pt,Ht,k-t.d3x,L-t.d3y,en,tn,F,rn,this.lineAlpha,W,g,v,R,ln,un,D),K.columnHeight=Math.abs(Ht),K.columnWidth=Math.abs(Pt))}}if(Zt){sn=Zt.set,e.setCN(t,Zt.set,"graph-"+this.type),e.setCN(t,Zt.set,"graph-"+this.id),K.className&&e.setCN(t,Zt.set,K.className,!0),K.columnGraphics=sn,_t=e.roundTo(_t,2),Dt=e.roundTo(Dt,2),sn.translate(_t,Dt),(K.url||this.showHandOnHover)&&sn.setAttr("cursor","pointer");if(!_){"none"==A&&(C=v?(this.end+1-gt)*N-r:N*gt+r),"3d"==A&&(v?(C=(this.end+1-gt)*N-r-1e3*this.depthCount,Xt+=k*this.columnIndex,$t+=k*this.columnIndex,K.y+=k*this.columnIndex):(C=(N-r)*(gt+1)+1e3*this.depthCount,Vt+=L*this.columnIndex,Jt+=L*this.columnIndex,K.y+=L*this.columnIndex));if("regular"==A||"100%"==A)C=v?0<cn.value?(this.end+1-gt)*N+r:(this.end+1-gt)*N-r:0<cn.value?N*gt+r:N*gt-r;this.columnsArray.push({column:Zt,depth:C}),K.x=v?Dt+Pt/2:_t+Pt/2,this.ownColumns.push(Zt),this.animateColumns(Zt,gt,jt,It,Ft,qt),this.addListeners(sn,K)}this.columnsSet.push(sn)}}break;case"candlestick":if(!isNaN(Yt)&&!isNaN(Kt)){var Cn,kn;rn=nn,void 0!=K.lineColor&&(rn=K.lineColor),Xt=jt,Jt=Vt=Ft,$t=jt;if(v){"open"==f&&($t=It),"high"==f&&($t=zt),"low"==f&&($t=Rt),jt=e.fitToBounds(jt,0,fn),It=e.fitToBounds(It,0,fn),Rt=e.fitToBounds(Rt,0,fn),zt=e.fitToBounds(zt,0,fn);if(0===jt&&0===It&&0===Rt&&0===zt)continue;if(jt==fn&&It==fn&&Rt==fn&&zt==fn)continue;Dt=Ft-a/2,_t=It,Pt=a,Dt+Pt>h&&(Pt=h-Dt),0>Dt&&(Pt+=Dt,Dt=0);if(Dt<h&&0<Pt){var Ln,An;Kt>Yt?(Ln=[jt,zt],An=[It,Rt]):(Ln=[It,zt],An=[jt,Rt]),!isNaN(zt)&&!isNaN(Rt)&&Ft<h&&0<Ft&&(Cn=e.line(s,Ln,[Ft,Ft],rn,I,F),kn=e.line(s,An,[Ft,Ft],rn,I,F)),Ht=jt-It,Zt=new e.Cuboid(s,Ht,Pt,k,L,en,at,F,rn,I,W,g,v,R,ln,un,D)}}else{"open"==f&&(Jt=qt),"high"==f&&(Jt=Wt),"low"==f&&(Jt=Ut),Ft=e.fitToBounds(Ft,0,an),qt=e.fitToBounds(qt,0,an),Ut=e.fitToBounds(Ut,0,an),Wt=e.fitToBounds(Wt,0,an);if(0===Ft&&0===qt&&0===Ut&&0===Wt)continue;if(Ft==an&&qt==an&&Ut==an&&Wt==an)continue;_t=jt-a/2,Dt=qt+F/2,Pt=a,_t+Pt>c&&(Pt=c-_t),0>_t&&(Pt+=_t,_t=0),Ht=Ft-qt;if(_t<c&&0<Pt){on&&Kt>=Yt&&(tn=0);var Zt=new e.Cuboid(s,Pt,Ht,k,L,en,tn,F,rn,I,W,g,v,R,ln,un,D),On,Mn;Kt>Yt?(On=[Ft,Wt],Mn=[qt,Ut]):(On=[qt,Wt],Mn=[Ft,Ut]),!isNaN(Wt)&&!isNaN(Ut)&&jt<c&&0<jt&&(Cn=e.line(s,[jt,jt],On,rn,I,F),kn=e.line(s,[jt,jt],Mn,rn,I,F),e.setCN(t,Cn,this.bcn+"line-high"),K.className&&e.setCN(t,Cn,K.className,!0),e.setCN(t,kn,this.bcn+"line-low"),K.className&&e.setCN(t,kn,K.className,!0))}}Zt&&(sn=Zt.set,K.columnGraphics=sn,U.push(sn),sn.translate(_t,Dt-F/2),(K.url||this.showHandOnHover)&&sn.setAttr("cursor","pointer"),Cn&&(U.push(Cn),U.push(kn)),_||(K.x=v?Dt+Pt/2:_t+Pt/2,this.animateColumns(Zt,gt,jt,It,Ft,qt),this.addListeners(sn,K)))}break;case"ohlc":if(!(isNaN(Yt)||isNaN(Qt)||isNaN(Gt)||isNaN(Kt))){var _n=s.set();U.push(_n),Kt<Yt&&(K.isNegative=!0,void 0!=ut&&(nn=ut));var Dn,Pn,Hn;if(v){Jt=Ft,$t=jt,"open"==f&&($t=It),"high"==f&&($t=zt),"low"==f&&($t=Rt),Rt=e.fitToBounds(Rt,0,fn),zt=e.fitToBounds(zt,0,fn);if(0===jt&&0===It&&0===Rt&&0===zt)continue;if(jt==fn&&It==fn&&Rt==fn&&zt==fn)continue;var Bn=Ft-a/2,Bn=e.fitToBounds(Bn,0,h),jn=e.fitToBounds(Ft,0,h),Fn=Ft+a/2,Fn=e.fitToBounds(Fn,0,h);0<=It&&It<=fn&&(Pn=e.line(s,[It,It],[Bn,jn],nn,I,F,R)),0<Ft&&Ft<h&&(Dn=e.line(s,[Rt,zt],[Ft,Ft],nn,I,F,R)),0<=jt&&jt<=fn&&(Hn=e.line(s,[jt,jt],[jn,Fn],nn,I,F,R))}else{Jt=Ft,"open"==f&&(Jt=qt),"high"==f&&(Jt=Wt),"low"==f&&(Jt=Ut);var $t=jt,Ut=e.fitToBounds(Ut,0,an),Wt=e.fitToBounds(Wt,0,an),In=jt-a/2,In=e.fitToBounds(In,0,c),qn=e.fitToBounds(jt,0,c),Rn=jt+a/2,Rn=e.fitToBounds(Rn,0,c);0<=qt&&qt<=an&&(Pn=e.line(s,[In,qn],[qt,qt],nn,I,F,R)),0<jt&&jt<c&&(Dn=e.line(s,[jt,jt],[Ut,Wt],nn,I,F,R)),0<=Ft&&Ft<=an&&(Hn=e.line(s,[qn,Rn],[Ft,Ft],nn,I,F,R))}U.push(Pn),U.push(Dn),U.push(Hn),e.setCN(t,Pn,this.bcn+"stroke-open"),e.setCN(t,Hn,this.bcn+"stroke-close"),e.setCN(t,Dn,this.bcn+"stroke"),K.className&&e.setCN(t,_n,K.className,!0),Xt=jt,Vt=Ft}}if(!_&&!isNaN(Kt)){var Un=this.hideBulletsCount;if(this.end-this.start<=Un||0===Un){var zn=this.createBullet(K,$t,Jt,gt),Wn=this.labelText;if(Wn&&!isNaN(Xt)&&!isNaN(Xt)){var Xn=this.createLabel(K,Wn),Vn=0;zn&&(Vn=zn.size),this.positionLabel(K,Xt,Vt,Xn,Vn)}if("regular"==A||"100%"==A){var $n=o.totalText;if($n){var Jn=this.createLabel(K,$n,o.totalTextColor);e.setCN(t,Jn,this.bcn+"label-total"),this.allBullets.push(Jn);if(Jn){var Kn=Jn.getBBox(),Qn=Kn.width,Gn=Kn.height,Yn,Zn,er=o.totalTextOffset,tr=o.totals[gt];tr&&tr.remove();var nr=0;"column"!=u&&(nr=this.bulletSize),v?(Zn=Vt,Yn=0>Kt?jt-Qn/2-2-nr-er:jt+Qn/2+3+nr+er):(Yn=Xt,Zn=0>Kt?Ft+Gn/2+nr+er:Ft-Gn/2-3-nr-er),Jn.translate(Yn,Zn),o.totals[gt]=Jn,v?(0>Zn||Zn>h)&&Jn.remove():(0>Yn||Yn>c)&&Jn.remove()}}}}}}}if("line"==u||"step"==u||"smoothedLine"==u)"smoothedLine"==u?this.drawSmoothedGraph(b,w,yt,bt):this.drawLineGraph(b,w,yt,bt),_||this.launchAnimation();this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t){var n=this,r=n.chart.startDuration;0<r&&!n.animationPlayed&&(n.seqAn?(e.set.hide(),n.animationArray.push(e),r=setTimeout(function(){n.animate.call(n)},r/(n.end-n.start+1)*(t-n.start)*1e3),n.timeOuts.push(r)):n.animate(e),n.chart.animatable.push(e))},createLabel:function(t,n,r){var i=this.chart,s=t.labelColor;s||(s=this.color),s||(s=i.color),r&&(s=r),r=this.fontSize,void 0===r&&(this.fontSize=r=i.fontSize);var o=this.labelFunction;n=i.formatString(n,t),n=e.cleanFromEmpty(n),o&&(n=o(t,n));if(void 0!==n&&""!==n)return t=e.text(this.container,n,s,i.fontFamily,r),t.node.style.pointerEvents="none",e.setCN(i,t,this.bcn+"label"),this.bulletSet.push(t),t},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,n,r,i){var s=this;if(1<t.length){var o=s.noRounding,u=s.set,a=s.chart,f=s.container,l=f.set(),c=f.set();u.push(c),u.push(l);var h=s.lineAlpha,p=s.lineThickness,u=s.fillAlphas,v=s.lineColorR,m=s.negativeLineAlpha;isNaN(m)&&(m=h);var g=s.lineColorSwitched;g&&(v=g);var g=s.fillColorsR,y=s.fillColorsSwitched;y&&(g=y);var b=s.dashLength;(y=s.dashLengthSwitched)&&(b=y);var y=s.negativeLineColor,w=s.negativeFillColors,E=s.negativeFillAlphas,S=s.baseCoord;0!==s.negativeBase&&(S=s.valueAxis.getCoordinate(s.negativeBase,o),S>s.height&&(S=s.height),0>S&&(S=0)),h=e.line(f,t,n,v,h,p,b,!1,!0,o),e.setCN(a,h,s.bcn+"stroke"),l.push(h),l.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){s.chart.handleMouseMove(e)}).touchend(function(e){s.chart.handleTouchEnd(e)}),void 0===y||s.useNegativeColorIfDown||(p=e.line(f,t,n,y,m,p,b,!1,!0,o),e.setCN(a,p,s.bcn+"stroke"),e.setCN(a,p,s.bcn+"stroke-negative"),c.push(p));if(0<u||0<E)if(p=t.join(";").split(";"),m=n.join(";").split(";"),h=a.type,"serial"==h||"radar"==h?0<r.length?(r.reverse(),i.reverse(),p=t.concat(r),m=n.concat(i)):"radar"==h?(m.push(0),p.push(0)):s.rotate?(m.push(m[m.length-1]),p.push(S),m.push(m[0]),p.push(S),m.push(m[0]),p.push(p[0])):(p.push(p[p.length-1]),m.push(S),p.push(p[0]),m.push(S),p.push(t[0]),m.push(m[0])):"xy"==h&&(n=s.fillToAxis)&&(e.isString(n)&&(n=a.getValueAxisById(n)),"H"==n.orientation?(S="top"==n.position?0:n.height,p.push(p[p.length-1]),m.push(S),p.push(p[0]),m.push(S),p.push(t[0]),m.push(m[0])):(S="left"==n.position?0:n.width,m.push(m[m.length-1]),p.push(S),m.push(m[0]),p.push(S),m.push(m[0]),p.push(p[0]))),t=s.gradientRotation,0<u&&(n=e.polygon(f,p,m,g,u,1,"#000",0,t,o),n.pattern(s.pattern,NaN,a.path),e.setCN(a,n,s.bcn+"fill"),l.push(n)),w||void 0!==y)isNaN(E)&&(E=u),w||(w=y),o=e.polygon(f,p,m,w,E,1,"#000",0,t,o),e.setCN(a,o,s.bcn+"fill"),e.setCN(a,o,s.bcn+"fill-negative"),o.pattern(s.pattern,NaN,a.path),c.push(o),c.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){s.chart.handleMouseMove(e)}).touchend(function(e){s.chart.handleTouchEnd(e)});s.applyMask(c,l)}},applyMask:function(e,t){var n=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<n&&this.negativeClip(e))},drawSmoothedGraph:function(t,n,r,i){if(1<t.length){var s=this.set,o=this.chart,u=this.container,a=u.set(),f=u.set();s.push(f),s.push(a);var l=this.lineAlpha,c=this.lineThickness,s=this.dashLength,h=this.fillAlphas,p=this.lineColorR,v=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,y=this.negativeFillAlphas,b=this.baseCoord,w=this.lineColorSwitched;w&&(p=w),(w=this.fillColorsSwitched)&&(v=w),w=this.negativeLineAlpha,isNaN(w)&&(w=l),l=new e.Bezier(u,t,n,p,l,c,v,0,s),e.setCN(o,l,this.bcn+"stroke"),a.push(l.path),void 0!==m&&(c=new e.Bezier(u,t,n,m,w,c,v,0,s),e.setCN(o,c,this.bcn+"stroke"),e.setCN(o,c,this.bcn+"stroke-negative"),f.push(c.path)),0<h&&(l=t.join(";").split(";"),p=n.join(";").split(";"),c="",0<r.length?(r.push("M"),i.push("M"),r.reverse(),i.reverse(),l=t.concat(r),p=n.concat(i)):(this.rotate?(c+=" L"+b+","+n[n.length-1],c+=" L"+b+","+n[0]):(c+=" L"+t[t.length-1]+","+b,c+=" L"+t[0]+","+b),c+=" L"+t[0]+","+n[0]),r=new e.Bezier(u,l,p,NaN,0,0,v,h,s,c),e.setCN(o,r,this.bcn+"fill"),r.path.pattern(this.pattern,NaN,o.path),a.push(r.path),g||void 0!==m)&&(y||(y=h),g||(g=m),t=new e.Bezier(u,t,n,NaN,0,0,g,y,s,c),t.path.pattern(this.pattern,NaN,o.path),e.setCN(o,t,this.bcn+"fill"),e.setCN(o,t,this.bcn+"fill-negative"),f.push(t.path)),this.applyMask(f,a)}},launchAnimation:function(){var t=this,n=t.chart.startDuration;if(0<n&&!t.animationPlayed){var r=t.set,i=t.bulletSet;e.VML||(r.attr({opacity:t.startAlpha}),i.attr({opacity:t.startAlpha})),r.hide(),i.hide(),t.seqAn?(n=setTimeout(function(){t.animateGraphs.call(t)},t.index*n*1e3),t.timeOuts.push(n)):t.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,n=this.bulletSet,r=this.x,i=this.y;t.show(),n.show();var s=e.startDuration,o=e.startEffect;t&&(this.rotate?(t.translate(-1e3,i),n.translate(-1e3,i)):(t.translate(r,-1e3),n.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+i},s,o),n.animate({opacity:1,translate:r+","+i},s,o),e.animatable.push(t))},animate:function(t){var n=this.chart,r=this.animationArray;!t&&0<r.length&&(t=r[0],r.shift()),r=e[e.getEffect(n.startEffect)],n=n.startDuration,t&&(this.rotate?t.animateWidth(n,r):t.animateHeight(n,r),t.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==typeof t?t[0]:t)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(t,n,r){if(!isNaN(n)&&!isNaN(r)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var i=this.chart,s=this.container,o=this.bulletOffset,u=this.bulletSize;isNaN(t.bulletSize)||(u=t.bulletSize);var a=t.values.value,f=this.maxValue,l=this.minValue,c=this.maxBulletSize,h=this.minBulletSize;isNaN(f)||(isNaN(a)||(u=(a-l)/(f-l)*(c-h)+h),l==f&&(u=c)),f=u,this.bulletAxis&&(u=t.values.error,isNaN(u)||(a=u),u=this.bulletAxis.stepWidth*a),u<this.minBulletSize&&(u=this.minBulletSize),this.rotate?n=t.isNegative?n-o:n+o:r=t.isNegative?r+o:r-o,h=this.bulletColorR,t.lineColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(h=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(h=this.bulletColorNegative),void 0!==t.color&&(h=t.color);var p;"xy"==i.type&&this.valueField&&(p=this.pattern,t.pattern&&(p=t.pattern)),o=this.bullet,t.bullet&&(o=t.bullet);var a=this.bulletBorderThickness,l=this.bulletBorderColorR,c=this.bulletBorderAlpha,v=this.bulletAlpha;l||(l=h),this.useLineColorForBulletBorder&&(l=this.lineColorR,this.lineColorSwitched&&(l=this.lineColorSwitched));var m=t.alpha;isNaN(m)||(v=m),p=e.bullet(s,o,u,h,v,a,l,c,f,0,p,i.path),f=this.customBullet,t.customBullet&&(f=t.customBullet),f&&(p&&p.remove(),"function"==typeof f?(f=new f,f.chart=i,t.bulletConfig&&(f.availableSpace=r,f.graph=this,f.graphDataItem=t,f.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,f.bulletConfig=t.bulletConfig),f.write(s),p&&f.showBullet&&f.set.push(p),t.customBulletGraphics=f.cset,p=f.set):(p=s.set(),s=s.image(f,0,0,u,u),p.push(s),this.centerCustomBullets&&s.translate(-u/2,-u/2)));if(p){(t.url||this.showHandOnHover)&&p.setAttr("cursor","pointer");if("serial"==i.type||"gantt"==i.type)if(-0.5>n||n>this.width||r<-u/2||r>this.height)p.remove(),p=null;p&&(this.bulletSet.push(p),p.translate(n,r),this.addListeners(p,t),this.allBullets.push(p)),t.bx=n,t.by=r,e.setCN(i,p,this.bcn+"bullet"),t.className&&e.setCN(i,p,t.className,!0)}return p?(p.size=u||0,t.bulletGraphics=p):p={size:0},p.graphDataItem=t,p}},showBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!1;for(t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!0;for(t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!1;for(t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.show()}},hideCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!0;for(t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.hide()}},addListeners:function(e,t){var n=this;e.mouseover(function(e){n.handleRollOver(t,e)}).mouseout(function(e){n.handleRollOut(t,e)}).touchend(function(e){n.handleRollOver(t,e),n.chart.panEventsEnabled&&n.handleClick(t,e)}).touchstart(function(e){n.handleRollOver(t,e)}).click(function(e){n.handleClick(t,e)}).dblclick(function(e){n.handleDoubleClick(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},handleRollOver:function(e,t){this.handleGraphEvent(t,"rollOverGraph");if(e){var n=this.chart,r={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(r),n.fire(r),clearTimeout(n.hoverInt),(n=n.chartCursor)&&n.valueBalloonsEnabled||this.showGraphBalloon(e,"V",!0)}},handleRollOut:function(e,t){if(e){var n={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(n),this.chart.fire(n)}this.handleGraphEvent(t,"rollOutGraph"),(n=this.chart.chartCursor)&&n.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,n){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:n};this.fire(r),this.chart.fire(r),e.getURL(t.url,this.urlTarget)}this.handleGraphEvent(n,"clickGraph")},handleGraphEvent:function(e,t){var n={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(n),this.chart.fire(n)},handleRightClick:function(e,t){if(e){var n={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(n),this.chart.fire(n)}},handleDoubleClick:function(e,t){if(e){var n={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(n),this.chart.fire(n)}},zoom:function(e,t){this.start=e,this.end=t,this.draw()},changeOpacity:function(e){var t=this.set;t&&t.setAttr("opacity",e);if(t=this.ownColumns){var n;for(n=0;n<t.length;n++){var r=t[n].set;r&&r.setAttr("opacity",e)}}(t=this.bulletSet)&&t.setAttr("opacity",e)},destroy:function(){e.remove(this.set),e.remove(this.bulletSet);var t=this.timeOuts;if(t){var n;for(n=0;n<t.length;n++)clearTimeout(t[n])}this.timeOuts=[]},createBalloon:function(){var t=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var n=this.balloon;e.extend(n,t.balloon,!0),n.chart=t,n.mainSet=t.plotBalloonsSet},hideBalloon:function(){var e=this,t=e.chart;t.chartCursor?t.chartCursor.valueBalloonsEnabled||t.hideBalloon():t.hideBalloon(),clearTimeout(e.hoverInt),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},t.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(e.isModern){var t=this.resizedDItem;if(t){var n=t.bulletGraphics;n&&!n.doNotScale&&(n.translate(t.bx,t.by,1),n.setAttr("fill-opacity",this.bulletAlpha),n.setAttr("stroke-opacity",this.bulletBorderAlpha))}this.resizedDItem=null}},showGraphBalloon:function(t,n,r,i,s){var o=this.chart,u=this.balloon,a=0,f=0,l=o.chartCursor,c=!0;l?l.valueBalloonsEnabled||(u=o.balloon,a=this.x,f=this.y,c=!1):(u=o.balloon,a=this.x,f=this.y,c=!1),clearTimeout(this.hoverInt),o.chartCursor&&(this.currentDataItem=t),this.resizeBullet(t,i,s);if(u&&u.enabled&&this.showBalloon&&!this.hidden){var l=o.formatString(this.balloonText,t,!0),h=this.balloonFunction;h&&(l=h(t,t.graph)),l&&(l=e.cleanFromEmpty(l)),l&&""!==l?(i=o.getBalloonColor(this,t),u.drop||(u.pointerOrientation=n),n=t.x,s=t.y,o.rotate&&(n=t.y,s=t.x),n+=a,s+=f,isNaN(n)||isNaN(s)?this.hideBalloonReal():(t=this.width,h=this.height,c&&u.setBounds(a,f,t+a,h+f),u.changeColor(i),u.setPosition(n,s),u.fixPrevious(),u.fixedPosition&&(r=!1),!r&&"radar"!=o.type&&(n<a||n>t+a||s<f||s>h+f)?(u.showBalloon(l),u.hide(0)):(u.followCursor(r),u.showBalloon(l)))):(this.hideBalloonReal(),this.resizeBullet(t,i,s))}else this.hideBalloonReal()},resizeBullet:function(t,n,r){this.fixBulletSize();if(t&&e.isModern&&(1!=n||!isNaN(r))){var i=t.bulletGraphics;i&&!i.doNotScale&&(i.translate(t.bx,t.by,n),isNaN(r)||(i.setAttr("fill-opacity",r),i.setAttr("stroke-opacity",r)),this.resizedDItem=t)}}})}(),function(){var e=window.AmCharts;e.ChartCursor=e.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,e.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart;t.panRequired=!0;var n=t.container;this.rotate=t.rotate,this.container=n,this.prevLineHeight=this.prevLineWidth=NaN,n=n.set(),n.translate(this.x,this.y),this.set=n,t.cursorSet.push(n),this.createElements(),e.isString(this.limitToGraph)&&(this.limitToGraph=e.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t=this.chart,n=t.dx,r=t.dy,i=this.width,s=this.height,o,u,a=this.cursorAlpha;o=this.valueLineAlpha,this.rotate?u=a:(u=o,o=a),"xy"==t.type&&(o=u=a),this.vvLine=e.line(this.container,[n,0,0],[r,0,s],this.cursorColor,o,1),e.setCN(t,this.vvLine,"cursor-line"),e.setCN(t,this.vvLine,"cursor-line-vertical"),this.hhLine=e.line(this.container,[0,i,i+n],[0,0,r],this.cursorColor,u,1),e.setCN(t,this.hhLine,"cursor-line"),e.setCN(t,this.hhLine,"cursor-line-horizontal"),this.vLine=this.rotate?this.vvLine:this.hhLine,this.set.push(this.vvLine),this.set.push(this.hhLine),this.set.node.style.pointerEvents="none",this.fullLines=this.container.set(),t=t.cursorLineSet,t.push(this.fullLines),t.translate(this.x,this.y),t.clipRect(0,0,i,s),this.set.clipRect(0,0,i,s)},update:function(){var e=this.chart,t=e.mouseX-this.x,n=e.mouseY-this.y;this.mouseX=t,this.mouseY=n,this.mouse2X=e.mouse2X-this.x,this.mouse2Y=e.mouse2Y-this.y;var r;if(e.chartData&&0<e.chartData.length){this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=r=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(e.rotate||!this.limitToGraph)&&this.vvLine.translate(t,0),!this.hhLine||!isNaN(this.fy)||e.rotate&&this.limitToGraph||this.hhLine.translate(0,n),isNaN(this.mouse2X)?this.dispatchMovedEvent(t,n):r=!1):this.forceShow||this.hideCursor();if(this.zooming){if(!isNaN(this.mouse2X)){isNaN(this.mouse2X0)||this.dispatchPanEvent();return}if(this.pan){this.dispatchPanEvent();return}(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}r&&this.showCursor()}},updateDrawing:function(){this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(e.remove(this.drawingLine),this.drawingLine=e.line(this.container,[this.drawStartX,this.mouseX],[this.drawStartY,this.mouseY],this.cursorColor,1,1))},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var n=this.vvLine,r=0;n&&(n.remove(),r=n.x),n=this.container.set(),n.translate(r,0),r=e.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,0),e.setCN(this.chart,r,"cursor-fill"),r.translate(-t/2,0),n.push(r),this.vvLine=n,this.fullLines.push(n),this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var n=this.hhLine,r=0;n&&(n.remove(),r=n.y),n=this.container.set(),n.translate(0,r),r=e.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha),r.translate(0,-t/2),n.push(r),this.fullLines.push(n),this.hhLine=n,this.prevLineHeight=t}},fixVLine:function(e,t){if(!isNaN(e)){if(isNaN(this.prevLineX)){var n=0,r=this.mouseX;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate||(n="bottom"==i.position?this.height:-this.height),r=e)}this.vvLine.translate(r,n)}else this.prevLineX!=e&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=e,this.prevLineX!=e&&(n=this.animationDuration,this.zooming&&(n=0),this.vvLine.stop(),this.vvLine.animate({translate:e+","+t},n,"easeOutSine"),this.prevLineX=e,this.prevLineY=t)}},fixHLine:function(e,t){if(!isNaN(e)){if(isNaN(this.prevLineY)){var n=0,r=this.mouseY;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate&&(n="right"==i.position?this.width:-this.width),r=e)}this.hhLine.translate(n,r)}else this.prevLineY!=e&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=e,this.prevLineY!=e&&(n=this.animationDuration,this.zooming&&(n=0),this.hhLine.stop(),this.hhLine.animate({translate:t+","+e},n,"easeOutSine"),this.prevLineY=e,this.prevLineX=t)}},hideCursor:function(e){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN,e?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(e){this.drawing||(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),e||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan){var t=this.mouseX,n=this.mouseY;isNaN(this.fx)||(t=this.fx),isNaN(this.fy)||(n=this.fy),this.clearSelection();var r=this.mouseX0,i=this.mouseY0,s=this.width,o=this.height,t=e.fitToBounds(t,0,s),n=e.fitToBounds(n,0,o),u;t<r&&(u=t,t=r,r=u),n<i&&(u=n,n=i,i=u),this.hZoomEnabled?s=t-r:r=0,this.vZoomEnabled?o=n-i:i=0,isNaN(this.mouse2X)&&0<Math.abs(s)&&0<Math.abs(o)&&(t=this.chart,n=e.rect(this.container,s,o,this.cursorColor,this.selectionAlpha),e.setCN(t,n,"cursor-selection"),n.width=s,n.height=o,n.translate(r,i),this.set.push(n),this.selection=n),this.updateFullLine()}},mouseIsOver:function(){var e=this.mouseX,t=this.mouseY;if(this.justReleased)return this.justReleased=!1,!0;if(this.mouseIsDown)return!0;if(!this.chart.mouseIsOver)return this.handleMouseOut(),!1;if(0<e&&e<this.width&&0<t&&t<this.height)return!0;this.handleMouseOut()},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){this.update();if(this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var e={chart:this.chart,target:this,type:"zoomStarted"};e.x=this.mouseX/this.width,e.y=this.mouseY/this.height,this.index0=e.index=this.index,this.timestamp0=this.timestamp,this.fire(e)}},registerInitialMouse:function(){},handleReleaseOutside:function(){this.mouseIsDown=!1;if(this.drawingNow){this.drawingNow=!1,e.remove(this.drawingLine);var t=this.drawStartX,n=this.drawStartY,r=this.mouseX,i=this.mouseY,s=this.chart;(2<Math.abs(t-r)||2<Math.abs(n-i))&&this.fire({type:"draw",target:this,chart:s,initialX:t,initialY:n,finalX:r,finalY:i})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(e){if(!this.pan){var t=this.selection;if(t&&3<Math.abs(t.width)&&3<Math.abs(t.height)){var n=Math.min(this.index,this.index0),r=Math.max(this.index,this.index0),i=n,s=r,o=this.chart,u=o.chartData,a=o.categoryAxis;a&&a.parseDates&&!a.equalSpacing&&(i=u[n]?u[n].time:Math.min(this.timestamp0,this.timestamp),s=u[r]?o.getEndTime(u[r].time):Math.max(this.timestamp0,this.timestamp));var t={type:e,chart:this.chart,target:this,end:s,start:i,startIndex:n,endIndex:r,selectionHeight:t.height,selectionWidth:t.width,selectionY:t.y,selectionX:t.x},f;this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(t.startX=this.mouseX0/this.width,t.endX=this.mouseX/this.width,f=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(t.startY=1-this.mouseY0/this.height,t.endY=1-this.mouseY/this.height,f=!0),f&&(this.prevY=this.prevX=NaN,this.fire(t),"selected"!=e&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(e,t,n,r){e=Math.round(e),t=Math.round(t);if(!this.isHidden&&(e!=this.prevX||t!=this.prevY||"changed"==n)){n||(n="moved");var i=this.fx,s=this.fy;isNaN(i)&&(i=e),isNaN(s)&&(s=t);var o=!1;this.zooming&&this.pan&&(o=!0),o={hidden:this.isHidden,type:n,chart:this.chart,target:this,x:e,y:t,finalX:i,finalY:s,zooming:this.zooming,panning:o,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:r,hideBalloons:this.hideGraphBalloons},this.rotate?(o.position=t,o.finalPosition=s):(o.position=e,o.finalPosition=i),this.prevX=e,this.prevY=t,r?this.chart.handleCursorMove(o):(this.fire(o),"changed"==n&&this.chart.fire(o))}},dispatchPanEvent:function(){if(this.mouseIsDown){var t=e.roundTo((this.mouseX-this.mouseX0)/this.width,3),n=e.roundTo((this.mouseY-this.mouseY0)/this.height,3),r=e.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),i=e.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),s=!1;0!==Math.abs(t)&&0!==Math.abs(n)&&(s=!0);if(this.prevDeltaX==t||this.prevDeltaY==n)s=!1;isNaN(r)||isNaN(i)||(0!==Math.abs(r)&&0!==Math.abs(i)&&(s=!0),this.prevDelta2X!=r&&this.prevDelta2Y!=i)||(s=!1),s&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:t,deltaY:n,delta2X:r,delta2Y:i,index:this.index}),this.prevDeltaX=t,this.prevDeltaY=n,this.prevDelta2X=r,this.prevDelta2Y=i)}},clearSelection:function(){var e=this.selection;e&&(e.width=0,e.height=0,e.remove())},destroy:function(){this.clear(),e.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),e.remove(this.set)},clear:function(){},setTimestamp:function(e){this.timestamp=e},setIndex:function(e,t){e!=this.index&&(this.index=e,t||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(e){var t=this.chart.categoryAxis;t&&this.setPosition(t.categoryToCoordinate(e))},setPosition:function(e){var t=this.chart,n=t.categoryAxis;if(n){var r,i,s=n.coordinateToValue(e);n.showBalloonAt(s),this.forceShow=!0,n.stickBalloonToCategory?t.rotate?this.fixHLine(e,0):this.fixVLine(e,0):(this.showCursor(),t.rotate?this.hhLine.translate(0,e):this.vvLine.translate(e,0)),t.rotate?r=e:i=e,this.dispatchMovedEvent(i,r),t.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(i,r,"moved",!0)}},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.drawing=e},syncWithCursor:function(e,t){clearTimeout(this.syncTO),e&&(e.isHidden?this.hideCursor(!0):this.syncWithCursorReal(e,t))},isZooming:function(e){this.zooming=e},syncWithCursorReal:function(e,t){var n=e.vvLine,r=e.hhLine;this.index=e.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=t,this.justReleased=e.justReleased,this.zooming=e.zooming,this.index0=e.index0,this.mouseX0=e.mouseX0,this.mouseY0=e.mouseY0,this.mouse2X0=e.mouse2X0,this.mouse2Y0=e.mouse2Y0,this.timestamp0=e.timestamp0,this.prevDeltaX=e.prevDeltaX,this.prevDeltaY=e.prevDeltaY,this.prevDelta2X=e.prevDelta2X,this.prevDelta2Y=e.prevDelta2Y,this.fx=e.fx,this.fy=e.fy,this.index=e.index,e.zooming&&this.updateSelection();var i=e.mouseX,s=e.mouseY;this.rotate?(i=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&r&&(isNaN(e.fy)?this.hhLine.translate(0,e.mouseY):this.fixHLine(e.fy,0))):(s=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&n&&(isNaN(e.fx)?this.vvLine.translate(e.mouseX,0):this.fixVLine(e.fx,0))),this.dispatchMovedEvent(i,s,"moved",!0)}})}(),function(){var e=window.AmCharts;e.SimpleChartScrollbar=e.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,e.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy();if(t.enabled){var n=t.chart.container,r=t.rotate,i=t.chart;i.panRequired=!0;var s=n.set();t.set=s,i.scrollbarsSet.push(s);var o,u;r?(o=t.scrollbarHeight,u=i.plotAreaHeight):(u=t.scrollbarHeight,o=i.plotAreaWidth),t.width=o;if((t.height=u)&&o){var a=e.rect(n,o,u,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);e.setCN(i,a,"scrollbar-bg"),t.bg=a,s.push(a),a=e.rect(n,o,u,"#000",.005),s.push(a),t.invisibleBg=a,a.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),a=e.rect(n,o,u,t.selectedBackgroundColor,t.selectedBackgroundAlpha),e.setCN(i,a,"scrollbar-bg-selected"),t.selectedBG=a,s.push(a),o=e.rect(n,o,u,"#000",.005),t.dragger=o,s.push(o),o.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),o=i.pathToImages,u=t.dragIcon.replace(/\.[a-z]*$/i,""),r?(a=o+u+"H"+i.extension,o=t.dragIconWidth,r=t.dragIconHeight):(a=o+u+i.extension,r=t.dragIconWidth,o=t.dragIconHeight),u=n.image(a,0,0,r,o),e.setCN(i,u,"scrollbar-grip-left"),a=n.image(a,0,0,r,o),e.setCN(i,a,"scrollbar-grip-right");var f=10,l=20;i.panEventsEnabled&&(f=25,l=t.scrollbarHeight);var c=e.rect(n,f,l,"#000",.005),h=e.rect(n,f,l,"#000",.005);h.translate(-(f-r)/2,-(l-o)/2),c.translate(-(f-r)/2,-(l-o)/2),r=n.set([u,h]),n=n.set([a,c]),t.iconLeft=r,s.push(t.iconLeft),t.iconRight=n,s.push(n),r.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),n.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),e.ifArray(i.chartData)?s.show():s.hide(),t.hideDragIcons(),t.clipDragger(!1)}s.translate(t.x,t.y),s.node.style.msTouchAction="none",s.node.style.touchAction="none"}},updateScrollbarSize:function(e,t){if(!isNaN(e)&&!isNaN(t)){e=Math.round(e),t=Math.round(t);var n=this.dragger,r,i,s,o,u;this.rotate?(r=0,i=e,s=this.width+1,o=t-e,n.setAttr("height",t-e),n.setAttr("y",i)):(r=e,i=0,s=t-e,o=this.height+1,u=t-e,n.setAttr("x",r),n.setAttr("width",u)),this.clipAndUpdate(r,i,s,o)}},update:function(){var e,t=!1,n,r,i=this.x,s=this.y,o=this.dragger,u=this.getDBox();if(u){n=u.x+i,r=u.y+s;var a=u.width,u=u.height,f=this.rotate,l=this.chart,c=this.width,h=this.height,p=l.mouseX,d=l.mouseY;e=this.initialMouse,this.forceClip&&this.clipDragger(!0),l.mouseIsOver&&(this.dragging&&(l=this.initialCoord,f?(e=l+(d-e),0>e&&(e=0),l=h-u,e>l&&(e=l),o.setAttr("y",e)):(e=l+(p-e),0>e&&(e=0),l=c-a,e>l&&(e=l),o.setAttr("x",e)),this.clipDragger(!0)),this.resizingRight&&(f?(e=d-r,e+r>h+s&&(e=h-r+s),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("height",e))):(e=p-n,e+n>c+i&&(e=c-n+i),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(f?(n=r,r=d,r<s&&(r=s),r>h+s&&(r=h+s),e=!0===t?n-r:u+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",n+u-s)):(0===e&&(e=.1),o.setAttr("y",r-s),o.setAttr("height",e))):(r=p,r<i&&(r=i),r>c+i&&(r=c+i),e=!0===t?n-r:a+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",n+a-i)):(0===e&&(e=.1),o.setAttr("x",r-i),o.setAttr("width",e))),this.clipDragger(!0)))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(e){var t=this.getDBox();if(t){var n=t.x,r=t.y,i=t.width,t=t.height,s=!1;if(this.rotate){if(n=0,i=this.width+1,this.clipY!=r||this.clipH!=t)s=!0}else if(r=0,t=this.height+1,this.clipX!=n||this.clipW!=i)s=!0;s&&(this.clipAndUpdate(n,r,i,t),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(e,t,n,r){this.clipX=e,this.clipY=t,this.clipW=n,this.clipH=r,this.selectedBG.setAttr("width",n),this.selectedBG.setAttr("height",r),this.selectedBG.translate(e,t),this.updateDragIconPositions(),this.maskGraphs(e,t,n,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=this.getDBox(),n=t.x,r=t.y,i=t.width,s=t.height,o,u;this.rotate?(t=r,o=this.height/s,u=1-r/this.height,n=1-(r+s)/this.height):(t=n,o=this.width/i,u=n/this.width,n=(n+i)/this.width),this.fire({type:"zoomed",position:t,chart:e,target:this,multiplier:o,relativeStart:n,relativeEnd:u})}},updateDragIconPositions:function(){var e=this.getDBox(),t=e.x,n=e.y,r=this.iconLeft,i=this.iconRight,s,o,u=this.scrollbarHeight;this.rotate?(s=this.dragIconWidth,o=this.dragIconHeight,r.translate((u-o)/2,n-s/2),i.translate((u-o)/2,n+e.height-s/2)):(s=this.dragIconHeight,o=this.dragIconWidth,r.translate(t-o/2,(u-s)/2),i.translate(t-o/2+e.width,(u-s)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled)this.iconLeft.hide(),this.iconRight.hide();this.removeCursors()}},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(e){this.fire({type:e,chart:this.chart,target:this})},percentZoom:function(e,t){if(this.dragger&&this.enabled){this.dragger.stop(),isNaN(e)&&(e=0),isNaN(t)&&(t=1);var n,r,i;this.rotate?(n=this.height,r=n-n*t,i=n-n*e):(n=this.width,i=n*t,r=n*e),this.updateScrollbarSize(r,i),this.clipDragger(!1),this.percentStart=e,this.percentEnd=t}},destroy:function(){this.clear(),e.remove(this.set),e.remove(this.iconRight),e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var t=this.getDBox();this.rotate?(this.initialCoord=t.y,this.initialMouse=e.mouseY):(this.initialCoord=t.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("ns-resize"):this.chart.setMouseCursor("ew-resize"),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var n,r,i=t.scrollDuration,s=t.dragger;n=t.getDBox();var o=n.height,u=n.width;r=t.chart;var a=t.y,f=t.x,l=t.rotate;l?(n="y",r=r.mouseY-o/2-a,r=e.fitToBounds(r,0,t.height-o)):(n="x",r=r.mouseX-u/2-f,r=e.fitToBounds(r,0,t.width-u)),t.updateOnReleaseOnly?(t.skipEvent=!1,s.setAttr(n,r),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,r=Math.round(r),l?s.animate({y:r},i,">"):s.animate({x:r},i,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*i))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging)this.updateOnRelease(),this.removeCursors();this.animating=this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.update()}},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}})}(),function(){var e=window.AmCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",e.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,e.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,n=this.chart,r=this.gridAxis;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,t=new e.CategoryAxis,t.id="scrollbar"):(t=new e.ValueAxis,t.data=n.chartData,t.id=r.id,t.type=r.type,t.maximumDate=r.maximumDate,t.minimumDate=r.minimumDate,t.minPeriod=r.minPeriod),this.categoryAxis=t),t.chart=n,t.dateFormats=r.dateFormats,t.markPeriodChange=r.markPeriodChange,t.boldPeriodBeginning=r.boldPeriodBeginning,t.labelFunction=r.labelFunction,t.axisItemRenderer=e.RecItem,t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,e.isString(this.graph)&&(this.graph=e.getObjById(n.graphs,this.graph)),(t=this.graph)&&this.catScrollbar&&(r=this.valueAxis,r||(this.valueAxis=r=new e.ValueAxis,r.visible=!1,r.scrollbar=!0,r.axisItemRenderer=e.RecItem,r.axisRenderer=e.RecAxis,r.guideFillRenderer=e.RecFill,r.labelsEnabled=!1,r.chart=n),n=this.unselectedGraph,n||(n=new e.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers),n=this.selectedGraph,n||(n=new e.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var t=this;e.ChartScrollbar.base.draw.call(t);if(t.enabled){t.scrollbarCreated||t.init();var n=t.chart,r=n.chartData,i=t.categoryAxis,s=t.rotate,o=t.x,u=t.y,a=t.width,f=t.height,l=t.gridAxis,c=t.set;i.setOrientation(!s),i.parseDates=l.parseDates,"ValueAxis"==t.categoryAxis.cname&&(i.rotate=!s),i.equalSpacing=l.equalSpacing,i.minPeriod=l.minPeriod,i.startOnAxis=l.startOnAxis,i.width=a-1,i.height=f,i.gridCount=t.gridCount,i.gridColor=t.gridColor,i.gridAlpha=t.gridAlpha,i.color=t.color,i.tickLength=0,i.axisAlpha=0,i.autoGridCount=t.autoGridCount,i.parseDates&&!i.equalSpacing&&i.timeZoom(n.firstTime,n.lastTime),i.minimum=t.gridAxis.fullMin,i.maximum=t.gridAxis.fullMax,i.strictMinMax=!0,i.zoom(0,r.length-1);if((l=t.graph)&&t.catScrollbar){var h=t.valueAxis,p=l.valueAxis;h.id=p.id,h.rotate=s,h.setOrientation(s),h.width=a,h.height=f,h.dataProvider=r,h.reversed=p.reversed,h.logarithmic=p.logarithmic,h.gridAlpha=0,h.axisAlpha=0,c.push(h.set),s?(h.y=u,h.x=0):(h.x=o,h.y=0);var o=Infinity,u=-Infinity,v;for(v=0;v<r.length;v++){var m=r[v].axes[p.id].graphs[l.id].values,g;for(g in m)if(m.hasOwnProperty(g)&&"percents"!=g&&"total"!=g){var y=m[g];y<o&&(o=y),y>u&&(u=y)}}Infinity!=o&&(h.minimum=o),-Infinity!=u&&(h.maximum=u+.1*(u-o)),o==u&&(--h.minimum,h.maximum+=1),void 0!==t.minimum&&(h.minimum=t.minimum),void 0!==t.maximum&&(h.maximum=t.maximum),h.zoom(0,r.length-1),g=t.unselectedGraph,g.id=l.id,g.bcn="scrollbar-graph-",g.rotate=s,g.chart=n,g.data=r,g.valueAxis=h,g.chart=l.chart,g.categoryAxis=t.categoryAxis,g.periodSpan=l.periodSpan,g.valueField=l.valueField,g.openField=l.openField,g.closeField=l.closeField,g.highField=l.highField,g.lowField=l.lowField,g.lineAlpha=t.graphLineAlpha,g.lineColorR=t.graphLineColor,g.fillAlphas=t.graphFillAlpha,g.fillColorsR=t.graphFillColor,g.connect=l.connect,g.hidden=l.hidden,g.width=a,g.height=f,g.pointPosition=l.pointPosition,g.stepDirection=l.stepDirection,g.periodSpan=l.periodSpan,p=t.selectedGraph,p.id=l.id,p.bcn=g.bcn+"selected-",p.rotate=s,p.chart=n,p.data=r,p.valueAxis=h,p.chart=l.chart,p.categoryAxis=i,p.periodSpan=l.periodSpan,p.valueField=l.valueField,p.openField=l.openField,p.closeField=l.closeField,p.highField=l.highField,p.lowField=l.lowField,p.lineAlpha=t.selectedGraphLineAlpha,p.lineColorR=t.selectedGraphLineColor,p.fillAlphas=t.selectedGraphFillAlpha,p.fillColorsR=t.selectedGraphFillColor,p.connect=l.connect,p.hidden=l.hidden,p.width=a,p.height=f,p.pointPosition=l.pointPosition,p.stepDirection=l.stepDirection,p.periodSpan=l.periodSpan,n=t.graphType,n||(n=l.type),g.type=n,p.type=n,r=r.length-1,g.zoom(0,r),p.zoom(0,r),p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),g.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),c.push(g.set),c.push(p.set)}c.push(i.set),c.push(i.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()}},timeZoom:function(t,n,r){this.startTime=t,this.endTime=n,this.timeDifference=n-t,this.skipEvent=!e.toBoolean(r),this.zoomScrollbar(),this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e,this.end=t,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if("ValueAxis"==this.categoryAxis.cname)e.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart.chartData,n,r,i=this.dragger.getBBox();n=i.x;var s=i.y,o=i.width,i=i.height,u=this.chart;this.rotate?(n=s,r=i):r=o,o={type:"zoomed",target:this},o.chart=u;var a=this.categoryAxis,f=this.stepWidth,s=u.minSelectedTime,i=!1;if(a.parseDates&&!a.equalSpacing){if(t=u.lastTime,u=u.firstTime,a=Math.round(n/f)+u,n=this.dragging?a+this.timeDifference:Math.round((n+r)/f)+u,a>n&&(a=n),0<s&&n-a<s&&(n=Math.round(a+(n-a)/2),i=Math.round(s/2),a=n-i,n+=i,i=!0),n>t&&(n=t),n-s<a&&(a=n-s),a<u&&(a=u),a+s>n&&(n=a+s),a!=this.startTime||n!=this.endTime)this.startTime=a,this.endTime=n,o.start=a,o.end=n,o.startDate=new Date(a),o.endDate=new Date(n),this.fire(o)}else if(a.startOnAxis||(n+=f/2),r-=this.stepWidth/2,s=a.xToIndex(n),n=a.xToIndex(n+r),s!=this.start||this.end!=n)a.startOnAxis&&(this.resizingRight&&s==n&&n++,this.resizingLeft&&s==n&&(0<s?s--:n=1)),this.start=s,this.end=this.dragging?this.start+this.difference:n,o.start=this.start,o.end=this.end,a.parseDates&&(t[this.start]&&(o.startDate=new Date(t[this.start].time)),t[this.end]&&(o.endDate=new Date(t[this.end].time))),this.fire(o);i&&this.zoomScrollbar()}},zoomScrollbar:function(){if(!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)&&this.dragger&&this.enabled){var e,t;e=this.chart;var n=e.chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(n=r.stepWidth,r=e.firstTime,e=n*(this.startTime-r),t=n*(this.endTime-r)):(e=n[this.start].x[r.id],t=n[this.end].x[r.id],n=r.stepWidth,r.startOnAxis||(r=n/2,e-=r,t+=r)),this.stepWidth=n,this.updateScrollbarSize(e,t)}},maskGraphs:function(e,t,n,r){var i=this.selectedGraph;i&&i.set.clipRect(e,t,n,r)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,e.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,n=this.pointToY;e.isModern||(this.drop=!1);var r=this.chart;e.VML&&(this.fadeOutDuration=0),this.xAnim&&r.stopAnim(this.xAnim),this.yAnim&&r.stopAnim(this.yAnim),this.sdy=this.sdx=0;if(!isNaN(t)){var i=this.follow,s=r.container,o=this.set;e.remove(o),this.removeDiv(),o=s.set(),o.node.style.pointerEvents="none",this.set=o,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):r.balloonsSet.push(o);if(this.show){var u=this.l,a=this.t,f=this.r,l=this.b,c=this.balloonColor,h=this.fillColor,p=this.borderColor,v=h;void 0!=c&&(this.adjustBorderColor?v=p=c:h=c);var m=this.horizontalPadding,g=this.verticalPadding,y=this.pointerWidth,b=this.pointerOrientation,w=this.cornerRadius,E=r.fontFamily,S=this.fontSize;void 0==S&&(S=r.fontSize);var c=document.createElement("div"),x=r.classNamePrefix;c.className=x+"-balloon-div",this.className&&(c.className=c.className+" "+x+"-balloon-div-"+this.className),x=c.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var T=this.minWidth,N="";isNaN(T)||(N="min-width:"+(T-2*m)+"px; "),c.innerHTML='<div style="text-align:'+this.textAlign+"; "+N+"max-width:"+this.maxWidth+"px; font-size:"+S+"px; color:"+this.color+"; font-family:"+E+'">'+this.text+"</div>",r.chartDiv.appendChild(c),this.textDiv=c;var C=c.offsetWidth,k=c.offsetHeight;c.clientHeight&&(C=c.clientWidth,k=c.clientHeight),E=k+2*g,N=C+2*m,!isNaN(T)&&N<T&&(N=T),window.opera&&(E+=2);var L=!1,S=this.offsetY;r.handDrawn&&(S+=r.handDrawScatter+2),"H"!=b?(T=t-N/2,n<a+E+10&&"down"!=b?(L=!0,i&&(n+=S),S=n+y,this.deltaSignY=-1):(i&&(n-=S),S=n-E-y,this.deltaSignY=1)):(2*y>E&&(y=E/2),S=n-E/2,t<u+(f-u)/2?(T=t+y,this.deltaSignX=-1):(T=t-N-y,this.deltaSignX=1)),S+E>=l&&(S=l-E),S<a&&(S=a),T<u&&(T=u),T+N>f&&(T=f-N);var a=S+g,l=T+m,A=this.shadowAlpha,O=this.shadowColor,m=this.borderThickness,M=this.bulletSize,_,g=this.fillAlpha,D=this.borderAlpha;this.showBullet&&(_=e.circle(s,M,v,g),o.push(_)),this.drop?(u=N/1.6,f=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(T=t+1,S=n-u-u/3),"up"==b&&(f=180,T=t+1,S=n+u+u/3),"left"==b&&(f=270,T=t+u+u/3+2,S=n),"right"==b&&(f=90,T=t-u-u/3+2,S=n),a=S-k/2+1,l=T-C/2-1,h=e.drop(s,u,f,h,g,m,p,D)):0<w||0===y?(0<A&&(t=e.rect(s,N,E,h,0,m+1,O,A,w),e.isModern?t.translate(1,1):t.translate(4,4),o.push(t)),h=e.rect(s,N,E,h,g,m,p,D,w)):(v=[],w=[],"H"!=b?(u=t-T,u>N-y&&(u=N-y),u<y&&(u=y),v=[0,u-y,t-T,u+y,N,N,0,0],w=L?[0,0,n-S,0,0,E,E,0]:[E,E,n-S,E,E,0,0,E]):(b=n-S,b>E-y&&(b=E-y),b<y&&(b=y),w=[0,b-y,n-S,b+y,E,E,0,0],v=t<u+(f-u)/2?[0,0,T<t?0:t-T,0,0,N,N,0]:[N,N,T+N>t?N:t-T,N,N,0,0,N]),0<A&&(t=e.polygon(s,v,w,h,0,m,O,A),t.translate(1,1),o.push(t)),h=e.polygon(s,v,w,h,g,m,p,D)),this.bg=h,o.push(h),h.toFront(),e.setCN(r,h,"balloon-bg"),this.className&&e.setCN(r,h,"balloon-bg-"+this.className),s=1*this.deltaSignX,l+=this.sdx,a+=this.sdy,x.left=l+"px",x.top=a+"px",o.translate(T-s,S,1,!0),h=h.getBBox(),this.bottom=S+E+1,this.yPos=h.y+S,_&&_.translate(this.pointToX-T+s,n-S),n=this.animationDuration,0<this.animationDuration&&!i&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY,NaN,!0),o.animate({translate:T-s+","+S},n,"easeOutSine"),c&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=r.animate({node:c},"left",this.prevTX,l,n,"easeOutSine","px"),this.yAnim=r.animate({node:c},"top",this.prevTY,a,n,"easeOutSine","px"))),this.prevX=T-s,this.prevY=S,this.prevTX=l,this.prevTY=a}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy;this.pointToX=e,this.pointToY=t;if(e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var n=this.set;if(n){var r=n.getBBox(),e=e-r.width/2,i=t-r.height-10;e<this.l&&(e=this.l),e>this.r-r.width&&(e=this.r-r.width),i<this.t&&(i=t+10),n.translate(e,i),t=this.textDiv.style,t.left=e+this.horizontalPadding+"px",t.top=i+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,n,r){this.l=e,this.t=t,this.r=n,this.b=r,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){if(this.text!=e||this.positionChanged)this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1},hide:function(e){var t=this;t.text=void 0,isNaN(e)&&(e=t.fadeOutDuration);var n=t.chart;if(0<e&&!t.isHiding){t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var r=t.set;r&&(r.setAttr("opacity",t.fillAlpha),t.fadeAnim1=r.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=n.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t){if(e!=this.pointToX||t!=this.pointToY)this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=t,this.positionChanged=!0},followCursor:function(e){var t=this;t.follow=e,clearInterval(t.interval);var n=t.chart.mouseX-t.sdx,r=t.chart.mouseY-t.sdy;!isNaN(n)&&e&&(t.pointToX=n-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),e.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var e=window.AmCharts;e.AmCoordinateChart=e.Class({inherits:e.AmChart,construct:function(t){e.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,e.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){e.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=e.processObject(t,e.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),e.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new e.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(e){this.chartData=[];if(e)if(0<this.processTimeout){var t=e.length/this.processCount;this.parseCount=Math.ceil(t)-1;for(var n=0;n<t;n++)this.delayParseSerialData(e,n)}else this.parseCount=0,this.parsePartSerialData(e,0,e.length,0);else this.onDataUpdated()},delayParseSerialData:function(e,t){var n=this,r=n.processCount;setTimeout(function(){n.parsePartSerialData.call(n,e,t*r,(t+1)*r,t)},n.processTimeout)},parsePartSerialData:function(t,n,r,i){r>t.length&&(r=t.length);var s=this.graphs,o={},u=this.seriesIdField;u||(u=this.categoryField);var a=!1,f,l=this.categoryAxis,c,h,p;l&&(a=l.parseDates,c=l.forceShowField,p=l.classNameField,h=l.labelColorField,f=l.categoryFunction);var v,m,g={},y;a&&(v=e.extractPeriod(l.minPeriod),m=v.period,v=v.count,y=e.getPeriodDuration(m,v));var b={};this.lookupTable=b;var w,E=this.dataDateFormat,S={};for(w=n;w<r;w++){var x={},T=t[w];n=T[this.categoryField],x.dataContext=T,x.category=f?f(n,T,l):String(n),c&&(x.forceShow=T[c]),p&&(x.className=T[p]),h&&(x.labelColor=T[h]),b[T[u]]=x;if(a&&(l.categoryFunction?n=l.categoryFunction(n,T,l):(!E||n instanceof Date||(n=n.toString()+" |"),n=e.getDate(n,E,l.minPeriod)),n=e.resetDateToMin(n,m,v,l.firstDayOfWeek),x.category=n,x.time=n.getTime(),isNaN(x.time)))continue;var N=this.valueAxes;x.axes={},x.x={};var C;for(C=0;C<N.length;C++){var k=N[C].id;x.axes[k]={},x.axes[k].graphs={};var L;for(L=0;L<s.length;L++){n=s[L];var A=n.id,O=1.1;isNaN(n.gapPeriod)||(O=n.gapPeriod);var M=n.periodValue;if(n.valueAxis.id==k){x.axes[k].graphs[A]={};var _={};_.index=w;var D=T;n.dataProvider&&(D=o),_.values=this.processValues(D,n,M),!n.connect&&S&&S[A]&&0<O&&x.time-g[A]>=y*O&&(S[A].gap=!0),this.processFields(n,_,D),_.category=x.category,_.serialDataItem=x,_.graph=n,x.axes[k].graphs[A]=_,g[A]=x.time,S[A]=_}}}this.chartData[w]=x}if(this.parseCount==i){for(t=0;t<s.length;t++)n=s[t],n.dataProvider&&this.parseGraphData(n);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(t,n,r){var i={},s,o=!1;"candlestick"!=n.type&&"ohlc"!=n.type||""===r||(o=!0);for(var u="value error open close low high".split(" "),a=0;a<u.length;a++){var f=u[a];"value"!=f&&"error"!=f&&o&&(r=f.charAt(0).toUpperCase()+f.slice(1));var l=t[n[f+"Field"]+r];null!==l&&(s=Number(l),isNaN(s)||(i[f]=s),"date"==n.valueAxis.type&&void 0!==l&&(s=e.getDate(l,n.chart.dataDateFormat),i[f]=s.getTime()))}return i},parseGraphData:function(e){var t=e.dataProvider,n=e.seriesIdField;n||(n=this.seriesIdField),n||(n=this.categoryField);var r;for(r=0;r<t.length;r++){var i=t[r],s=this.lookupTable[String(i[n])],o=e.valueAxis.id;s&&(o=s.axes[o].graphs[e.id],o.serialDataItem=s,o.values=this.processValues(i,e,e.periodValue),this.processFields(e,o,i))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var e=this.valueAxes,t;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--){var r=t[n];r&&r.valueAxis==e&&this.removeGraph(r)}t=this.valueAxes;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--)t[n]==e&&(t.splice(n,1),e.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.ValueAxis,this.theme);t[n]=r,r.chart=this,r.init(),this.listenTo(r,"axisZoomed",this.handleValueAxisZoom),r.id||(r.id="valueAxisAuto"+n+"_"+(new Date).getTime()),void 0===r.usePrefixes&&(r.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,n=this.categoryAxis;if(t)for(var r=0;r<t.length;r++){var i=t[r];(void 0!==i.category||void 0!==i.date)&&n&&n.addGuide(i),i.id||(i.id="guideAuto"+r+"_"+(new Date).getTime());var s=i.valueAxis;s?(e.isString(s)&&(s=this.getValueAxisById(s)),s?s.addGuide(i):this.valueAxes[0].addGuide(i)):isNaN(i.value)||this.valueAxes[0].addGuide(i)}},processGraphs:function(){var t=this.graphs,n;this.graphsById={};for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.AmGraph,this.theme);t[n]=r,this.chooseGraphColor(r,n),r.chart=this,r.init(),e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.id||(r.id="graphAuto"+n+"_"+(new Date).getTime()),this.graphsById[r.id]=r}},formatString:function(t,n,r){var i=n.graph,s=i.valueAxis;return s.duration&&n.values.value&&(s=e.formatDuration(n.values.value,s.duration,"",s.durationUnits,s.maxInterval,s.numberFormatter),t=t.split("[[value]]").join(s)),t=e.massReplace(t,{"[[title]]":i.title,"[[description]]":n.description}),t=r?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},getBalloonColor:function(t,n,r){var i=t.lineColor,s=t.balloonColor;return r&&(s=i),r=t.fillColorsR,"object"==typeof r?i=r[0]:void 0!==r&&(i=r),n.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(i=r)),void 0!==n.color&&(i=n.color),void 0!==n.lineColor&&(i=n.lineColor),n=n.fillColors,void 0!==n&&(i=n,e.ifArray(n)&&(i=n[0])),void 0===s&&(s=i),s},getGraphById:function(t){return e.getObjById(this.graphs,t)},getValueAxisById:function(t){return e.getObjById(this.valueAxes,t)},processFields:function(t,n,r){if(t.itemColors){var i=t.itemColors,s=n.index;n.color=s<i.length?i[s]:e.randomColor()}i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(s=0;s<i.length;s++){var o=i[s],u=t[o+"Field"];u&&(u=r[u],e.isDefined(u)&&(n[o]=u))}n.dataContext=r},chooseGraphColor:function(t,n){if(t.lineColor)t.lineColorR=t.lineColor;else{var r;r=this.colors.length>n?this.colors[n]:t.lineColorR?t.lineColorR:e.randomColor(),t.lineColorR=r}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR;if(r=this.patterns)t.pattern=r[n]},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e){var n=e.hidden,r=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":n||this.highlightGraph(e);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs,n,r=.2;this.legend&&(r=this.legend.rollOverGraphAlpha);if(1!=r)for(n=0;n<t.length;n++){var i=t[n];i!=e&&i.changeOpacity(r)}},unhighlightGraph:function(){var e;this.legend&&(e=this.legend.rollOverGraphAlpha);if(1!=e){e=this.graphs;var t;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var e=this.graphs;if(e){var t;for(t=0;t<e.length;t++)e[t].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var e=window.AmCharts;e.TrendLine=e.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var n=t.chart,r=n.container,i,s,o,u,a=t.categoryAxis,f=t.initialDate,l=t.initialCategory,c=t.finalDate,h=t.finalCategory,p=t.valueAxis,v=t.valueAxisX,m=t.initialXValue,g=t.finalXValue,y=t.initialValue,b=t.finalValue,w=p.recalculateToPercents,E=n.dataDateFormat;a&&(f&&(f=e.getDate(f,E,"fff"),t.initialDate=f,i=a.dateToCoordinate(f)),l&&(i=a.categoryToCoordinate(l)),c&&(c=e.getDate(c,E,"fff"),t.finalDate=c,s=a.dateToCoordinate(c)),h&&(s=a.categoryToCoordinate(h))),v&&!w&&(isNaN(m)||(i=v.getCoordinate(m)),isNaN(g)||(s=v.getCoordinate(g))),p&&!w&&(isNaN(y)||(o=p.getCoordinate(y)),isNaN(b)||(u=p.getCoordinate(b)));if(!(isNaN(i)||isNaN(s)||isNaN(o)||isNaN(o))){n.rotate?(a=[o,u],u=[i,s]):(a=[i,s],u=[o,u]),f=t.lineColor,o=e.line(r,a,u,f,t.lineAlpha,t.lineThickness,t.dashLength),i=a,s=u,h=a[1]-a[0],p=u[1]-u[0],0===h&&(h=.01),0===p&&(p=.01),l=h/Math.abs(h),c=p/Math.abs(p),p=90*Math.PI/180-Math.asin(h/(h*p/Math.abs(h*p)*Math.sqrt(Math.pow(h,2)+Math.pow(p,2)))),h=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),i.push(a[1]-l*p,a[0]-l*p),s.push(u[1]+c*h,u[0]+c*h),u=e.polygon(r,i,s,f,.005,0),r=r.set([u,o]),r.translate(n.marginLeftReal,n.marginTopReal),n.trendLinesSet.push(r),e.setCN(n,o,"trend-line"),e.setCN(n,o,"trend-line-"+t.id),t.line=o,t.set=r;if(o=t.initialImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[0]+o.offsetX,s[0]+o.offsetY),r.push(o.set);if(o=t.finalImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[1]+o.offsetX,s[1]+o.offsetY),r.push(o.set);u.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),u.touchend&&u.touchend(function(){t.handleLineClick()}),r.clipRect(0,0,n.plotAreaWidth,n.plotAreaHeight)}},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e}),this.balloonText&&(clearTimeout(this.chart.hoverInt),e=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+e.x+e.width/2,this.y+e.y+e.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon()},destroy:function(){e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,e.applyTheme(this,t,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var t=e.chart.container;e.set=t.set();var n,r;e.url?(n=t.image(e.url,0,0,e.width,e.height),r=1):e.svgPath&&(n=t.path(e.svgPath),n.setAttr("fill",e.color),n.setAttr("stroke",e.outlineColor),t=n.getBBox(),r=Math.min(e.width/t.width,e.height/t.height)),n&&(n.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),n.translate(-e.width/2,-e.height/2,r),e.balloonText&&n.mouseover(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(){e.chart.hideBalloon()}).touchend(function(){e.chart.hideBalloon()}).touchstart(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(n))},translate:function(e,t){this.set&&this.set.translate(e,t)}})}(),function(){var e=window.AmCharts;e.circle=function(t,n,r,i,s,o,u,a,f){0>=n&&(n=.001);if(void 0==s||0===s)s=.01;return void 0===o&&(o="#000000"),void 0===u&&(u=0),i={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u},t=isNaN(f)?t.circle(0,0,n).attr(i):t.ellipse(0,0,n,f).attr(i),a&&t.gradient("radialGradient",[r,e.adjustLuminosity(r,-0.6)]),t},e.text=function(t,n,r,i,s,o,u,a){return o||(o="middle"),"right"==o&&(o="end"),"left"==o&&(o="start"),isNaN(a)&&(a=1),void 0!==n&&(n=String(n),e.isIE&&!e.isModern&&(n=n.replace("&amp;","&"),n=n.replace("&","&amp;"))),r={fill:r,"font-family":i,"font-size":s+"px",opacity:a},!0===u&&(r["font-weight"]="bold"),r["text-anchor"]=o,t.text(n,r)},e.polygon=function(t,n,r,i,s,o,u,a,f,l,c){isNaN(o)&&(o=.01),isNaN(a)&&(a=s);var h=i,p=!1;"object"==typeof h&&1<h.length&&(p=!0,h=h[0]),void 0===u&&(u=h),s={fill:h,stroke:u,"fill-opacity":s,"stroke-width":o,"stroke-opacity":a},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),c=e.dx,o=e.dy,t.handDrawn&&(r=e.makeHD(n,r,t.handDrawScatter),n=r[0],r=r[1]),u=Math.round,l&&(n[v]=e.roundTo(n[v],5),r[v]=e.roundTo(r[v],5),u=Number),a="M"+(u(n[0])+c)+","+(u(r[0])+o);for(var v=1;v<n.length;v++)l&&(n[v]=e.roundTo(n[v],5),r[v]=e.roundTo(r[v],5)),a+=" L"+(u(n[v])+c)+","+(u(r[v])+o);return t=t.path(a+" Z").attr(s),p&&t.gradient("linearGradient",i,f),t},e.rect=function(t,n,r,i,s,o,u,a,f,l,c){if(isNaN(n)||isNaN(r))return t.set();isNaN(o)&&(o=0),void 0===f&&(f=0),void 0===l&&(l=270),isNaN(s)&&(s=0);var h=i,p=!1;"object"==typeof h&&(h=h[0],p=!0),void 0===u&&(u=h),void 0===a&&(a=s),n=Math.round(n),r=Math.round(r);var v=0,m=0;return 0>n&&(n=Math.abs(n),v=-n),0>r&&(r=Math.abs(r),m=-r),v+=e.dx,m+=e.dy,s={fill:h,stroke:u,"fill-opacity":s,"stroke-opacity":a},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),t=t.rect(v,m,n,r,f,o).attr(s),p&&t.gradient("linearGradient",i,l),t},e.bullet=function(t,n,r,i,s,o,u,a,f,l,c,h,p){var v;"circle"==n&&(n="round");switch(n){case"round":v=e.circle(t,r/2,i,s,o,u,a);break;case"square":v=e.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180,void 0,p);break;case"rectangle":v=e.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180,void 0,p);break;case"diamond":v=e.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],i,s,o,u,a);break;case"triangleUp":v=e.triangle(t,r,0,i,s,o,u,a);break;case"triangleDown":v=e.triangle(t,r,180,i,s,o,u,a);break;case"triangleLeft":v=e.triangle(t,r,270,i,s,o,u,a);break;case"triangleRight":v=e.triangle(t,r,90,i,s,o,u,a);break;case"bubble":v=e.circle(t,r/2,i,s,o,u,a,!0);break;case"line":v=e.line(t,[-r/2,r/2],[0,0],i,s,o,u,a);break;case"yError":v=t.set(),v.push(e.line(t,[0,0],[-r/2,r/2],i,s,o)),v.push(e.line(t,[-f,f],[-r/2,-r/2],i,s,o)),v.push(e.line(t,[-f,f],[r/2,r/2],i,s,o));break;case"xError":v=t.set(),v.push(e.line(t,[-r/2,r/2],[0,0],i,s,o)),v.push(e.line(t,[-r/2,-r/2],[-f,f],i,s,o)),v.push(e.line(t,[r/2,r/2],[-f,f],i,s,o))}return v&&v.pattern(c,NaN,h),v},e.triangle=function(e,t,n,r,i,s,o,u){if(void 0===s||0===s)s=1;void 0===o&&(o="#000"),void 0===u&&(u=0),r={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u},t/=2;var a;return 0===n&&(a=" M"+ -t+","+t+" L0,"+ -t+" L"+t+","+t+" Z"),180==n&&(a=" M"+ -t+","+ -t+" L0,"+t+" L"+t+","+ -t+" Z"),90==n&&(a=" M"+ -t+","+ -t+" L"+t+",0 L"+ -t+","+t+" Z"),270==n&&(a=" M"+ -t+",0 L"+t+","+t+" L"+t+","+ -t+" Z"),e.path(a).attr(r)},e.line=function(t,n,r,i,s,o,u,a,f,l,c){if(t.handDrawn&&!c)return e.handDrawnLine(t,n,r,i,s,o,u,a,f,l,c);o={fill:"none","stroke-width":o},void 0!==u&&0<u&&(o["stroke-dasharray"]=u),isNaN(s)||(o["stroke-opacity"]=s),i&&(o.stroke=i),i=Math.round,l&&(i=Number,n[0]=e.roundTo(n[0],5),r[0]=e.roundTo(r[0],5)),l=e.dx,s=e.dy,u="M"+(i(n[0])+l)+","+(i(r[0])+s);for(a=1;a<n.length;a++)n[a]=e.roundTo(n[a],5),r[a]=e.roundTo(r[a],5),u+=" L"+(i(n[a])+l)+","+(i(r[a])+s);return e.VML?t.path(u,void 0,!0).attr(o):(f&&(u+=" M0,0 L0,0"),t.path(u).attr(o))},e.makeHD=function(e,t,n){for(var r=[],i=[],s=1;s<e.length;s++)for(var o=Number(e[s-1]),u=Number(t[s-1]),a=Number(e[s]),f=Number(t[s]),l=Math.round(Math.sqrt(Math.pow(a-o,2)+Math.pow(f-u,2))/50)+1,a=(a-o)/l,f=(f-u)/l,c=0;c<=l;c++){var h=u+c*f+Math.random()*n;r.push(o+c*a+Math.random()*n),i.push(h)}return[r,i]},e.handDrawnLine=function(t,n,r,i,s,o,u,a,f,l){var c,h=t.set();for(c=1;c<n.length;c++)for(var p=[n[c-1],n[c]],v=[r[c-1],r[c]],v=e.makeHD(p,v,t.handDrawScatter),p=v[0],v=v[1],m=1;m<p.length;m++)h.push(e.line(t,[p[m-1],p[m]],[v[m-1],v[m]],i,s,o+Math.random()*t.handDrawThickness-t.handDrawThickness/2,u,a,f,l,!0));return h},e.doNothing=function(e){return e},e.drop=function(e,t,n,r,i,s,o,u){var a=1/180*Math.PI,f=n-20,l=Math.sin(f*a)*t,c=Math.cos(f*a)*t,h=Math.sin((f+40)*a)*t,p=Math.cos((f+40)*a)*t,d=.8*t,v=-t/3,m=t/3;return 0===n&&(v=-v,m=0),180==n&&(m=0),90==n&&(v=0),270==n&&(v=0,m=-m),n={fill:r,stroke:o,"stroke-width":s,"stroke-opacity":u,"fill-opacity":i},t="M"+l+","+c+" A"+t+","+t+",0,1,1,"+h+","+p+(" A"+d+","+d+",0,0,0,"+(Math.sin((f+20)*a)*t+m)+","+(Math.cos((f+20)*a)*t+v)),t+=" A"+d+","+d+",0,0,0,"+l+","+c,e.path(t,void 0,void 0,"1000,1000").attr(n)},e.wedge=function(t,n,r,i,s,o,u,a,f,l,c,h,p,v){var m=Math.round;o=m(o),u=m(u),a=m(a);var g=m(u/o*a),y=e.VML,b=359.5+o/100;359.94<b&&(b=359.94),s>=b&&(s=b);var w=1/180*Math.PI,b=n+Math.sin(i*w)*a,E=r-Math.cos(i*w)*g,S=n+Math.sin(i*w)*o,x=r-Math.cos(i*w)*u,T=n+Math.sin((i+s)*w)*o,N=r-Math.cos((i+s)*w)*u,C=n+Math.sin((i+s)*w)*a,w=r-Math.cos((i+s)*w)*g,k={fill:e.adjustLuminosity(l.fill,-0.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},L=0;180<Math.abs(s)&&(L=1),i=t.set();var A;y&&(b=m(10*b),S=m(10*S),T=m(10*T),C=m(10*C),E=m(10*E),x=m(10*x),N=m(10*N),w=m(10*w),n=m(10*n),f=m(10*f),r=m(10*r),o*=10,u*=10,a*=10,g*=10,1>Math.abs(s)&&1>=Math.abs(T-S)&&1>=Math.abs(N-x)&&(A=!0)),s="";var O;h&&(k["fill-opacity"]=0,k["stroke-opacity"]=l["stroke-opacity"]/2,k.stroke=l.stroke);if(0<f){O=" M"+b+","+(E+f)+" L"+S+","+(x+f),y?(A||(O+=" A"+(n-o)+","+(f+r-u)+","+(n+o)+","+(f+r+u)+","+S+","+(x+f)+","+T+","+(N+f)),O+=" L"+C+","+(w+f),0<a&&(A||(O+=" B"+(n-a)+","+(f+r-g)+","+(n+a)+","+(f+r+g)+","+C+","+(f+w)+","+b+","+(f+E)))):(O+=" A"+o+","+u+",0,"+L+",1,"+T+","+(N+f)+" L"+C+","+(w+f),0<a&&(O+=" A"+a+","+g+",0,"+L+",0,"+b+","+(E+f))),O+=" Z";var M=f;y&&(M/=10);for(var _=0;_<M;_+=10){var D=t.path(O,void 0,void 0,"1000,1000").attr(k);i.push(D),D.translate(0,-_)}O=t.path(" M"+b+","+E+" L"+b+","+(E+f)+" L"+S+","+(x+f)+" L"+S+","+x+" L"+b+","+E+" Z",void 0,void 0,"1000,1000").attr(k),f=t.path(" M"+T+","+N+" L"+T+","+(N+f)+" L"+C+","+(w+f)+" L"+C+","+w+" L"+T+","+N+" Z",void 0,void 0,"1000,1000").attr(k),i.push(O),i.push(f)}y?(A||(s=" A"+m(n-o)+","+m(r-u)+","+m(n+o)+","+m(r+u)+","+m(S)+","+m(x)+","+m(T)+","+m(N)),u=" M"+m(b)+","+m(E)+" L"+m(S)+","+m(x)+s+" L"+m(C)+","+m(w)):u=" M"+b+","+E+" L"+S+","+x+(" A"+o+","+u+",0,"+L+",1,"+T+","+N)+" L"+C+","+w,0<a&&(y?A||(u+=" B"+(n-a)+","+(r-g)+","+(n+a)+","+(r+g)+","+C+","+w+","+b+","+E):u+=" A"+a+","+g+",0,"+L+",0,"+b+","+E),t.handDrawn&&(a=e.line(t,[b,S],[E,x],l.stroke,l.thickness*Math.random()*t.handDrawThickness,l["stroke-opacity"]),i.push(a)),a=t.path(u+" Z",void 0,void 0,"1000,1000").attr(l);if(c){g=[];for(y=0;y<c.length;y++)g.push(e.adjustLuminosity(l.fill,c[y]));"radial"!=v||e.isModern||(g=[]),0<g.length&&a.gradient(v+"Gradient",g)}return e.isModern&&"radial"==v&&a.grad&&(a.grad.setAttribute("gradientUnits","userSpaceOnUse"),a.grad.setAttribute("r",o),a.grad.setAttribute("gradientTransform","translate("+(n-t.width/2)+","+(r-t.height/2)+")")),a.pattern(h,NaN,p),i.wedge=a,i.push(a),i},e.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},e.adjustLuminosity=function(t,n){t&&-1!=t.indexOf("rgb")&&(t=e.rgb2hex(t)),t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),n=n||0;var r="#",i,s;for(s=0;3>s;s++)i=parseInt(t.substr(2*s,2),16),i=Math.round(Math.min(Math.max(0,i+i*n),255)).toString(16),r+=("00"+i).substr(i.length);return r}}(),function(){var e=window.AmCharts;e.Bezier=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l){"object"==typeof u&&(u=u[0]),"object"==typeof a&&(a=a[0]),0===a&&(u="none"),o={fill:u,"fill-opacity":a,"stroke-width":o},void 0!==f&&0<f&&(o["stroke-dasharray"]=f),isNaN(s)||(o["stroke-opacity"]=s),i&&(o.stroke=i),i="M"+Math.round(n[0])+","+Math.round(r[0]),s=[];for(f=0;f<n.length;f++)s.push({x:Number(n[f]),y:Number(r[f])});1<s.length&&(n=this.interpolate(s),i+=this.drawBeziers(n)),l?i+=l:e.VML||(i+="M0,0 L0,0"),this.path=t.path(i).attr(o),this.node=this.path.node},interpolate:function(t){var n=[];n.push({x:t[0].x,y:t[0].y});var r=t[1].x-t[0].x,i=t[1].y-t[0].y,s=e.bezierX,o=e.bezierY;n.push({x:t[0].x+r/s,y:t[0].y+i/o});var u;for(u=1;u<t.length-1;u++){var a=t[u-1],f=t[u],i=t[u+1];isNaN(i.x)&&(i=f),isNaN(f.x)&&(f=a),isNaN(a.x)&&(a=f),r=i.x-f.x,i=i.y-a.y,a=f.x-a.x,a>r&&(a=r),n.push({x:f.x-a/s,y:f.y-i/o}),n.push({x:f.x,y:f.y}),n.push({x:f.x+a/s,y:f.y+i/o})}return i=t[t.length-1].y-t[t.length-2].y,r=t[t.length-1].x-t[t.length-2].x,n.push({x:t[t.length-1].x-r/s,y:t[t.length-1].y-i/o}),n.push({x:t[t.length-1].x,y:t[t.length-1].y}),n},drawBeziers:function(e){var t="",n;for(n=0;n<(e.length-1)/3;n++)t+=this.drawBezierMidpoint(e[3*n],e[3*n+1],e[3*n+2],e[3*n+3]);return t},drawBezierMidpoint:function(e,t,n,r){var i=Math.round,s=this.getPointOnSegment(e,t,.75),o=this.getPointOnSegment(r,n,.75),u=(r.x-e.x)/16,a=(r.y-e.y)/16,f=this.getPointOnSegment(e,t,.375);return e=this.getPointOnSegment(s,o,.375),e.x-=u,e.y-=a,t=this.getPointOnSegment(o,s,.375),t.x+=u,t.y+=a,n=this.getPointOnSegment(r,n,.375),u=this.getMiddle(f,e),s=this.getMiddle(s,o),o=this.getMiddle(t,n),f=" Q"+i(f.x)+","+i(f.y)+","+i(u.x)+","+i(u.y),f+=" Q"+i(e.x)+","+i(e.y)+","+i(s.x)+","+i(s.y),f+=" Q"+i(t.x)+","+i(t.y)+","+i(o.x)+","+i(o.y),f+=" Q"+i(n.x)+","+i(n.y)+","+i(r.x)+","+i(r.y)},getMiddle:function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},getPointOnSegment:function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}})}(),function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,n,r,i){e.SVG_NS="http://www.w3.org/2000/svg",e.SVG_XLINK="http://www.w3.org/1999/xlink",e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect,1>n&&(n=10),1>r&&(r=10),this.div=t,this.width=n,this.height=r,this.rBin=document.createElement("div"),e.hasSVG?(e.SVG=!0,n=this.createSvgElement("svg"),t.appendChild(n),this.container=n,this.addDefs(i),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(n=document.createStyleSheet(),n.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=n):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,i),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,n,r,i){var s=new e.AmDObject("circle",this);return s.attr({r:r,cx:t,cy:n}),this.addToContainer(s.node,i),s},ellipse:function(t,n,r,i,s){var o=new e.AmDObject("ellipse",this);return o.attr({rx:r,ry:i,cx:t,cy:n}),this.addToContainer(o.node,s),o},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,n,r,i,s,o,u){var a=new e.AmDObject("rect",this);return e.VML&&(s=Math.round(100*s/Math.min(r,i)),r+=2*o,i+=2*o,a.bw=o,a.node.style.marginLeft=-o,a.node.style.marginTop=-o),1>r&&(r=1),1>i&&(i=1),a.attr({x:t,y:n,width:r,height:i,rx:s,ry:s,"stroke-width":o}),this.addToContainer(a.node,u),a},image:function(t,n,r,i,s,o){var u=new e.AmDObject("image",this);return u.attr({x:n,y:r,width:i,height:s}),this.R.path(u,t),this.addToContainer(u.node,o),u},addToContainer:function(e,t){t||(t=this.container),t.appendChild(e)},text:function(e,t,n){return this.R.text(e,t,n)},path:function(t,n,r,i){var s=new e.AmDObject("path",this);return i||(i="100,100"),s.attr({cs:i}),r?s.attr({dd:t}):s.attr({d:t}),this.addToContainer(s.node,n),s},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e),t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px",t.left="0px";try{var n=e.getBoundingClientRect(),r=n.left-Math.round(n.left),i=n.top-Math.round(n.top);r&&(t.left=r+"px"),i&&(t.top=i+"px")}catch(s){}},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var n=this.createSvgElement("desc"),r=this.container;r.setAttribute("version","1.1"),r.style.position="absolute",this.setSize(this.width,this.height),e.rtl&&(r.setAttribute("direction","rtl"),r.style.left="auto",r.style.right="0px"),t&&(t.addCodeCredits&&n.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),r.appendChild(n),t.defs&&(n=this.createSvgElement("defs"),r.appendChild(n),e.parseDefs(t.defs,n),this.defs=n))}}})}(),function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t,this.R=t.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){return this.R.setAttr(this,e,t),this},clipRect:function(e,t,n,r){this.R.clipRect(this,e,t,n,r)},translate:function(e,t,n,r){r||(e=Math.round(e),t=Math.round(t)),this.R.move(this,e,t,n),this.x=e,this.y=t,this.scale=n,this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t),this.angle=e},animate:function(t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var s=i,o=t[i];r=e.getEffect(r),this.R.animate(this,s,o,n,r)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var n=e.clipPath;n&&t.appendChild(n),(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var n=t.firstChild;n&&t.insertBefore(e,n)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){e.removeFromArray(this.R.animations,this.an_translate),e.removeFromArray(this.R.animations,this.an_y),e.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,t,n){this.R.gradient(this,e,t,n)},pattern:function(e,t,n){e&&this.R.pattern(this,e,t,n)}})}(),function(){var e=window.AmCharts;e.VMLRenderer=e.Class({construct:function(e,t){this.chart=t,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var n;if("group"==t)n=document.createElement("div"),e.type="div";else if("text"==t)n=document.createElement("div"),e.type="text";else if("image"==t)n=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[t],n=document.createElement("amvml:"+this.cNames[t]);var r=document.createElement("amvml:stroke");n.appendChild(r),e.stroke=r;var i=document.createElement("amvml:fill");n.appendChild(i),e.fill=i,i.className="amvml",r.className="amvml",n.className="amvml"}return n.style.position="absolute",n.style.top=0,n.style.left=0,n},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(t,n,r){if(void 0!==r){var i;8===document.documentMode&&(i=!0);var s=t.node,o=t.type,u=s.style;"r"==n&&(u.width=2*r,u.height=2*r),"oval"==t.shapeType&&("rx"==n&&(u.width=2*r),"ry"==n&&(u.height=2*r)),"roundrect"==t.shapeType&&("width"!=n&&"height"!=n||--r),"cursor"==n&&(u.cursor=r),"cx"==n&&(u.left=r-e.removePx(u.width)/2),"cy"==n&&(u.top=r-e.removePx(u.height)/2);var a=this.styleMap[n];"width"==a&&0>r&&(r=0),void 0!==a&&(u[a]=r),"text"==o&&("text-anchor"==n&&(t.anchor=r,a=s.clientWidth,"end"==r&&(u.marginLeft=-a+"px"),"middle"==r&&(u.marginLeft=-(a/2)+"px",u.textAlign="center"),"start"==r&&(u.marginLeft="0px")),"fill"==n&&(u.color=r),"font-weight"==n&&(u.fontWeight=r));if(u=t.children)for(a=0;a<u.length;a++)u[a].setAttr(n,r);if("shape"==o){"cs"==n&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",r)),"d"==n&&s.setAttribute("path",this.svgPathToVml(r)),"dd"==n&&s.setAttribute("path",r),o=t.stroke,t=t.fill,"stroke"==n&&(i?o.color=r:o.setAttribute("color",r)),"stroke-width"==n&&(i?o.weight=r:o.setAttribute("weight",r)),"stroke-opacity"==n&&(i?o.opacity=r:o.setAttribute("opacity",r)),"stroke-dasharray"==n&&(u="solid",0<r&&3>r&&(u="dot"),3<=r&&6>=r&&(u="dash"),6<r&&(u="longdash"),i?o.dashstyle=u:o.setAttribute("dashstyle",u));if("fill-opacity"==n||"opacity"==n)0===r?i?t.on=!1:t.setAttribute("on",!1):i?t.opacity=r:t.setAttribute("opacity",r);"fill"==n&&(i?t.color=r:t.setAttribute("color",r)),"rx"==n&&(i?s.arcSize=r+"%":s.setAttribute("arcsize",r+"%"))}}},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},text:function(t,n,r){var i=new e.AmDObject("text",this.D),s=i.node;return s.style.whiteSpace="pre",s.innerHTML=t,this.D.addToContainer(s,r),this.attr(i,n),i},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetWidth,i=e.offsetHeight,s;if(e.hasChildNodes()){var o,u,a;for(a=0;a<e.childNodes.length;a++){s=this.getBox(e.childNodes[a]);var f=s.x;isNaN(f)||(isNaN(o)?o=f:f<o&&(o=f));var l=s.y;isNaN(l)||(isNaN(u)?u=l:l<u&&(u=l)),f=s.width+f,isNaN(f)||(r=Math.max(r,f)),s=s.height+l,isNaN(s)||(i=Math.max(i,s))}0>o&&(t+=o),0>u&&(n+=u)}return{x:t,y:n,width:r,height:i}},setText:function(e,t){var n=e.node;n&&(n.innerHTML=t),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,n){e.node["on"+t]=n},move:function(t,n,r){var i=t.node,s=i.style;"text"==t.type&&(r-=e.removePx(s.fontSize)/2-1),"oval"==t.shapeType&&(n-=e.removePx(s.width)/2,r-=e.removePx(s.height)/2),t=t.bw,isNaN(t)||(n-=t,r-=t),isNaN(n)||isNaN(r)||(i.style.left=n+"px",i.style.top=r+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var n,r=Math.round,i;for(i=0;i<t.length;i++){var s=t[i],o=s.substring(0,1),s=s.substring(1),u=s.split(","),a=r(u[0])+","+r(u[1]);"M"==o&&(e+=" m "+a),"L"==o&&(e+=" l "+a),"Z"==o&&(e+=" x e");if("Q"==o){var f=n.length,l=n[f-1],c=u[0],h=u[1],a=u[2],p=u[3];n=r(n[f-2]/3+2/3*c),l=r(l/3+2/3*h),c=r(2/3*c+a/3),h=r(2/3*h+p/3),e+=" c "+n+","+l+","+c+","+h+","+a+","+p}"A"==o&&(e+=" wa "+s),"B"==o&&(e+=" at "+s),n=u}return e},animate:function(e,t,n,r,i){var s=e.node,o=this.chart;e.animationFinished=!1;if("translate"==t){t=n.split(","),n=t[1];var u=s.offsetTop;o.animate(e,"left",s.offsetLeft,t[0],r,i,"px"),o.animate(e,"top",u,n,r,i,"px")}},clipRect:function(e,t,n,r,i){e=e.node,0===t&&0===n?(e.style.width=r+"px",e.style.height=i+"px",e.style.overflow="hidden"):e.style.clip="rect("+n+"px "+(t+r)+"px "+(n+i)+"px "+t+"px)"},rotate:function(t,n,r){if(0!==Number(n)){var i=t.node;t=i.style,r||(r=this.getBGColor(i.parentNode)),t.backgroundColor=r,t.paddingLeft=1,r=n*Math.PI/180;var s=Math.cos(r),o=Math.sin(r),u=e.removePx(t.left),a=e.removePx(t.top),f=i.offsetWidth,i=i.offsetHeight;n/=Math.abs(n),t.left=u+f/2-f/2*Math.cos(r)-n*i/2*Math.sin(r)+3,t.top=a-n*f/2*Math.sin(r)+n*i/2*Math.sin(r),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+s+"', M12='"+ -o+"', M21='"+o+"', M22='"+s+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var n=e.style.backgroundColor;""!==n?t=n:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(t){var n=new e.AmDObject("group",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},gradient:function(e,t,n,r){var i="";"radialGradient"==t&&(t="gradientradial",n.reverse()),"linearGradient"==t&&(t="gradient");var s;for(s=0;s<n.length;s++)i+=Math.round(100*s/(n.length-1))+"% "+n[s],s<n.length-1&&(i+=",");e=e.fill,90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270),8===document.documentMode?(e.type=t,e.angle=r):(e.setAttribute("type",t),e.setAttribute("angle",r)),i&&(e.colors.value=i)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){void 0!==typeof e.onselectstart&&(e.onselectstart=function(){return!1}),e.style.cursor="default"},pattern:function(t,n,r,i){r=t.node,t=t.fill;var s="none";n.color&&(s=n.color),r.fillColor=s,n=n.url,e.isAbsolute(n)||(n=i+n),8===document.documentMode?(t.type="tile",t.src=n):(t.setAttribute("type","tile"),t.setAttribute("src",n))},update:function(){}})}(),function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e,this.animations=[]},create:function(t,n){return document.createElementNS(e.SVG_NS,n)},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},setAttr:function(e,t,n){void 0!==n&&e.node.setAttribute(t,n)},animate:function(t,n,r,i,s){t.animationFinished=!1;var o=t.node;t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]),"translate"==n?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(n)),r={obj:t,frame:0,attribute:n,from:o,to:r,time:i,effect:s},this.animations.push(r),t["an_"+n]=r},update:function(){var t,n=this.animations;for(t=n.length-1;0<=t;t--){var r=n[t],i=r.time*e.updateRate,s=r.frame+1,o=r.obj,u=r.attribute,a,f,l;s<=i?(r.frame++,"translate"==u?(a=r.from.split(","),u=Number(a[0]),a=Number(a[1]),isNaN(a)&&(a=0),f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),l=0===l-u?l:Math.round(e[r.effect](0,s,u,l-u,i)),r=0===f-a?f:Math.round(e[r.effect](0,s,a,f-a,i)),u="transform",r="translate("+l+","+r+")"):(f=Number(r.from),a=Number(r.to),l=a-f,r=e[r.effect](0,s,f,l,i),isNaN(r)&&(r=a),0===l&&this.animations.splice(t,1)),this.setAttr(o,u,r)):("translate"==u?(f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),o.translate(l,f)):(a=Number(r.to),this.setAttr(o,u,a)),o.animationFinished=!0,this.animations.splice(t,1))}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,n){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",n)},clipRect:function(t,n,r,i,s){var o=t.node,u=t.clipPath;u&&this.D.remove(u);var a=o.parentNode;a&&(o=document.createElementNS(e.SVG_NS,"clipPath"),u=e.getUniqueId(),o.setAttribute("id",u),this.D.rect(n,r,i,s,0,0,o),a.appendChild(o),n="#",e.baseHref&&!e.isIE&&(n=this.removeTarget(window.location.href)+n),this.setAttr(t,"clip-path","url("+n+u+")"),this.clipPathC++,t.clipPath=o)},text:function(t,n,r){var i=new e.AmDObject("text",this.D);t=String(t).split("\n");var s=e.removePx(n["font-size"]),o;for(o=0;o<t.length;o++){var u=this.create(null,"tspan");u.appendChild(document.createTextNode(t[o])),u.setAttribute("y",(s+2)*o+Math.round(s/2)),u.setAttribute("x",0),i.node.appendChild(u)}return i.node.setAttribute("y",Math.round(s/2)),this.attr(i,n),this.D.addToContainer(i.node,r),i},setText:function(e,t){var n=e.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(t)))},move:function(e,t,n,r){isNaN(t)&&(t=0),isNaN(n)&&(n=0),t="translate("+t+","+n+")",r&&(t=t+" scale("+r+")"),this.setAttr(e,"transform",t)},rotate:function(e,t){var n=e.node.getAttribute("transform"),r="rotate("+t+")";n&&(r=n+" "+r),this.setAttr(e,"transform",r)},set:function(t){var n=new e.AmDObject("g",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},addListener:function(e,t,n){e.node["on"+t]=n},gradient:function(t,n,r,i){var s=t.node,o=t.grad;o&&this.D.remove(o),n=document.createElementNS(e.SVG_NS,n),o=e.getUniqueId(),n.setAttribute("id",o);if(!isNaN(i)){var u=0,a=0,f=0,l=0;90==i?f=100:270==i?l=100:180==i?u=100:0===i&&(a=100),n.setAttribute("x1",u+"%"),n.setAttribute("x2",a+"%"),n.setAttribute("y1",f+"%"),n.setAttribute("y2",l+"%")}for(i=0;i<r.length;i++)u=document.createElementNS(e.SVG_NS,"stop"),a=100*i/(r.length-1),0===i&&(a=0),u.setAttribute("offset",a+"%"),u.setAttribute("stop-color",r[i]),n.appendChild(u);s.parentNode.appendChild(n),r="#",e.baseHref&&!e.isIE&&(r=this.removeTarget(window.location.href)+r),s.setAttribute("fill","url("+r+o+")"),t.grad=n},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,n,r,i){var s=t.node;isNaN(r)&&(r=1);var o=t.patternNode;o&&this.D.remove(o);var o=document.createElementNS(e.SVG_NS,"pattern"),u=e.getUniqueId(),a=n;n.url&&(a=n.url),e.isAbsolute(a)||(a=i+a),i=Number(n.width),isNaN(i)&&(i=4);var f=Number(n.height);isNaN(f)&&(f=4),i/=r,f/=r,r=n.x,isNaN(r)&&(r=0);var l=-Math.random()*Number(n.randomX);isNaN(l)||(r=l),l=n.y,isNaN(l)&&(l=0);var c=-Math.random()*Number(n.randomY);isNaN(c)||(l=c),o.setAttribute("id",u),o.setAttribute("width",i),o.setAttribute("height",f),o.setAttribute("patternUnits","userSpaceOnUse"),o.setAttribute("xlink:href",a),n.color&&(c=document.createElementNS(e.SVG_NS,"rect"),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"width",f),c.setAttributeNS(null,"fill",n.color),o.appendChild(c)),this.D.image(a,0,0,i,f,o).translate(r,l),a="#",e.baseHref&&!e.isIE&&(a=this.removeTarget(window.location.href)+a),s.setAttribute("fill","url("+a+u+")"),t.patternNode=o,s.parentNode.appendChild(o)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,n=this.position,r=this.width,i=t.divRealWidth,s=t.divRealHeight,o=this.div,u=this.legendData;this.data&&(u=this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize);if("right"==n||"left"==n)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var a=t.autoMarginOffset;"bottom"==n?(this.marginBottom=a,this.marginTop=0):(this.marginTop=a,this.marginBottom=0)}r=void 0!==r?e.toCoordinate(r,i):"right"!=n&&"left"!=n?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==n?(r=o.offsetWidth,s=o.offsetHeight,o.clientHeight&&(r=o.clientWidth,s=o.clientHeight)):(isNaN(r)||(o.style.width=r+"px"),o.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=r,(n=this.container)?(n.container.innerHTML="",o.appendChild(n.container),n.width=r,n.height=s,n.setSize(r,s),n.addDefs(t)):n=new e.AmDraw(o,r,s,t),this.container=n,this.lx=0,this.ly=8,s=this.markerSize,s>this.fontSize&&(this.ly=s/2-1),0<s&&(this.lx+=s+this.markerLabelGap),this.titleWidth=0;if(s=this.title)s=e.text(this.container,s,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,s,"legend-title"),s.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=s.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6;this.index=this.maxLabelWidth=0;if(this.showEntries){for(t=0;t<u.length;t++)this.createEntry(u[t]);for(t=this.index=0;t<u.length;t++)this.createValue(u[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,n=this.marginLeft+this.titleWidth,r=this.marginRight,i=this.marginTop,s=this.marginBottom,o=this.horizontalGap,u=this.div,a=this.divWidth,f=this.maxColumns,l=this.verticalGap,c=this.spacing,h=a-r-n,p=0,v=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var y=m.set();g.push(y);var b=this.entries,w,E;for(E=0;E<b.length;E++){w=b[E].getBBox();var S=w.width;S>p&&(p=S),w=w.height,w>v&&(v=w)}var S=v=0,x=o,T=0,N=0;for(E=0;E<b.length;E++){var C=b[E];this.reversedOrder&&(C=b[b.length-E-1]),w=C.getBBox();var k;this.equalWidths?k=S*(p+c+this.markerLabelGap):(k=x,x=x+w.width+o+c),w.height>N&&(N=w.height),k+w.width>h&&0<E&&0!==S&&(v++,k=S=0,x=k+w.width+o+c,T=T+N+l,N=0),C.translate(k,T),S++,!isNaN(f)&&S>=f&&(S=0,v++,T=T+N+l,x=o,N=0),y.push(C)}w=y.getBBox(),f=w.height+2*l-1,"left"==t||"right"==t?(c=w.width+2*o,a=c+n+r,u.style.width=a+"px",this.ieW=a):c=a-n-r-1,r=e.polygon(this.container,[0,c,c,0],[0,0,f,f],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),e.setCN(this.chart,r,"legend-bg"),g.push(r),g.translate(n,i),r.toBack(),n=o;if("top"==t||"bottom"==t||"absolute"==t||"outside"==t)"center"==this.align?n=o+(c-w.width)/2:"right"==this.align&&(n=o+c-w.width);y.translate(n,l+1),this.titleHeight>f&&(f=this.titleHeight),t=f+i+s+1,0>t&&(t=0),t>this.chart.divRealHeight&&(u.style.top="0px"),u.style.height=Math.round(t)+"px",m.setSize(this.divWidth,t)},createEntry:function(t){if(!1!==t.visibleInLegend&&!t.hideFromLegend){var n=this.chart,r=t.markerType;t.legendEntryWidth=this.markerSize,r||(r=this.markerType);var i=t.color,s=t.alpha;t.legendKeyColor&&(i=t.legendKeyColor()),t.legendKeyAlpha&&(s=t.legendKeyAlpha());var o;!0===t.hidden&&(o=i=this.markerDisabledColor);var u=t.pattern,a=t.customMarker;a||(a=this.customMarker);var f=this.container,l=this.markerSize,c=0,h=0,p=l/2;if(this.useGraphSettings){r=t.type,this.switchType=void 0;if("line"==r||"step"==r||"smoothedLine"==r||"ohlc"==r)u=f.set(),t.hidden||(i=t.lineColorR,o=t.bulletBorderColorR),c=e.line(f,[0,2*l],[l/2,l/2],i,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(n,c,"graph-stroke"),u.push(c),t.bullet&&(t.hidden||(i=t.bulletColorR),c=e.bullet(f,t.bullet,t.bulletSize,i,t.bulletAlpha,t.bulletBorderThickness,o,t.bulletBorderAlpha))&&(e.setCN(n,c,"graph-bullet"),c.translate(l+1,l/2),u.push(c)),p=0,c=l,h=l/3;else{var v;t.getGradRotation&&(v=t.getGradRotation(),0===v&&(v=180)),c=t.fillColorsR,!0===t.hidden&&(c=i);if(u=this.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,i,t.lineAlpha,v,u,t.dashLength))p=l,u.translate(p,l/2);c=l}e.setCN(n,u,"graph-"+r),e.setCN(n,u,"graph-"+t.id)}else if(a)u=f.image(a,0,0,l,l);else{var m;isNaN(this.gradientRotation)||(m=180+this.gradientRotation),(u=this.createMarker(r,i,s,void 0,void 0,void 0,m,u))&&u.translate(l/2,l/2)}e.setCN(n,u,"legend-marker"),this.addListeners(u,t),f=f.set([u]),this.switchable&&t.switchable&&f.setAttr("cursor","pointer"),void 0!==t.id&&e.setCN(n,f,"legend-item-"+t.id),e.setCN(n,f,t.className,!0),(o=this.switchType)&&"none"!=o&&0<l&&("x"==o?(v=this.createX(),v.translate(l/2,l/2)):v=this.createV(),v.dItem=t,!0!==t.hidden?"x"==o?v.hide():v.show():"x"!=o&&v.hide(),this.switchable||v.hide(),this.addListeners(v,t),t.legendSwitch=v,f.push(v),e.setCN(n,v,"legend-switch")),o=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(o=this.selectedColor),this.useMarkerColorForLabels&&(o=i),!0===t.hidden&&(o=this.markerDisabledColor),i=e.massReplace(this.labelText,{"[[title]]":t.title}),v=this.fontSize,u&&(l<=v&&u.translate(p,l/2+this.ly-v/2+(v+2-l)/2-h),t.legendEntryWidth=u.getBBox().width);var g;i&&(i=e.fixBrakes(i),t.legendTextReal=i,g=this.labelWidth,g=isNaN(g)?e.text(this.container,i,o,n.fontFamily,v,"start"):e.wrappedText(this.container,i,o,n.fontFamily,v,"start",!1,g,0),e.setCN(n,g,"legend-label"),g.translate(this.lx+c,this.ly),f.push(g),n=g.getBBox().width,this.maxLabelWidth<n&&(this.maxLabelWidth=n)),this.entries[this.index]=f,t.legendEntry=this.entries[this.index],t.legendLabel=g,this.index++}},addListeners:function(e,t){var n=this;e&&e.mouseover(function(e){n.rollOverMarker(t,e)}).mouseout(function(e){n.rollOutMarker(t,e)}).click(function(e){n.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t),this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t),this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t)),this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||(this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t))},rollOutLabel:function(e,t){if(!e.hidden){if(this.textClickEnabled&&e.legendLabel){var n=this.color;void 0!==this.selectedColor&&e.showBalloon&&(n=this.selectedColor),this.useMarkerColorForLabels&&(n=e.lineColor,void 0===n&&(n=e.color)),e.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",e,t)}},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,n){e={type:e,dataItem:t,target:this,event:n,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(t){var n=this,r=n.fontSize,i=n.chart;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var s=n.maxLabelWidth;n.forceWidth&&(s=n.labelWidth),n.equalWidths||(n.valueAlign="left"),"left"==n.valueAlign&&(s=t.legendEntry.getBBox().width);var o=s;if(n.valueText&&0<n.valueWidth){var u=n.color;n.useMarkerColorForValues&&(u=t.color,t.legendKeyColor&&(u=t.legendKeyColor())),!0===t.hidden&&(u=n.markerDisabledColor);var a=n.valueText,s=s+n.lx+n.markerLabelGap+n.valueWidth,f="end";"left"==n.valueAlign&&(s-=n.valueWidth,f="start"),u=e.text(n.container,a,u,n.chart.fontFamily,r,f),e.setCN(i,u,"legend-value"),u.translate(s,n.ly),n.entries[n.index].push(u),o+=n.valueWidth+2*n.markerLabelGap,u.dItem=t,n.valueLabels.push(u)}n.index++,i=n.markerSize,i<r+7&&(i=r+7,e.VML&&(i+=3)),r=n.container.rect(t.legendEntryWidth,0,o,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),r.dItem=t,n.entries[n.index-1].push(r),r.mouseover(function(e){n.rollOverLabel(t,e)}).mouseout(function(e){n.rollOutLabel(t,e)}).click(function(e){n.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,n={stroke:this.switchColor,"stroke-width":3},r=this.container,i=e.line(r,[-t,t],[-t,t]).attr(n),t=e.line(r,[-t,t],[t,-t]).attr(n);return this.container.set([i,t])},createMarker:function(t,n,r,i,s,o,u,a,f){var l=this.markerSize,c=this.container;return s||(s=this.markerBorderColor),s||(s=n),isNaN(i)&&(i=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),e.bullet(c,t,l,n,r,i,s,o,l,u,a,this.chart.path,f)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t=this.valueLabels,n=this.chart,r,i=this.data;if(t)for(r=0;r<t.length;r++){var s=t[r],o=s.dItem,u=" ";if(i)o.value?s.text(o.value):s.text("");else{var a;if(void 0!==o.type){a=o.currentDataItem;var f=this.periodValueText;o.legendPeriodValueText&&(f=o.legendPeriodValueText),a?(u=this.valueText,o.legendValueText&&(u=o.legendValueText),u=n.formatString(u,a)):f&&n.formatPeriodString&&(f=e.massReplace(f,{"[[title]]":o.title}),u=n.formatPeriodString(f,o))}else u=n.formatString(this.valueText,o);if(f=this.valueFunction)a&&(o=a),u=f(o,u);s.text(u)}}},renderFix:function(){if(!e.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var n=t.getMilliseconds(),r=String(n);10>n&&(r="00"+n),10<=n&&100>n&&(r="0"+n),e=e.replace(/fff/g,r)}return e},e.extractPeriod=function(t){var n=e.stripNumbers(t),r=1;return n!=t&&(r=Number(t.slice(0,t.indexOf(n)))),{period:n,count:r}},e.getDate=function(t,n,r){return t instanceof Date?e.newDate(t,r):n&&isNaN(t)?e.stringToDate(t,n):new Date(t)},e.daysInMonth=function(e){return(new Date(e.getYear(),e.getMonth()+1,0)).getDate()},e.newDate=function(e,t){return t&&-1==t.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},e.resetDateToMin=function(t,n,r,i){void 0===i&&(i=1);var s,o,u,a,f,l,c;e.useUTC?(s=t.getUTCFullYear(),o=t.getUTCMonth(),u=t.getUTCDate(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(s=t.getFullYear(),o=t.getMonth(),u=t.getDate(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay());switch(n){case"YYYY":s=Math.floor(s/r)*r,o=0,u=1,c=l=f=a=0;break;case"MM":o=Math.floor(o/r)*r,u=1,c=l=f=a=0;break;case"WW":u=t>=i?u-t+i:u-(7+t)+i,c=l=f=a=0;break;case"DD":c=l=f=a=0;break;case"hh":a=Math.floor(a/r)*r,c=l=f=0;break;case"mm":f=Math.floor(f/r)*r,c=l=0;break;case"ss":l=Math.floor(l/r)*r,c=0;break;case"fff":c=Math.floor(c/r)*r}return e.useUTC?(t=new Date,t.setUTCFullYear(s,o,u),t.setUTCHours(a,f,l,c)):t=new Date(s,o,u,a,f,l,c),t},e.getPeriodDuration=function(e,t){void 0===t&&(t=1);var n;switch(e){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*t},e.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}},e.getMaxInterval=function(t,n){var r=e.intervals;return t>=r[n].contains?(t=Math.round(t/r[n].contains),n=r[n].nextInterval,e.getMaxInterval(t,n)):"ss"==n?r[n].nextInterval:n},e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),e.monthNames="January February March April May June July August September October November December".split(" "),e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),e.getWeekNumber=function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.stringToDate=function(t,n){var r={},i=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],s=!0,o=n.indexOf("AA");-1!=o&&(t.substr(o,2),"pm"==t.toLowerCase&&(s=!1));var o=n,u,a,f;for(f=0;f<i.length;f++)a=i[f].period,r[a]=0,"date"==a&&(r[a]=1);for(f=0;f<i.length;f++)if(u=i[f].pattern,a=i[f].period,-1!=n.indexOf(u)){var l=e.getFromDateString(u,t,o);n=n.replace(u,"");if("KK"==u||"K"==u||"LL"==u||"L"==u)s||(l+=12);r[a]=l}return e.useUTC?(i=new Date,i.setUTCFullYear(r.year,r.month,r.date),i.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):i=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),i},e.getFromDateString=function(e,t,n){if(void 0!==t)return n=n.indexOf(e),t=String(t),t=t.substr(n,e.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t},e.formatDate=function(t,n,r){r||(r=e);var i,s,o,u,a,f,l,c,h=e.getWeekNumber(t);e.useUTC?(i=t.getUTCFullYear(),s=t.getUTCMonth(),o=t.getUTCDate(),u=t.getUTCDay(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),o=t.getDate(),u=t.getDay(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds());var p=String(i).substr(2,2),v="0"+u;n=n.replace(/W/g,h),h=a,24==h&&(h=0);var m=h;10>m&&(m="0"+m),n=n.replace(/JJ/g,m),n=n.replace(/J/g,h),m=a,0===m&&(m=24,-1!=n.indexOf("H")&&(o--,0===o&&(i=new Date(t),i.setDate(i.getDate()-1),s=i.getMonth(),o=i.getDate(),i=i.getFullYear()))),t=s+1,9>s&&(t="0"+t),h=o,10>o&&(h="0"+o);var g=m;return 10>g&&(g="0"+g),n=n.replace(/HH/g,g),n=n.replace(/H/g,m),m=a,11<m&&(m-=12),g=m,10>g&&(g="0"+g),n=n.replace(/KK/g,g),n=n.replace(/K/g,m),m=a,0===m&&(m=12),12<m&&(m-=12),g=m,10>g&&(g="0"+g),n=n.replace(/LL/g,g),n=n.replace(/L/g,m),m=f,10>m&&(m="0"+m),n=n.replace(/NN/g,m),n=n.replace(/N/g,f),f=l,10>f&&(f="0"+f),n=n.replace(/SS/g,f),n=n.replace(/S/g,l),l=c,10>l&&(l="00"+l),100>l&&(l="0"+l),f=c,10>f&&(f="00"+f),n=n.replace(/QQQ/g,l),n=n.replace(/QQ/g,f),n=n.replace(/Q/g,c),n=12>a?n.replace(/A/g,r.amString):n.replace(/A/g,r.pmString),n=n.replace(/YYYY/g,"@IIII@"),n=n.replace(/YY/g,"@II@"),n=n.replace(/MMMM/g,"@XXXX@"),n=n.replace(/MMM/g,"@XXX@"),n=n.replace(/MM/g,"@XX@"),n=n.replace(/M/g,"@X@"),n=n.replace(/DD/g,"@RR@"),n=n.replace(/D/g,"@R@"),n=n.replace(/EEEE/g,"@PPPP@"),n=n.replace(/EEE/g,"@PPP@"),n=n.replace(/EE/g,"@PP@"),n=n.replace(/E/g,"@P@"),n=n.replace(/@IIII@/g,i),n=n.replace(/@II@/g,p),n=n.replace(/@XXXX@/g,r.monthNames[s]),n=n.replace(/@XXX@/g,r.shortMonthNames[s]),n=n.replace(/@XX@/g,t),n=n.replace(/@X@/g,s+1),n=n.replace(/@RR@/g,h),n=n.replace(/@R@/g,o),n=n.replace(/@PPPP@/g,r.dayNames[u]),n=n.replace(/@PPP@/g,r.shortDayNames[u]),n=n.replace(/@PP@/g,v),n=n.replace(/@P@/g,u)},e.changeDate=function(t,n,r,i,s){if(e.useUTC)return e.changeUTCDate(t,n,r,i,s);var o=-1;void 0===i&&(i=!0),void 0===s&&(s=!1),!0===i&&(o=1);switch(n){case"YYYY":t.setFullYear(t.getFullYear()+r*o),i||s||t.setDate(t.getDate()+1);break;case"MM":n=t.getMonth(),t.setMonth(t.getMonth()+r*o),t.getMonth()>n+r*o&&t.setDate(t.getDate()-1),i||s||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*o);break;case"WW":t.setDate(t.getDate()+r*o*7);break;case"hh":t.setHours(t.getHours()+r*o);break;case"mm":t.setMinutes(t.getMinutes()+r*o);break;case"ss":t.setSeconds(t.getSeconds()+r*o);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*o)}return t},e.changeUTCDate=function(e,t,n,r,i){var s=-1;void 0===r&&(r=!0),void 0===i&&(i=!1),!0===r&&(s=1);switch(t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+n*s),r||i||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+n*s),e.getUTCMonth()>t+n*s&&e.setUTCDate(e.getUTCDate()-1),r||i||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+n*s);break;case"WW":e.setUTCDate(e.getUTCDate()+n*s*7);break;case"hh":e.setUTCHours(e.getUTCHours()+n*s);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+n*s);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+n*s);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+n*s)}return e}}(),define("amcharts",function(){}),function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){e.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,e.applyTheme(this,t,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){e.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea();if(e.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var e={},t;if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{r=this.valueAxes;for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var e=this.valueAxes,t,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,s=this.realHeight,o=n,u=n,a=i;t=s;var f;for(f=0;f<e.length;f++)e[f].handleSynchronization(),t=this.getAxisBounds(e[f],o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);if(e=this.categoryAxis)t=this.getAxisBounds(e,o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);r.left&&o<n&&(this.marginLeft=Math.round(-o+n)),r.right&&a>=i-n&&(this.marginRight=Math.round(a-i+n)),r.top&&u<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-u+n+this.titleHeight)),r.bottom&&t>s-n&&(this.marginBottom=Math.round(this.marginBottom+t-s+n)),this.initChart()},getAxisBounds:function(e,t,n,r,i){if(!e.ignoreAxisWidth){var s=e.labelsSet,o=e.tickLength;e.inside&&(o=0);if(s)switch(s=e.getBBox(),e.position){case"top":e=s.y,r>e&&(r=e);break;case"bottom":e=s.y+s.height,i<e&&(i=e);break;case"right":e=s.x+s.width+o+3,n<e&&(n=e);break;case"left":e=s.x-o,t>e&&(t=e)}}return{l:t,t:r,r:n,b:i}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var n=t.container.set();t.zoomButtonSet.push(n);var r=t.color,i=t.fontSize,s=t.zoomOutButtonImageSize,o=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),u=e.lang.zoomOutText||t.zoomOutText,a=t.zoomOutButtonColor,f=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(l)||(i=l),(l=t.zoomOutButtonFontColor)&&(r=l);var l=t.zoomOutButton,h;l&&(l.fontSize&&(i=l.fontSize),l.color&&(r=l.color),l.backgroundColor&&(a=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var p=l=0;void 0!==t.pathToImages&&o&&(h=t.container.image(t.pathToImages+o+t.extension,0,0,s,s),e.setCN(t,h,"zoom-out-image"),n.push(h),h=h.getBBox(),l=h.width+5),void 0!==u&&(r=e.text(t.container,u,r,t.fontFamily,i,"start"),e.setCN(t,r,"zoom-out-label"),i=r.getBBox(),p=h?h.height/2-3:i.height/2,r.translate(l,p),n.push(r)),h=n.getBBox(),r=1,e.isModern||(r=0),a=e.rect(t.container,h.width+2*c+5,h.height+2*c-2,a,1,1,a,r),a.setAttr("opacity",f),a.translate(-c,-c),e.setCN(t,a,"zoom-out-bg"),n.push(a),a.toBack(),t.zbBG=a,h=a.getBBox(),n.translate(t.marginLeftReal+t.plotAreaWidth-h.width+c,t.marginTopReal+c),n.hide(),n.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()});for(f=0;f<n.length;f++)n[f].attr({cursor:"pointer"});t.zbSet=n}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,n=this.dy,r=this.marginLeftReal,i=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,u=this.plotAreaFillColors,a=this.plotAreaFillAlphas,f=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof a&&(a=a[0]),u=e.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],u,a,1,f,l,this.plotAreaGradientAngle),e.setCN(this,u,"plot-area"),u.translate(r+t,i+n),this.set.push(u),0!==t&&0!==n&&(u=this.plotAreaFillColors,"object"==typeof u&&(u=u[0]),u=e.adjustLuminosity(u,-0.15),s=e.polygon(this.container,[0,t,s+t,s,0],[0,n,n,0,0],u,a,1,f,l),e.setCN(this,s,"plot-area-bottom"),s.translate(r,i+o),this.set.push(s),t=e.polygon(this.container,[0,0,t,t,0],[0,o,o+n,n,0],u,a,1,f,l),e.setCN(this,t,"plot-area-left"),t.translate(r,i),this.set.push(t)),(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),n=this.container;this.realWidth=e,this.realWidth=t,n&&this.container.setSize(e,t);var n=this.marginLeftReal,r=this.marginTopReal,e=e-n-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>e&&(e=1),1>t&&(t=1),this.plotAreaWidth=Math.round(e),this.plotAreaHeight=Math.round(t),this.plotBalloonsSet.translate(n,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t];this.setAxisRenderers(n),this.updateObjectSize(n)}},setAxisRenderers:function(t){t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.axisItemRenderer=e.RecItem,t.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=e.processObject(t,e.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,t=0;t<e.length;t++)e[t].zoomOut()},removeTrendLine:function(e){var t=this.trendLines,n;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},adjustMargins:function(e,t){var n=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==n?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,n){var r="bottom",i="top";e.oppositeAxis||(i=r,r="top"),e.position=t?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var n=this.marginTopReal,r=this.marginLeftReal,i=e.scrollbarHeight,s=this.dx,o=this.dy,u=e.offset;"top"==e.position?t?(e.y=n,e.x=r-i-u):(e.y=n-i+o-u,e.x=r+s):t?(e.y=n+o,e.x=r+this.plotAreaWidth+s+u):(e.y=n+this.plotAreaHeight+u,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());if(t=this.zbSet)this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB()},handleReleaseOutside:function(t){e.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){e.AmRectangularChart.base.handleMouseDown.call(this,t);var n=this.chartCursor;n&&n.handleMouseDown&&!this.rolledOverZB&&n.handleMouseDown(t)},update:function(){e.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var t=e.valueAxes[0],n=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-n,n=1-t.relativeEnd),e.percentZoom(n,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e=this.valueAxes,t;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);e=this.graphs;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,t){var n=e.relativeStart,r=e.relativeEnd;if(n>r)var i=n,n=r,r=i;this.relativeZoomValueAxes(t,n,r),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,n,r){n=e.fitToBounds(n,0,1),r=e.fitToBounds(r,0,1);if(n>r){var i=n;n=r,r=i}var i=1/this.maxZoomFactor,s=e.getDecimals(i)+4;r-n<i&&(r=n+(r-n)/2,n=r-i/2,r+=i/2),n=e.roundTo(n,s),r=e.roundTo(r,s),i=!1;if(t){for(s=0;s<t.length;s++){var o=t[s].zoomToRelativeValues(n,r,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(t){e.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(e){var t,n=this.valueAxes;for(t=0;t<n.length;t++)e.panning||n[t].showBalloon(e.x,e.y)},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,n=this.endX0,r=this.endY0,i=this.startY0,s=e.startX,o=e.endX,u=e.startY,a=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(t+s*(n-t),t+o*(n-t),i+u*(r-i),i+a*(r-i),e)}},handleCursorHide:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].hideBalloon();t=this.graphs;for(e=0;e<t.length;e++)t[e].hideBalloonReal()}})}(),function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="serial",e.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var n=new e.CategoryAxis(t);n.chart=this,this.categoryAxis=n,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,e.applyTheme(this,t,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var e=this.countColumns(),t=this.chartData,n=this.graphs,r;for(r=0;r<n.length;r++){var i=n[r];i.data=t,i.columnCount=e}0<t.length&&(this.firstTime=this.getStartTime(t[0].time),this.lastTime=this.getEndTime(t[t.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},handleWheelReal:function(e,t){if(!this.wheelBusy){var n=this.categoryAxis,r=n.parseDates,i=n.minDuration(),s=n=1;this.mouseWheelZoomEnabled?t||(n=-1):t&&(n=-1);var o=this.chartData.length,u=this.lastTime,a=this.firstTime;0>e?r?(o=this.endTime-this.startTime,r=this.startTime+n*i,i=this.endTime+s*i,0<s&&0<n&&i>=u&&(i=u,r=u-o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&this.end>=o-1&&(n=s=0),r=this.start+n,i=this.end+s,this.zoomToIndexes(r,i)):r?(o=this.endTime-this.startTime,r=this.startTime-n*i,i=this.endTime-s*i,0<s&&0<n&&r<=a&&(r=a,i=a+o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&1>this.start&&(n=s=0),r=this.start-n,i=this.end-s,this.zoomToIndexes(r,i))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),e.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){e.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){var n=this.chartScrollbar;!n||!this.marginsUpdated&&this.autoMargins||n.draw(),(n=this.valueScrollbar)&&n.draw();var t=t.length-1,r,n=this.categoryAxis;if(n.parseDates&&!n.equalSpacing){if(n=this.startTime,r=this.endTime,isNaN(n)||isNaN(r))n=this.firstTime,r=this.lastTime}else if(n=this.start,r=this.end,isNaN(n)||isNaN(r))n=0,r=t;this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,r)}}else this.cleanChart()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,t,n){e.chart=this,e.id=n,e.rotate=t,e.setOrientation(!this.rotate),e.init(),this.setAxisRenderers(e),this.updateObjectSize(e)},updateValueAxes:function(){e.AmSerialChart.base.updateValueAxes.call(this);var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],i=this.rotate;r.rotate=i,r.setOrientation(i),i=this.categoryAxis;if(!i.startOnAxis||i.parseDates)r.expandMinMax=!0}},getStartTime:function(t){var n=this.categoryAxis;return e.resetDateToMin(new Date(t),n.minPeriod,1,n.firstDayOfWeek).getTime()},getEndTime:function(t){var n=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(t),n.period,n.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate));if(t=this.valueScrollbar)this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate)},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,t){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?this.timeZoom(e,t):this.indexZoom(e,t),isNaN(e)&&this.zoomOutValueAxes(),this.updateLegendValues()},timeZoom:function(t,n){var r=this.maxSelectedTime;isNaN(r)||(n!=this.endTime&&n-t>r&&(t=n-r),t!=this.startTime&&n-t>r&&(n=t+r));var i=this.minSelectedTime;if(0<i&&n-t<i){var s=Math.round(t+(n-t)/2),i=Math.round(i/2);t=s-i,n=s+i}i=this.chartData,s=this.categoryAxis;if(e.ifArray(i)&&(t!=this.startTime||n!=this.endTime)){var o=s.minDuration(),u=this.firstTime,a=this.lastTime;t||(t=u,isNaN(r)||(t=a-r)),n||(n=a),t>a&&(t=a),n<u&&(n=u),t<u&&(t=u),n>a&&(n=a),n<t&&(n=t+o),n-t<o/5&&(n<a?n=t+o/5:t=n-o/5),this.startTime=t,this.endTime=n,r=i.length-1,o=this.getClosestIndex(i,"time",t,!0,0,r),i=this.getClosestIndex(i,"time",n,!1,o,r),s.timeZoom(t,n),s.zoom(o,i),this.start=e.fitToBounds(o,0,r),this.end=e.fitToBounds(i,0,r),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var t,n=this.categoryAxis;n&&n.parseDates&&!n.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0);if(n=this.valueAxes)n=n[0],0!==n.relativeStart&&(t=!0),1!=n.relativeEnd&&(t=!0);e.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){e.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(e,t){var n=this.maxSelectedSeries;isNaN(n)||(t!=this.end&&t-e>n&&(e=t-n),e!=this.start&&t-e>n&&(t=e+n));if(e!=this.start||t!=this.end){var r=this.chartData.length-1;isNaN(e)&&(e=0,isNaN(n)||(e=r-n)),isNaN(t)&&(t=r),t<e&&(t=e),t>r&&(t=r),e>r&&(e=r-1),0>e&&(e=0),this.start=e,this.end=t,this.categoryAxis.zoom(e,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){e.AmSerialChart.base.updateGraphs.call(this);var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];r.columnWidthReal=this.columnWidth,r.categoryAxis=this.categoryAxis,e.isString(r.fillToGraph)&&(r.fillToGraph=this.graphsById[r.fillToGraph])}},zoomAxesAndGraphs:function(){e.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,n=this.graphs,r;this.columnsArray=[];for(t=0;t<n.length;t++){r=n[t];var i=r.columnsArray;if(i){var s;for(s=0;s<i.length;s++)this.columnsArray.push(i[s])}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){n=this.columnsSet,i=this.container.set(),this.columnSet.push(i);for(t=0;t<this.columnsArray.length;t++)i.push(this.columnsArray[t].column.set);r&&i.translate(r.x,r.y),this.columnsSet=i,e.remove(n)}}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var n=e.dragger;n&&n.stop()}this.zoomedByScrollbar=!1,t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var t=this.trendLines,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.TrendLine,this.theme);t[n]=r,r.chart=this,r.id||(r.id="trendLineAuto"+n+"_"+(new Date).getTime()),e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.categoryAxis=this.categoryAxis}},countColumns:function(){var e=0,t=this.valueAxes.length,n=this.graphs.length,r,i,s=!1,o,u;for(u=0;u<t;u++){i=this.valueAxes[u];var a=i.stackType;if("100%"==a||"regular"==a)for(s=!1,o=0;o<n;o++)r=this.graphs[o],r.tcc=1,r.valueAxis==i&&"column"==r.type&&(!s&&r.stackable&&(e++,s=!0),(!r.stackable&&r.clustered||r.newStack)&&e++,r.columnIndex=e-1,r.clustered||(r.columnIndex=0));if("none"==a||"3d"==a){s=!1;for(o=0;o<n;o++)r=this.graphs[o],r.valueAxis==i&&"column"==r.type&&(r.clustered?(r.tcc=1,r.newStack&&(e=0),r.hidden||(r.columnIndex=e,e++)):r.hidden||(s=!0,r.tcc=1,r.columnIndex=0));s&&0===e&&(e=1)}if("3d"==a){i=1;for(u=0;u<n;u++)r=this.graphs[u],r.newStack&&i++,r.depthCount=i,r.tcc=e;e=i}}return e},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++)if(t[n].category==e)return n},handleScrollbarZoom:function(e){this.zoomedByScrollbar=!0,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var n=this.categoryAxis,r=e.extractPeriod(n.minPeriod).period,n=n.dateFormatsObject[r];t.startValue=e.formatDate(t.startDate,n,this),t.endValue=e.formatDate(t.endDate,n,this),t.chart=this,t.target=this,this.fire(t)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(e.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var n={chart:this,target:this,type:"zoomed"};n.startIndex=this.start,n.endIndex=this.end,n.startValue=t[this.start].category,n.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,n,r,i,s){0>i&&(i=0),s>e.length-1&&(s=e.length-1);var o=i+Math.round((s-i)/2),u=e[o][t];return n==u?o:1>=s-i?r?i:Math.abs(e[i][t]-n)<Math.abs(e[s][t]-n)?i:s:n==u?o:n<u?this.getClosestIndex(e,t,n,r,i,o):this.getClosestIndex(e,t,n,r,o,s)},zoomToIndexes:function(e,t){var n=this.chartData;if(n){var r=n.length;0<r&&(0>e&&(e=0),t>r-1&&(t=r-1),r=this.categoryAxis,r.parseDates&&!r.equalSpacing?this.zoom(n[e].time,this.getEndTime(n[t].time)):this.zoom(e,t))}},zoomToDates:function(t,n){var r=this.chartData;if(r)if(this.categoryAxis.equalSpacing){var i=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length);n=e.resetDateToMin(n,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",n.getTime(),!1,0,r.length),this.zoom(i,r)}else this.zoom(t.getTime(),n.getTime())},zoomToCategoryValues:function(e,t){this.chartData&&this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,n){if(n){var r=["value","open","low","high","close"],i="value open low high close average sum count".split(" "),s=n.valueAxis,o=this.chartData,u=n.numberFormatter;u||(u=this.nf);for(var a=0;a<r.length;a++){for(var f=r[a],l=0,c=0,h,p,d,v,m,g=0,y=0,b,w,E,S,x,T=this.start;T<=this.end;T++){var N=o[T];if(N&&(N=N.axes[s.id].graphs[n.id])){if(N.values){var C=N.values[f];if(this.rotate){if(0>N.x||N.x>N.graph.height)C=NaN}else if(0>N.x||N.x>N.graph.width)C=NaN;if(!isNaN(C)){isNaN(h)&&(h=C),p=C;if(isNaN(d)||d>C)d=C;if(isNaN(v)||v<C)v=C;m=e.getDecimals(l);var k=e.getDecimals(C),l=l+C,l=e.roundTo(l,Math.max(m,k));c++,m=l/c}}if(N.percents&&(N=N.percents[f],!isNaN(N))){isNaN(b)&&(b=N),w=N;if(isNaN(E)||E>N)E=N;if(isNaN(S)||S<N)S=N;x=e.getDecimals(g),C=e.getDecimals(N),g+=N,g=e.roundTo(g,Math.max(x,C)),y++,x=g/y}}}g={open:b,close:w,high:S,low:E,average:x,sum:g,count:y},t=e.formatValue(t,{open:h,close:p,high:v,low:d,average:m,sum:l,count:c},i,u,f+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,g,i,this.pf,"percents\\."+f+"\\.")}}return t=e.cleanFromEmpty(t)},formatString:function(t,n,r){if(n){var i=n.graph;if(void 0!==t){if(-1!=t.indexOf("[[category]]")){var s=n.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,u=this.chartCursor;u&&u.categoryBalloonDateFormat&&(o=u.categoryBalloonDateFormat),o=e.formatDate(s,o,this),-1!=o.indexOf("fff")&&(o=e.formatMilliseconds(o,s)),s=o}t=t.replace(/\[\[category\]\]/g,String(s))}s=i.numberFormatter,s||(s=this.nf),o=n.graph.valueAxis,(u=o.duration)&&!isNaN(n.values.value)&&(u=e.formatDuration(n.values.value,u,"",o.durationUnits,o.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),u)),"date"==o.type&&(o=e.formatDate(new Date(n.values.value),i.dateFormat,this),u=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(u,o),o=e.formatDate(new Date(n.values.open),i.dateFormat,this),u=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(u,o)),i="value open low high close total".split(" "),o=this.pf,t=e.formatValue(t,n.percents,i,o,"percents\\."),t=e.formatValue(t,n.values,i,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,n.values,["percents"],o),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),-1!=t.indexOf("[[")&&n.graph.customData&&(t=e.formatDataContextValue(t,n.graph.customData)),t=e.AmSerialChart.base.formatString.call(this,t,n,r)}return t}},updateChartCursor:function(){e.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,n=this.categoryAxis;if(t){var r=t.categoryBalloonAlpha,i=t.categoryBalloonColor,s=t.color;void 0===i&&(i=t.cursorColor);var o=t.valueZoomable,u=t.zoomable,a=t.valueLineEnabled;this.rotate?(t.vLineEnabled=a,t.hZoomEnabled=o,t.vZoomEnabled=u):(t.hLineEnabled=a,t.vZoomEnabled=o,t.hZoomEnabled=u);if(t.valueLineBalloonEnabled)for(a=0;a<this.valueAxes.length;a++)o=this.valueAxes[a],(u=o.balloon)||(u={}),u=e.extend(u,this.balloon,!0),u.fillColor=i,u.balloonColor=i,u.fillAlpha=r,u.borderColor=i,u.color=s,o.balloon=u;else for(u=0;u<this.valueAxes.length;u++)o=this.valueAxes[u],o.balloon&&(o.balloon=null);n&&(n.balloonTextFunction=t.categoryBalloonFunction,t.categoryLineAxis=n,n.balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((u=n.balloon)||(u={}),u=e.extend(u,this.balloon,!0),u.fillColor=i,u.balloonColor=i,u.fillAlpha=r,u.borderColor=i,u.color=s,n.balloon=u),n.balloon&&(n.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){e.callMethod("destroy",[this.valueScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var n=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=n):void 0===t.width&&(t.width=n),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){e.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){e.AmSerialChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){e.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){e.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),t.id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,this.valueAxes)},zoomOut:function(){e.AmSerialChart.base.zoomOut.call(this),this.zoom()},getNextItem:function(e){var t=e.index,n=this.chartData,r=e.graph;if(t+1<n.length)for(t+=1;t<n.length;t++)if(e=n[t])if(e=e.axes[r.valueAxis.id].graphs[r.id],!isNaN(e.y))return e},handleCursorZoomReal:function(e,t,n,r,i){var s=i.target,o,u;this.rotate?(isNaN(e)||isNaN(t)||this.relativeZoomValueAxes(this.valueAxes,e,t)&&this.updateAfterValueZoom(),s.vZoomEnabled&&(o=i.start,u=i.end)):(isNaN(n)||isNaN(r)||this.relativeZoomValueAxes(this.valueAxes,n,r)&&this.updateAfterValueZoom(),s.hZoomEnabled&&(o=i.start,u=i.end)),isNaN(o)||isNaN(u)||(e=this.categoryAxis,e.parseDates&&!e.equalSpacing?this.zoomToDates(new Date(o),new Date(u)):this.zoomToIndexes(o,u))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],t=e.relativeStart,n=e.relativeEnd;e.reversed&&(t=1-e.relativeEnd,n=1-e.relativeStart),this.rotate?(this.startX0=t,this.endX0=n):(this.startY0=t,this.endY0=n)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){e.AmSerialChart.base.handleCursorMove.call(this,t);var n=t.target,r=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!n.isHidden){var i=this.graphs;if(i){var s;s=r.xToIndex(this.rotate?t.y:t.x);if(s=this.chartData[s]){var o,u,a,f;if(n.oneBalloonOnly){var l=Infinity;for(o=0;o<i.length;o++)if(u=i[o],u.balloon.enabled&&u.showBalloon&&!u.hidden){a=u.valueAxis.id,a=s.axes[a].graphs[u.id],a=a.y,"top"==u.showBalloonAt&&(a=0),"bottom"==u.showBalloonAt&&(a=this.height);var c=n.mouseX,h=n.mouseY;a=this.rotate?Math.abs(c-a):Math.abs(h-a),a<l&&(l=a,f=u)}n.mostCloseGraph=f}if(this.prevCursorItem!=s||f!=this.prevMostCloseGraph){l=[];for(o=0;o<i.length;o++)u=i[o],a=u.valueAxis.id,a=s.axes[a].graphs[u.id],n.showNextAvailable&&isNaN(a.y)&&(a=this.getNextItem(a)),f&&u!=f?(u.showGraphBalloon(a,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),u.balloon.hide(0)):n.valueBalloonsEnabled?(u.balloon.showBullet=n.bulletsEnabled,u.balloon.bulletSize=n.bulletSize/2,t.hideBalloons||(u.showGraphBalloon(a,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),u.balloon.set&&l.push({balloon:u.balloon,y:u.balloon.pointToY}))):(u.currentDataItem=a,u.resizeBullet(a,n.graphBulletSize,n.graphBulletAlpha));n.avoidBalloonOverlapping&&this.arrangeBalloons(l),this.prevCursorItem=s}this.prevMostCloseGraph=f}}r.showBalloon(t.x,t.y,n.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){e.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs;var n;for(n=0;n<t.length;n++)t[n].currentDataItem=null},handleCursorPanning:function(t){var n=t.target,r,i=t.deltaX,s=t.deltaY,o=t.delta2X,u=t.delta2Y;t=!1;if(this.rotate){isNaN(o)&&(o=i,t=!0);var a=this.endX0;r=this.startX0;var f=a-r,a=a-f*o,l=f;t||(l=0),t=e.fitToBounds(r-f*i,0,1-l)}else isNaN(u)&&(u=s,t=!0),a=this.endY0,r=this.startY0,f=a-r,a+=f*s,l=f,t||(l=0),t=e.fitToBounds(r+f*u,0,1-l);r=e.fitToBounds(a,l,1);var c;n.valueZoomable&&(c=this.relativeZoomValueAxes(this.valueAxes,t,r));var h;r=this.categoryAxis,this.rotate&&(i=s,o=u),t=!1,isNaN(o)&&(o=i,t=!0);if(n.zoomable&&(0<Math.abs(i)||0<Math.abs(o)))if(r.parseDates&&!r.equalSpacing){if(u=this.startTime0,s=this.endTime0,r=s-u,o*=r,f=this.firstTime,a=this.lastTime,l=r,t||(l=0),t=Math.round(e.fitToBounds(u-r*i,f,a-l)),o=Math.round(e.fitToBounds(s-o,f+l,a)),this.startTime!=t||this.endTime!=o)h={chart:this,target:n,type:"zoomed",start:t,end:o},this.skipZoomed=!0,n.fire(h),this.zoom(t,o),h=!0}else if(u=this.start0,s=this.end0,r=s-u,i=Math.round(r*i),o=Math.round(r*o),f=this.chartData.length-1,t||(r=0),t=e.fitToBounds(u-i,0,f-r),r=e.fitToBounds(s-o,r,f),this.start!=t||this.end!=r)this.skipZoomed=!0,n.fire({chart:this,target:n,type:"zoomed",start:t,end:r}),this.zoom(t,r),h=!0;!h&&c&&this.updateAfterValueZoom()},arrangeBalloons:function(e){var t=this.plotAreaHeight;e.sort(this.compareY);var n,r,i,s=this.plotAreaWidth,o=e.length;for(n=0;n<o;n++)r=e[n].balloon,r.setBounds(0,0,s,t),r.restorePrevious(),r.draw(),t=r.yPos-3;e.reverse();for(n=0;n<o;n++){r=e[n].balloon;var t=r.bottom,u=r.bottom-r.yPos;0<n&&t-u<i+3&&(r.setBounds(0,i+3,s,i+u+3),r.restorePrevious(),r.draw()),r.set&&r.set.show(),i=r.bottom}},compareY:function(e,t){return e.y<t.y?1:-1}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set(),this.container=e,this.h=Math.round(n),this.w=Math.round(t),this.dx=r,this.dy=i,this.colors=s,this.alpha=o,this.bwidth=u,this.bcolor=a,this.balpha=f,this.dashLength=p,this.topRadius=v,this.pattern=d,this.rotate=h,this.bcn=m,h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90),this.gradientRotation=l,0===r&&0===i&&(this.cornerRadius=c),this.draw()},draw:function(){var t=this.set;t.clear();var n=this.container,r=n.chart,i=this.w,s=this.h,o=this.dx,u=this.dy,a=this.colors,f=this.alpha,l=this.bwidth,c=this.bcolor,h=this.balpha,p=this.gradientRotation,d=this.cornerRadius,v=this.dashLength,m=this.pattern,g=this.topRadius,y=this.bcn,b=a,w=a;"object"==typeof a&&(b=a[0],w=a[a.length-1]);var E,S,x,T,N,C,k,L,A,O=f;m&&(f=0);var M,_,D,P,H=this.rotate;if(0<Math.abs(o)||0<Math.abs(u))if(isNaN(g))k=w,w=e.adjustLuminosity(b,-0.2),w=e.adjustLuminosity(b,-0.2),E=e.polygon(n,[0,o,i+o,i,0],[0,u,u,0,0],w,f,1,c,0,p),0<h&&(A=e.line(n,[0,o,i+o],[0,u,u],c,h,l,v)),S=e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],w,f,1,c,0,p),S.translate(o,u),0<h&&(x=e.line(n,[o,o],[u,u+s],c,h,l,v)),T=e.polygon(n,[0,0,o,o,0],[0,s,s+u,u,0],w,f,1,c,0,p),N=e.polygon(n,[i,i,i+o,i+o,i],[0,s,s+u,u,0],w,f,1,c,0,p),0<h&&(C=e.line(n,[i,i+o,i+o,i],[0,u,s+u,s],c,h,l,v)),w=e.adjustLuminosity(k,.2),k=e.polygon(n,[0,o,i+o,i,0],[s,s+u,s+u,s,s],w,f,1,c,0,p),0<h&&(L=e.line(n,[0,o,i+o],[s,s+u,s+u],c,h,l,v));else{var B,j,F;H?(B=s/2,w=o/2,F=s/2,j=i+o/2,_=Math.abs(s/2),M=Math.abs(o/2)):(w=i/2,B=u/2,j=i/2,F=s+u/2+1,M=Math.abs(i/2),_=Math.abs(u/2)),D=M*g,P=_*g,.1<M&&.1<M&&(E=e.circle(n,M,b,f,l,c,h,!1,_),E.translate(w,B)),.1<D&&.1<D&&(k=e.circle(n,D,e.adjustLuminosity(b,.5),f,l,c,h,!1,P),k.translate(j,F))}f=O,1>Math.abs(s)&&(s=0),1>Math.abs(i)&&(i=0),!isNaN(g)&&(0<Math.abs(o)||0<Math.abs(u))?(a=[b],a={fill:a,stroke:c,"stroke-width":l,"stroke-opacity":h,"fill-opacity":f},H?(f="M0,0 L"+i+","+(s/2-s/2*g),l=" B",0<i&&(l=" A"),e.VML?(f+=l+Math.round(i-D)+","+Math.round(s/2-P)+","+Math.round(i+D)+","+Math.round(s/2+P)+","+i+",0,"+i+","+s,f=f+(" L0,"+s)+(l+Math.round(-M)+","+Math.round(s/2-_)+","+Math.round(M)+","+Math.round(s/2+_)+",0,"+s+",0,0")):(f+="A"+D+","+P+",0,0,0,"+i+","+(s-s/2*(1-g))+"L0,"+s,f+="A"+M+","+_+",0,0,1,0,0"),M=90):(l=i/2-i/2*g,f="M0,0 L"+l+","+s,e.VML?(f="M0,0 L"+l+","+s,l=" B",0>s&&(l=" A"),f+=l+Math.round(i/2-D)+","+Math.round(s-P)+","+Math.round(i/2+D)+","+Math.round(s+P)+",0,"+s+","+i+","+s,f+=" L"+i+",0",f+=l+Math.round(i/2+M)+","+Math.round(_)+","+Math.round(i/2-M)+","+Math.round(-_)+","+i+",0,0,0"):(f+="A"+D+","+P+",0,0,0,"+(i-i/2*(1-g))+","+s+"L"+i+",0",f+="A"+M+","+_+",0,0,1,0,0"),M=180),n=n.path(f).attr(a),n.gradient("linearGradient",[b,e.adjustLuminosity(b,-0.3),e.adjustLuminosity(b,-0.3),b],M),H?n.translate(o/2,0):n.translate(0,u/2)):n=0===s?e.line(n,[0,i],[0,0],c,h,l,v):0===i?e.line(n,[0,0],[0,s],c,h,l,v):0<d?e.rect(n,i,s,a,f,l,c,h,d,p,v):e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],a,f,l,c,h,p,!1,v),i=isNaN(g)?0>s?[E,A,S,x,T,N,C,k,L,n]:[k,L,S,x,T,N,E,A,C,n]:H?0<i?[E,n,k]:[k,n,E]:0>s?[E,n,k]:[k,n,E],e.setCN(r,n,y+"front"),e.setCN(r,S,y+"back"),e.setCN(r,k,y+"top"),e.setCN(r,E,y+"bottom"),e.setCN(r,T,y+"left"),e.setCN(r,N,y+"right");for(E=0;E<i.length;E++)if(S=i[E])t.push(S),e.setCN(r,S,y+"element");m&&n.pattern(m,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=t*e.updateRate,r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},1e3/e.updateRate)},updateHeight:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n?(n=t.easing(0,t.frame,1,t.rh-1,n),t.height(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/e.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=t*e.updateRate,r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},1e3/e.updateRate)},updateWidth:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n?(n=t.easing(0,t.frame,1,t.rw-1,n),t.width(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/e.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="CategoryAxis",e.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,e.applyTheme(this,t,this.cname)},draw:function(){e.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;this.data=t,this.labelRotationR=this.labelRotation,this.type=null;if(e.ifArray(t)){var n,r=this.chart;"scrollbar"!=this.id?(e.setCN(r,this.set,"category-axis"),e.setCN(r,this.labelsSet,"category-axis"),e.setCN(r,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i=this.start,s=this.labelFrequency,o=0,u=this.end-i+1,a=this.gridCountR,f=this.showFirstLabel,l=this.showLastLabel,c,h,p="",p=e.extractPeriod(this.minPeriod),d=e.getPeriodDuration(p.period,p.count),v,m,g,y,b=this.rotate;c=this.firstDayOfWeek,h=this.boldPeriodBeginning,n=e.resetDateToMin(new Date(t[t.length-1].time+1.05*d),this.minPeriod,1,c).getTime(),this.firstTime=r.firstTime,this.endTime>n&&(this.endTime=n),y=this.minorGridEnabled,m=this.gridAlpha;var w,E=0,S=0;if(this.widthField)for(n=this.start;n<=this.end;n++)if(w=this.data[n]){var x=Number(this.data[n].dataContext[this.widthField]);isNaN(x)||(E+=x,w.widthValue=x)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*d),this.minPeriod,1,c).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(!this.parseDates){if(this.cellWidth=this.getStepWidth(u),u<a&&(a=u),o+=this.start,this.stepWidth=this.getStepWidth(u),0<a)for(a=Math.floor(u/a),u=this.chooseMinorFrequency(a),p=o,p/2==Math.round(p/2)&&p--,0>p&&(p=0),w=0,this.widthField&&(p=this.start),this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),n=p;n<=this.end+2;n++){h=!1,0<=n&&n<this.data.length?(v=this.data[n],p=v.category,h=v.forceShow):p="";if(y&&!isNaN(u)){if(n/u!=Math.round(n/u)&&!h)continue;n/a==Math.round(n/a)||h||(this.gridAlpha=this.minorGridAlpha,p=void 0)}else if(n/a!=Math.round(n/a)&&!h)continue;c=this.getCoordinate(n-o),g=0,"start"==this.gridPosition&&(c-=this.cellWidth/2,g=this.cellWidth/2),h=!0,t=g,"start"==this.tickPosition&&(t=0,h=!1,g=0);if(n==i&&!f||n==this.end&&!l)p=void 0;Math.round(w/s)!=w/s&&(p=void 0),w++,x=this.cellWidth,b&&(x=NaN,this.ignoreAxisWidth||!r.autoMargins)&&(x="right"==this.position?r.marginRight:r.marginLeft,x-=this.tickLength+10),this.labelFunction&&v&&(p=this.labelFunction(p,v,this)),p=e.fixBrakes(p),d=!1,this.boldLabels&&(d=!0),n>this.end&&"start"==this.tickPosition&&(p=" "),this.rotate&&this.inside&&(g-=2),isNaN(v.widthValue)||(v.percentWidthValue=v.widthValue/E*100,x=this.rotate?this.height*v.widthValue/E:this.width*v.widthValue/E,c=S,S+=x,g=x/2),g=new this.axisItemRenderer(this,c,p,h,x,g,void 0,d,t,!1,v.labelColor,v.className),g.serialDataItem=v,this.pushAxisItem(g),this.gridAlpha=m}}else if(this.parseDates&&this.equalSpacing){o=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),s=n.period,v=n.count,n=e.getPeriodDuration(s,v),n<d&&(s=p.period,v=p.count,n=d),m=s,"WW"==m&&(m="DD"),this.currentDateFormat=this.dateFormatsObject[m],this.stepWidth=this.getStepWidth(u),a=Math.ceil(this.timeDifference/n)+1,d=e.resetDateToMin(new Date(this.startTime-n),s,v,c).getTime(),this.cellWidth=this.getStepWidth(u),p=Math.round(d/n),i=-1,p/2==Math.round(p/2)&&(i=-2,d-=n),p=this.start,p/2==Math.round(p/2)&&p--,0>p&&(p=0),S=this.end+2,S>=this.data.length&&(S=this.data.length),w=!1,w=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),t=p;if(this.data[p].time!=e.resetDateToMin(new Date(this.data[p].time),s,v,c).getTime())for(c=0,x=d,n=p;n<S;n++)u=this.data[n].time,this.checkPeriodChange(s,v,u,x)&&(c++,2<=c&&(t=n,n=S),x=u);y&&1<v&&(u=this.chooseMinorFrequency(v),e.getPeriodDuration(s,u));if(0<this.gridCountR)for(n=p;n<S;n++)if(u=this.data[n].time,this.checkPeriodChange(s,v,u,d)&&n>=t){c=this.getCoordinate(n-this.start),y=!1,this.nextPeriod[m]&&(y=this.checkPeriodChange(this.nextPeriod[m],1,u,d,m)),d=!1,y&&this.markPeriodChange?(y=this.dateFormatsObject[this.nextPeriod[m]],d=!0):y=this.dateFormatsObject[m],p=e.formatDate(new Date(u),y,r);if(n==i&&!f||n==a&&!l)p=" ";w?w=!1:(h||(d=!1),c-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(p=this.labelFunction(p,new Date(u),this,s,v,g)),this.boldLabels&&(d=!0),g=new this.axisItemRenderer(this,c,p,void 0,void 0,void 0,void 0,d),y=g.graphics(),this.pushAxisItem(g),y=y.getBBox().width,e.isModern||(y-=c),this.previousPos=c+y)),g=d=u}}for(n=f=0;n<this.data.length;n++)if(w=this.data[n])this.parseDates&&!this.equalSpacing?(l=w.time,i=this.cellWidth,"MM"==this.minPeriod&&(i=864e5*e.daysInMonth(new Date(l))*this.stepWidth,w.cellWidth=i),l=Math.round((l-this.startTime)*this.stepWidth+i/2)):l=this.getCoordinate(n-o),w.x[this.id]=l;if(this.widthField)for(n=this.start;n<=this.end;n++)w=this.data[n],i=w.widthValue,w.percentWidthValue=i/E*100,this.rotate?(l=this.height*i/E/2+f,f=this.height*i/E+f):(l=this.width*i/E/2+f,f=this.width*i/E+f),w.x[this.id]=l;E=this.guides.length;for(n=0;n<E;n++)f=this.guides[n],h=a=a=y=i=NaN,l=f.above,f.toCategory&&(a=r.getCategoryIndexByValue(f.toCategory),isNaN(a)||(i=this.getCoordinate(a-o),f.expand&&(i+=this.cellWidth/2),g=new this.axisItemRenderer(this,i,"",!0,NaN,NaN,f),this.pushAxisItem(g,l))),f.category&&(h=r.getCategoryIndexByValue(f.category),isNaN(h)||(y=this.getCoordinate(h-o),f.expand&&(y-=this.cellWidth/2),a=(i-y)/2,g=new this.axisItemRenderer(this,y,f.label,!0,NaN,a,f),this.pushAxisItem(g,l))),h=r.dataDateFormat,f.toDate&&(!h||f.toDate instanceof Date||(f.toDate=f.toDate.toString()+" |"),f.toDate=e.getDate(f.toDate,h),this.equalSpacing?(a=r.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(a)||(i=this.getCoordinate(a-o))):i=(f.toDate.getTime()-this.startTime)*this.stepWidth,g=new this.axisItemRenderer(this,i,"",!0,NaN,NaN,f),this.pushAxisItem(g,l)),f.date&&(!h||f.date instanceof Date||(f.date=f.date.toString()+" |"),f.date=e.getDate(f.date,h),this.equalSpacing?(h=r.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(h)||(y=this.getCoordinate(h-o))):y=(f.date.getTime()-this.startTime)*this.stepWidth,a=(i-y)/2,h=!0,f.toDate&&(h=!1),g="H"==this.orientation?new this.axisItemRenderer(this,y,f.label,h,2*a,NaN,f):new this.axisItemRenderer(this,y,f.label,!1,NaN,a,f),this.pushAxisItem(g,l)),(0<i||0<y)&&(i<this.width||y<this.width)&&(i=new this.guideFillRenderer(this,y,i,f),y=i.graphics(),this.pushAxisItem(i,l),f.graphics=y,y.index=n,f.balloonText&&this.addEventListeners(y,f));if(r=r.chartCursor)b?r.fixHeight(this.cellWidth):(r.fixWidth(this.cellWidth),r.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth));this.previousHeight=T}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(b=this.axisLine.set)&&b.toFront();var T=this.getBBox().height;2<T-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var n=this.data,r=this.chart,i=r.rotate,s=this.stepWidth,o;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/s)-this.minDuration()/2,o=r.getClosestIndex(n,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(r=Infinity,s=this.start;s<=this.end;s++){var u=this.data[s];u&&(u=Math.abs(u.x[this.id]-t),u<r&&(r=u,o=s))}else this.startOnAxis||(t-=s/2),o=this.start+Math.round(t/s);o=e.fitToBounds(o,0,n.length-1);var a;return n[o]&&(a=n[o].x[this.id]),i?a>this.height+1&&o--:a>this.width+1&&o--,0>a&&o++,o=e.fitToBounds(o,0,n.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){if(!this.chart)return NaN;var t=this.chart.getCategoryIndexByValue(e);if(!isNaN(t))return this.getCoordinate(t-this.start);if(this.parseDates)return this.dateToCoordinate(new Date(e))},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},coordinateToValue:function(e){e=this.xToIndex(e);if(e=this.data[e])return this.parseDates?e.time:e.category},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)},formatValue:function(t,n){return n||(n=this.currentDateFormat),this.parseDates&&(t=e.formatDate(new Date(t),n,this.chart)),t},showBalloonAt:function(e){return e=this.parseDates?this.dateToCoordinate(new Date(e)):this.categoryToCoordinate(e),this.adjustBalloonCoordinate(e)},formatBalloonText:function(t,n,r){var i="",s="",o=this.chart,u=this.data[n];if(u)if(this.parseDates)i=e.formatDate(u.category,r,o),n=e.changeDate(new Date(u.category),this.minPeriod,1),s=e.formatDate(n,r,o),-1!=i.indexOf("fff")&&(i=e.formatMilliseconds(i,u.category),s=e.formatMilliseconds(s,n));else{var a;this.data[n+1]&&(a=this.data[n+1]),i=e.fixNewLines(u.category),a&&(s=e.fixNewLines(a.category))}return t=t.replace(/\[\[category\]\]/g,String(i)),t=t.replace(/\[\[toCategory\]\]/g,String(s))},adjustBalloonCoordinate:function(e,t){var n=this.xToIndex(e),r=this.chart.chartCursor;if(this.stickBalloonToCategory){var i=this.data[n];i&&(e=i.x[this.id]),this.stickBalloonToStart&&(e-=this.cellWidth/2);var s=0;if(r){var o=r.limitToGraph;o&&(s=i.axes[o.valueAxis.id].graphs[o.id].y),this.rotate?("left"==this.position?(o&&(s-=r.width),0<s&&(s=0)):0>s&&(s=0),r.fixHLine(e,s)):("top"==this.position?(o&&(s-=r.height),0<s&&(s=0)):0>s&&(s=0),r.fixVLine(e,s))}}return r&&!t&&(r.setIndex(n),this.parseDates&&r.setTimestamp(this.coordinateToDate(e).getTime())),e}})}(),define("amcharts.serial",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Axis",["../common/PropertyExt","../common/Class"],t):e.amchart_Axis=t(e.common_PropertyExt,e.common_Class)}(this,function(e,t){function n(){t.call(this),e.call(this)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.mixin(e),n.prototype.constructor=n,n.prototype._class+=" amchart_Axis",n.prototype.publish("type",null,"set","X/Y Axis Text Font Size",["x","y"],{tags:["Basic","Shared"]}),n.prototype.id=function(e){return arguments.length?(this._id=e,this):this._id},n.prototype.render=function(e){this._owningWidget.render(e)},n}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/SerialAxis",["./Axis","d3"],t):e.amchart_SerialAxis=t(e.amchart_Axis,e.d3)}(this,function(e,t){function n(){e.call(this),this._parser=t.time.format("%Y-%m-%d").parse}n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype._class+=" amchart_SerialAxis",n.prototype.publish("axisFontSize",null,"number","X/Y Axis Text Font Size",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisBaselineColor","#000000","html-color","X Axis Baseline Color",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisFontColor","#000000","html-color","Horizontal Axis Text Style (Color)",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisTitle","","string","X-Axis Title",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisTitleFontSize",null,"number","Vertical Axis Title Text Style (Font Size)",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisTitleFontColor","#000000","html-color","Axis Title Text Style (Color)",null,{tags:["Basic","Shared"]}),n.prototype.publish("axisLabelRotation",null,"number","Axis Label Rotation",null,{min:0,max:90,step:.1,inputType:"range",tags:["Intermediate","Shared"]}),n.prototype.publish("axisLineWidth",1,"number","Axis Line Width",null,{tags:["Intermediate","Shared"]}),n.prototype.publish("axisAlpha",1,"number","Axis Alpha",null,{tags:["Intermediate"]}),n.prototype.publish("axisAutoGridCount",!0,"boolean","Specifies Whether Number of GridCount Is Specified Automatically, According To The Axis Size",null,{tags:["Advanced"]}),n.prototype.publish("axisGridPosition","start","set","Specifies If A Grid Line Is Placed On The Center of A Cell or On The Beginning of A Cell",["start","middle"],{tags:["Advanced"]}),n.prototype.publish("axisBoldPeriodBeginning",!0,"boolean","When parse dates is on for the category axis, the chart will try to highlight the beginning of the periods, like month, in bold.",null,{tags:["Intermediate"]}),n.prototype.publish("axisDashLength",0,"number","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),n.prototype.publish("axisFillAlpha",0,"number","Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),n.prototype.publish("axisFillColor",null,"html-color","Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),n.prototype.publish("axisGridAlpha",0,"number","Grid alpha.",null,{tags:["Intermediate"]}),n.prototype.publish("startOnAxis",!0,"boolean","Draw Chart Starting On Axis.",null,{tags:["Intermediate"]}),n.prototype.publish("axisTypeTimePattern","%Y-%m-%d","string","Time Series Pattern"),n.prototype.publish("axisType","ordinal","set","X-Axis Type",["ordinal","linear","time","pow","log","none"]),n.prototype.publish("axisTickFormat","","string","Y-Axis Tick Format"),n.prototype.publish("position",null,"set","Position of Axis",["top","bottom","left","right"]);var r=n.prototype.axisTypeTimePattern;return n.prototype.axisTypeTimePattern=function(e){var n=r.apply(this,arguments);return arguments.length&&(this._parser=t.time.format(e).parse),n},n}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonSerial",["d3","../common/HTMLWidget","amcharts.serial","require","../common/Utility","./SerialAxis"],t):e.amchart_CommonSerial=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.require,e.common_Utility,e.amchart_SerialAxis)}(this,function(e,t,n,r,i,s){function o(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1,this._dateParserData=e.time.format("%Y-%m-%d").parse,this._dateParserValue=e.time.format("%Y-%m-%d").parse,this._colorObj={},this._selectionObj={},this._xAxis=new s,this._xAxis.owningWidget=this,this._yAxis=new s,this._yAxis.owningWidget=this}return o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.prototype._class+=" amchart_CommonSerial",o.prototype.publish("backwardsCompatible",!0,"boolean","Allow use of old publish parameters"),o.prototype.publish("xAxes",[],"propertyArray","xAxis",null,{max:1,tags:["Basic"]}),o.prototype.publish("yAxes",[],"propertyArray","yAxis",null,{tags:["Basic"]}),o.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),o.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),o.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),o.prototype.publish("lineWidth",1,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),o.prototype.publish("lineColor",null,"html-color","Color of the data/content lines",null,{tags:["Basic","Shared"]}),o.prototype.publish("lineOpacity",1,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),o.prototype.publish("dashedLineStyle",0,"number","Length of Dashed Line. 0 = none",null,{tags:["Advanced","Shared"]}),o.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),o.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),o.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),o.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),o.prototype.publish("showScrollbar",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("orientation","horizontal","set","Orientation",["horizontal","vertical"],{tags:["Intermediate"]}),o.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),o.prototype.publish("useImgPatterns",!1,"boolean","Enable Image Pattern backgrounds",null,{tags:["Private"]}),o.prototype.publish("imgPatternArr",'["../ampatterns/black/pattern2.png"]',"string","Background Pattern Images (Not used if '[]')",null,{inputType:"textarea",tags:["Private"]}),o.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("sortDates",!1,"boolean","Sort date field for timeseries data"),o.prototype.publish("axisMinPeriod","MM","string","Minimum period when parsing dates"),o.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),o.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),o.prototype.publish("showCursor",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("showFirstLabel",!0,"boolean","Show first label",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("showLastLabel",!0,"boolean","Show last label",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("equalSpacing",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("paletteGrouping","By Column","set","Palette Grouping",["By Category","By Column"],{tags:["Basic"]}),o.prototype.publish("y2",[],"array","Columns to associate with second Y-Axis"),o.prototype.publish("axisLineWidth",1,"number","Axis Line Width",null,{tags:["Intermediate","Shared"]}),o.prototype.publish("axisAlpha",1,"number","Axis Alpha",null,{tags:["Intermediate"]}),o.prototype.publish("startOnAxis",!0,"boolean","Draw Chart Starting On Axis.",null,{tags:["Intermediate"]}),o.prototype.publish("axisFontSize",null,"number","X/Y Axis Text Font Size",null,{tags:["Basic","Shared"]}),o.prototype.publishProxy("xAxisBaselineColor","_xAxis","axisBaselineColor"),o.prototype.publishProxy("yAxisBaselineColor","_yAxis","axisBaselineColor"),o.prototype.publishProxy("xAxisFontColor","_xAxis","axisFontColor"),o.prototype.publishProxy("yAxisFontColor","_yAxis","axisFontColor"),o.prototype.publishProxy("xAxisTitle","_xAxis","axisTitle"),o.prototype.publishProxy("yAxisTitle","_yAxis","axisTitle"),o.prototype.publishProxy("xAxisTitleFontSize","_xAxis","axisTitleFontSize"),o.prototype.publishProxy("yAxisTitleFontSize","_yAxis","axisTitleFontSize"),o.prototype.publishProxy("xAxisTitleFontColor","_xAxis","axisTitleFontColor"),o.prototype.publishProxy("yAxisTitleFontColor","_yAxis","axisTitleFontColor"),o.prototype.publishProxy("xAxisLabelRotation","_xAxis","axisLabelRotation"),o.prototype.publishProxy("yAxisLabelRotation","_yAxis","axisLabelRotation"),o.prototype.publishProxy("xAxisAutoGridCount","_xAxis","axisAutoGridCount"),o.prototype.publishProxy("yAxisAutoGridCount","_yAxis","axisAutoGridCount"),o.prototype.publishProxy("xAxisGridPosition","_xAxis","axisGridPosition"),o.prototype.publishProxy("xAxisBoldPeriodBeginning","_xAxis","axisBoldPeriodBeginning"),o.prototype.publishProxy("yAxisBoldPeriodBeginning","_yAxis","axisBoldPeriodBeginning"),o.prototype.publishProxy("xAxisDashLength","_xAxis","axisDashLength"),o.prototype.publishProxy("yAxisDashLength","_yAxis","axisDashLength"),o.prototype.publishProxy("xAxisFillAlpha","_xAxis","axisFillAlpha"),o.prototype.publishProxy("yAxisFillAlpha","_yAxis","axisFillAlpha"),o.prototype.publishProxy("xAxisFillColor","_xAxis","axisFillColor"),o.prototype.publishProxy("yAxisFillColor","_yAxis","axisFillColor"),o.prototype.publishProxy("xAxisGridAlpha","_xAxis","axisGridAlpha"),o.prototype.publishProxy("yAxisGridAlpha","_yAxis","axisGridAlpha"),o.prototype.publishProxy("xAxisTypeTimePattern","_xAxis","axisTypeTimePattern"),o.prototype.publishProxy("yAxisTypeTimePattern","_yAxis","axisTypeTimePattern"),o.prototype.publishProxy("xAxisType","_xAxis","axisType"),o.prototype.publishProxy("yAxisType","_yAxis","axisType"),o.prototype.publishProxy("xAxisTickFormat","_xAxis","axisTickFormat"),o.prototype.publishProxy("yAxisTickFormat","_yAxis","axisTickFormat"),o.prototype._origBackwardsCompatible=o.prototype.backwardsCompatible,o.prototype.backwardsCompatible=function(e){var t=o.prototype._origBackwardsCompatible.apply(this,arguments);return arguments.length&&this.switchProperties(e),t},o.prototype.switchProperties=function(e){e===!0?o.prototype.excludeObjs=["amchart_SerialAxis"]:o.prototype.excludeObjs=[]},o.prototype.xAxis=function(e){if(!this.xAxes()[e]){var t=new s;t._owningWidget=this,this.xAxes()[e]=t}return this.xAxes()[e]},o.prototype.yAxis=function(e){if(!this.yAxes()[e]){var t=new s;t._owningWidget=this,this.yAxes()[e]=t}return this.yAxes()[e]},o.prototype.formatData=function(e){switch(this.xAxes()[0].axisType()){case"time":return this.xAxes()[0]._parser(typeof e=="number"?e.toString():e);default:return e}},o.prototype.formatValue=function(e){if(!e)return e;if(e instanceof Array)return e.map(function(e){return this.formatValue(e)},this);switch(this.yAxes()[0].axisType()){case"time":return this.yAxes()[0]._parser(typeof e=="number"?e.toString():e);default:if(typeof e=="string")return+e;return e}},o.prototype.amFormatData=function(e){this._rangeType=null;var t=[],n=this;e.forEach(function(e){var r={};e.forEach(function(e,t){var i=n.columns()[t];if(e instanceof Array){var s=t-1;e.length===2?(r["openField"+s]=n.formatValue(e[0]),r["valueField"+s]=n.formatValue(e[1]),n._rangeType="normal"):(r["lowField"+s]=n.formatValue(e[0]),r["openField"+s]=n.formatValue(e[1]),r["closeField"+s]=n.formatValue(e[2]),r["highField"+s]=n.formatValue(e[3]),n._rangeType="candle-ohlc")}else t===0?r[i]=n.formatData(e):t>=n.columns().length?r[i]=e:r[i]=n.formatValue(e)}),t.push(r)});if(this.sortDates()){var r=n.columns()[0];t.sort(function(e,t){return e[r]-t[r]})}return t},o.prototype.updateChartOptions=function(){var t=this;this._chart.type="serial",this._chart.startDuration=this.startDuration(),this._chart.rotate=this.orientation()==="vertical",this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.categoryAxis={};var r=this.xAxes()[0];this._chart.categoryAxis.position=r.position()?r.position():"bottom",this._chart.categoryAxis.autoGridCount=r.axisAutoGridCount(),this._chart.categoryAxis.gridPosition=r.axisGridPosition(),this._chart.categoryAxis.axisAlpha=r.axisAlpha(),this._chart.categoryAxis.gridAlpha=r.axisGridAlpha(),this._chart.categoryAxis.startOnAxis=r.startOnAxis(),this._chart.categoryAxis.labelRotation=r.axisLabelRotation(),this._chart.categoryAxis.title=r.axisTitle(),this._chart.categoryAxis.axisColor=r.axisBaselineColor(),this._chart.categoryAxis.axisThickness=r.axisLineWidth(),this._chart.categoryAxis.boldPeriodBeginning=r.axisBoldPeriodBeginning(),this._chart.categoryAxis.dashLength=r.axisDashLength(),this._chart.categoryAxis.fillAlpha=r.axisFillAlpha(),this._chart.categoryAxis.fillColor=r.axisFillColor(),this._chart.categoryAxis.fontSize=r.axisFontSize(),this._chart.categoryAxis.color=r.axisFontColor(),this._chart.categoryAxis.titleColor=r.axisTitleFontColor(),this._chart.categoryAxis.titleFontSize=r.axisTitleFontSize(),this._chart.categoryAxis.showFirstLabel=this.showFirstLabel(),this._chart.categoryAxis.showLastLabel=this.showLastLabel(),this._chart.categoryAxis.equalSpacing=this.equalSpacing();switch(r.axisType()){case"time":this._chart.categoryAxis.parseDates=!0,this._chart.categoryAxis.minPeriod=this.axisMinPeriod()?this.axisMinPeriod():undefined,this._chart.categoryAxis.logarithmic=!1,r.axisTickFormat()?this.dataFormatter=e.time.format(r.axisTickFormat()):r.axisTypeTimePattern()?this.dataFormatter=e.time.format(r.axisTypeTimePattern()):this.dataFormatter=function(e){return e};break;case"log":this._chart.categoryAxis.parseDates=!1,this._chart.categoryAxis.logarithmic=!0,this.dataFormatter=r.axisTickFormat()?e.format(r.axisTickFormat()):function(e){return e};break;case"linear":default:this._chart.categoryAxis.parseDates=!1,this._chart.categoryAxis.logarithmic=!1,this.dataFormatter=r.axisTickFormat()?e.format(r.axisTickFormat()):function(e){return e}}this._chart.categoryAxis.labelFunction=function(e,n,i){switch(r.axisType()){case"time":return t.dataFormatter(r.axisTickFormat()||r.axisTypeTimePattern()?new Date(n):n);default:return t.dataFormatter(e)}};for(var i=0;i<this.yAxes().length;i++){var s=this.yAxes()[i];this._chart.valueAxes[i]||this._chart.valueAxes.push(new n.ValueAxis),this._chart.valueAxes[i].id="v"+i,this._chart.valueAxes[i].position=s.position()?s.position():"left",this._chart.valueAxes[i].title=s.axisTitle(),this._chart.valueAxes[i].titleColor=s.axisTitleFontColor(),this._chart.valueAxes[i].titleFontSize=s.axisTitleFontSize(),this._chart.valueAxes[i].axisThickness=s.axisLineWidth(),this._chart.valueAxes[i].color=s.axisFontColor(),this._chart.valueAxes[i].fontSize=s.axisFontSize(),this._chart.valueAxes[i].axisColor=s.axisBaselineColor(),this._chart.valueAxes[i].axisAlpha=s.axisAlpha(),this._chart.valueAxes[i].fillColor=s.axisFillColor(),this._chart.valueAxes[i].fillAlpha=s.axisFillAlpha(),this._chart.valueAxes[i].gridAlpha=s.axisGridAlpha(),this._chart.valueAxes[i].dashLength=s.axisDashLength(),this._chart.valueAxes[i].boldPeriodBeginning=s.axisBoldPeriodBeginning(),this._chart.valueAxes[i].autoGridCount=s.axisAutoGridCount();switch(s.axisType()){case"time":this._chart.valueAxes[i].type="date",this._chart.valueAxes[i].parseDates=!0,this._chart.valueAxes[i].minPeriod=this.axisMinPeriod()?this.axisMinPeriod():undefined,this._chart.valueAxes[i].logarithmic=!1,s.axisTickFormat()?this.valueFormatter=e.time.format(s.axisTickFormat()):s.axisTypeTimePattern()?this.valueFormatter=e.time.format(s.axisTypeTimePattern()):this.valueFormatter=function(e){return e};break;case"log":this._chart.valueAxes[i].parseDates=!1,this._chart.valueAxes[i].logarithmic=!0,this._chart.valueAxes[i].type="numeric",this.valueFormatter=s.axisTickFormat()?e.format(s.axisTickFormat()):function(e){return e};break;case"linear":default:this._chart.valueAxes[i].parseDates=!1,this._chart.valueAxes[i].type="numeric",this._chart.valueAxes[i].logarithmic=!1,this.valueFormatter=s.axisTickFormat()?e.format(s.axisTickFormat()):function(e){return e}}this._chart.valueAxes[i].labelFunction=function(e,n,r){switch(s.axisType()){case"time":return t.valueFormatter(s.axisTickFormat()||s.axisTypeTimePattern()?new Date(n):n);default:return t.valueFormatter(e)}}}this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this.showCursor()?(this._chart.chartCursor.enabled=!0,this._chart.chartCursor.valueLineEnabled=!0,this._chart.chartCursor.valueLineBalloonEnabled=!0,this._chart.chartCursor.categoryBalloonEnabled=!0):(this._chart.chartCursor.enabled=!1,this._chart.chartCursor.valueLineEnabled=!1,this._chart.chartCursor.valueLineBalloonEnabled=!1,this._chart.chartCursor.categoryBalloonEnabled=!1),this._currXAxisTypes=this.xAxes().map(function(e){return e.axisType()}).toString(),this._currYAxisTypes=this.yAxes().map(function(e){return e.axisType()}).toString(),this._currXAxisTypeTimePatterns=this.xAxes().map(function(e){return e.axisTypeTimePattern()}).toString(),this._currYAxisTypeTimePatterns=this.yAxes().map(function(e){return e.axisTypeTimePattern()}).toString();if(this._dataUpdated>this._prevDataUpdated||this._prevYAxisType!==this._currYAxisTypes||this._prevXAxisType!==this._currXAxisTypes||this._prevXAxisTypeTimePattern!==this._currXAxisTypeTimePatterns||this._prevYAxisTypeTimePattern!==this._currYAxisTypeTimePatterns||this.paletteGrouping&&this._prevPaletteGrouping!==this.paletteGrouping()||this._columnsUpdated>this._prevColumnsUpdated)this._chart.dataProvider=this.amFormatData(this.data());this._chart.dataProvider=this.amFormatData(this.data()),this._prevDataUpdated=this._dataUpdated,this._prevColumnsUpdated=this._columnsUpdated,this._prevXAxisTypes=this._currXAxisTypes,this._prevYAxisTypes=this._currYAxisTypes,this._prevXAxisTypeTimePatterns=this._currXAxisTypeTimePatterns,this._prevYAxisTypeTimePatterns=this._currXAxisTypeTimePatterns,this.paletteGrouping&&(this._prevPaletteGrouping=this.paletteGrouping()),this.amFormatColumns();var o,u;return this._chart.colors=[],t._class.indexOf("amchart_Area")!==-1&&(u="Area"),this._chart.dataProvider.forEach(function(e,n){t.columns().filter(function(e,t){return t>0}).forEach(function(e,r){t.paletteGrouping()==="By Category"?o=t._palette(n):o=t._palette(e),t._chart.colors.push(o),t._chart.dataProvider[n]["color"+r]=o,u!=="Area"&&(t._chart.dataProvider[n]["linecolor"+r]=t.lineColor()?t.lineColor():o),t._colorObj[n]===undefined&&(t._colorObj[n]={}),t._colorObj[n][r]={color:o,lineColor:t.lineColor()?t.lineColor():o}})}),this._chart},o.prototype.buildGraphObj=function(e,t){var n=this,r={};r.id="g"+t,this.y2().indexOf(t)!==-1?r.valueAxis="v1":r.valueAxis="v0",r.balloonFunction=function(e){return e.graph.type==="line"?e.category+", "+n.columns()[e.graph.index+1]+": "+n.data()[e.index][e.graph.index+1]:e.category+", "+n.columns()[e.graph.columnIndex+1]+": "+n.data()[e.index][e.graph.columnIndex+1]},r.lineAlpha=n.lineOpacity(),r.lineColor=n.lineColor(),r.lineThickness=n.lineWidth(),r.dashLength=n.dashedLineStyle(),r.type=e,r.title="";var i=["value","open","close","high","low"];i.forEach(function(e){typeof n["_"+e+"Field"]!="undefined"&&typeof n["_"+e+"Field"][t]!="undefined"&&(r[e+"Field"]=n["_"+e+"Field"][t])});try{if(n.useImgPatterns()){var s=JSON.parse(n.imgPatternArr());typeof s[t]!="undefined"&&(r.pattern=s[t])}else r.pattern=""}catch(o){console.log("e:"),console.log(o)}return r.colorField="color"+t,r.lineColorField="linecolor"+t,r.fillColorsField="fillcolor"+t,r},o.prototype.amFormatColumns=function(e){return this._categoryField=this.columns()[0],this._chart.categoryField=this.columns()[0],this._openField=[],this._closeField=[],this._valueField=this.columns().slice(1),this},o.prototype.enter=function(e,i){t.prototype.enter.apply(this,arguments),this.xAxes().length===0&&this.xAxes().push(this._xAxis),this.yAxes().length===0&&this.yAxes().push(this._yAxis);if(this.y2().length&&this.yAxes().length===1){var o=new s;o.owningWidget=this,this.yAxes().push(o)}var u=this,a={type:"serial",addClassNames:!0,chartScrollbar:{},chartCursor:{enabled:!1,valueLineEnabled:!1,valueLineBalloonEnabled:!1,categoryBalloonEnabled:!1,cursorAlpha:0,valueLineAlpha:.2,oneBalloonOnly:!0,balloonPointerOrientation:"vertical",valueBalloonsEnabled:!1}};typeof define=="function"&&define.amd&&(a.pathToImages=r.toUrl("amchartsImg")),this._chart=n.makeChart(e,a),this._chart.addListener("clickGraphItem",function(e){var t=e.graph,n=e.item.dataContext,r,i;u._gType==="column"?(r=t.fillColorsField,i=t.lineColorField):u._gType==="line"?r=t.colorField:u._gType==="area"&&(r=t.colorField),r&&(n[r]!==null&&n[r]!==undefined?(delete n[r],n[i]=u._colorObj[e.index][e.target.columnIndex].lineColor,u.selectionMode()==="simple"&&(u._selected!==null&&(delete u._selected.data[u._selected.field],u._selected.data[u._selected.field2]=u._colorObj[u._selected.dIdx][u._selected.cIdx].lineColor),u._selected=null)):(n[r]=u.selectionColor(),n[i]=u.selectionColor(),u.selectionMode()==="simple"&&(u._selected!==null&&(delete u._selected.data[u._selected.field],u._selected.data[u._selected.field2]=u._colorObj[u._selected.dIdx][u._selected.cIdx].lineColor),u._selected={field:r,field2:i,data:n,dIdx:e.index,cIdx:e.target.columnIndex},u._selections.push(u._selected))),e.chart.validateData()),u.click(u.rowToObj(u.data()[e.index]),u.columns()[e.target.columnIndex+1],u._selected!==null)})},o.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=this;this.yAxes().forEach(function(e,t){t===0&&(r._yAxis=e),e._owningWidget=r}),this.xAxes().forEach(function(e,t){t===0&&(r._xAxis=e),e._owningWidget=r}),this.backwardsCompatible()?this.switchProperties(!0):this.switchProperties(!1),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},o.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},o.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},o.prototype.columns=function(e){return arguments.length&&this._columnsUpdated++,t.prototype.columns.apply(this,arguments)},o}),define("css!src/amchart/Area",[],function(){}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Area",["d3","./CommonSerial","amcharts.serial","../api/INDChart","css!./Area"],t):e.amchart_Area=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="line"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Area",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("stacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.publish("bulletSize",6,"number","Bullet Size",null,{tags:["Intermediate"]}),i.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Basic"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.stacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none",this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function s(e,t){return e.fillAlphas=this.fillOpacity(),e.bullet=this.bulletType(),e.bulletSize=this.bulletSize(),e}this._chart.graphs=[];for(var n=0;n<this.columns().length-1;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,n);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Column",["d3","./CommonSerial","amcharts.serial","../api/INDChart"],t):e.amchart_Column=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column",this.orientation("horizontal")}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Column",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("stacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("cylinderBars",!1,"boolean","Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("circleRadius",1,"number","Circle Radius of Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("columnWidth",.62,"number","Column Width",null,{tags:["Basic"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%","3d"],{tags:["Basic"]}),i.prototype.publish("useOhlcLines",!1,"boolean","Use OHLC Lines",null,{tags:["Intermediate"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this._rangeType==="candle-ohlc"?this._gType=this.useOhlcLines()?"ohlc":"candlestick":this._gType="column",this.buildGraphs(this._gType),this.stacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none",this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.categoryAxis.startOnAxis=!1,this._chart},i.prototype.buildGraphs=function(e){function s(e,t){return this.columnWidth()&&(e.columnWidth=this.columnWidth()),this.cylinderBars()?e.topRadius=this.circleRadius():e.topRadius=undefined,this._rangeType==="normal"&&(e.openField="openField"+t,e.valueField="valueField"+t),this._rangeType==="candle-ohlc"&&(e.lowField="lowField"+t,e.openField="openField"+t,e.closeField="closeField"+t,e.highField="highField"+t),e.fillAlphas=this.fillOpacity(),e}this._chart.graphs=[];for(var n=0;n<this.columns().length-1;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,n);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Bar",["d3","./Column","amcharts.serial","../api/INDChart"],t):e.amchart_Bar=t(e.d3,e.amchart_Column,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column",this.orientation("vertical")}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Bar",i}),define("css!src/amchart/Combo",[],function(){}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Combo",["d3","./CommonSerial","amcharts.serial","../api/INDChart","css!./Combo"],t):e.amchart_Combo=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Combo",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("stacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.2,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.publish("bulletSize",6,"number","Bullet Size",null,{tags:["Intermediate"]}),i.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Basic"]}),i.prototype.publish("defaultType","column","set","Default chart type",["column","line","spline","area","area-spline","step","area-step","scatter"],{tags:["Basic"]}),i.prototype.publish("types",[],"array","Array of chart types (ex:bar|line|spline|area|area-spline|step|area-step|scatter)",null,{tags:["Basic"]}),i.prototype.publish("charts",[],"widgetArray","widgets",null,{tags:["Basic"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.stacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none",this.buildGraphs(this._gType),this._chart.categoryAxis.startOnAxis=!1,this._chart},i.prototype.buildGraphs=function(){function s(e,t){return n!=="line"&&(e.fillAlphas=this.fillOpacity()),n!=="column"&&(e.bullet=this.bulletType(),e.bulletSize=this.bulletSize()),e.valueField=this.columns()[t+1],e.type=e.type==="area"?"line":e.type,e}this._chart.graphs=[];for(var e=0;e<this.columns().length-1;e++){var n=this.types()[e]||this.defaultType(),r=t.prototype.buildGraphObj.call(this,n,e),i=s.call(this,r,e);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(){var e=window.AmCharts;e.AmSlicedChart=e.Class({inherits:e.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),e.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,e.applyTheme(this,t,"AmSlicedChart")},initChart:function(){e.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(e){var t=e.type,n=e.dataItem,r=this.legend;if(!r.data&&n){var i=n.hidden;e=e.event;switch(t){case"clickMarker":i||r.switchable||this.clickSlice(n,e);break;case"clickLabel":i||this.clickSlice(n,e,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,e);break;case"rollOutItem":i||this.rollOutSlice(n,e);break;case"hideItem":this.hideSlice(n,e);break;case"showItem":this.showSlice(n,e)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var n=this;e.mouseover(function(e){n.rollOverSlice(t,!0,e)}).mouseout(function(e){n.rollOutSlice(t,e)}).touchend(function(e){n.rollOverSlice(t,e)}).touchstart(function(e){}).mouseup(function(e){n.clickSlice(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},formatString:function(t,n,r){t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=e.formatValue(t,n,["percents"],this.pf),t=e.massReplace(t,{"[[title]]":n.title,"[[description]]":n.description}),this.pf.precision=i,-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=r?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e),t.timeOuts.push(e)},pullSlices:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];r.pulled&&this.pullSlice(r,1,e)}},startSequenced:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,n=this.startDuration,r=e.labelSet;t&&0<n&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},n,this.startEffect)),r&&0<n&&(0<e.alpha&&r.show(),r.translate(e.startX,e.startY),r.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show(),(n=n.tick)&&n.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1,this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt);if(!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var i=t.balloonX,s=t.balloonY;t.pulled&&(i+=t.pullX,s+=t.pullY);var o=this.formatString(this.balloonText,t,!0),u=this.balloonFunction;u&&(o=u(t,o)),u=e.adjustLuminosity(t.color,-0.15),o?this.showBalloon(o,u,n,i,s):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:r})}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]),e.wedge&&e.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:e,chart:this,event:t})},clickSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),e.getURL(t.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:t,chart:this,event:n})},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]),this.fire({type:"rightClickSlice",dataItem:e,chart:this,event:t})},drawTicks:function(){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];if(r.label&&!r.skipTick){var i=r.ty,i=e.line(this.container,[r.tx0,r.tx,r.tx2],[r.ty0,i,i],this.labelTickColor,this.labelTickAlpha);e.setCN(this,i,this.type+"-tick"),e.setCN(this,i,r.className,!0),r.tick=i,r.wedge.push(i)}}},initialStart:function(){var e=this,t=e.startDuration,n=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(n),e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,n){var r=this.pullOutDuration;!0===n&&(r=0);if(n=e.wedge)0<r?(n.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(t*e.pullX,t*e.pullY),n.translate(t*e.pullX,t*e.pullY));1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this}),this.fire(e)},pullInAll:function(e){var t=this.chartData,n;for(n=0;n<this.chartData.length;n++)n!=e&&t[n].pulled&&this.pullSlice(t[n],0)},pullOutAll:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var n=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==n){var r=n.length,i=0,s,o,u;for(s=0;s<r;s++){o={};var a=n[s];o.dataContext=a,null!==a[this.valueField]&&(o.value=Number(a[this.valueField])),(u=a[this.titleField])||(u=""),o.title=u,o.pulled=e.toBoolean(a[this.pulledField],!1),(u=a[this.descriptionField])||(u=""),o.description=u,o.labelRadius=Number(a[this.labelRadiusField]),o.switchable=!0,o.className=a[this.classNameField],o.url=a[this.urlField],u=a[this.patternField],!u&&this.patterns&&(u=this.patterns[s]),o.pattern=u,o.visibleInLegend=e.toBoolean(a[this.visibleInLegendField],!0),u=a[this.alphaField],o.alpha=void 0!==u?Number(u):this.alpha,u=a[this.colorField],void 0!==u&&(o.color=u),o.labelColor=e.toColor(a[this.labelColorField]),i+=o.value,o.hidden=!1,t[s]=o}for(s=n=0;s<r;s++)o=t[s],o.percents=o.value/i*100,o.percents<this.groupPercent&&n++;1<n&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/i*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),r=this.baseColor,r||(r=this.pieBaseColor),i=this.brightnessStep,i||(i=this.pieBrightnessStep);for(s=0;s<t.length;s++)r?u=e.adjustLuminosity(r,s*i/100):(u=this.colors[s],void 0===u&&(u=e.randomColor())),void 0===t[s].color&&(t[s].color=u);this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,t=0,n,r;for(n=0;n<e.length;n++)r=e[n],!r.hidden&&0<r.value&&(t+=r.value);for(n=0;n<e.length;n++)r=this.chartData[n],r.percents=!r.hidden&&0<r.value?100*r.value/t:0},removeSmallSlices:function(){var e=this.chartData,t;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var n=e.chartData[t];n.started=!1;var r=n.wedge;r&&(r.setAttr("opacity",e.startAlpha),r.translate(n.startX,n.startY));if(r=n.labelSet)r.setAttr("opacity",e.startAlpha),r.translate(n.startX,n.startY)}t=e.startDuration,0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var t=this.chartData,n=0,r;for(r=0;r<t.length;r++){var i=t[r],s=this.formatString(this.labelText,i),o=this.labelFunction;o&&(s=o(i,s)),i=e.text(this.container,s,this.color,this.fontFamily,this.fontSize),s=i.getBBox().width,s>n&&(n=s),i.remove()}return n}})}(),function(){var e=window.AmCharts;e.AmFunnelChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="funnel",e.AmFunnelChart.base.construct.call(this,t),this.cname="AmFunnelChart",this.startX=this.startY=0,this.baseWidth="100%",this.neckHeight=this.neckWidth=0,this.rotate=!1,this.valueRepresents="height",this.pullDistance=30,this.labelPosition="center",this.labelText="[[title]]: [[value]]",this.balloonText="[[title]]: [[value]]\n[[description]]",e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmFunnelChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t))if(0<this.realWidth&&0<this.realHeight){var n=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),r=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),i=this.container,s=this.startDuration,o=this.rotate,u=this.updateWidth();this.realWidth=u;var a=this.updateHeight();this.realHeight=a;var f=e.toCoordinate,l=f(this.marginLeft,u),c=f(this.marginRight,u),h=f(this.marginTop,a)+this.getTitleHeight(),f=f(this.marginBottom,a);0<n&&0>r&&(this.neckHeight=this.neckWidth=0,o?f-=r/2:h-=r/2);var c=u-l-c,p=e.toCoordinate(this.baseWidth,c),d=e.toCoordinate(this.neckWidth,c),v=a-f-h,m=e.toCoordinate(this.neckHeight,v),g=h+v-m;o&&(h=a-f,g=h-v+m),this.firstSliceY=h,e.VML&&(this.startAlpha=1);for(var y=c/2+l,b=(v-m)/((p-d)/2),w=1,E=p/2,p=(v-m)*(p+d)/2+d*m,S=h,x=0,m=0;m<t.length;m++){var T=t[m],N;if(!0!==T.hidden&&(this.showZeroSlices||0!==T.percents)){var C=[],k=[],L;if("height"==this.valueRepresents)L=v*T.percents/100;else{var A=-p*T.percents/100/2,O=E;L=-1/(2*b);var M=Math.pow(O,2)-4*L*A;0>M&&(M=0),L=(Math.sqrt(M)-O)/(2*L);if(!o&&h>=g||o&&h<=g)L=2*-A/d;else if(!o&&h+L>g||o&&h-L<g)N=o?Math.round(L+(h-L-g)):Math.round(L-(h+L-g)),M=N/b,A=2*(-A-(O-M/2)*N)/d,Infinity!=A&&(L=N+A)}A=E-L/b,O=!1,!o&&h+L>g||o&&h-L<g?(A=d/2,C.push(y-E,y+E,y+A,y+A,y-A,y-A),o?(N=L+(h-L-g),h<g&&(N=0),k.push(h,h,h-N,h-L,h-L,h-N,h)):(N=L-(h+L-g),h>g&&(N=0),k.push(h,h,h+N,h+L,h+L,h+N,h)),O=!0):(C.push(y-E,y+E,y+A,y-A),o?k.push(h,h,h-L,h-L):k.push(h,h,h+L,h+L)),N=i.set(),0<n&&0>r?(k=A/E,C=-1,o||(C=1),isNaN(w)&&(w=0),C=(new e.Cuboid(i,2*E,C*L,n,r*w,T.color,T.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha,90,0,!1,0,T.pattern,k)).set,C.translate(y-E,h-r/2*w),w*=k):C=e.polygon(i,C,k,T.color,T.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha),e.setCN(this,N,"funnel-item"),e.setCN(this,C,"funnel-slice"),e.setCN(this,N,T.className,!0),N.push(C),this.graphsSet.push(N),o||N.toBack(),T.wedge=N,T.index=m;if(k=this.gradientRatio){var M=[],_;for(_=0;_<k.length;_++)M.push(e.adjustLuminosity(T.color,k[_]));0<M.length&&C.gradient("linearGradient",M),T.pattern&&C.pattern(T.pattern,NaN,this.path)}0<s&&(this.chartCreated||N.setAttr("opacity",this.startAlpha)),this.addEventListeners(N,T),T.ty0=h-L/2,this.labelsEnabled&&this.labelText&&T.percents>=this.hideLabelsPercent&&(k=this.formatString(this.labelText,T),(C=this.labelFunction)&&(k=C(T,k)),M=T.labelColor,M||(M=this.color),C=this.labelPosition,_="left","center"==C&&(_="middle"),"left"==C&&(_="right"),""!==k&&(k=e.wrappedText(i,k,M,this.fontFamily,this.fontSize,_,!1,this.maxLabelWidth),e.setCN(this,k,"funnel-label"),e.setCN(this,k,T.className,!0),k.node.style.pointerEvents="none",N.push(k),M=y,o?(_=h-L/2,T.ty0=_):(_=h+L/2,T.ty0=_,_<S+x+5&&(_=S+x+5),_>a-f&&(_=a-f)),"right"==C&&(M=c+10+l,T.tx0=y+(E-L/2/b),O&&(T.tx0=y+A)),"left"==C&&(T.tx0=y-(E-L/2/b),O&&(T.tx0=y-A),M=l),T.label=k,T.labelX=M,T.labelY=_,T.labelHeight=k.getBBox().height,k.translate(M,_),E=k.getBBox(),S=e.rect(i,E.width+5,E.height+5,"#ffffff",.005),S.translate(M+E.x,_+E.y),N.push(S),T.hitRect=S,x=k.getBBox().height,S=_)),(0===T.alpha||0<s&&!this.chartCreated)&&N.hide(),h=o?h-L:h+L,E=A,T.startX=e.toCoordinate(this.startX,u),T.startY=e.toCoordinate(this.startY,a),T.pullX=e.toCoordinate(this.pullDistance,u),T.pullY=0,T.balloonX=y,T.balloonY=T.ty0}}this.arrangeLabels(),this.initialStart(),(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},arrangeLabels:function(){var e=this.rotate,t;t=e?0:this.realHeight;for(var n=0,r=this.chartData,i=r.length,s,o=0;o<i;o++){s=r[i-o-1];var u=s.label,a=s.labelY,f=s.labelX,l=s.labelHeight,c=a;e?t+n+5>a&&(c=t+n+5):a+l+5>t&&(c=t-5-l),t=c,n=l,u&&(u.translate(f,c),u=u.getBBox(),s.hitRect&&s.hitRect.translate(f+u.x,c+u.y)),s.labelY=c,s.tx=f,s.ty=c,s.tx2=f}"center"!=this.labelPosition&&this.drawTicks()}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set(),this.container=e,this.h=Math.round(n),this.w=Math.round(t),this.dx=r,this.dy=i,this.colors=s,this.alpha=o,this.bwidth=u,this.bcolor=a,this.balpha=f,this.dashLength=p,this.topRadius=v,this.pattern=d,this.rotate=h,this.bcn=m,h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90),this.gradientRotation=l,0===r&&0===i&&(this.cornerRadius=c),this.draw()},draw:function(){var t=this.set;t.clear();var n=this.container,r=n.chart,i=this.w,s=this.h,o=this.dx,u=this.dy,a=this.colors,f=this.alpha,l=this.bwidth,c=this.bcolor,h=this.balpha,p=this.gradientRotation,d=this.cornerRadius,v=this.dashLength,m=this.pattern,g=this.topRadius,y=this.bcn,b=a,w=a;"object"==typeof a&&(b=a[0],w=a[a.length-1]);var E,S,x,T,N,C,k,L,A,O=f;m&&(f=0);var M,_,D,P,H=this.rotate;if(0<Math.abs(o)||0<Math.abs(u))if(isNaN(g))k=w,w=e.adjustLuminosity(b,-0.2),w=e.adjustLuminosity(b,-0.2),E=e.polygon(n,[0,o,i+o,i,0],[0,u,u,0,0],w,f,1,c,0,p),0<h&&(A=e.line(n,[0,o,i+o],[0,u,u],c,h,l,v)),S=e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],w,f,1,c,0,p),S.translate(o,u),0<h&&(x=e.line(n,[o,o],[u,u+s],c,h,l,v)),T=e.polygon(n,[0,0,o,o,0],[0,s,s+u,u,0],w,f,1,c,0,p),N=e.polygon(n,[i,i,i+o,i+o,i],[0,s,s+u,u,0],w,f,1,c,0,p),0<h&&(C=e.line(n,[i,i+o,i+o,i],[0,u,s+u,s],c,h,l,v)),w=e.adjustLuminosity(k,.2),k=e.polygon(n,[0,o,i+o,i,0],[s,s+u,s+u,s,s],w,f,1,c,0,p),0<h&&(L=e.line(n,[0,o,i+o],[s,s+u,s+u],c,h,l,v));else{var B,j,F;H?(B=s/2,w=o/2,F=s/2,j=i+o/2,_=Math.abs(s/2),M=Math.abs(o/2)):(w=i/2,B=u/2,j=i/2,F=s+u/2+1,M=Math.abs(i/2),_=Math.abs(u/2)),D=M*g,P=_*g,.1<M&&.1<M&&(E=e.circle(n,M,b,f,l,c,h,!1,_),E.translate(w,B)),.1<D&&.1<D&&(k=e.circle(n,D,e.adjustLuminosity(b,.5),f,l,c,h,!1,P),k.translate(j,F))}f=O,1>Math.abs(s)&&(s=0),1>Math.abs(i)&&(i=0),!isNaN(g)&&(0<Math.abs(o)||0<Math.abs(u))?(a=[b],a={fill:a,stroke:c,"stroke-width":l,"stroke-opacity":h,"fill-opacity":f},H?(f="M0,0 L"+i+","+(s/2-s/2*g),l=" B",0<i&&(l=" A"),e.VML?(f+=l+Math.round(i-D)+","+Math.round(s/2-P)+","+Math.round(i+D)+","+Math.round(s/2+P)+","+i+",0,"+i+","+s,f=f+(" L0,"+s)+(l+Math.round(-M)+","+Math.round(s/2-_)+","+Math.round(M)+","+Math.round(s/2+_)+",0,"+s+",0,0")):(f+="A"+D+","+P+",0,0,0,"+i+","+(s-s/2*(1-g))+"L0,"+s,f+="A"+M+","+_+",0,0,1,0,0"),M=90):(l=i/2-i/2*g,f="M0,0 L"+l+","+s,e.VML?(f="M0,0 L"+l+","+s,l=" B",0>s&&(l=" A"),f+=l+Math.round(i/2-D)+","+Math.round(s-P)+","+Math.round(i/2+D)+","+Math.round(s+P)+",0,"+s+","+i+","+s,f+=" L"+i+",0",f+=l+Math.round(i/2+M)+","+Math.round(_)+","+Math.round(i/2-M)+","+Math.round(-_)+","+i+",0,0,0"):(f+="A"+D+","+P+",0,0,0,"+(i-i/2*(1-g))+","+s+"L"+i+",0",f+="A"+M+","+_+",0,0,1,0,0"),M=180),n=n.path(f).attr(a),n.gradient("linearGradient",[b,e.adjustLuminosity(b,-0.3),e.adjustLuminosity(b,-0.3),b],M),H?n.translate(o/2,0):n.translate(0,u/2)):n=0===s?e.line(n,[0,i],[0,0],c,h,l,v):0===i?e.line(n,[0,0],[0,s],c,h,l,v):0<d?e.rect(n,i,s,a,f,l,c,h,d,p,v):e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],a,f,l,c,h,p,!1,v),i=isNaN(g)?0>s?[E,A,S,x,T,N,C,k,L,n]:[k,L,S,x,T,N,E,A,C,n]:H?0<i?[E,n,k]:[k,n,E]:0>s?[E,n,k]:[k,n,E],e.setCN(r,n,y+"front"),e.setCN(r,S,y+"back"),e.setCN(r,k,y+"top"),e.setCN(r,E,y+"bottom"),e.setCN(r,T,y+"left"),e.setCN(r,N,y+"right");for(E=0;E<i.length;E++)if(S=i[E])t.push(S),e.setCN(r,S,y+"element");m&&n.pattern(m,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=t*e.updateRate,r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},1e3/e.updateRate)},updateHeight:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n?(n=t.easing(0,t.frame,1,t.rh-1,n),t.height(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/e.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=t*e.updateRate,r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},1e3/e.updateRate)},updateWidth:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n?(n=t.easing(0,t.frame,1,t.rw-1,n),t.width(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/e.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),define("amcharts.funnel",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonFunnel",["d3","../common/HTMLWidget","amcharts.funnel","require"],t):e.amchart_CommonFunnel=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.require)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_CommonFunnel",i.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),i.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),i.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),i.prototype.publish("flip",!0,"boolean","Flip Chart",null,{tags:["Intermediate"]}),i.prototype.publish("reverseDataSorting",!1,"boolean","Reverse Data Sorting",null,{tags:["Intermediate"]}),i.prototype.publish("labelPosition","center","set","Label Position",["left","right","center"],{tags:["Intermediate"]}),i.prototype.publish("showScrollbar",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate"]}),i.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),i.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),i.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),i.prototype.updateChartOptions=function(){this._chart.startDuration=this.startDuration(),this._chart.rotate=this.flip(),this._chart.pullOutOnlyOne=this.selectionMode()==="simple",this._chart.color=this.fontColor(),this._chart.colorField="sliceColor",this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.labelPosition=this.labelPosition(),this.titles=[],this.baloon={},this._chart.titleField=this.columns()[0],this._chart.valueField=this.columns()[1],this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D();var e=function(e,t){return e[1]>t[1]?1:-1};this.reverseDataSorting()&&(e=function(e,t){return e[1]<t[1]?1:-1}),this.data().sort(e);if(this._dataUpdated>this._prevDataUpdated||this._columnsUpdated>this._prevColumnsUpdated)this._chart.dataProvider=this.formatData(this.data());return this._prevDataUpdated=this._dataUpdated,this._prevColumnsUpdated=this._columnsUpdated,this._chart.colors=this.data().map(function(e){return this._palette(e[0])},this),this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},i.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n.columns().forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},i.prototype.enter=function(e,i){t.prototype.enter.apply(this,arguments);var s=this,o={type:"funnel",addClassNames:!0,autoResize:!0,autoMargins:!0,chartScrollbar:{}};typeof define=="function"&&define.amd&&(o.pathToImages=r.toUrl("amchartsImg")),this._chart=n.makeChart(e,o),this._chart.addListener("clickSlice",function(e){var t=e.chart.colorField,n=e.dataItem.dataContext;n[t]!==null&&n[t]!==undefined?(delete n[t],s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected=null)):(n[t]=s.selectionColor(),s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected={field:t,data:n,cIdx:1,dIdx:e.dataItem.index},s._selections.push(s._selected))),e.chart.validateData(),s.click(s.rowToObj(s.data()[e.dataItem.index]),s.columns()[1],s._selected!==null)})},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},i.prototype.postUpdate=function(t,n){var r=this;if(this.labelPosition()!=="center"){var i=r._element.select("svg").node().getBoundingClientRect();this.d3LabelSelection=n.selectAll(".amcharts-funnel-item");var s=[],o=[];this.d3LabelSelection.each(function(t,n){var r=e.select(this).node().getBoundingClientRect(),u=r.right;u>i.right&&o.push(i.right-u);var a=r.left;a<i.left&&s.push(a-i.left)});var u=o.length?e.min(o):0,a=s.length?e.min(s):0,f=0;u<0&&(f+=u),a<0&&(f+=a);switch(this.labelPosition()){case"right":this._chart.marginRight=Math.abs(f),this._chart.marginLeft=0;break;case"left":this._chart.marginLeft=Math.abs(f),this._chart.marginRight=0}this._chart.validateNow()}},i.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},i}),function(){var e=window.AmCharts;e.AmRadarChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){this.type="radar",e.AmRadarChart.base.construct.call(this,t),this.cname="AmRadarChart",this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0,this.radius="35%",e.applyTheme(this,t,this.cname)},initChart:function(){e.AmRadarChart.base.initChart.call(this),this.dataChanged?this.parseData():this.onDataUpdated()},onDataUpdated:function(){this.drawChart()},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.width=this.realRadius,n.height=this.realRadius,n.x=this.marginLeftReal,n.y=this.marginTopReal,n.data=this.chartData}},parseData:function(){e.AmRadarChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},updateValueAxes:function(){var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n];r.axisRenderer=e.RadAxis,r.guideFillRenderer=e.RadarFill,r.axisItemRenderer=e.RadItem,r.autoGridCount=!1,r.rMultiplier=1,r.x=this.marginLeftReal,r.y=this.marginTopReal,r.width=this.realRadius,r.height=this.realRadius,r.marginsChanged=!0,r.titleDY=r.y}},drawChart:function(){e.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),n=this.updateHeight(),r=this.marginTop+this.getTitleHeight(),i=this.marginLeft,s=this.marginBottom,o=this.marginRight,u=n-r-s;this.marginLeftReal=i+(t-i-o)/2,this.marginTopReal=r+u/2,this.realRadius=e.toCoordinate(this.radius,Math.min(t-i-o,n-r-s),u),this.updateValueAxes(),this.updateGraphs(),t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){t=t.length-1,r=this.valueAxes;for(n=0;n<r.length;n++)r[n].zoom(0,t);r=this.graphs;for(n=0;n<r.length;n++)r[n].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd(),this.gridSet.toBack(),this.axesSet.toBack(),this.set.toBack()},formatString:function(t,n,r){var i=n.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(n.serialDataItem.category))),i=i.numberFormatter,i||(i=this.nf),t=e.formatValue(t,n.values,["value"],i,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=e.AmRadarChart.base.formatString.call(this,t,n,r)},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs])}})}(),function(){var e=window.AmCharts;e.RadAxis=e.Class({construct:function(t){var n=t.chart,r=t.axisThickness,i=t.axisColor,s=t.axisAlpha;this.set=n.container.set(),this.set.translate(t.x,t.y),n.axesSet.push(this.set);var o=t.axisTitleOffset,u=t.radarCategoriesEnabled,a=t.chart.fontFamily,f=t.fontSize;void 0===f&&(f=t.chart.fontSize);var l=t.color;void 0===l&&(l=t.chart.color);if(n){this.axisWidth=t.height;var c=n.chartData,h=c.length,p,v=this.axisWidth;"middle"==t.pointPosition&&"circles"!=t.gridType&&(t.rMultiplier=Math.cos(180/h*Math.PI/180),v*=t.rMultiplier);for(p=0;p<h;p++){var m=180-360/h*p,g=m;"middle"==t.pointPosition&&(g-=180/h);var y=this.axisWidth*Math.sin(m/180*Math.PI),m=this.axisWidth*Math.cos(m/180*Math.PI);0<s&&(y=e.line(n.container,[0,y],[0,m],i,s,r),this.set.push(y),e.setCN(n,y,t.bcn+"line"));if(u){var b="start",y=(v+o)*Math.sin(g/180*Math.PI),m=(v+o)*Math.cos(g/180*Math.PI);if(180==g||0===g)b="middle",y-=5;0>g&&(b="end",y-=10),180==g&&(m-=5),0===g&&(m+=5),g=e.text(n.container,c[p].category,l,a,f,b),g.translate(y+5,m),this.set.push(g),e.setCN(n,g,t.bcn+"title")}}}}})}(),function(){var e=window.AmCharts;e.RadItem=e.Class({construct:function(t,n,r,i,s,o,u,a){i=t.chart,void 0===r&&(r="");var f=t.chart.fontFamily,l=t.fontSize;void 0===l&&(l=t.chart.fontSize);var c=t.color;void 0===c&&(c=t.chart.color);var h=t.chart.container;this.set=s=h.set();var p=t.axisColor,v=t.axisAlpha,m=t.tickLength,g=t.gridAlpha,y=t.gridThickness,b=t.gridColor,w=t.dashLength,E=t.fillColor,S=t.fillAlpha,x=t.labelsEnabled;o=t.counter;var T=t.inside,N=t.gridType,C,k=t.labelOffset,L;n-=t.height;var A;u?(x=!0,void 0!==u.id&&(L=i.classNamePrefix+"-guide-"+u.id),isNaN(u.tickLength)||(m=u.tickLength),void 0!=u.lineColor&&(b=u.lineColor),isNaN(u.lineAlpha)||(g=u.lineAlpha),isNaN(u.dashLength)||(w=u.dashLength),isNaN(u.lineThickness)||(y=u.lineThickness),!0===u.inside&&(T=!0),void 0!==u.boldLabel&&(a=u.boldLabel)):r||(g/=3,m/=2);var O="end",M=-1;T&&(O="start",M=1);var _;x&&(_=e.text(h,r,c,f,l,O,a),_.translate((m+3+k)*M,n),s.push(_),e.setCN(i,_,t.bcn+"label"),u&&e.setCN(i,_,"guide"),e.setCN(i,_,L,!0),this.label=_,A=e.line(h,[0,m*M],[n,n],p,v,y),s.push(A),e.setCN(i,A,t.bcn+"tick"),u&&e.setCN(i,A,"guide"),e.setCN(i,A,L,!0)),n=Math.abs(n),a=[],f=[];if(0<g){if("polygons"==N){C=t.data.length;for(l=0;l<C;l++)c=180-360/C*l,a.push(n*Math.sin(c/180*Math.PI)),f.push(n*Math.cos(c/180*Math.PI));a.push(a[0]),f.push(f[0]),g=e.line(h,a,f,b,g,y,w)}else g=e.circle(h,n,"#FFFFFF",0,y,b,g);s.push(g),e.setCN(i,g,t.bcn+"grid"),e.setCN(i,g,L,!0),u&&e.setCN(i,g,"guide")}if(1==o&&0<S&&!u&&""!==r){u=t.previousCoord;if("polygons"==N){for(l=C;0<=l;l--)c=180-360/C*l,a.push(u*Math.sin(c/180*Math.PI)),f.push(u*Math.cos(c/180*Math.PI));C=e.polygon(h,a,f,E,S)}else C=e.wedge(h,0,0,0,360,n,n,u,0,{fill:E,"fill-opacity":S,stroke:"#000","stroke-opacity":0,"stroke-width":1});s.push(C),e.setCN(i,C,t.bcn+"fill"),e.setCN(i,C,L,!0)}!1===t.visible&&(A&&A.hide(),_&&_.hide()),""!==r&&(t.counter=0===o?1:0,t.previousCoord=n)},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RadarFill=e.Class({construct:function(t,n,r,i){n-=t.axisWidth,r-=t.axisWidth;var s=Math.min(n,r);r=Math.max(n,r),n=t.chart;var o=n.container,u=i.fillAlpha,a=i.fillColor;r=Math.abs(r);var s=Math.abs(s),f=Math.min(r,s);r=Math.max(r,s);var s=f,f=i.angle+90,l=i.toAngle+90;isNaN(f)&&(f=0),isNaN(l)&&(l=360),this.set=o.set(),void 0===a&&(a="#000000"),isNaN(u)&&(u=0);if("polygons"==t.gridType){var l=[],c=[];t=t.data.length;var h;for(h=0;h<t;h++)f=180-360/t*h,l.push(r*Math.sin(f/180*Math.PI)),c.push(r*Math.cos(f/180*Math.PI));l.push(l[0]),c.push(c[0]);for(h=t;0<=h;h--)f=180-360/t*h,l.push(s*Math.sin(f/180*Math.PI)),c.push(s*Math.cos(f/180*Math.PI));o=e.polygon(o,l,c,a,u)}else o=e.wedge(o,0,0,f,l-f,r,r,s,0,{fill:a,"fill-opacity":u,stroke:"#000","stroke-opacity":0,"stroke-width":1});e.setCN(n,o,"guide-fill"),i.id&&e.setCN(n,o,"guide-fill-"+i.id),this.set.push(o),this.fill=o},graphics:function(){return this.set},getLabel:function(){}})}(),define("amcharts.radar",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonRadar",["d3","../common/HTMLWidget","amcharts.radar","require"],t):e.amchart_CommonRadar=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.require)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_CommonRadar",i.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),i.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),i.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),i.prototype.publish("lineWidth",2,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),i.prototype.publish("lineOpacity",1,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),i.prototype.publish("dashedLineStyle",0,"number","",null,{tags:["Advanced","Shared"]}),i.prototype.publish("yAxisBaselineColor",null,"html-color","Axis color",null,{tags:["Intermediate","Shared"]}),i.prototype.publish("axisFontSize",undefined,"number","Size of value labels text. Will use chart's fontSize if not set.",null,{tags:["Basic","Shared"]}),i.prototype.publish("yAxisFontColor",undefined,"string","Font Name",null,{tags:["Basic","Shared"]}),i.prototype.publish("yAxisTitle","","string","Y-Axis Title",null,{tags:["Basic","Shared"]}),i.prototype.publish("yAxisTitleFontColor",null,"html-color","Color of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),i.prototype.publish("yAxisTitleFontSize",null,"html-color","Font Size of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),i.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Basic","Shared"]}),i.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),i.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),i.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),i.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),i.prototype.publish("showScrollbar",!1,"boolean","Chart Scrollbar",null,{tags:["Intermediate"]}),i.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),i.prototype.publish("yAxisAutoGridCount",!0,"boolean","Specifies whether number of gridCount is specified automatically, acoarding to the axis size",null,{tags:["Advanced"]}),i.prototype.publish("yAxisGridPosition","start","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{tags:["Advanced"]}),i.prototype.publish("yAxisMinimum",[],"array","",null,{tags:["Advanced"]}),i.prototype.publish("yAxisTitleOffset",[],"array","",null,{tags:["Advanced"]}),i.prototype.publish("yAxisDashLength",[],"array","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),i.prototype.publish("axisAlpha",1,"number","Axis opacity",null,{tags:["Intermediate"]}),i.prototype.publish("circularGrid",!1,"boolean","Circular Grid",null,{tags:["Intermediate"]}),i.prototype.publish("bulletSize",9,"number","Bullet Size",null,{tags:["Intermediate"]}),i.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Intermediate"]}),i.prototype.publish("fillOpacity",.3,"number","Shape Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate"]}),i.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),i.prototype.publish("yAxisTickFormat",null,"string","Y-Axis Tick Format",null,{optional:!0}),i.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),i.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),i.prototype.updateChartOptions=function(){var t=this;this._chart.theme="none",this._chart.type="radar",this._chart.startDuration=this.startDuration(),this._chart.categoryField=this.columns()[0],this._valueField=this.columns().slice(1),this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this.titles=[];if(this._dataUpdated>this._prevDataUpdated||this._columnsUpdated>this._prevColumnsUpdated)this._chart.dataProvider=this.formatData(this.data());return this._prevDataUpdated=this._dataUpdated,this._prevColumnsUpdated=this._columnsUpdated,this._chart.valueAxes[0].title=this.yAxisTitle(),this._chart.valueAxes[0].axisTitleOffset=this.yAxisTitleOffset(),this._chart.valueAxes[0].minimum=this.yAxisMinimum(),this._chart.valueAxes[0].axisAlpha=this.axisAlpha(),this._chart.valueAxes[0].dashLength=this.yAxisDashLength()||this.dashedLineStyle(),this._chart.valueAxes[0].axisColor=this.yAxisBaselineColor(),this._chart.valueAxes[0].axisThickness=this.axisLineWidth(),this._chart.valueAxes[0].titleColor=this.yAxisTitleFontColor(),this._chart.valueAxes[0].titleFontSize=this.yAxisTitleFontSize(),this._chart.valueAxes[0].fontSize=this.axisFontSize(),this._chart.valueAxes[0].color=this.yAxisFontColor(),this._chart.valueAxes[0].autoGridCount=this.yAxisAutoGridCount(),this._chart.valueAxes[0].gridPosition=this.yAxisGridPosition(),this._chart.valueAxes[0].labelFunction=function(n){return e.format(t.yAxisTickFormat())(n)},this._chart.colors=this.columns().filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this),this.circularGrid()&&this._chart.valueAxes.forEach(function(e,n){t._chart.valueAxes[n].gridType="circles"}),this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},i.prototype.buildGraphObj=function(e,t){var n=this,r={};return r.balloonFunction=function(e){var t=e.category+", "+n.columns()[e.graph.index+1]+": "+n.data()[e.index][e.graph.columnIndex+1];return t},r.fillAlphas=n.fillOpacity(),r.lineAlpha=n.lineOpacity(),r.lineThickness=n.lineWidth(),r.bullet=n.bulletType(),r.bulletSize=n.bulletSize(),r.dashLength=n.dashedLineStyle(),r.type=e,r.title="",r.colorField="selected"+t,r},i.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n.columns().forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},i.prototype.enter=function(e,i){t.prototype.enter.apply(this,arguments);var s=this,o={type:"radar",addClassNames:!0,chartScrollbar:{}};typeof define=="function"&&define.amd&&(o.pathToImages=r.toUrl("amchartsImg")),this._chart=n.makeChart(e,o),this._chart.addListener("clickGraphItem",function(e){var t=e.graph,n=e.item.dataContext,r=t.colorField;n[r]!==null&&n[r]!==undefined?(delete n[r],s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected=null)):(n[r]=s.selectionColor(),s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected={field:r,data:n,cIdx:e.target.index,dIdx:e.index},s._selections.push(s._selected))),e.chart.validateData(),s.click(s.rowToObj(s.data()[e.index]),s.columns()[e.target.index+1],s._selected!==null)})},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},i.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},i.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},i.prototype.columns=function(e){return arguments.length&&this._columnsUpdated++,t.prototype.columns.apply(this,arguments)},i}),function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){e.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,e.applyTheme(this,t,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){e.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea();if(e.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var e={},t;if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{r=this.valueAxes;for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var e=this.valueAxes,t,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,s=this.realHeight,o=n,u=n,a=i;t=s;var f;for(f=0;f<e.length;f++)e[f].handleSynchronization(),t=this.getAxisBounds(e[f],o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);if(e=this.categoryAxis)t=this.getAxisBounds(e,o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);r.left&&o<n&&(this.marginLeft=Math.round(-o+n)),r.right&&a>=i-n&&(this.marginRight=Math.round(a-i+n)),r.top&&u<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-u+n+this.titleHeight)),r.bottom&&t>s-n&&(this.marginBottom=Math.round(this.marginBottom+t-s+n)),this.initChart()},getAxisBounds:function(e,t,n,r,i){if(!e.ignoreAxisWidth){var s=e.labelsSet,o=e.tickLength;e.inside&&(o=0);if(s)switch(s=e.getBBox(),e.position){case"top":e=s.y,r>e&&(r=e);break;case"bottom":e=s.y+s.height,i<e&&(i=e);break;case"right":e=s.x+s.width+o+3,n<e&&(n=e);break;case"left":e=s.x-o,t>e&&(t=e)}}return{l:t,t:r,r:n,b:i}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var n=t.container.set();t.zoomButtonSet.push(n);var r=t.color,i=t.fontSize,s=t.zoomOutButtonImageSize,o=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),u=e.lang.zoomOutText||t.zoomOutText,a=t.zoomOutButtonColor,f=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(l)||(i=l),(l=t.zoomOutButtonFontColor)&&(r=l);var l=t.zoomOutButton,h;l&&(l.fontSize&&(i=l.fontSize),l.color&&(r=l.color),l.backgroundColor&&(a=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var p=l=0;void 0!==t.pathToImages&&o&&(h=t.container.image(t.pathToImages+o+t.extension,0,0,s,s),e.setCN(t,h,"zoom-out-image"),n.push(h),h=h.getBBox(),l=h.width+5),void 0!==u&&(r=e.text(t.container,u,r,t.fontFamily,i,"start"),e.setCN(t,r,"zoom-out-label"),i=r.getBBox(),p=h?h.height/2-3:i.height/2,r.translate(l,p),n.push(r)),h=n.getBBox(),r=1,e.isModern||(r=0),a=e.rect(t.container,h.width+2*c+5,h.height+2*c-2,a,1,1,a,r),a.setAttr("opacity",f),a.translate(-c,-c),e.setCN(t,a,"zoom-out-bg"),n.push(a),a.toBack(),t.zbBG=a,h=a.getBBox(),n.translate(t.marginLeftReal+t.plotAreaWidth-h.width+c,t.marginTopReal+c),n.hide(),n.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()});for(f=0;f<n.length;f++)n[f].attr({cursor:"pointer"});t.zbSet=n}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,n=this.dy,r=this.marginLeftReal,i=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,u=this.plotAreaFillColors,a=this.plotAreaFillAlphas,f=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof a&&(a=a[0]),u=e.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],u,a,1,f,l,this.plotAreaGradientAngle),e.setCN(this,u,"plot-area"),u.translate(r+t,i+n),this.set.push(u),0!==t&&0!==n&&(u=this.plotAreaFillColors,"object"==typeof u&&(u=u[0]),u=e.adjustLuminosity(u,-0.15),s=e.polygon(this.container,[0,t,s+t,s,0],[0,n,n,0,0],u,a,1,f,l),e.setCN(this,s,"plot-area-bottom"),s.translate(r,i+o),this.set.push(s),t=e.polygon(this.container,[0,0,t,t,0],[0,o,o+n,n,0],u,a,1,f,l),e.setCN(this,t,"plot-area-left"),t.translate(r,i),this.set.push(t)),(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),n=this.container;this.realWidth=e,this.realWidth=t,n&&this.container.setSize(e,t);var n=this.marginLeftReal,r=this.marginTopReal,e=e-n-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>e&&(e=1),1>t&&(t=1),this.plotAreaWidth=Math.round(e),this.plotAreaHeight=Math.round(t),this.plotBalloonsSet.translate(n,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t];this.setAxisRenderers(n),this.updateObjectSize(n)}},setAxisRenderers:function(t){t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.axisItemRenderer=e.RecItem,t.marginsChanged=!0},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=e.processObject(t,e.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,t=0;t<e.length;t++)e[t].zoomOut()},removeTrendLine:function(e){var t=this.trendLines,n;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},adjustMargins:function(e,t){var n=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==n?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,n){var r="bottom",i="top";e.oppositeAxis||(i=r,r="top"),e.position=t?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var n=this.marginTopReal,r=this.marginLeftReal,i=e.scrollbarHeight,s=this.dx,o=this.dy,u=e.offset;"top"==e.position?t?(e.y=n,e.x=r-i-u):(e.y=n-i+o-u,e.x=r+s):t?(e.y=n+o,e.x=r+this.plotAreaWidth+s+u):(e.y=n+this.plotAreaHeight+u,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());if(t=this.zbSet)this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB()},handleReleaseOutside:function(t){e.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){e.AmRectangularChart.base.handleMouseDown.call(this,t);var n=this.chartCursor;n&&n.handleMouseDown&&!this.rolledOverZB&&n.handleMouseDown(t)},update:function(){e.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var t=e.valueAxes[0],n=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-n,n=1-t.relativeEnd),e.percentZoom(n,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e=this.valueAxes,t;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);e=this.graphs;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,t){var n=e.relativeStart,r=e.relativeEnd;if(n>r)var i=n,n=r,r=i;this.relativeZoomValueAxes(t,n,r),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,n,r){n=e.fitToBounds(n,0,1),r=e.fitToBounds(r,0,1);if(n>r){var i=n;n=r,r=i}var i=1/this.maxZoomFactor,s=e.getDecimals(i)+4;r-n<i&&(r=n+(r-n)/2,n=r-i/2,r+=i/2),n=e.roundTo(n,s),r=e.roundTo(r,s),i=!1;if(t){for(s=0;s<t.length;s++){var o=t[s].zoomToRelativeValues(n,r,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(t){e.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(e){var t,n=this.valueAxes;for(t=0;t<n.length;t++)e.panning||n[t].showBalloon(e.x,e.y)},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,n=this.endX0,r=this.endY0,i=this.startY0,s=e.startX,o=e.endX,u=e.startY,a=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(t+s*(n-t),t+o*(n-t),i+u*(r-i),i+a*(r-i),e)}},handleCursorHide:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].hideBalloon();t=this.graphs;for(e=0;e<t.length;e++)t[e].hideBalloonReal()}})}(),function(){var e=window.AmCharts;e.AmXYChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="xy",e.AmXYChart.base.construct.call(this,t),this.cname="AmXYChart",this.theme=t,this.createEvents("zoomed"),e.applyTheme(this,t,this.cname)},initChart:function(){e.AmXYChart.base.initChart.call(this),this.dataChanged&&this.updateData(),this.drawChart(),!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaWidth,i=this.plotAreaHeight;this.graphsSet.clipRect(t,n,r,i),this.bulletSet.clipRect(t,n,r,i),this.trendLinesSet.clipRect(t,n,r,i),this.drawGraphs=!0,this.showZB()},prepareForExport:function(){var e=this.bulletSet;e.clipPath&&this.container.remove(e.clipPath)},createValueAxes:function(){var t=[],n=[];this.xAxes=t,this.yAxes=n;var r=this.valueAxes,i,s;for(s=0;s<r.length;s++){i=r[s];var o=i.position;if("top"==o||"bottom"==o)i.rotate=!0;i.setOrientation(i.rotate),o=i.orientation,"V"==o&&n.push(i),"H"==o&&t.push(i)}0===n.length&&(i=new e.ValueAxis(this.theme),i.rotate=!1,i.setOrientation(!1),r.push(i),n.push(i)),0===t.length&&(i=new e.ValueAxis(this.theme),i.rotate=!0,i.setOrientation(!0),r.push(i),t.push(i));for(s=0;s<r.length;s++)this.processValueAxis(r[s],s);t=this.graphs;for(s=0;s<t.length;s++)this.processGraph(t[s],s)},drawChart:function(){e.AmXYChart.base.drawChart.call(this),e.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart();var t=this.scrollbarH;t&&(this.hideXScrollbar?(t&&t.destroy(),this.scrollbarH=null):t.draw());if(t=this.scrollbarV)this.hideYScrollbar?(t.destroy(),this.scrollbarV=null):t.draw();this.zoomScrollbar();if(!this.autoMargins||this.marginsUpdated)this.dispDUpd(),this.chartCreated=!0},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},zoomObjects:function(e){var t=e.length,n,r;for(n=0;n<t;n++)r=e[n],r.zoom(0,this.chartData.length-1)},updateData:function(){this.parseData();var e=this.chartData,t=e.length-1,n=this.graphs,r=this.dataProvider,i=-Infinity,s=Infinity,o,u;if(r){for(o=0;o<n.length;o++)if(u=n[o],u.data=e,u.zoom(0,t),u=u.valueField){var a;for(a=0;a<r.length;a++)if(null!==f){var f=Number(r[a][u]);f>i&&(i=f),f<s&&(s=f)}}isNaN(this.minValue)||(s=this.minValue),isNaN(this.maxValue)||(i=this.maxValue);for(o=0;o<n.length;o++)u=n[o],u.maxValue=i,u.minValue=s;if(e=this.chartCursor)e.type="crosshair",e.valueBalloonsEnabled=!1;this.dataChanged=!1,this.dispatchDataUpdated=!0}},processValueAxis:function(e){e.chart=this,e.minMaxField="H"==e.orientation?"x":"y",e.min=NaN,e.max=NaN},processGraph:function(t){e.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis)),e.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis)),t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0]),t.valueAxis=t.yAxis},parseData:function(){e.AmXYChart.base.parseData.call(this),this.chartData=[];var t=this.dataProvider,n=this.valueAxes,r=this.graphs,i;if(t)for(i=0;i<t.length;i++){var s={axes:{},x:{},y:{}},o=this.dataDateFormat,u=t[i],a;for(a=0;a<n.length;a++){var f=n[a].id;s.axes[f]={},s.axes[f].graphs={};var l;for(l=0;l<r.length;l++){var c=r[l],h=c.id;if(c.xAxis.id==f||c.yAxis.id==f){var p={};p.serialDataItem=s,p.index=i;var d={},v=u[c.valueField];null!==v&&(v=Number(v),isNaN(v)||(d.value=v)),v=u[c.xField],null!==v&&("date"==c.xAxis.type&&(v=e.getDate(u[c.xField],o).getTime()),v=Number(v),isNaN(v)||(d.x=v)),v=u[c.yField],null!==v&&("date"==c.yAxis.type&&(v=e.getDate(u[c.yField],o).getTime()),v=Number(v),isNaN(v)||(d.y=v)),v=u[c.errorField],null!==v&&(v=Number(v),isNaN(v)||(d.error=v)),p.values=d,this.processFields(c,p,u),p.serialDataItem=s,p.graph=c,s.axes[f].graphs[h]=p}}}this.chartData[i]=s}this.start=0,this.end=this.chartData.length-1},formatString:function(t,n,r){var i=n.graph,s=i.numberFormatter;s||(s=this.nf);var o,u;return"date"==n.graph.xAxis.type&&(o=e.formatDate(new Date(n.values.x),i.dateFormat,this),u=RegExp("\\[\\[x\\]\\]","g"),t=t.replace(u,o)),"date"==n.graph.yAxis.type&&(o=e.formatDate(new Date(n.values.y),i.dateFormat,this),u=RegExp("\\[\\[y\\]\\]","g"),t=t.replace(u,o)),t=e.formatValue(t,n.values,["value","x","y"],s),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=e.AmXYChart.base.formatString.call(this,t,n,r)},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]);if(t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var n="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var r=new e.ChartScrollbar(this.theme);r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleScrollbarValueZoom),e.copyProperties(t,r,n),r.rotate=!0,this.scrollbarV=r}this.hideXScrollbar||(r=new e.ChartScrollbar(this.theme),r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleScrollbarValueZoom),e.copyProperties(t,r,n),r.rotate=!1,this.scrollbarH=r)}},updateTrendLines:function(){var t=this.trendLines,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.TrendLine,this.theme);t[n]=r,r.chart=this;var i=r.valueAxis;e.isString(i)&&(r.valueAxis=this.getValueAxisById(i)),i=r.valueAxisX,e.isString(i)&&(r.valueAxisX=this.getValueAxisById(i)),r.id||(r.id="trendLineAuto"+n+"_"+(new Date).getTime()),r.valueAxis||(r.valueAxis=this.yAxes[0]),r.valueAxisX||(r.valueAxisX=this.xAxes[0])}},updateMargins:function(){e.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0));if(t=this.scrollbarH)this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1)},updateScrollbars:function(){e.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.valueAxes=this.yAxes,t.gridAxis||(t.gridAxis=this.yAxes[0]));if(t=this.scrollbarH)this.updateChartScrollbar(t,!1),t.valueAxes=this.xAxes,t.gridAxis||(t.gridAxis=this.xAxes[0])},removeChartScrollbar:function(){e.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){e.AmXYChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){e.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV),this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(e,t,n,r){isNaN(e)||isNaN(t)||this.relativeZoomValueAxes(this.xAxes,e,t),isNaN(n)||isNaN(r)||this.relativeZoomValueAxes(this.yAxes,n,r),this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var e=this.xAxes[0];this.startX0=e.relativeStart,this.endX0=e.relativeEnd,e.reversed&&(this.startX0=1-e.relativeEnd,this.endX0=1-e.relativeStart)}this.yAxes&&(e=this.yAxes[0],this.startY0=e.relativeStart,this.endY0=e.relativeEnd,e.reversed&&(this.startY0=1-e.relativeEnd,this.endY0=1-e.relativeStart))},updateChartCursor:function(){e.AmXYChart.base.updateChartCursor.call(this);var t=this.chartCursor;if(t){t.valueLineEnabled=!0,t.categoryLineAxis||(t.categoryLineAxis=this.xAxes[0]);var n=this.valueAxis;if(t.valueLineBalloonEnabled){var r=t.categoryBalloonAlpha,i=t.categoryBalloonColor,s=t.color;void 0===i&&(i=t.cursorColor);for(var o=0;o<this.valueAxes.length;o++){var n=this.valueAxes[o],u=n.balloon;u||(u={}),u=e.extend(u,this.balloon,!0),u.fillColor=i,u.balloonColor=i,u.fillAlpha=r,u.borderColor=i,u.color=s,n.balloon=u}}else for(r=0;r<this.valueAxes.length;r++)n=this.valueAxes[r],n.balloon&&(n.balloon=null);t.zoomable&&(this.hideYScrollbar||(t.vZoomEnabled=!0),this.hideXScrollbar||(t.hZoomEnabled=!0))}},handleCursorPanning:function(t){var n=t.deltaX,r=t.delta2X,i;isNaN(r)&&(r=n,i=!0);var s=this.endX0,o=this.startX0,u=s-o,r=s-u*r,s=u;i||(s=0),n=e.fitToBounds(o-u*n,0,1-s),r=e.fitToBounds(r,s,1),this.relativeZoomValueAxes(this.xAxes,n,r),u=t.deltaY,t=t.delta2Y,isNaN(t)&&(t=u,i=!0),r=this.endY0,n=this.startY0,o=r-n,u=r+o*u,r=o,i||(r=0),i=e.fitToBounds(n+o*t,0,1-r),u=e.fitToBounds(u,r,1),this.relativeZoomValueAxes(this.yAxes,i,u),this.updateAfterValueZoom()},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,"V"==e.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var t,n=this.valueAxes;if(n)for(var r=0;r<n.length;r++){var i=n[r];0!==i.relativeStart&&(t=!0),1!=i.relativeEnd&&(t=!0)}e.AmXYChart.base.showZB.call(this,t)}})}(),define("amcharts.xy",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/XYAxis",["./SerialAxis"],t):e.amchart_XYAxis=t(e.amchart_SerialAxis)}(this,function(e){function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._class+=" amchart_XYAxis",t.prototype.publish("axisAutoGridCount",!0,"boolean","Specifies whether number of gridCount is specified automatically, acoarding to the axis size",null,{override:!0,tags:["Advanced"]}),t.prototype.publish("axisGridPosition","middle","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{override:!0,tags:["Advanced"]}),t.prototype.publish("axisTickFormat",null,"string","Y-Axis Tick Format",null,{override:!0,optional:!0}),t.prototype.publish("axisGridPosition","middle","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{override:!0,tags:["Advanced"]}),t.prototype.publish("axisGridAlpha",.2,"number","Grid alpha.",null,{override:!0,tags:["Intermediate"]}),t}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonXY",["d3","../common/HTMLWidget","amcharts.xy","require","./XYAxis"],t):e.amchart_CommonXY=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.require,e.amchart_XYAxis)}(this,function(e,t,n,r,i){function s(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1,this._xAxis=new i,this._xAxis._owningWidget=this,this._yAxis=new i,this._yAxis._owningWidget=this}return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.prototype._class+=" amchart_CommonXY",s.prototype.publish("backwardsCompatible",!0,"boolean","Allow use of old publish parameters"),s.prototype.publish("xAxes",[],"propertyArray","widgets",null,{max:1,tags:["Basic"]}),s.prototype.publish("yAxes",[],"propertyArray","widgets",null,{tags:["Basic"]}),s.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),s.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),s.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),s.prototype.publish("lineWidth",0,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),s.prototype.publish("lineColor",null,"html-color","Color of the data/content lines",null,{tags:["Basic","Shared"]}),s.prototype.publish("lineOpacity",0,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),s.prototype.publish("dashedLineStyle",0,"number","",null,{tags:["Advanced","Shared"]}),s.prototype.publish("showScrollbar",!1,"boolean","Chart Scrollbar",null,{tags:["Intermediate"]}),s.prototype.publish("bulletSize",8,"number","Bullet Size",null,{tags:["Intermediate"]}),s.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Intermediate"]}),s.prototype.publish("marginLeft",50,"number","Margin (Left)",null,{tags:["Intermediate"]}),s.prototype.publish("marginRight",10,"number","Margin (Right)",null,{tags:["Intermediate"]}),s.prototype.publish("marginTop",20,"number","Margin (Top)",null,{tags:["Intermediate"]}),s.prototype.publish("marginBottom",50,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),s.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),s.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),s.prototype.publish("showCursor",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate","Shared"]}),s.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),s.prototype.publishProxy("xAxisType","_xAxis","axisType"),s.prototype.publishProxy("yAxisType","_yAxis","axisType"),s.prototype.publishProxy("xAxisTitle","_xAxis","axisTitle"),s.prototype.publishProxy("yAxisTitle","_yAxis","axisTitle"),s.prototype.publishProxy("xAxisBaselineColor","_xAxis","axisBaselineColor"),s.prototype.publishProxy("yAxisBaselineColor","_yAxis","axisBaselineColor"),s.prototype.publishProxy("xAxisFontColor","_xAxis","axisFontColor"),s.prototype.publishProxy("yAxisFontColor","_yAxis","axisFontColor"),s.prototype.publishProxy("xAxisTitleFontSize","_xAxis","axisTitleFontSize"),s.prototype.publishProxy("yAxisTitleFontSize","_yAxis","axisTitleFontSize"),s.prototype.publishProxy("xAxisTitleFontColor","_xAxis","axisTitleFontColor"),s.prototype.publishProxy("yAxisTitleFontColor","_yAxis","axisTitleFontColor"),s.prototype.publishProxy("xAxisLabelRotation","_xAxis","axisLabelRotation"),s.prototype.publishProxy("yAxisLabelRotation","_yAxis","axisLabelRotation"),s.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Intermediate","Shared"]}),s.prototype.publishProxy("xAxisAutoGridCount","_xAxis","axisAutoGridCount"),s.prototype.publishProxy("yAxisAutoGridCount","_yAxis","axisAutoGridCount"),s.prototype.publishProxy("xAxisGridPosition","_xAxis","axisGridPosition"),s.prototype.publishProxy("yAxisGridPosition","_yAxis","axisGridPosition"),s.prototype.publishProxy("xAxisFillAlpha","_xAxis","axisFillAlpha"),s.prototype.publishProxy("yAxisFillAlpha","_yAxis","axisFillAlpha"),s.prototype.publishProxy("xAxisFillColor","_xAxis","axisFillColor"),s.prototype.publishProxy("yAxisFillColor","_yAxis","axisFillColor"),s.prototype.publishProxy("xAxisGridAlpha","_xAxis","axisGridAlpha"),s.prototype.publishProxy("yAxisGridAlpha","_yAxis","axisGridAlpha"),s.prototype.publishProxy("xAxisDashLength","_xAxis","axisDashLength"),s.prototype.publishProxy("yAxisDashLength","_yAxis","axisDashLength"),s.prototype.publishProxy("xAxisTickFormat","_xAxis","axisTickFormat"),s.prototype.publishProxy("yAxisTickFormat","_yAxis","axisTickFormat"),s.prototype.publish("axisAlpha",1,"number","Axis opacity",null,{tags:["Intermediate"]}),s.prototype._origBackwardsCompatible=s.prototype.backwardsCompatible,s.prototype.backwardsCompatible=function(e){var t=s.prototype._origBackwardsCompatible.apply(this,arguments);return arguments.length&&this.switchProperties(e),t},s.prototype.switchProperties=function(e){e===!0?s.prototype.excludeObjs=["amchart_XYAxis"]:s.prototype.excludeObjs=[]},s.prototype.xAxis=function(e){if(!this.xAxes()[e]){var t=new i;t._owningWidget=this,this.xAxes()[e]=t}return this.xAxes()[e]},s.prototype.yAxis=function(e){if(!this.yAxes()[e]){var t=new i;t._owningWidget=this,this.yAxes()[e]=t}return this.yAxes()[e]},s.prototype.updateChartOptions=function(){var t=this;this._chart.theme="none",this._chart.type="xy",this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily();var n=0;for(var r=0;r<this.yAxes().length;r++){var i=this.yAxes()[r];this._chart.valueAxes[n].position=i.position()?i.position():"left",this._chart.valueAxes[n].axisAlpha=i.axisAlpha(),this._chart.valueAxes[n].title=i.axisTitle(),this._chart.valueAxes[n].axisThickness=i.axisLineWidth(),this._chart.valueAxes[n].axisColor=i.axisBaselineColor(),this._chart.valueAxes[n].color=i.axisFontColor(),this._chart.valueAxes[n].titleFontSize=i.axisTitleFontSize(),this._chart.valueAxes[n].titleColor=i.axisTitleFontColor(),this._chart.valueAxes[n].autoGridCount=i.axisAutoGridCount(),this._chart.valueAxes[n].gridPosition=i.axisGridPosition(),this._chart.valueAxes[n].fillAlpha=i.axisFillAlpha(),this._chart.valueAxes[n].fillColor=i.axisFillColor(),this._chart.valueAxes[n].gridAlpha=i.axisGridAlpha(),this._chart.valueAxes[n].dashLength=i.axisDashLength(),this._chart.valueAxes[n].labelFunction=function(t){return e.format(i.axisTickFormat())(t)},n++}for(var s=0;s<this.xAxes().length;s++){var o=this.xAxes()[s];this._chart.valueAxes[n].position=o.position()?o.position():"bottom",this._chart.valueAxes[n].axisAlpha=o.axisAlpha(),this._chart.valueAxes[n].title=o.axisTitle(),this._chart.valueAxes[n].axisThickness=o.axisLineWidth(),this._chart.valueAxes[n].axisColor=o.axisBaselineColor(),this._chart.valueAxes[n].color=o.axisFontColor(),this._chart.valueAxes[n].titleFontSize=o.axisTitleFontSize(),this._chart.valueAxes[n].titleColor=o.axisTitleFontColor(),this._chart.valueAxes[n].labelRotation=o.axisLabelRotation(),this._chart.valueAxes[n].autoGridCount=o.axisAutoGridCount(),this._chart.valueAxes[n].gridPosition=o.axisGridPosition(),this._chart.valueAxes[n].fillAlpha=o.axisFillAlpha(),this._chart.valueAxes[n].fillColor=o.axisFillColor(),this._chart.valueAxes[n].gridAlpha=o.axisGridAlpha(),this._chart.valueAxes[n].dashLength=o.axisDashLength(),o.axisType()==="ordinal"?(this._chart.valueAxes[n].integersOnly=!0,this._chart.valueAxes[n].labelFunction=function(e,n){return n>t.data().length?"":t.data().length&&n>0?t.data()[n-1][0]:""}):this._chart.valueAxes[n].labelFunction=function(t){return e.format(o.axisTickFormat())(t)},n++}if(this._dataUpdated>this._prevDataUpdated||this._columnsUpdated>this._prevColumnsUpdated)this._chart.dataProvider=this.formatData(this.data());return this._prevDataUpdated=this._dataUpdated,this._prevColumnsUpdated=this._columnsUpdated,this._chart.dataProvider.forEach(function(e,n){t._chart.dataProvider[n].color=t._palette(e[t.columns()[2]]),t._chart.dataProvider[n].linecolor=t.lineColor()!==null?t.lineColor():t._palette(e[t.columns()[2]])}),this._chart.colors=[],this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this.showCursor()?(this._chart.precision=this.xAxes()[0].axisType()==="ordinal"?1:undefined,this._chart.chartCursor.enabled=!0,this._chart.chartCursor.valueLineEnabled=!0,this._chart.chartCursor.valueLineBalloonEnabled=!0,this._chart.chartCursor.categoryBalloonEnabled=!0):(this._chart.precision=undefined,this._chart.chartCursor.enabled=!1,this._chart.chartCursor.valueLineEnabled=!1,this._chart.chartCursor.valueLineBalloonEnabled=!1,this._chart.chartCursor.categoryBalloonEnabled=!1),this._chart},s.prototype.buildGraphObj=function(e,t){var n=this,r={};return r.id="g"+t,r.balloonFunction=function(e){var t=n.columns()[e.graph.index]+": "+n.data()[e.index][e.graph.index];return t},r.lineAlpha=n.lineOpacity(),r.lineThickness=n.lineWidth(),r.bullet=n.bulletType(),r.bulletSize=n.bulletSize(),r.dashLength=n.dashedLineStyle(),r.lineAlpha=n.lineOpacity(),r.lineColor=n.lineColor(),r.lineThickness=n.lineWidth(),r.type=e,r.colorField="color"+t,r.lineColorField="linecolor",this.xAxes()[0].axisType()==="ordinal"&&(r.xField="idx",r.yField=n.columns()[t]),this.xAxes()[0].axisType()==="linear"&&(r.xField=n.columns()[0],r.yField=n.columns()[1]),r},s.prototype.formatData=function(e){var t=this,n=[];return e.forEach(function(e,r){var i={};t.columns().forEach(function(t,n){i[t]=e[n],i.idx=r+1}),n.push(i)}),n},s.prototype.enter=function(e,i){t.prototype.enter.apply(this,arguments),this.xAxes().length===0&&this.xAxes().push(this._xAxis),this.yAxes().length===0&&this.yAxes().push(this._yAxis);var s=this,o={type:"xy",addClassNames:!0,autoMargins:!0,chartScrollbar:{},valueAxes:[],chartCursor:{enabled:!1,valueLineEnabled:!1,valueLineBalloonEnabled:!1,categoryBalloonEnabled:!1,cursorAlpha:0,valueLineAlpha:.2,oneBalloonOnly:!0,balloonPointerOrientation:"vertical",valueBalloonsEnabled:!1},graphs:[{}],dataProvider:[{}],responsive:{enabled:!0}};typeof define=="function"&&define.amd&&(o.pathToImages=r.toUrl("amchartsImg")),this._chart=n.makeChart(e,o),this._chart.addListener("clickGraphItem",function(e){var t=e.graph,n=e.item.dataContext,r=t.colorField;n[r]!==null&&n[r]!==undefined?(delete n[r],s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected=null)):(n[r]=s.selectionColor(),s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected={field:r,data:n,cIdx:e.target.index,dIdx:e.index},s._selections.push(s._selected))),e.chart.validateData(),s.click(s.rowToObj(s.data()[e.index]),s.columns()[e.target.index],s._selected!==null)})},s.prototype.update=function(e,n){t.prototype.update.apply(this,arguments);var r=this;this.yAxes().forEach(function(e,t){t===0&&(r._yAxis=e),e._owningWidget=r}),this.xAxes().forEach(function(e,t){t===0&&(r._xAxis=e),e._owningWidget=r}),this.backwardsCompatible()?this.switchProperties(!0):this.switchProperties(!1),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},s.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},s.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},s.prototype.columns=function(e){return arguments.length&&this._columnsUpdated++,t.prototype.columns.apply(this,arguments)},s}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Funnel",["d3","./CommonFunnel","../api/I2DChart"],t):e.amchart_Funnel=t(e.d3,e.amchart_CommonFunnel,e.api_I2DChart)}(this,function(e,t,n){function r(){t.call(this)}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_Funnel",r.prototype.implements(n.prototype),r.prototype.publish("paletteID","default","set","Palette ID",r.prototype._palette.switch(),{tags:["Basic","Shared"]}),r.prototype.publish("neckHeightPercent",30,"number","Neck Height %",null,{tags:["Basic"]}),r.prototype.publish("neckWidthPercent",40,"number","Neck Width %",null,{tags:["Basic"]}),r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},r.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments),this._chart.balloonFunction=function(e){var t=e.title+", "+e.value;return t},this._chart.neckHeight=this.neckHeightPercent()+"%",this._chart.neckWidth=this.neckWidthPercent()+"%"},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},r}),function(){var e=window.AmCharts;e.AmGanttChart=e.Class({inherits:e.AmSerialChart,construct:function(t){this.type="gantt",e.AmGanttChart.base.construct.call(this,t),this.cname="AmGanttChart",this.period="ss"},initChart:function(){this.dataChanged&&this.processGanttData(),e.AmGanttChart.base.initChart.call(this)},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var t;this.graphs=[];var n=this.dataProvider;this.ganttDataProvider=[];var r=this.categoryField,i=this.startField,s=this.endField,o=this.durationField,u=this.startDateField,a=this.endDateField,f=this.colorField,l=this.period,h=e.getDate(this.startDate,this.dataDateFormat,"fff");this.categoryAxis.gridPosition="start",t=this.valueAxis,this.valueAxes=[t];var p;"date"==t.type&&(p=!0),t.minimumDate&&(t.minimumDate=e.getDate(t.minimumDate,d,l)),t.maximumDate&&(t.maximumDate=e.getDate(t.maximumDate,d,l)),isNaN(t.minimum)||(t.minimumDate=e.changeDate(new Date(h),l,t.minimum,!0,!0)),isNaN(t.maximum)||(t.maximumDate=e.changeDate(new Date(h),l,t.maximum,!0,!0));var d=this.dataDateFormat;if(n)for(t=0;t<n.length;t++){var v=n[t],m={};m[r]=v[r];var g=v[this.segmentsField],y;this.ganttDataProvider.push(m),v=v[f],this.colors[t]||(this.colors[t]=e.randomColor());if(g)for(var b=0;b<g.length;b++){var w=g[b],E=w[i],S=w[s],x=w[o];isNaN(E)&&(E=y),isNaN(x)||(S=E+x);var x="start_"+t+"_"+b,T="end_"+t+"_"+b;m[x]=E,m[T]=S;var N="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),C,k;for(k in N)C=N[k]+"Field",(y=this.graph[C])&&void 0!==w[y]&&(m[y+"_"+t+"_"+b]=w[y]);y=S;if(p){C=e.getDate(w[u],d,l);var L=e.getDate(w[a],d,l);h&&(isNaN(E)||(C=e.changeDate(new Date(h),l,E,!0,!0)),isNaN(S)||(L=e.changeDate(new Date(h),l,S,!0,!0))),m[x]=C.getTime(),m[T]=L.getTime()}S={},e.copyProperties(w,S),E={},e.copyProperties(this.graph,E,!0);for(k in N)C=N[k]+"Field",this.graph[C]&&(E[C]=N[k]+"_"+t+"_"+b);E.customData=S,E.segmentData=w,E.labelFunction=this.graph.labelFunction,E.balloonFunction=this.graph.balloonFunction,E.customBullet=this.graph.customBullet,E.type="column",E.openField=x,E.valueField=T,E.clustered=!1,w[f]&&(v=w[f]),E.columnWidth=w[this.columnWidthField],void 0===v&&(v=this.colors[t]),(w=this.brightnessStep)&&(v=e.adjustLuminosity(v,b*w/100)),void 0===this.graph.lineColor&&(E.lineColor=v),void 0===this.graph.fillColors&&(E.fillColors=v),this.graphs.push(E)}}}})}(),define("amcharts.gantt",["amcharts","amcharts.serial"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Gantt",["d3","../common/HTMLWidget","amcharts.gantt","../api/INDChart","require"],t):e.amchart_Gantt=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.api_INDChart,e.require)}(this,function(e,t,n,r,i){function s(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1,this._dateParserData=e.time.format("%Y-%m-%d").parse}s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.prototype._class+=" amchart_Gantt",s.prototype.implements(r.prototype),s.prototype.publish("paletteID","default","set","Palette ID",s.prototype._palette.switch(),{tags:["Basic","Shared"]}),s.prototype.publish("fontFamily","Verdana","string","Label Font Family",null,{tags:["Basic","Shared"]}),s.prototype.publish("fontSize",11,"number","Label Font Size",null,{tags:["Basic","Shared"]}),s.prototype.publish("fontColor","#000000","html-color","Label Font Color",null,{tags:["Basic","Shared"]}),s.prototype.publish("depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),s.prototype.publish("angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),s.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),s.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),s.prototype.publish("timePattern","%Y-%m-%d","string","Time Series Pattern"),s.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),s.prototype.publish("brightnessStep",0,"number","Brightness step",null,{tags:["Basic"]}),s.prototype.publish("columnWidth",.5,"number","column width",null,{tags:["Basic"]}),s.prototype.publish("minPeriod","DD","string","Value axis minimum period",null,{tags:["Basic"]}),s.prototype.publish("guides",[],"array","Vertical lines",null,{tags:["Intermediate"]});var o=s.prototype.timePattern;return s.prototype.timePattern=function(t){var n=o.apply(this,arguments);return arguments.length&&(this._dateParserData=e.time.format(t).parse),n},s.prototype.updateChartOptions=function(){var e=this;this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.depth3D=this.depth3D(),this._chart.angle=this.angle3D();if(this._dataUpdated>this._prevDataUpdated||this._prevTimePattern!==this.timePattern()){this._chart.dataProvider=[];var t=this.amFormattedData();for(var n in t){var r={};r.category=n,r.segments=[],t[n].forEach(function(t){var n={start:e._dateParserData(t[0]),end:e._dateParserData(t[1])};r.segments.push(n)}),this._chart.dataProvider.push(r)}}this._prevDataUpdated=this._dataUpdated,this._prevTimePattern=this.timePattern(),this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(n)}),this._chart.columnWidth=this.columnWidth(),this._chart.colorField="color",this._chart.valueAxes[0].type="date",this._chart.valueAxes[0].minPeriod=this.minPeriod(),this._chart.brightnessStep=this.brightnessStep()||undefined,this._chart.categoryField="category",this._chart.segmentsField="segments",this._chart.startDateField="start",this._chart.endDateField="end",this._chart.guides=this.guides()},s.prototype.amFormattedData=function(){var e={};return this.data().forEach(function(t){e[t[0]]||(e[t[0]]=[]),t.forEach(function(n,r){if(r===0)return;e[t[0]].push(n)})}),e},s.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var s=this,o={type:"gantt",theme:"none",autoMargins:!0,valueAxis:{},graph:{fillAlphas:1,balloonText:"<b>[[category]]</b>: [[open]] - [[value]]"},rotate:!0,dataProvider:[],chartScrollbar:{},"export":{enabled:!0}};typeof define=="function"&&define.amd&&(o.pathToImages=i.toUrl("amchartsImg")),this._chart=n.makeChart(e,o),this._chart.addListener("clickGraphItem",function(e){var t=e.graph.segmentData,n="color";t[n]!==null&&t[n]!==undefined?(delete t[n],s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected=null)):(t[n]=s.selectionColor(),s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected={field:n,data:t,colIndex:e.target.columnIndex,dIdx:e.index},s._selections.push(s._selected))),e.chart.validateData(),s.click(s.rowToObj(s.data()[e.index]),s.columns()[e.target.columnIndex+1],s._selected!==null)})},s.prototype.update=function(e,t){this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},s.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},s.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},s.prototype.columns=function(e){return arguments.length&&this._columnsUpdated++,t.prototype.columns.apply(this,arguments)},s}),function(){var e=window.AmCharts;e.GaugeAxis=e.Class({construct:function(t){this.cname="GaugeAxis",this.radius="95%",this.createEvents("rollOverBand","rollOutBand","clickBand"),this.labelsEnabled=!0,this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.gridCount=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=10,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,this.bcn="gauge-axis",e.applyTheme(this,t,"GaugeAxis")},value2angle:function(e){return(e-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(t){if(void 0!==t){this.topText=t;var n=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var r=this.topTextFontSize;r||(r=n.fontSize);var i=this.topTextColor;i||(i=n.color),t=e.text(n.container,t,i,n.fontFamily,r,void 0,this.topTextBold),e.setCN(n,t,"axis-top-label"),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.set.push(t),this.topTF=t}}},setBottomText:function(t){if(void 0!==t){this.bottomText=t;var n=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var r=this.bottomTextFontSize;r||(r=n.fontSize);var i=this.bottomTextColor;i||(i=n.color),t=e.text(n.container,t,i,n.fontFamily,r,void 0,this.bottomTextBold),e.setCN(n,t,"axis-bottom-label"),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.set.push(t)}}},draw:function(){var t=this.chart,n=t.container.set();this.set=n,e.setCN(t,n,this.bcn),e.setCN(t,n,this.bcn+"-"+this.id),t.graphsSet.push(n);var r=this.startValue,i=this.endValue,s=this.valueInterval;isNaN(s)&&(s=(i-r)/this.gridCount);var o=this.minorTickInterval;isNaN(o)&&(o=s/5);var u=this.startAngle,a=this.endAngle,f=this.tickLength,i=(i-r)/s+1,l=(a-u)/(i-1),h=l/s;this.singleValueAngle=h;var p=t.container,d=this.tickColor,v=this.tickAlpha,m=this.tickThickness,o=s/o,g=l/o,y=this.minorTickLength,b=this.labelFrequency,w=this.radiusReal;this.inside||(w-=15);var E=t.centerX+e.toCoordinate(this.centerX,t.realWidth),S=t.centerY+e.toCoordinate(this.centerY,t.realHeight);this.centerXReal=E,this.centerYReal=S;var x={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},T,N;this.gridInside?N=T=w:(T=w-f,N=T+y);var C=this.bands;if(C)for(var k=0;k<C.length;k++){var L=C[k];if(L){var A=L.startValue,O=L.endValue,M=e.toCoordinate(L.radius,w);isNaN(M)&&(M=N);var _=e.toCoordinate(L.innerRadius,w);isNaN(_)&&(_=M-y);var D=u+h*(A-this.startValue),O=h*(O-A),P=L.outlineColor;void 0==P&&(P=this.bandOutlineColor);var H=L.outlineThickness;isNaN(H)&&(H=this.bandOutlineThickness);var B=L.outlineAlpha;isNaN(B)&&(B=this.bandOutlineAlpha),A=L.alpha,isNaN(A)&&(A=this.bandAlpha),P={fill:L.color,stroke:P,"stroke-width":H,"stroke-opacity":B},L.url&&(P.cursor="pointer"),M=e.wedge(p,E,S,D,O,M,M,_,0,P),e.setCN(t,M.wedge,"axis-band"),void 0!==L.id&&e.setCN(t,M.wedge,"axis-band-"+L.id),M.setAttr("opacity",A),this.set.push(M),this.addEventListeners(M,L)}}h=this.axisThickness/2,a=e.wedge(p,E,S,u,a-u,T+h,T+h,T-h,0,x),e.setCN(t,a.wedge,"axis-line"),n.push(a),a=e.doNothing,e.isModern||(a=Math.round),s=e.roundTo(s,14),h=e.getDecimals(s);for(x=0;x<i;x++)if(C=r+x*s,T=u+x*l,k=a(E+w*Math.sin(T/180*Math.PI)),L=a(S-w*Math.cos(T/180*Math.PI)),M=a(E+(w-f)*Math.sin(T/180*Math.PI)),_=a(S-(w-f)*Math.cos(T/180*Math.PI)),k=e.line(p,[k,M],[L,_],d,v,m,0,!1,!1,!0),e.setCN(t,k,"axis-tick"),n.push(k),k=-1,M=this.labelOffset,this.inside||(M=-M-f,k=1),L=E+(w-f-M)*Math.sin(T/180*Math.PI),M=S-(w-f-M)*Math.cos(T/180*Math.PI),A=this.fontSize,isNaN(A)&&(A=t.fontSize),_=Math.sin((T-90)/180*Math.PI),D=Math.cos((T-90)/180*Math.PI),0<b&&this.labelsEnabled&&x/b==Math.round(x/b)&&(this.showLastLabel||x!=i-1)&&(this.showFirstLabel||0!==x)&&(O=this.usePrefixes?e.addPrefix(C,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,t.nf,!0):e.formatNumber(C,t.nf,h),(P=this.unit)&&(O="left"==this.unitPosition?P+O:O+P),(P=this.labelFunction)&&(O=P(C)),C=e.text(p,O,t.color,t.fontFamily,A),e.setCN(t,C,"axis-label"),A=C.getBBox(),C.translate(L+k*A.width/2*D,M+k*A.height/2*_),n.push(C)),x<i-1)for(C=1;C<o;C++)_=T+g*C,k=a(E+N*Math.sin(_/180*Math.PI)),L=a(S-N*Math.cos(_/180*Math.PI)),M=a(E+(N-y)*Math.sin(_/180*Math.PI)),_=a(S-(N-y)*Math.cos(_/180*Math.PI)),k=e.line(p,[k,M],[L,_],d,v,m,0,!1,!1,!0),e.setCN(t,k,"axis-tick-minor"),n.push(k);this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),t=t.graphsSet.getBBox(),this.width=t.width,this.height=t.height},addListeners:function(e,t){var n=this;t.mouseover(function(e){}).mouseout(function(t){n.fireEvent("rollOutBand",e,t)}).touchend(function(t){n.fireEvent("clickBand",e,t)}).touchstart(function(t){n.fireEvent("rollOverBand",e,t)}).click(function(t){n.fireEvent("clickBand",e,t)})},fireEvent:function(e,t,n){this.fire({type:e,dataItem:t,chart:this,event:n})},addEventListeners:function(t,n){var r=this,i=r.chart;t.mouseover(function(e){i.showBalloon(n.balloonText,n.color,!0),r.fireEvent("rollOverBand",n,e)}).mouseout(function(e){i.hideBalloon(),r.fireEvent("rollOutBand",n,e)}).click(function(t){r.fireEvent("clickBand",n,t),e.getURL(n.url,i.urlTarget)}).touchend(function(t){r.fireEvent("clickBand",n,t),e.getURL(n.url,i.urlTarget)})}})}(),function(){var e=window.AmCharts;e.GaugeArrow=e.Class({construct:function(t){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,e.applyTheme(this,t,"GaugeArrow")},setValue:function(e){var t=this.chart;t?t.setValue?t.setValue(this,e):this.previousValue=this.value=e:this.previousValue=this.value=e}}),e.GaugeBand=e.Class({construct:function(){this.cname="GaugeBand"}})}(),function(){var e=window.AmCharts;e.AmAngularGauge=e.Class({inherits:e.AmChart,construct:function(t){this.cname="AmAngularGauge",e.AmAngularGauge.base.construct.call(this,t),this.theme=t,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,e.applyTheme(this,t,this.cname)},addAxis:function(e){this.axes.push(e)},formatString:function(t,n){return t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){e.AmAngularGauge.base.initChart.call(this);var t;0===this.axes.length&&(t=new e.GaugeAxis(this.theme),this.addAxis(t));var n;for(n=0;n<this.axes.length;n++)t=this.axes[n],t=e.processObject(t,e.GaugeAxis,this.theme),t.id||(t.id="axisAuto"+n+"_"+(new Date).getTime()),t.chart=this,this.axes[n]=t;var r=this.arrows;for(n=0;n<r.length;n++){t=r[n],t=e.processObject(t,e.GaugeArrow,this.theme),t.id||(t.id="arrowAuto"+n+"_"+(new Date).getTime()),t.chart=this,r[n]=t;var i=t.axis;e.isString(i)&&(t.axis=e.getObjById(this.axes,i)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue)}this.setLegendData(r),this.drawChart(),this.totalFrames=this.startDuration*e.updateRate},drawChart:function(){e.AmAngularGauge.base.drawChart.call(this);var t=this.container,n=this.updateWidth();this.realWidth=n;var r=this.updateHeight();this.realHeight=r;var i=e.toCoordinate,s=i(this.marginLeft,n),o=i(this.marginRight,n),u=i(this.marginTop,r)+this.getTitleHeight(),a=i(this.marginBottom,r),f=i(this.radius,n,r),i=n-s-o,l=r-u-a+this.extraHeight;f||(f=Math.min(i,l)/2),f<this.minRadius&&(f=this.minRadius),this.radiusReal=f,this.centerX=(n-s-o)/2+s,this.centerY=(r-u-a)/2+u+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var n=this.faceAlpha,r=this.faceBorderAlpha,h;if(0<n||0<r)h=e.circle(t,f,this.faceColor,n,this.faceBorderWidth,this.faceBorderColor,r,!1),h.translate(this.centerX,this.centerY),h.toBack(),(t=this.facePattern)&&h.pattern(t,NaN,this.path);for(n=f=t=0;n<this.axes.length;n++)r=this.axes[n],s=r.radius,r.radiusReal=e.toCoordinate(s,this.radiusReal),r.draw(),o=1,-1!==String(s).indexOf("%")&&(o=1+(100-Number(s.substr(0,s.length-1)))/100),r.width*o>t&&(t=r.width*o),r.height*o>f&&(f=r.height*o);(n=this.legend)&&n.invalidateSize();if(this.adjustSize&&!this.sizeAdjusted){h&&(h=h.getBBox(),h.width>t&&(t=h.width),h.height>f&&(f=h.height)),h=0;if(l>f||i>t)h=Math.min(l-f,i-t);0<h&&(this.extraHeight=l-f,this.sizeAdjusted=!0,this.validateNow())}i=this.arrows.length;for(n=0;n<i;n++)l=this.arrows[n],l.drawnAngle=NaN;this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=!1,e.AmAngularGauge.base.validateSize.call(this)},addArrow:function(e){this.arrows.push(e)},removeArrow:function(t){e.removeFromArray(this.arrows,t),this.validateNow()},removeAxis:function(t){e.removeFromArray(this.axes,t),this.validateNow()},drawArrow:function(t,n){t.set&&t.set.remove();var r=this.container;t.set=r.set(),e.setCN(this,t.set,"gauge-arrow"),e.setCN(this,t.set,"gauge-arrow-"+t.id);if(!t.hidden){var i=t.axis,s=i.radiusReal,o=i.centerXReal,u=i.centerYReal,a=t.startWidth,f=t.endWidth,l=e.toCoordinate(t.innerRadius,i.radiusReal),h=e.toCoordinate(t.radius,i.radiusReal);i.inside||(h-=15);var p=t.nailColor;p||(p=t.color);var d=t.nailColor;d||(d=t.color),0<t.nailRadius&&(p=e.circle(r,t.nailRadius,p,t.nailAlpha,t.nailBorderThickness,p,t.nailBorderAlpha),e.setCN(this,p,"gauge-arrow-nail"),t.set.push(p),p.translate(o,u)),isNaN(h)&&(h=s-i.tickLength);var i=Math.sin(n/180*Math.PI),s=Math.cos(n/180*Math.PI),p=Math.sin((n+90)/180*Math.PI),v=Math.cos((n+90)/180*Math.PI),r=e.polygon(r,[o-a/2*p+l*i,o+h*i-f/2*p,o+h*i+f/2*p,o+a/2*p+l*i],[u+a/2*v-l*s,u-h*s+f/2*v,u-h*s-f/2*v,u-a/2*v-l*s],t.color,t.alpha,1,d,t.borderAlpha,void 0,!0);e.setCN(this,r,"gauge-arrow"),t.set.push(r),this.graphsSet.push(t.set)}},setValue:function(e,t){e.axis&&e.axis.value2angle&&(e.frame=0,e.previousValue=e.value),e.value=t;var n=this.legend;n&&n.updateValues()},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e)switch(t){case"hideItem":this.hideArrow(e);break;case"showItem":this.showArrow(e)}},hideArrow:function(e){e.set.hide(),e.hidden=!0},showArrow:function(e){e.set.show(),e.hidden=!1},updateAnimations:function(){e.AmAngularGauge.base.updateAnimations.call(this);for(var t=this.arrows.length,n,r=0;r<t;r++)if(n=this.arrows[r],n.axis&&n.axis.value2angle){var i;n.frame>=this.totalFrames?i=n.value:(n.frame++,n.clockWiseOnly&&n.value<n.previousValue&&(i=n.axis,n.previousValue-=i.endValue-i.startValue),i=e.getEffect(this.startEffect),i=e[i](0,n.frame,n.previousValue,n.value-n.previousValue,this.totalFrames),isNaN(i)&&(i=n.value)),i=n.axis.value2angle(i),n.drawnAngle!=i&&(this.drawArrow(n,i),n.drawnAngle=i)}}})}(),define("amcharts.gauge",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Gauge",["d3","../common/HTMLWidget","amcharts.gauge","../api/I1DChart","require"],t):e.amchart_Gauge=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.api_I1DChart,e.require)}(this,function(e,t,n,r,i){function s(){t.call(this),this._tag="div",this._chart={}}return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.prototype._class+=" amchart_Gauge",s.prototype.implements(r.prototype),s.prototype.publish("paletteID","default","set","Palette ID",s.prototype._palette.switch(),{tags:["Basic","Shared"]}),s.prototype.publish("low",0,"number","Gauge lower bound",null,{tags:["Intermediate","Shared"]}),s.prototype.publish("high",100,"number","Gauge higher bound",null,{tags:["Intermediate","Shared"]}),s.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),s.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),s.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),s.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Intermediate"]}),s.prototype.publish("colorType","a","set","",["a","b","c"],{tags:["Basic"]}),s.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),s.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),s.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),s.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),s.prototype.publish("numBands",null,"number","",null,{tags:["Intermediate"]}),s.prototype.publish("bandsColor",[],"array","Bands Color",null,{tags:["Basic"]}),s.prototype.publish("bandsStartValue",[],"array","Bands Start Value",null,{tags:["Advanced"]}),s.prototype.publish("bandsEndValue",[],"array","Bands End Value",null,{tags:["Advanced"]}),s.prototype.publish("bandsInnerRadius",[],"array","Bands Inner Radius",null,{tags:["Advanced"]}),s.prototype.publish("axisAlpha",.2,"number","Axis Alpha",null,{tags:["Intermediate"]}),s.prototype.publish("tickAlpha",.2,"number","Tick Alpha",null,{tags:["Intermediate"]}),s.prototype.publish("valueInterval",20,"number","Value Interval",null,{tags:["Advanced"]}),s.prototype.publish("bottomText","","string","Text Along Bottom",null,{tags:["Intermediate"]}),s.prototype.publish("bottomTextYOffset",-20,"number","Bottom Text Vertical Offset",null,{tags:["Intermediate"]}),s.prototype.publish("animatationDuration",2,"number","Animation Duration (sec)",null,{tags:["Intermediate"]}),s.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),s.prototype.updateChartOptions=function(){this._chart.type="gauge",this._chart.theme="none",this._chart.startDuration=this.animatationDuration(),this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.titles=[],this._chart.allLabels=[],this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.axes[0].axisThickness=this.axisLineWidth(),this._chart.axes[0].axisAlpha=this.axisAlpha(),this._chart.axes[0].tickAlpha=this.tickAlpha(),this._chart.axes[0].valueInterval=this.valueInterval(),this._chart.axes[0].bands=[],this._chart.axes[0].bottomText=this.bottomText(),this._chart.axes[0].bottomTextYOffset=this.bottomTextYOffset(),this._chart.axes[0].endValue=this.high(),this._chart.axes[0].startValue=this.low();var e,t;if(this.colorType()==="a")for(e=0,t=this.numBands();e<t;e++){var n={color:this.bandsColor()[e],startValue:this.bandsStartValue()[e],endValue:this.bandsEndValue()[e],innerRadius:this.bandsInnerRadius()[e]};this._chart.axes[0].bands.push(n)}if(this.colorType()==="b")for(e=0,t=this.high();e<t;e++){var r={color:this._palette(e,this.low(),this.high()),startValue:e,endValue:e+1,innerRadius:this.bandsInnerRadius()[0]};this._chart.axes[0].bands.push(r)}if(this.colorType()==="c"){var i={color:this._palette(this.data(),this.low(),this.high()),startValue:this.low(),endValue:this.high(),innerRadius:this.bandsInnerRadius()[0]};this._chart.axes[0].bands.push(i)}return this._chart.axes[0].bottomText=this.bottomText().replace("[[data]]",this.data()),this._chart},s.prototype.update=function(e,t){this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this.updateChartOptions(),this._chart.arrows[0].setValue(this.data()),this._chart.validateNow(),this._chart.validateData()},s.prototype.enter=function(e,t){e.style.width=this.size().width+"px",e.style.height=this.size().height+"px";var r={type:"gauge",addClassNames:!0,axes:[{}],arrows:[{}]};typeof define=="function"&&define.amd&&(r.pathToImages=i.toUrl("amchartsImg")),this._chart=n.makeChart(e,r)},s}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Line",["d3","./CommonSerial","../api/INDChart"],t):e.amchart_Line=t(e.d3,e.amchart_CommonSerial,e.api_INDChart)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._gType="line"}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_Line",r.prototype.implements(n.prototype),r.prototype.publish("paletteID","default","set","Palette ID",r.prototype._palette.switch(),{tags:["Basic","Shared"]}),r.prototype.publish("smoothLines",!1,"boolean","Causes chart data lines to draw smoothly",null,{tags:["Basic","Shared"]}),r.prototype.publish("stepLines",!1,"boolean","Causes chart data lines to draw smoothly",null,{tags:["Basic"]}),r.prototype.publish("bulletSize",6,"number","Bullet Size",null,{tags:["Intermediate"]}),r.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Basic"]}),r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},r.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},r.prototype.buildGraphs=function(e){function s(e,t){return this.stepLines()?e.type="step":this.smoothLines()?e.type="smoothedLine":e.type="line",e.bullet=this.bulletType(),e.bulletSize=this.bulletSize(),e}this._chart.graphs=[];for(var n=0;n<this.columns().length-1;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,n);this._chart.addGraph(i)}},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},r}),function(){var e=window.AmCharts;e.AmSlicedChart=e.Class({inherits:e.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),e.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,e.applyTheme(this,t,"AmSlicedChart")},initChart:function(){e.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(e){var t=e.type,n=e.dataItem,r=this.legend;if(!r.data&&n){var i=n.hidden;e=e.event;switch(t){case"clickMarker":i||r.switchable||this.clickSlice(n,e);break;case"clickLabel":i||this.clickSlice(n,e,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,e);break;case"rollOutItem":i||this.rollOutSlice(n,e);break;case"hideItem":this.hideSlice(n,e);break;case"showItem":this.showSlice(n,e)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var n=this;e.mouseover(function(e){n.rollOverSlice(t,!0,e)}).mouseout(function(e){n.rollOutSlice(t,e)}).touchend(function(e){n.rollOverSlice(t,e)}).touchstart(function(e){}).mouseup(function(e){n.clickSlice(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},formatString:function(t,n,r){t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=e.formatValue(t,n,["percents"],this.pf),t=e.massReplace(t,{"[[title]]":n.title,"[[description]]":n.description}),this.pf.precision=i,-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=r?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e),t.timeOuts.push(e)},pullSlices:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];r.pulled&&this.pullSlice(r,1,e)}},startSequenced:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,n=this.startDuration,r=e.labelSet;t&&0<n&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},n,this.startEffect)),r&&0<n&&(0<e.alpha&&r.show(),r.translate(e.startX,e.startY),r.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show(),(n=n.tick)&&n.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1,this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt);if(!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var i=t.balloonX,s=t.balloonY;t.pulled&&(i+=t.pullX,s+=t.pullY);var o=this.formatString(this.balloonText,t,!0),u=this.balloonFunction;u&&(o=u(t,o)),u=e.adjustLuminosity(t.color,-0.15),o?this.showBalloon(o,u,n,i,s):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:r})}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]),e.wedge&&e.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:e,chart:this,event:t})},clickSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),e.getURL(t.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:t,chart:this,event:n})},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]),this.fire({type:"rightClickSlice",dataItem:e,chart:this,event:t})},drawTicks:function(){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];if(r.label&&!r.skipTick){var i=r.ty,i=e.line(this.container,[r.tx0,r.tx,r.tx2],[r.ty0,i,i],this.labelTickColor,this.labelTickAlpha);e.setCN(this,i,this.type+"-tick"),e.setCN(this,i,r.className,!0),r.tick=i,r.wedge.push(i)}}},initialStart:function(){var e=this,t=e.startDuration,n=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(n),e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,n){var r=this.pullOutDuration;!0===n&&(r=0);if(n=e.wedge)0<r?(n.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(t*e.pullX,t*e.pullY),n.translate(t*e.pullX,t*e.pullY));1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this}),this.fire(e)},pullInAll:function(e){var t=this.chartData,n;for(n=0;n<this.chartData.length;n++)n!=e&&t[n].pulled&&this.pullSlice(t[n],0)},pullOutAll:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var n=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==n){var r=n.length,i=0,s,o,u;for(s=0;s<r;s++){o={};var a=n[s];o.dataContext=a,null!==a[this.valueField]&&(o.value=Number(a[this.valueField])),(u=a[this.titleField])||(u=""),o.title=u,o.pulled=e.toBoolean(a[this.pulledField],!1),(u=a[this.descriptionField])||(u=""),o.description=u,o.labelRadius=Number(a[this.labelRadiusField]),o.switchable=!0,o.className=a[this.classNameField],o.url=a[this.urlField],u=a[this.patternField],!u&&this.patterns&&(u=this.patterns[s]),o.pattern=u,o.visibleInLegend=e.toBoolean(a[this.visibleInLegendField],!0),u=a[this.alphaField],o.alpha=void 0!==u?Number(u):this.alpha,u=a[this.colorField],void 0!==u&&(o.color=u),o.labelColor=e.toColor(a[this.labelColorField]),i+=o.value,o.hidden=!1,t[s]=o}for(s=n=0;s<r;s++)o=t[s],o.percents=o.value/i*100,o.percents<this.groupPercent&&n++;1<n&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/i*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),r=this.baseColor,r||(r=this.pieBaseColor),i=this.brightnessStep,i||(i=this.pieBrightnessStep);for(s=0;s<t.length;s++)r?u=e.adjustLuminosity(r,s*i/100):(u=this.colors[s],void 0===u&&(u=e.randomColor())),void 0===t[s].color&&(t[s].color=u);this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,t=0,n,r;for(n=0;n<e.length;n++)r=e[n],!r.hidden&&0<r.value&&(t+=r.value);for(n=0;n<e.length;n++)r=this.chartData[n],r.percents=!r.hidden&&0<r.value?100*r.value/t:0},removeSmallSlices:function(){var e=this.chartData,t;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var n=e.chartData[t];n.started=!1;var r=n.wedge;r&&(r.setAttr("opacity",e.startAlpha),r.translate(n.startX,n.startY));if(r=n.labelSet)r.setAttr("opacity",e.startAlpha),r.translate(n.startX,n.startY)}t=e.startDuration,0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var t=this.chartData,n=0,r;for(r=0;r<t.length;r++){var i=t[r],s=this.formatString(this.labelText,i),o=this.labelFunction;o&&(s=o(i,s)),i=e.text(this.container,s,this.color,this.fontFamily,this.fontSize),s=i.getBBox().width,s>n&&(n=s),i.remove()}return n}})}(),function(){var e=window.AmCharts;e.AmPieChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="pie",e.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){e.VML&&(this.startAlpha=1);var n=this.startDuration,r=this.container,i=this.updateWidth();this.realWidth=i;var s=this.updateHeight();this.realHeight=s;var o=e.toCoordinate,u=o(this.marginLeft,i),a=o(this.marginRight,i),f=o(this.marginTop,s)+this.getTitleHeight(),l=o(this.marginBottom,s),c,h,p,d=e.toNumber(this.labelRadius),v=this.measureMaxLabel();v>this.maxLabelWidth&&(v=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(d=v=0),c=void 0===this.pieX?(i-u-a)/2+u:o(this.pieX,this.realWidth),h=void 0===this.pieY?(s-f-l)/2+f:o(this.pieY,s),p=o(this.radius,i,s),p||(i=0<=d?i-u-a-2*v:i-u-a,s=s-f-l,p=Math.min(i,s),s<i&&(p/=1-this.angle/90,p>i&&(p=i)),s=e.toCoordinate(this.pullOutRadius,p),p=(0<=d?p-1.8*(d+s):p-1.8*s)/2),p<this.minRadius&&(p=this.minRadius),s=o(this.pullOutRadius,p),f=e.toCoordinate(this.startRadius,p),o=o(this.innerRadius,p),o>=p&&(o=p-1),l=e.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(l=270<=l?270:90),l-=90,360<l&&(l-=360),i=p-p*this.angle/90;for(u=v=0;u<t.length;u++)a=t[u],!0!==a.hidden&&(v+=e.roundTo(a.percents,this.pf.precision));v=e.roundTo(v,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=v&&(this.tempPrec=this.pf.precision+1);for(var m,u=0;u<t.length;u++)if(a=t[u],!0!==a.hidden&&(this.showZeroSlices||0!==a.percents)){var g=360*a.percents/100,v=Math.sin((l+g/2)/180*Math.PI),y=i/p*-Math.cos((l+g/2)/180*Math.PI),b=this.outlineColor;b||(b=a.color);var w=this.alpha;isNaN(a.alpha)||(w=a.alpha),b={fill:a.color,stroke:b,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":w},a.url&&(b.cursor="pointer"),b=e.wedge(r,c,h,l,g,p,i,o,this.depth3D,b,this.gradientRatio,a.pattern,this.path,this.gradientType),e.setCN(this,b,"pie-item"),e.setCN(this,b.wedge,"pie-slice"),e.setCN(this,b,a.className,!0),this.addEventListeners(b,a),a.startAngle=l,t[u].wedge=b,0<n&&(this.chartCreated||b.setAttr("opacity",this.startAlpha)),a.ix=v,a.iy=y,a.wedge=b,a.index=u,a.label=null,w=r.set();if(this.labelsEnabled&&this.labelText&&a.percents>=this.hideLabelsPercent){var E=l+g/2;0>E&&(E+=360),360<E&&(E-=360);var S=d;isNaN(a.labelRadius)||(S=a.labelRadius,0>S&&(a.skipTick=!0));var g=c+v*(p+S),x=h+y*(p+S),T,N=0;isNaN(m)&&350<E&&1<t.length-u&&(m=u-1+Math.floor((t.length-u)/2));if(0<=S){var C;90>=E&&0<=E?(C=0,T="start",N=8):90<=E&&180>E?(C=1,T="start",N=8):180<=E&&270>E?(C=2,T="end",N=-8):270<=E&&354>=E?(C=3,T="end",N=-8):354<=E&&(u>m?(C=0,T="start",N=8):(C=3,T="end",N=-8)),a.labelQuarter=C}else T="middle";E=this.formatString(this.labelText,a),(S=this.labelFunction)&&(E=S(a,E)),S=a.labelColor,S||(S=this.color),""!==E&&(E=e.wrappedText(r,E,S,this.fontFamily,this.fontSize,T,!1,this.maxLabelWidth),e.setCN(this,E,"pie-label"),e.setCN(this,E,a.className,!0),E.translate(g+1.5*N,x),E.node.style.pointerEvents="none",a.ty=x,a.textX=g+1.5*N,w.push(E),this.axesSet.push(w),a.labelSet=w,a.label=E),a.tx=g,a.tx2=g+N,a.tx0=c+v*p,a.ty0=h+y*p}g=o+(p-o)/2,a.pulled&&(g+=this.pullOutRadiusReal),a.balloonX=v*g+c,a.balloonY=y*g+h,a.startX=Math.round(v*f),a.startY=Math.round(y*f),a.pullX=Math.round(v*s),a.pullY=Math.round(y*s),this.graphsSet.push(b);if(0===a.alpha||0<n&&!this.chartCreated)b.hide(),w&&w.hide();l+=360*a.percents/100,360<l&&(l-=360)}0<d&&this.arrangeLabels(),this.pieXReal=c,this.pieYReal=h,this.radiusReal=p,this.innerRadiusReal=o,0<d&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){var e=this.chartData,t=e.length,n,r;for(r=t-1;0<=r;r--)n=e[r],0!==n.labelQuarter||n.hidden||this.checkOverlapping(r,n,0,!0,0);for(r=0;r<t;r++)n=e[r],1!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,1,!1,0);for(r=t-1;0<=r;r--)n=e[r],2!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,2,!0,0);for(r=0;r<t;r++)n=e[r],3!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,3,!1,0)},checkOverlapping:function(e,t,n,r,i){var s,o,u=this.chartData,a=u.length,f=t.label;if(f){if(!0===r)for(o=e+1;o<a;o++)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=a);else for(o=e-1;0<=o;o--)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=0);!0===s&&100>i&&isNaN(t.labelRadius)&&(s=t.ty+3*t.iy,t.ty=s,f.translate(t.textX,s),this.checkOverlapping(e,t,n,r,i+1))}},checkOverlappingReal:function(t,n,r){var i=!1,s=t.label,o=n.label;return t.labelQuarter!=r||t.hidden||n.hidden||!o||(s=s.getBBox(),r={},r.width=s.width,r.height=s.height,r.y=t.ty,r.x=t.tx,t=o.getBBox(),o={},o.width=t.width,o.height=t.height,o.y=n.ty,o.x=n.tx,e.hitTest(r,o)&&(i=!0)),i}})}(),define("amcharts.pie",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Pie",["d3","../common/HTMLWidget","amcharts.pie","../api/I2DChart","require"],t):e.amchart_Pie=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.api_I2DChart,e.require)}(this,function(e,t,n,r,i){function s(){t.call(this),this._tag="div",this._chart={},this._selected=null,this._selections=[],this._dataUpdated=0,this._prevDataUpdated=-1,this._columnsUpdated=0,this._prevColumnsUpdated=-1}return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.prototype._class+=" amchart_Pie",s.prototype.implements(r.prototype),s.prototype.publish("paletteID","default","set","Palette ID",s.prototype._palette.switch(),{tags:["Basic","Shared"]}),s.prototype.publish("fontSize",11,"number","Font Size",null,{tags:["Basic","Shared"]}),s.prototype.publish("fontFamily","Verdana","string","Font Name",null,{tags:["Basic","Shared","Shared"]}),s.prototype.publish("fontColor","#000000","html-color","Font Color",null,{tags:["Basic","Shared"]}),s.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),s.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),s.prototype.publish("marginLeft",0,"number","Margin (Left)",null,{tags:["Intermediate"]}),s.prototype.publish("marginRight",0,"number","Margin (Right)",null,{tags:["Intermediate"]}),s.prototype.publish("marginTop",0,"number","Margin (Top)",null,{tags:["Intermediate"]}),s.prototype.publish("marginBottom",0,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),s.prototype.publish("reverseDataSorting",!1,"boolean","Reverse Data Sorting",null,{tags:["Intermediate"]}),s.prototype.publish("holePercent",0,"number","Hole Size (Percent)",null,{tags:["Basic"]}),s.prototype.publish("radius",null,"number","Radius",null,{tags:["Basic"]}),s.prototype.publish("pieAlpha",[],"array","Individual Alpha per Slice",null,{tags:["Private"]}),s.prototype.publish("labelPosition","outside","set","Label Position",["inside","outside"],{tags:["Intermediate"]}),s.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),s.prototype.publish("selectionMode","simple","set","Selection Mode",["simple","multi"],{tags:["Intermediate"]}),s.prototype.publish("selectionColor","#f00","html-color","Font Color",null,{tags:["Basic"]}),s.prototype.calcRadius=function(e){return Math.min(this._size.width,this._size.height)/2-2},s.prototype.updateChartOptions=function(){this._chart.type="pie",this._chart.labelsEnabled=!0,this.labelPosition()==="inside"?(this._chart.radius="50%",this._chart.labelRadius=-40,this._chart.pullOutRadius="20%"):(this._chart.radius=this.calcRadius(),this._chart.labelRadius=20,this._chart.pullOutRadius="20%"),this._chart.labelFunction=function(e){return e.title},this._chart.marginRight=this.marginRight(),this._chart.marginLeft=this.marginLeft(),this._chart.marginTop=this.marginTop(),this._chart.marginBottom=this.marginBottom(),this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.innerRadius=this.holePercent()+"%",this._chart.fontFamily=this.fontFamily(),this._chart.fontSize=this.fontSize(),this._chart.fontSize=this.fontSize(),this._chart.color=this.fontColor(),this._chart.titleField=this.columns()[0],this._chart.valueField=this.columns()[1];var e;this.reverseDataSorting()?e=function(e,t){return e[1]<t[1]?1:-1}:e=function(e,t){return e[1]>t[1]?1:-1},this.data().sort(e),this._chart.colorField="sliceColor";if(this._dataUpdated>this._prevDataUpdated||this._columnsUpdated>this._prevColumnsUpdated)this._chart.dataProvider=this.formatData(this.data());return this._prevDataUpdated=this._dataUpdated,this._prevColumnsUpdated=this._columnsUpdated,this._chart.colors=this.data().map(function(e){return this._palette(e[0])},this),this._chart.pullOutOnlyOne=this.selectionMode()==="simple",this.pieAlpha().forEach(function(e,t){typeof this._chart.chartData[t]=="undefined"&&(this._chart.chartData[t]={}),this._chart.chartData[t].alpha=e},this),this._chart},s.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n.columns().forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},s.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var s=this,o={type:"pie",addClassNames:!0,theme:"none"};typeof define=="function"&&define.amd&&(o.pathToImages=i.toUrl("amchartsImg")),this._chart=n.makeChart(e,o),this._chart.addListener("clickSlice",function(e){var t=e.chart.colorField,n=e.dataItem.dataContext;n[t]!==null&&n[t]!==undefined?(delete n[t],s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected=null)):(n[t]=s.selectionColor(),s.selectionMode()==="simple"&&(s._selected!==null&&delete s._selected.data[s._selected.field],s._selected={field:t,data:n,cIdx:1,dIdx:e.dataItem.index},s._selections.push(s._selected))),e.chart.validateData(),s.click(s.rowToObj(s.data()[e.dataItem.index]),s.columns()[1],s._selected!==null)})},s.prototype.update=function(e,t){this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},s.prototype.render=function(e){return t.prototype.render.apply(this,arguments)},s.prototype.postUpdate=function(t,n){var r=this,i=r._element.select("svg").node().getBoundingClientRect();this.d3LabelSelection=n.selectAll(".amcharts-pie-label");var s=[],o=[],u=[],a=[];this.d3LabelSelection.each(function(t,n){var r=e.select(this).node().getBoundingClientRect(),f=r.top;f<i.top&&u.push(f-i.top);var l=r.bottom;l>i.bottom&&a.push(i.bottom-f);var c=r.right;c>i.right&&o.push(i.right-c);var h=r.left;h<i.left&&s.push(h-i.left)});var f=u.length?e.min(u):0,l=a.length?e.min(a):0,c=o.length?e.min(o):0,h=s.length?e.min(s):0,p=0;f<0&&(p+=f),l<0&&(p+=l),c<0&&(p+=c),h<0&&(p+=h),this.calcRadius()+p-20<this.calcRadius()&&(this._chart.radius=this.calcRadius()+p-20,this._chart.validateNow())},s.prototype.data=function(e){return arguments.length&&this._dataUpdated++,t.prototype.data.apply(this,arguments)},s.prototype.columns=function(e){return arguments.length&&this._columnsUpdated++,t.prototype.columns.apply(this,arguments)},s}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Polar",["d3","./CommonRadar","amcharts.radar","../api/INDChart"],t):e.amchart_Polar=t(e.d3,e.amchart_CommonRadar,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Polar",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function s(e,t){return e.valueField=t,e}this._chart.graphs=[];for(var n=0;n<this.columns().length-1;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,this._valueField[n],n);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Pyramid",["d3","./CommonFunnel","amcharts.funnel","../api/I2DChart"],t):e.amchart_Pyramid=t(e.d3,e.amchart_CommonFunnel,e.amcharts,e.api_I2DChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Pyramid",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments)},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments)},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Scatter",["d3","./CommonXY","amcharts.xy","../api/INDChart"],t):e.amchart_Scatter=t(e.d3,e.amchart_CommonXY,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._type="Scatter",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Scatter",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("scatterType","scatter","set","Bullet Type",["scatter","bubble"],{tags:["Basic"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function s(e){return this.scatterType()==="bubble"?e.valueField=this.columns()[2]:delete e.valueField,e}this._chart.graphs=[];for(var n=0;n<this.columns().length;n++){var r=t.prototype.buildGraphObj.call(this,e,n),i=s.call(this,r,n);this._chart.addGraph(i)}},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),define("hpcc-viz-amchart",function(){});