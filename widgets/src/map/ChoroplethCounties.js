"use strict";
(function (root, factory) {
    if (typeof define === "function" && define.amd) {
        define(["d3/d3", "./Choropleth", "topojson/topojson", "./us-counties"], factory);
    } else {
        root.map_ChoroplethCounties = factory(root.d3, root.map_Choropleth, root.topojson, root.usCounties);
    }
}(this, function (d3, Choropleth, topojson, usCounties) {
    function ChoroplethCounties() {
        Choropleth.call(this);
        this._class = "map_ChoroplethCounties";

        this.projection("albersUsaPr");
    };
    ChoroplethCounties.prototype = Object.create(Choropleth.prototype);

    ChoroplethCounties.prototype.testData = function () {
        function categorize_choro(arr, cat_count){
            cat_count = typeof (cat_count) !== 'undefined' ? cat_count : 30;
            arr = arr.sort(function(a,b){return a[1] > b[1] ? 1 : -1;});
            arr.forEach(function(n,i){
                arr[i][1] = Math.floor(i / Math.ceil(arr.length/cat_count));
            });
            return arr;
        }
        
        var cArr = []; 
        var county_population = {1001:54571,1003:182265,1005:27457,1007:22915,1009:57322,1011:10914,1013:20947,1015:118572,1017:34215,1019:25989,1021:43643,1023:13859,1025:25833,1027:13932,1029:14972,1031:49948,1033:54428,1035:13228,1037:11539,1039:37765,1041:13906,1043:80406,1045:50251,1047:43820,1049:71109,1051:79303,1053:38319,1055:104430,1057:17241,1059:31704,1061:26790,1063:9045,1065:15760,1067:17302,1069:101547,1071:53227,1073:658466,1075:14564,1077:92709,1079:34339,1081:140247,1083:82782,1085:11299,1087:21452,1089:334811,1091:21027,1093:30776,1095:93019,1097:412992,1099:23068,1101:229363,1103:119490,1105:10591,1107:19746,1109:32899,1111:22913,1113:52947,1115:83593,1117:195085,1119:13763,1121:82291,1123:41616,1125:194656,1127:67023,1129:17581,1131:11670,1133:24484,2013:3141,2016:5561,2020:291826,2050:17013,2060:997,2068:1826,2070:4847,2090:97581,2100:2508,2105:2150,2110:31275,2122:55400,2130:13477,2150:13592,2164:1631,2170:88995,2180:9492,2185:9430,2188:7523,2195:3815,2198:5559,2220:8881,2230:968,2240:7029,2261:9636,2270:7459,2275:2369,2282:662,2290:5588,4001:71518,4003:131346,4005:134421,4007:53597,4009:37220,4011:8437,4012:20489,4013:3817117,4015:200186,4017:107449,4019:980263,4021:375770,4023:47420,4025:211033,4027:195751,5001:19019,5003:21853,5005:41513,5007:221339,5009:36903,5011:11508,5013:5368,5015:27446,5017:11800,5019:22995,5021:16083,5023:25970,5025:8689,5027:24552,5029:21273,5031:96443,5033:61948,5035:50902,5037:17870,5039:8116,5041:13008,5043:18509,5045:113237,5047:18125,5049:12245,5051:96024,5053:17853,5055:42090,5057:22609,5059:32923,5061:13789,5063:36647,5065:13696,5067:17997,5069:77435,5071:25540,5073:7645,5075:17415,5077:10424,5079:14134,5081:13171,5083:22353,5085:68356,5087:15717,5089:16653,5091:43462,5093:46480,5095:8149,5097:9487,5099:8997,5101:8330,5103:26120,5105:10445,5107:21757,5109:11291,5111:24583,5113:20662,5115:61754,5117:8715,5119:382748,5121:17969,5123:28258,5125:107118,5127:11233,5129:8195,5131:125744,5133:17058,5135:17264,5137:12394,5139:41639,5141:17295,5143:203065,5145:77076,5147:7260,5149:22185,6001:1510271,6003:1175,6005:38091,6007:220000,6009:45578,6011:21419,6013:1049025,6015:28610,6017:181058,6019:930450,6021:28122,6023:134623,6025:174528,6027:18546,6029:839631,6031:152982,6033:64665,6035:34895,6037:9818605,6039:150865,6041:252409,6043:18251,6045:87841,6047:255793,6049:9686,6051:14202,6053:415057,6055:136484,6057:98764,6059:3010232,6061:348432,6063:20007,6065:2189641,6067:1418788,6069:55269,6071:2035210,6073:3095313,6075:805235,6077:685306,6079:269637,6081:718451,6083:423895,6085:1781642,6087:262382,6089:177223,6091:3240,6093:44900,6095:413344,6097:483878,6099:514453,6101:94737,6103:63463,6105:13786,6107:442179,6109:55365,6111:823318,6113:200849,6115:72155,8001:441603,8003:15445,8005:572003,8007:12084,8009:3788,8011:6499,8013:294567,8014:55889,8015:17809,8017:1836,8019:9088,8021:8256,8023:3524,8025:5823,8027:4255,8029:30952,8031:600158,8033:2064,8035:285465,8037:52197,8039:23086,8041:622263,8043:46824,8045:56389,8047:5441,8049:14843,8051:15324,8053:843,8055:6711,8057:1394,8059:534543,8061:1398,8063:8270,8065:7310,8067:51334,8069:299630,8071:15507,8073:5467,8075:22709,8077:146723,8079:712,8081:13795,8083:25535,8085:41276,8087:28159,8089:18831,8091:4436,8093:16206,8095:4442,8097:17148,8099:12551,8101:159063,8103:6666,8105:11982,8107:23509,8109:6108,8111:699,8113:7359,8115:2379,8117:27994,8119:23350,8121:4814,8123:252825,8125:10043,9001:916829,9003:894014,9005:189927,9007:165676,9009:862477,9011:274055,9013:152691,9015:118428,10001:162310,10003:538479,10005:197145,11001:601723,12001:247336,12003:27115,12005:168852,12007:28520,12009:543376,12011:1748066,12013:14625,12015:159978,12017:141236,12019:190865,12021:321520,12023:67531,12027:34862,12029:16422,12031:864263,12033:297619,12035:95696,12037:11549,12039:46389,12041:16939,12043:12884,12045:15863,12047:14799,12049:27731,12051:39140,12053:172778,12055:98786,12057:1229226,12059:19927,12061:138028,12063:49746,12065:14761,12067:8870,12069:297052,12071:618754,12073:275487,12075:40801,12077:8365,12079:19224,12081:322833,12083:331298,12085:146318,12086:2496435,12087:73090,12089:73314,12091:180822,12093:39996,12095:1145956,12097:268685,12099:1320134,12101:464697,12103:916542,12105:602095,12107:74364,12109:190039,12111:277789,12113:151372,12115:379448,12117:422718,12119:93420,12121:41551,12123:22570,12125:15535,12127:494593,12129:30776,12131:55043,12133:24896,13001:18236,13003:8375,13005:11096,13007:3451,13009:45720,13011:18395,13013:69367,13015:100157,13017:17634,13019:19286,13021:155547,13023:13063,13025:18411,13027:16243,13029:30233,13031:70217,13033:23316,13035:23655,13037:6694,13039:50513,13043:10998,13045:110527,13047:63942,13049:12171,13051:265128,13053:11267,13055:26015,13057:214346,13059:116714,13061:3183,13063:259424,13065:6798,13067:688078,13069:42356,13071:45498,13073:124053,13075:17212,13077:127317,13079:12630,13081:23439,13083:16633,13085:22330,13087:27842,13089:691893,13091:21796,13093:14918,13095:94565,13097:132403,13099:11008,13101:4034,13103:52250,13105:20166,13107:22598,13109:11000,13111:23682,13113:106567,13115:96317,13117:175511,13119:22084,13121:920581,13123:28292,13125:3082,13127:79626,13129:55186,13131:25011,13133:15994,13135:805321,13137:43041,13139:179684,13141:9429,13143:28780,13145:32024,13147:25213,13149:11834,13151:203922,13153:139900,13155:9538,13157:60485,13159:13900,13161:15068,13163:16930,13165:8340,13167:9980,13169:28669,13171:18317,13173:10078,13175:48434,13177:28298,13179:63453,13181:7996,13183:14464,13185:109233,13187:29966,13189:21875,13191:14333,13193:14740,13195:28120,13197:8742,13199:21992,13201:6125,13205:23498,13207:26424,13209:9123,13211:17868,13213:39628,13215:189885,13217:99958,13219:32808,13221:14899,13223:142324,13225:27695,13227:29431,13229:18758,13231:17869,13233:41475,13235:12010,13237:21218,13239:2513,13241:16276,13243:7719,13245:200549,13247:85215,13249:5010,13251:14593,13253:8729,13255:64073,13257:26175,13259:6058,13261:32819,13263:6865,13265:1717,13267:25520,13269:8906,13271:16500,13273:9315,13275:44720,13277:40118,13279:27223,13281:10471,13283:6885,13285:67044,13287:8930,13289:9023,13291:21356,13293:27153,13295:68756,13297:83768,13299:36312,13301:5834,13303:21187,13305:30099,13307:2799,13309:7421,13311:27144,13313:102599,13315:9255,13317:10593,13319:9563,13321:21679,15001:185079,15003:953207,15005:90,15007:67091,15009:154834,16001:392365,16003:3976,16005:82839,16007:5986,16009:9285,16011:45607,16013:21376,16015:7028,16017:40877,16019:104234,16021:10972,16023:2891,16025:1117,16027:188923,16029:6963,16031:22952,16033:982,16035:8761,16037:4368,16039:27038,16041:12786,16043:13242,16045:16719,16047:15464,16049:16267,16051:26140,16053:22374,16055:138494,16057:37244,16059:7936,16061:3821,16063:5208,16065:37536,16067:20069,16069:39265,16071:4286,16073:11526,16075:22623,16077:7817,16079:12765,16081:10170,16083:77230,16085:9862,16087:10198,17001:67103,17003:8238,17005:17768,17007:54165,17009:6937,17011:34978,17013:5089,17015:15387,17017:13642,17019:201081,17021:34800,17023:16335,17025:13815,17027:37762,17029:53873,17031:5194675,17033:19817,17035:11048,17037:105160,17039:16561,17041:19980,17043:916924,17045:18576,17047:6721,17049:34242,17051:22140,17053:14081,17055:39561,17057:37069,17059:5589,17061:13886,17063:50063,17065:8457,17067:19104,17069:4320,17071:7331,17073:50486,17075:29718,17077:60218,17079:9698,17081:38827,17083:22985,17085:22678,17087:12582,17089:515269,17091:113449,17093:114736,17095:52919,17097:703462,17099:113924,17101:16833,17103:36031,17105:38950,17107:30305,17109:32612,17111:308760,17113:169572,17115:110768,17117:47765,17119:269282,17121:39437,17123:12640,17125:14666,17127:15429,17129:12705,17131:16434,17133:32957,17135:30104,17137:35547,17139:14846,17141:53497,17143:186494,17145:22350,17147:16729,17149:16430,17151:4470,17153:6161,17155:6006,17157:33476,17159:16233,17161:147546,17163:270056,17165:24913,17167:197465,17169:7544,17171:5355,17173:22363,17175:5994,17177:47711,17179:135394,17181:17808,17183:81625,17185:11947,17187:17707,17189:14716,17191:16760,17193:14665,17195:58498,17197:677560,17199:66357,17201:295266,17203:38664,18001:34387,18003:355329,18005:76794,18007:8854,18009:12766,18011:56640,18013:15242,18015:20155,18017:38966,18019:110232,18021:26890,18023:33224,18025:10713,18027:31648,18029:50047,18031:25740,18033:42223,18035:117671,18037:41889,18039:197559,18041:24277,18043:74578,18045:17240,18047:23087,18049:20836,18051:33503,18053:70061,18055:33165,18057:274569,18059:70002,18061:39364,18063:145448,18065:49462,18067:82752,18069:37124,18071:42376,18073:33478,18075:21253,18077:32428,18079:28525,18081:139654,18083:38440,18085:77358,18087:37128,18089:496005,18091:111467,18093:46134,18095:131636,18097:903393,18099:47051,18101:10334,18103:36903,18105:137974,18107:38124,18109:68894,18111:14244,18113:47536,18115:6128,18117:19840,18119:21575,18121:17339,18123:19338,18125:12845,18127:164343,18129:25910,18131:13402,18133:37963,18135:26171,18137:28818,18139:17392,18141:266931,18143:24181,18145:44436,18147:20952,18149:23363,18151:34185,18153:21475,18155:10613,18157:172780,18159:15936,18161:7516,18163:179703,18165:16212,18167:107848,18169:32888,18171:8508,18173:59689,18175:28262,18177:68917,18179:27636,18181:24643,18183:33292,19001:7682,19003:4029,19005:14330,19007:12887,19009:6119,19011:26076,19013:131090,19015:26306,19017:24276,19019:20958,19021:20260,19023:14867,19025:9670,19027:20816,19029:13956,19031:18499,19033:44151,19035:12072,19037:12439,19039:9286,19041:16667,19043:18129,19045:49116,19047:17096,19049:66135,19051:8753,19053:8457,19055:17764,19057:40325,19059:16667,19061:93653,19063:10302,19065:20880,19067:16303,19069:10680,19071:7441,19073:9336,19075:12453,19077:10954,19079:15673,19081:11341,19083:17534,19085:14928,19087:20145,19089:9566,19091:9815,19093:7089,19095:16355,19097:19848,19099:36842,19101:16843,19103:130882,19105:20638,19107:10511,19109:15543,19111:35862,19113:211226,19115:11387,19117:8898,19119:11581,19121:15679,19123:22381,19125:33309,19127:40648,19129:15059,19131:10776,19133:9243,19135:7970,19137:10740,19139:42745,19141:14398,19143:6462,19145:15932,19147:9421,19149:24986,19151:7310,19153:430640,19155:93158,19157:18914,19159:5131,19161:10350,19163:165224,19165:12167,19167:33704,19169:89542,19171:17767,19173:6317,19175:12534,19177:7570,19179:35625,19181:46225,19183:21704,19185:6403,19187:38013,19189:10866,19191:21056,19193:102172,19195:7598,19197:13229,20001:13371,20003:8102,20005:16924,20007:4861,20009:27674,20011:15173,20013:9984,20015:65880,20017:2790,20019:3669,20021:21603,20023:2726,20025:2215,20027:8535,20029:9533,20031:8601,20033:1891,20035:36311,20037:39134,20039:2961,20041:19754,20043:7945,20045:110826,20047:3037,20049:2882,20051:28452,20053:6497,20055:36776,20057:33848,20059:25992,20061:34362,20063:2695,20065:2597,20067:7829,20069:6006,20071:1247,20073:6689,20075:2690,20077:6034,20079:34684,20081:4256,20083:1916,20085:13462,20087:19126,20089:3077,20091:544179,20093:3977,20095:7858,20097:2553,20099:21607,20101:1750,20103:76227,20105:3241,20107:9656,20109:2756,20111:33690,20113:29180,20115:12660,20117:10117,20119:4575,20121:32787,20123:6373,20125:35471,20127:5923,20129:3233,20131:10178,20133:16512,20135:3107,20137:5671,20139:16295,20141:3858,20143:6091,20145:6973,20147:5642,20149:21604,20151:9656,20153:2519,20155:64511,20157:4980,20159:10083,20161:71115,20163:5181,20165:3307,20167:6970,20169:55606,20171:4936,20173:498365,20175:22952,20177:177934,20179:2556,20181:6010,20183:3853,20185:4437,20187:2235,20189:5724,20191:24132,20193:7900,20195:3001,20197:7053,20199:1485,20201:5799,20203:2234,20205:9409,20207:3309,20209:157505,21001:18656,21003:19956,21005:21421,21007:8249,21009:42173,21011:11591,21013:28691,21015:118811,21017:19985,21019:49542,21021:28432,21023:8488,21025:13878,21027:20059,21029:74319,21031:12690,21033:12984,21035:37191,21037:90336,21039:5104,21041:10811,21043:27720,21045:15955,21047:73955,21049:35613,21051:21730,21053:10272,21055:9315,21057:6856,21059:96656,21061:12161,21063:7852,21065:14672,21067:295803,21069:14348,21071:39451,21073:49285,21075:6813,21077:8589,21079:16912,21081:24662,21083:37121,21085:25746,21087:11258,21089:36910,21091:8565,21093:105543,21095:29278,21097:18846,21099:18199,21101:46250,21103:15416,21105:4902,21107:46920,21109:13494,21111:741096,21113:48586,21115:23356,21117:159720,21119:16346,21121:31883,21123:14193,21125:58849,21127:15860,21129:7887,21131:11310,21133:24519,21135:13870,21137:24742,21139:9519,21141:26835,21143:8314,21145:65565,21147:18306,21149:9531,21151:82916,21153:13333,21155:19820,21157:31448,21159:12929,21161:17490,21163:28602,21165:6306,21167:21331,21169:10099,21171:10963,21173:26499,21175:13923,21177:31499,21179:43437,21181:7135,21183:23842,21185:60316,21187:10841,21189:4755,21191:14877,21193:28712,21195:65024,21197:12613,21199:63063,21201:2282,21203:17056,21205:23333,21207:17565,21209:47173,21211:42074,21213:17327,21215:17061,21217:24512,21219:12460,21221:14339,21223:8809,21225:15007,21227:113792,21229:11717,21231:20813,21233:13621,21235:35637,21237:7355,21239:24939,22001:61773,22003:25764,22005:107215,22007:23421,22009:42073,22011:35654,22013:14353,22015:116979,22017:254969,22019:192768,22021:10132,22023:6839,22025:10407,22027:17195,22029:20822,22031:26656,22033:440171,22035:7759,22037:20267,22039:33984,22041:20767,22043:22309,22045:73240,22047:33387,22049:16274,22051:432552,22053:31594,22055:221578,22057:96318,22059:14890,22061:46735,22063:128026,22065:12093,22067:27979,22069:39566,22071:343829,22073:153720,22075:23042,22077:22802,22079:131613,22081:9091,22083:20725,22085:24233,22087:35897,22089:52780,22091:11203,22093:22102,22095:45924,22097:83384,22099:52160,22101:54650,22103:233740,22105:121097,22107:5252,22109:111860,22111:22721,22113:57999,22115:52334,22117:47168,22119:41207,22121:23788,22123:11604,22125:15625,22127:15313,23001:107702,23003:71870,23005:281674,23007:30768,23009:54418,23011:122151,23013:39736,23015:34457,23017:57833,23019:153923,23021:17535,23023:35293,23025:52228,23027:38786,23029:32856,23031:197131,24001:75087,24003:537656,24005:805029,24009:88737,24011:33066,24013:167134,24015:101108,24017:146551,24019:32618,24021:233385,24023:30097,24025:244826,24027:287085,24029:20197,24031:971777,24033:863420,24035:47798,24037:105151,24039:26470,24041:37782,24043:147430,24045:98733,24047:51454,24510:620961,25001:215888,25003:131219,25005:548285,25007:16535,25009:743159,25011:71372,25013:463490,25015:158080,25017:1503085,25019:10172,25021:670850,25023:494919,25025:722023,25027:798552,26001:10942,26003:9601,26005:111408,26007:29598,26009:23580,26011:15899,26013:8860,26015:59173,26017:107771,26019:17525,26021:156813,26023:45248,26025:136146,26027:52293,26029:25949,26031:26152,26033:38520,26035:30926,26037:75382,26039:14074,26041:37069,26043:26168,26045:107759,26047:32694,26049:425790,26051:25692,26053:16427,26055:86986,26057:42476,26059:46688,26061:36628,26063:33118,26065:280895,26067:63905,26069:25887,26071:11817,26073:70311,26075:160248,26077:250331,26079:17153,26081:602622,26083:2156,26085:11539,26087:88319,26089:21708,26091:99892,26093:180967,26095:6631,26097:11113,26099:840978,26101:24733,26103:67077,26105:28705,26107:42798,26109:24029,26111:83629,26113:14849,26115:152021,26117:63342,26119:9765,26121:172188,26123:48460,26125:1202362,26127:26570,26129:21699,26131:6780,26133:23528,26135:8640,26137:24164,26139:263801,26141:13376,26143:24449,26145:200169,26147:163040,26149:61295,26151:43114,26153:8485,26155:70648,26157:55729,26159:76258,26161:344791,26163:1820584,26165:32735,27001:16202,27003:330844,27005:32504,27007:44442,27009:38451,27011:5269,27013:64013,27015:25893,27017:35386,27019:91042,27021:28567,27023:12441,27025:53887,27027:58999,27029:8695,27031:5176,27033:11687,27035:62500,27037:398552,27039:20087,27041:36009,27043:14553,27045:20866,27047:31255,27049:46183,27051:6018,27053:1152425,27055:19027,27057:20428,27059:37816,27061:45058,27063:10266,27065:16239,27067:42239,27069:4552,27071:13311,27073:7259,27075:10866,27077:4045,27079:27703,27081:5896,27083:25857,27085:36651,27087:5413,27089:9439,27091:20840,27093:23300,27095:26097,27097:33198,27099:39163,27101:8725,27103:32727,27105:21378,27107:6852,27109:144248,27111:57303,27113:13930,27115:29750,27117:9596,27119:31600,27121:10995,27123:508640,27125:4089,27127:16059,27129:15730,27131:64142,27133:9687,27135:15629,27137:200226,27139:129928,27141:88499,27143:15226,27145:150642,27147:36576,27149:9726,27151:9783,27153:24895,27155:3558,27157:21676,27159:13843,27161:19136,27163:238136,27165:11211,27167:6576,27169:51461,27171:124700,27173:10438,28001:32297,28003:37057,28005:13131,28007:19564,28009:8729,28011:34145,28013:14962,28015:10597,28017:17392,28019:8547,28021:9604,28023:16732,28025:20634,28027:26151,28029:29449,28031:19568,28033:161252,28035:74934,28037:8118,28039:22578,28041:14400,28043:21906,28045:43929,28047:187105,28049:245285,28051:19198,28053:9375,28055:1406,28057:23401,28059:139668,28061:17062,28063:7726,28065:12487,28067:67761,28069:10456,28071:47351,28073:55658,28075:80261,28077:12929,28079:23805,28081:82910,28083:32317,28085:34869,28087:59779,28089:95203,28091:27088,28093:37144,28095:36989,28097:10925,28099:29676,28101:21720,28103:11545,28105:47671,28107:34707,28109:55834,28111:12250,28113:40404,28115:29957,28117:25276,28119:8223,28121:141617,28123:28264,28125:4916,28127:27503,28129:16491,28131:17786,28133:29450,28135:15378,28137:28886,28139:22232,28141:19593,28143:10778,28145:27134,28147:15443,28149:48773,28151:51137,28153:20747,28155:10253,28157:9878,28159:19198,28161:12678,28163:28065,29001:25607,29003:17291,29005:5685,29007:25529,29009:35597,29011:12402,29013:17049,29015:19056,29017:12363,29019:162642,29021:89201,29023:42794,29025:9424,29027:44332,29029:44002,29031:75674,29033:9295,29035:6265,29037:99478,29039:13982,29041:7831,29043:77422,29045:7139,29047:221939,29049:20743,29051:75990,29053:17601,29055:24696,29057:7883,29059:16777,29061:8433,29063:12892,29065:15657,29067:13684,29069:31953,29071:101492,29073:15222,29075:6738,29077:275174,29079:10261,29081:8957,29083:22272,29085:9627,29087:4912,29089:10144,29091:40400,29093:10630,29095:674158,29097:117404,29099:218733,29101:52595,29103:4131,29105:35571,29107:33381,29109:38634,29111:10211,29113:52566,29115:12761,29117:15195,29119:23083,29121:15566,29123:12226,29125:9176,29127:28781,29129:3785,29131:24748,29133:14358,29135:15607,29137:8840,29139:12236,29141:20565,29143:18956,29145:58114,29147:23370,29149:10881,29151:13878,29153:9723,29155:18296,29157:18971,29159:42201,29161:45156,29163:18516,29165:89322,29167:31137,29169:52274,29171:4979,29173:10167,29175:25414,29177:23494,29179:6696,29181:14100,29183:360485,29185:9805,29186:18145,29187:65359,29189:998954,29195:23370,29197:4431,29199:4843,29201:39191,29203:8441,29205:6373,29207:29968,29209:32202,29211:6714,29213:51675,29215:26008,29217:21159,29219:32513,29221:25195,29223:13521,29225:36202,29227:2171,29229:18815,29510:319294,30001:9246,30003:12865,30005:6491,30007:5612,30009:10078,30011:1160,30013:81327,30015:5813,30017:11699,30019:1751,30021:8966,30023:9298,30025:2890,30027:11586,30029:90928,30031:89513,30033:1206,30035:13399,30037:884,30039:3079,30041:16096,30043:11406,30045:2072,30047:28746,30049:63395,30051:2339,30053:19687,30055:1734,30057:7691,30059:1891,30061:4223,30063:109299,30065:4538,30067:15636,30069:494,30071:4253,30073:6153,30075:1743,30077:7027,30079:1179,30081:40212,30083:9746,30085:10425,30087:9233,30089:11413,30091:3384,30093:34200,30095:9117,30097:3651,30099:6073,30101:5324,30103:718,30105:7369,30107:2168,30109:1017,30111:147972,31001:31364,31003:6685,31005:460,31007:690,31009:478,31011:5505,31013:11308,31015:2099,31017:3145,31019:46102,31021:6858,31023:8395,31025:25241,31027:8852,31029:3966,31031:5713,31033:9998,31035:6542,31037:10515,31039:9139,31041:10939,31043:21006,31045:9182,31047:24326,31049:1941,31051:6000,31053:36691,31055:517110,31057:2008,31059:5890,31061:3225,31063:2756,31065:4959,31067:22311,31069:2057,31071:2049,31073:2044,31075:614,31077:2538,31079:58607,31081:9124,31083:3423,31085:967,31087:2908,31089:10435,31091:736,31093:6274,31095:7547,31097:5217,31099:6489,31101:8368,31103:824,31105:3821,31107:8701,31109:285407,31111:36288,31113:763,31115:632,31117:539,31119:34876,31121:7845,31123:5042,31125:3735,31127:7248,31129:4500,31131:15740,31133:2773,31135:2970,31137:9188,31139:7266,31141:32237,31143:5406,31145:11055,31147:8363,31149:1526,31151:14200,31153:158840,31155:20780,31157:36970,31159:16750,31161:5469,31163:3152,31165:1311,31167:6129,31169:5228,31171:647,31173:6940,31175:4260,31177:20234,31179:9595,31181:3812,31183:818,31185:13665,32001:24877,32003:1951269,32005:46997,32007:48818,32009:783,32011:1987,32013:16528,32015:5775,32017:5345,32019:51980,32021:4772,32023:43946,32027:6753,32029:4010,32031:421407,32033:10030,32510:55274,33001:60088,33003:47818,33005:77117,33007:33055,33009:89118,33011:400721,33013:146445,33015:295223,33017:123143,33019:43742,34001:274549,34003:905116,34005:448734,34007:513657,34009:97265,34011:156898,34013:783969,34015:288288,34017:634266,34019:128349,34021:366513,34023:809858,34025:630380,34027:492276,34029:576567,34031:501226,34033:66083,34035:323444,34037:149265,34039:536499,34041:108692,35001:662564,35003:3725,35005:65645,35006:27213,35007:13750,35009:48376,35011:2022,35013:209233,35015:53829,35017:29514,35019:4687,35021:695,35023:4894,35025:64727,35027:20497,35028:17950,35029:25095,35031:71492,35033:4881,35035:63797,35037:9041,35039:40246,35041:19846,35043:131561,35045:130044,35047:29393,35049:144170,35051:11988,35053:17866,35055:32937,35057:16383,35059:4549,35061:76569,36001:304204,36003:48946,36005:1385108,36007:200600,36009:80317,36011:80026,36013:134905,36015:88830,36017:50477,36019:82128,36021:63096,36023:49336,36025:47980,36027:297488,36029:919040,36031:39370,36033:51599,36035:55531,36037:60079,36039:49221,36041:4836,36043:64519,36045:116229,36047:2504700,36049:27087,36051:65393,36053:73442,36055:744344,36057:50219,36059:1339532,36061:1585873,36063:216469,36065:234878,36067:467026,36069:107931,36071:372813,36073:42883,36075:122109,36077:62259,36079:99710,36081:2230722,36083:159429,36085:468730,36087:311687,36089:111944,36091:219607,36093:154727,36095:32749,36097:18343,36099:35251,36101:98990,36103:1493350,36105:77547,36107:51125,36109:101564,36111:182493,36113:65707,36115:63216,36117:93772,36119:949113,36121:42155,36123:25348,37001:151131,37003:37198,37005:11155,37007:26948,37009:27281,37011:17797,37013:47759,37015:21282,37017:35190,37019:107431,37021:238318,37023:90912,37025:178011,37027:83029,37029:9980,37031:66469,37033:23719,37035:154358,37037:63505,37039:27444,37041:14793,37043:10587,37045:98078,37047:58098,37049:103505,37051:319431,37053:23547,37055:33920,37057:162878,37059:41240,37061:58505,37063:267587,37065:56552,37067:350670,37069:60619,37071:206086,37073:12197,37075:8861,37077:59916,37079:21362,37081:488406,37083:54691,37085:114678,37087:59036,37089:106740,37091:24669,37093:46952,37095:5810,37097:159437,37099:40271,37101:168878,37103:10153,37105:57866,37107:59495,37109:78265,37111:44996,37113:33922,37115:20764,37117:24505,37119:919628,37121:15579,37123:27798,37125:88247,37127:95840,37129:202667,37131:22099,37133:177772,37135:133801,37137:13144,37139:40661,37141:52217,37143:13453,37145:39464,37147:168148,37149:20510,37151:141752,37153:46639,37155:134168,37157:93643,37159:138428,37161:67810,37163:63431,37165:36157,37167:60585,37169:47401,37171:73673,37173:13981,37175:33090,37177:4407,37179:201292,37181:45422,37183:900993,37185:20972,37187:13228,37189:51079,37191:122623,37193:69340,37195:81234,37197:38406,37199:17818,38001:2343,38003:11066,38005:6660,38007:783,38009:6429,38011:3151,38013:1968,38015:81308,38017:149778,38019:3993,38021:5289,38023:2071,38025:3536,38027:2385,38029:3550,38031:3343,38033:1680,38035:66861,38037:2394,38039:2420,38041:2477,38043:2435,38045:4139,38047:1990,38049:5395,38051:2809,38053:6360,38055:8962,38057:8424,38059:27471,38061:7673,38063:3126,38065:1846,38067:7413,38069:4357,38071:11451,38073:5457,38075:2470,38077:16321,38079:13937,38081:3829,38083:1321,38085:4153,38087:727,38089:24199,38091:1975,38093:21100,38095:2246,38097:8121,38099:11119,38101:61675,38103:4207,38105:22398,39001:28550,39003:106331,39005:53139,39007:101497,39009:64757,39011:45949,39013:70400,39015:44846,39017:368130,39019:28836,39021:40097,39023:138333,39025:197363,39027:42040,39029:107841,39031:36901,39033:43784,39035:1280122,39037:52959,39039:39037,39041:174214,39043:77079,39045:146156,39047:29030,39049:1163414,39051:42698,39053:30934,39055:93389,39057:161573,39059:40087,39061:802374,39063:74782,39065:32058,39067:15864,39069:28215,39071:43589,39073:29380,39075:42366,39077:59626,39079:33225,39081:69709,39083:60921,39085:230041,39087:62450,39089:166492,39091:45858,39093:301356,39095:441815,39097:43435,39099:238823,39101:66501,39103:172332,39105:23770,39107:40814,39109:102506,39111:14642,39113:535153,39115:15054,39117:34827,39119:86074,39121:14645,39123:41428,39125:19614,39127:36058,39129:55698,39131:28709,39133:161419,39135:42270,39137:34499,39139:124475,39141:78064,39143:60944,39145:79499,39147:56745,39149:49423,39151:375586,39153:541781,39155:210312,39157:92582,39159:52300,39161:28744,39163:13435,39165:212693,39167:61778,39169:114520,39171:37642,39173:125488,39175:22615,40001:22683,40003:5642,40005:14182,40007:5636,40009:22119,40011:11943,40013:42416,40015:29600,40017:115541,40019:47557,40021:46987,40023:15205,40025:2475,40027:255755,40029:5925,40031:124098,40033:6193,40035:15029,40037:69967,40039:27469,40041:41487,40043:4810,40045:4151,40047:60580,40049:27576,40051:52431,40053:4527,40055:6239,40057:2922,40059:3685,40061:12769,40063:14003,40065:26446,40067:6472,40069:10957,40071:46562,40073:15034,40075:9446,40077:11154,40079:50384,40081:34273,40083:41848,40085:9423,40087:34506,40089:33151,40091:20252,40093:7527,40095:15840,40097:41259,40099:13488,40101:70990,40103:11561,40105:10536,40107:12191,40109:718633,40111:40069,40113:47472,40115:31848,40117:16577,40119:77350,40121:45837,40123:37492,40125:69442,40127:11572,40129:3647,40131:86905,40133:25482,40135:42391,40137:45048,40139:20640,40141:7992,40143:603403,40145:73085,40147:50976,40149:11629,40151:8878,40153:20081,41001:16134,41003:85579,41005:375992,41007:37039,41009:49351,41011:63043,41013:20978,41015:22364,41017:157733,41019:107667,41021:1871,41023:7445,41025:7422,41027:22346,41029:203206,41031:21720,41033:82713,41035:66380,41037:7895,41039:351715,41041:46034,41043:116672,41045:31313,41047:315335,41049:11173,41051:735334,41053:75403,41055:1765,41057:25250,41059:75889,41061:25748,41063:7008,41065:25213,41067:529710,41069:1441,41071:99193,42001:101407,42003:1223348,42005:68941,42007:170539,42009:49762,42011:411442,42013:127089,42015:62622,42017:625249,42019:183862,42021:143679,42023:5085,42025:65249,42027:153990,42029:498886,42031:39988,42033:81642,42035:39238,42037:67295,42039:88765,42041:235406,42043:268100,42045:558979,42047:31946,42049:280566,42051:136606,42053:7716,42055:149618,42057:14845,42059:38686,42061:45913,42063:88880,42065:45200,42067:24636,42069:214437,42071:519445,42073:91108,42075:133568,42077:349497,42079:320918,42081:116111,42083:43450,42085:116638,42087:46682,42089:169842,42091:799874,42093:18267,42095:297735,42097:94528,42099:45969,42101:1526006,42103:57369,42105:17457,42107:148289,42109:39702,42111:77742,42113:6428,42115:43356,42117:41981,42119:44947,42121:54984,42123:41815,42125:207820,42127:52822,42129:365169,42131:28276,42133:434972,44001:49875,44003:166158,44005:82888,44007:626667,44009:126979,45001:25417,45003:160099,45005:10419,45007:187126,45009:15987,45011:22621,45013:162233,45015:177843,45017:15175,45019:350209,45021:55342,45023:33140,45025:46734,45027:34971,45029:38892,45031:68681,45033:32062,45035:136555,45037:26985,45039:23956,45041:136885,45043:60158,45045:451225,45047:69661,45049:21090,45051:269291,45053:24777,45055:61697,45057:76652,45059:66537,45061:19220,45063:262391,45065:10233,45067:33062,45069:28933,45071:37508,45073:74273,45075:92501,45077:119224,45079:384504,45081:19875,45083:284307,45085:107456,45087:28961,45089:34423,45091:226073,46003:2710,46005:17398,46007:3431,46009:7070,46011:31965,46013:36531,46015:5255,46017:1912,46019:10110,46021:1466,46023:9129,46025:3691,46027:13864,46029:27227,46031:4050,46033:8216,46035:19504,46037:5710,46039:4364,46041:5301,46043:3002,46045:4071,46047:7094,46049:2364,46051:7356,46053:4271,46055:1937,46057:5903,46059:3431,46061:3331,46063:1255,46065:17022,46067:7343,46069:1420,46071:3031,46073:2071,46075:1006,46077:5148,46079:11200,46081:24097,46083:44828,46085:3755,46087:5618,46089:2459,46091:4656,46093:25434,46095:2048,46097:2389,46099:169468,46101:6486,46103:100948,46105:2982,46107:2329,46109:10149,46111:2355,46113:13586,46115:6415,46117:2966,46119:1373,46121:9612,46123:5644,46125:8347,46127:14399,46129:5438,46135:22438,46137:2801,47001:75129,47003:45058,47005:16489,47007:12876,47009:123010,47011:98963,47013:40716,47015:13801,47017:28522,47019:57424,47021:39105,47023:17131,47025:32213,47027:7861,47029:35662,47031:52796,47033:14586,47035:56053,47037:626681,47039:11757,47041:18723,47043:49666,47045:38335,47047:38413,47049:17959,47051:41052,47053:49683,47055:29485,47057:22657,47059:68831,47061:13703,47063:62544,47065:336463,47067:6819,47069:27253,47071:26026,47073:56833,47075:18787,47077:27769,47079:32330,47081:24690,47083:8426,47085:18538,47087:11638,47089:51407,47091:18244,47093:432226,47095:7832,47097:27815,47099:41869,47101:12161,47103:33361,47105:48556,47107:52266,47109:26075,47111:22248,47113:98294,47115:28237,47117:30617,47119:80956,47121:11753,47123:44519,47125:172331,47127:6362,47129:21987,47131:31807,47133:22083,47135:7915,47137:5077,47139:16825,47141:72321,47143:31809,47145:54181,47147:66283,47149:262604,47151:22228,47153:14112,47155:89889,47157:927644,47159:19166,47161:13324,47163:156823,47165:160645,47167:61081,47169:7870,47171:18313,47173:19109,47175:5548,47177:39839,47179:122979,47181:17021,47183:35021,47185:25841,47187:183182,47189:113993,48001:58458,48003:14786,48005:86771,48007:23158,48009:9054,48011:1901,48013:44911,48015:28417,48017:7165,48019:20485,48021:74171,48023:3726,48025:31861,48027:310235,48029:1714773,48031:10497,48033:641,48035:18212,48037:92565,48039:313166,48041:194851,48043:9232,48045:1637,48047:7223,48049:38106,48051:17187,48053:42750,48055:38066,48057:21381,48059:13544,48061:406220,48063:12401,48065:6182,48067:30464,48069:8062,48071:35096,48073:50845,48075:7041,48077:10752,48079:3127,48081:3320,48083:8895,48085:782341,48087:3057,48089:20874,48091:108472,48093:13974,48095:4087,48097:38437,48099:75388,48101:1505,48103:4375,48105:3719,48107:6059,48109:2398,48111:6703,48113:2368139,48115:13833,48117:19372,48119:5231,48121:662614,48123:20097,48125:2444,48127:9996,48129:3677,48131:11782,48133:18583,48135:137130,48137:2002,48139:149610,48141:800647,48143:37890,48145:17866,48147:33915,48149:24554,48151:3974,48153:6446,48155:1336,48157:585375,48159:10605,48161:19816,48163:17217,48165:17526,48167:291309,48169:6461,48171:24837,48173:1226,48175:7210,48177:19807,48179:22535,48181:120877,48183:121730,48185:26604,48187:131533,48189:36273,48191:3353,48193:8517,48195:5613,48197:4139,48199:54635,48201:4092459,48203:65631,48205:6062,48207:5899,48209:157107,48211:3807,48213:78532,48215:774769,48217:35089,48219:22935,48221:51182,48223:35161,48225:23732,48227:35012,48229:3476,48231:86129,48233:22150,48235:1599,48237:9044,48239:14075,48241:35710,48243:2342,48245:252273,48247:5300,48249:40838,48251:150934,48253:20202,48255:14824,48257:103350,48259:33410,48261:416,48263:808,48265:49625,48267:4607,48269:286,48271:3598,48273:32061,48275:3719,48277:49793,48279:13977,48281:19677,48283:6886,48285:19263,48287:16612,48289:16801,48291:75643,48293:23384,48295:3302,48297:11531,48299:19301,48301:82,48303:278831,48305:5915,48307:8283,48309:234906,48311:707,48313:13664,48315:10546,48317:4799,48319:4012,48321:36702,48323:54258,48325:46006,48327:2242,48329:136872,48331:24757,48333:4936,48335:9403,48337:19719,48339:455746,48341:21904,48343:12934,48345:1210,48347:64524,48349:47735,48351:14445,48353:15216,48355:340223,48357:10223,48359:2052,48361:81837,48363:28111,48365:23796,48367:116927,48369:10269,48371:15507,48373:45413,48375:121073,48377:7818,48379:10914,48381:120725,48383:3367,48385:3309,48387:12860,48389:13783,48391:7383,48393:929,48395:16622,48397:78337,48399:10501,48401:53330,48403:10834,48405:8865,48407:26384,48409:64804,48411:6131,48413:3461,48415:16921,48417:3378,48419:25448,48421:3034,48423:209714,48425:8490,48427:60968,48429:9630,48431:1143,48433:1490,48435:4128,48437:7854,48439:1809034,48441:131506,48443:984,48445:12651,48447:1641,48449:32334,48451:110224,48453:1024266,48455:14585,48457:21766,48459:39309,48461:3355,48463:26405,48465:48879,48467:52579,48469:86793,48471:67861,48473:43205,48475:10658,48477:33718,48479:250304,48481:41280,48483:5410,48485:131500,48487:13535,48489:22134,48491:422679,48493:42918,48495:7110,48497:59127,48499:41964,48501:7879,48503:18550,48505:14018,48507:11677,49001:6629,49003:49975,49005:112656,49007:21403,49009:1059,49011:306479,49013:18607,49015:10976,49017:5172,49019:9225,49021:46163,49023:10246,49025:7125,49027:12503,49029:9469,49031:1556,49033:2264,49035:1029655,49037:14746,49039:27822,49041:20802,49043:36324,49045:58218,49047:32588,49049:516564,49051:23530,49053:138115,49055:2778,49057:231236,50001:36821,50003:37125,50005:31227,50007:156545,50009:6306,50011:47746,50013:6970,50015:24475,50017:28936,50019:27231,50021:61642,50023:59534,50025:44513,50027:56670,51001:33164,51003:98970,51005:16250,51007:12690,51009:32353,51011:14973,51013:207627,51015:73750,51017:4731,51019:68676,51021:6824,51023:33148,51025:17434,51027:24098,51029:17146,51031:54842,51033:28545,51035:30042,51036:7256,51037:12586,51041:316236,51043:14034,51045:5190,51047:46689,51049:10052,51051:15903,51053:28001,51057:11151,51059:1081726,51061:65203,51063:15279,51065:25691,51067:56159,51069:78305,51071:17286,51073:36858,51075:21717,51077:15533,51079:18403,51081:12243,51083:36241,51085:99863,51087:306935,51089:54151,51091:2321,51093:35270,51095:67009,51097:6945,51099:23584,51101:15935,51103:11391,51105:25587,51107:312311,51109:33153,51111:12914,51113:13308,51115:8978,51117:32727,51119:10959,51121:94392,51125:15020,51127:18429,51131:12389,51133:12330,51135:15853,51137:33481,51139:24042,51141:18490,51143:63506,51145:28046,51147:23368,51149:35725,51153:402002,51155:34872,51157:7373,51159:9254,51161:92376,51163:22307,51165:76314,51167:28897,51169:23177,51171:41993,51173:32208,51175:18570,51177:122397,51179:128961,51181:7058,51183:12087,51185:45078,51187:37575,51191:54876,51193:17454,51195:41452,51197:29235,51199:65464,51510:139966,51520:17835,51550:222209,51570:17411,51590:43055,51650:137436,51660:48914,51670:22591,51680:75568,51690:13821,51700:180719,51710:242803,51730:32420,51735:12150,51740:95535,51760:204214,51770:97032,51775:24802,51790:23746,51800:84585,51810:437994,51820:21006,51830:14068,53001:18728,53003:21623,53005:175177,53007:72453,53009:71404,53011:425363,53013:4078,53015:102410,53017:38431,53019:7551,53021:78163,53023:2266,53025:89120,53027:72797,53029:78506,53031:29872,53033:1931249,53035:251133,53037:40915,53039:20318,53041:75455,53043:10570,53045:60699,53047:41120,53049:20920,53051:13001,53053:795225,53055:15769,53057:116901,53059:11066,53061:713335,53063:471221,53065:43531,53067:252264,53069:3978,53071:58781,53073:201140,53075:44776,53077:243231,54001:16589,54003:104169,54005:24629,54007:14523,54009:24069,54011:96319,54013:7627,54015:9386,54017:8202,54019:46039,54021:8693,54023:11937,54025:35480,54027:23964,54029:30676,54031:14025,54033:69099,54035:29211,54037:53498,54039:193063,54041:16372,54043:21720,54045:36743,54047:22113,54049:56418,54051:33107,54053:27324,54055:62264,54057:28212,54059:26839,54061:96189,54063:13502,54065:17541,54067:26233,54069:44443,54071:7695,54073:7605,54075:8719,54077:33520,54079:55486,54081:78859,54083:29405,54085:10449,54087:14926,54089:13927,54091:16895,54093:7141,54095:9208,54097:24254,54099:42481,54101:9154,54103:16583,54105:5717,54107:86956,54109:23796,55001:20875,55003:16157,55005:45870,55007:15014,55009:248007,55011:13587,55013:15457,55015:48971,55017:62415,55019:34690,55021:56833,55023:16644,55025:488073,55027:88759,55029:27785,55031:44159,55033:43857,55035:98736,55037:4423,55039:101633,55041:9304,55043:51208,55045:36842,55047:19051,55049:23687,55051:5916,55053:20449,55055:83686,55057:26664,55059:166426,55061:20574,55063:114638,55065:16836,55067:19977,55069:28743,55071:81442,55073:134063,55075:41749,55077:15404,55078:4232,55079:947735,55081:44673,55083:37660,55085:35998,55087:176695,55089:86395,55091:7469,55093:41019,55095:44205,55097:70019,55099:14159,55101:195408,55103:18021,55105:160331,55107:14755,55109:84345,55111:61976,55113:16557,55115:41949,55117:115507,55119:20689,55121:28816,55123:29773,55125:21430,55127:102228,55129:15911,55131:131887,55133:389891,55135:52410,55137:24496,55139:166994,55141:74749,56001:36299,56003:11668,56005:46133,56007:15885,56009:13833,56011:7083,56013:40123,56015:13249,56017:4812,56019:8569,56021:91738,56023:18106,56025:75450,56027:2484,56029:28205,56031:8667,56033:29116,56035:10247,56037:43806,56039:21294,56041:21118,56043:8533,56045:7208};
        var category_count = 12;

        for (var key in usCounties.countyNames) { 
            var val = typeof (county_population[key]) !== 'undefined' ? county_population[key] : 0;
            cArr.push([
                key,val,val,usCounties.countyNames[key]
            ]); 
        } 
        categorize_choro(cArr,category_count);
        
        this.columns(["County", "Weight", "Data", "Label"]);
        this.data(cArr);
        
        return this;
    };

    ChoroplethCounties.prototype.enter = function (domNode, element) {
        Choropleth.prototype.enter.apply(this, arguments);
        element.classed("map_Choropleth", true);

        var choroPaths = this._svg.selectAll("path").data(topojson.feature(usCounties.topology, usCounties.topology.objects.counties).features)

        //  Enter  ---
        var context = this;
        this.choroPaths = choroPaths.enter().append("path")
            .on("click", function (d) {
                if (context._dataMap[d.id]) {
                    context.click(context.rowToObj(context._dataMap[d.id]));
                }
            })
            .on("dblclick", function (d) {
                d3.event.stopPropagation();
                context.zoomToFit(context.active === this ? null : this, 750);
                context.active = this;
            })
        ;
        this.choroPaths
            .append("title")
        ;
    };

    ChoroplethCounties.prototype.update = function (domNode, element) {
        Choropleth.prototype.update.apply(this, arguments);
            //console.time("ChoroplethCounties.prototype.update");
                var context = this;
                //  Update  ---
                this.choroPaths
                    .attr("d", this.d3Path)
                    .each(function (d) {
                        var weight = context._dataMap[d.id] ? context._dataMap[d.id][1] : undefined;
                        var data = context._dataMap[d.id] ? context._dataMap[d.id][2] : undefined;
                        var color_val = weight === undefined ? "url(#hash)" : context._palette(weight, context._dataMinWeight, context._dataMaxWeight);
                        d3.select(this)
                            .style("fill", color_val)
                            .select("title")
                            .text(usCounties.countyNames[d.id] + (data === undefined ? "" : " (" + data + ")"))
                        ;
                    })
                ;
            this.zoomToFit(null,0,0.95);
        //console.timeEnd("ChoroplethCounties.prototype.update");
    };

    return ChoroplethCounties;
}));
